!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r,o,i;o="undefined"!=typeof window?window:this,i=function(n){if(!n.CEROS_SCROLL_PROXY_LOADED){n.CEROS_SCROLL_PROXY_LOADED=!0;var o="ceros-embedded-viewport:",i="ping",a="ready",s="position",u="scroll-to",c="goto-url",l="variant-detection",f="global-function",d=[],p=[],g=[],h=[],v=function(e){var t=b(e);if(!t.getAttribute("data-aspectRatio")){var n=x(t.style.paddingBottom);t.setAttribute("data-aspectRatio",n),z("Defaulting to fallback aspect ratio from paddingBottom",n)}},m=function(e){var t=b(e);"true"===e.getAttribute("data-ceros-subpixel-oversize")&&(e.setAttribute("data-ceros-subpixel-oversize","false"),e.style.width=e.getAttribute("data-ceros-subpixel-original-width"),e.style.height=e.getAttribute("data-ceros-subpixel-original-height"));var n=e.getBoundingClientRect(),r=Math.ceil(n.width),o=Math.ceil(n.height);if(n.width!==r||n.height!==o){if(Math.abs(r-e.offsetWidth)>1)return void z("Frame is subpixel but skipping resize because it is scaled",e);e.setAttribute("data-ceros-subpixel-oversize","true"),e.setAttribute("data-ceros-subpixel-original-width",e.style.width),e.setAttribute("data-ceros-subpixel-original-height",e.style.height);var i=x(t.style.paddingBottom);e.style.width=r+"px",e.style.height=Math.ceil(r/i)+"px",z("Frame size was subpixel, adjusted to next whole pixel")}},b=function(e){return e.parentElement},y=function(e,t){var n=function(e,t){var n=b(e),r="desktop"===t?"data-aspectRatio":"data-"+t+"-aspectRatio",o=n.getAttribute(r);return o||(o=n.getAttribute("data-aspectRatio")),o?+o:null}(e,t);n&&w(e,n)},w=function(e,t){var n=b(e);x(n.style.paddingBottom)!==t&&(n.style.paddingBottom=E(t),z("Updated aspect ratio to",t),M())},x=function(e){return 100/parseFloat(e)},E=function(e){return(100/e).toFixed(2)+"%"},O=function(e){var t=A(e);if(t){var r=n.document.querySelector(t);if(r){var o=function(){S(e)};g.push({frame:e,element:r,handler:o}),r.addEventListener("scroll",o),z("Registered custom scroll listener on",r,"for",e)}else Y("No element found for scroll broadcast selector",t)}},A=function(e){var t=e.getAttribute("data-scrollEvent-selector");return t||!!n.cerosScrollEventSelector&&n.cerosScrollEventSelector},S=function(e){var t=e.getBoundingClientRect(),r=L(),o=R(),i={top:-t.top,bottom:n.innerHeight-t.top,windowWidth:r.width,windowHeight:r.height,screenWidth:o.width,screenHeight:o.height};N(e,s,i)},L=function(){var e=R(),t=e.width&&e.width<n.innerWidth;return{width:t?e.width:n.innerWidth,height:t?e.height:n.innerHeight}},R=function(){return{width:n.cerosScreenDimensions?n.cerosScreenDimensions.width:n.screen.width,height:n.cerosScreenDimensions?n.cerosScreenDimensions.height:n.screen.height}},M=function(){for(var e=0;e<d.length;e++){var t=d[e];m(t),S(t)}},P=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.contentWindow===t)return r}return null},B=function(e){var t,r=P(n.document.getElementsByTagName("iframe"),e);r&&(z("Received ready event from frame",r),v(t=r),m(t),O(t),d.push(r),S(r))},C=function(e){if(!e||!e.functionPath)return!1;if(-1===["ga","gtag","dataLayer.push","document.body.dispatchEvent"].indexOf(e.functionPath))return!1;var t=Array.isArray(e.args)?e.args:[];if("document.body.dispatchEvent"===e.functionPath&&"function"==typeof n.CustomEvent){if(2!==t.length)return!1;t=[new n.CustomEvent(t[0],t[1])]}for(var r=n,o=null,i=e.functionPath.split("."),a=0;a<i.length&&(a>0&&(r=o),o=r[i[a]]);a++);return!(!r||!o||"function"!=typeof o)&&function(){return o.apply(r,t)}},N=function(e,t,n){var r={event:o+t};if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);var a=JSON.stringify(r);e.contentWindow.postMessage(a,"*")},_=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.getAttribute("class");r&&-1!==r.indexOf("ceros-experience")&&D(n)}},D=function(e){var t=-1!==p.indexOf(e),n=e.contentWindow&&"function"==typeof e.contentWindow.postMessage;!t&&n&&(N(e,i),p.push(e),z("Registered frame",e))},j=function(e){for(var t=0;t<e.length;t++)F(e[t])},F=function(e){var t=p.indexOf(e);if(-1!==t){var n=d.indexOf(e);-1!==n&&(function(e){for(var t=0;t<g.length;t++){var n=g[t];if(n.frame===e)return n.element.removeEventListener("scroll",n.handler),void g.splice(t,1)}}(e),d.splice(n,1)),p.splice(t,1),z("Unregistered frame",e.src)}},W=function(){var e=n.document.getElementsByTagName("iframe");_(e)},k=function(e){for(var t=0;t<e.length;t++){var n=e[t];"childList"===n.type&&(H(n.addedNodes),T(n.removedNodes))}},H=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=[];if("IFRAME"===n.nodeName)r.push(n);else if("function"==typeof n.getElementsByTagName){var o=n.getElementsByTagName("iframe");Array.prototype.push.apply(r,o)}_(r)}},T=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=[];if("IFRAME"===n.nodeName)r.push(n);else if("function"==typeof n.getElementsByTagName){var o=n.getElementsByTagName("iframe");Array.prototype.push.apply(r,o)}j(r)}},z=function(){n.console&&n.console.debug&&n.console.debug.apply(n.console,arguments)},Y=function(){n.console&&n.console.warn&&n.console.warn.apply(n.console,arguments)},q=function(e){var t=[];if(e)for(var n=e.split(","),r=0;r<n.length;r++)t.push(n[r].trim().toLowerCase());return t},I=function(e){if(0===h.length)return!0;if(!e)return!1;for(var t=e.replace(/^https?:\/\//,""),n=0;n<h.length;n++)if(h[n]===t.toLowerCase())return!0;return!1},J=function(e){return null!==P(p,e)},U={registerFrame:D,unregisterFrame:F,sendViewportPositionEvent:S};return void 0===(r=function(){return U}.apply(t,[]))||(e.exports=r),n.sendViewportPositionEvent=S,W(),function(e){if("complete"===n.document.readyState||"loading"!==n.document.readyState&&!n.document.documentElement.doScroll)e();else{var t=function(){n.document.removeEventListener("DOMContentLoaded",t),e()};n.document.addEventListener("DOMContentLoaded",t)}}((function(){MutationObserver&&n.document&&new MutationObserver(k).observe(n.document,{childList:!0,subtree:!0}),W()})),h=function(){for(var e=[],t=document.querySelectorAll("script[data-ceros-origin-domains]"),n=0;n<t.length;n++){var r=t[n].getAttribute("data-ceros-origin-domains");e=e.concat(q(r))}return e}(),n.addEventListener("message",(function(e){var t,r;if(I(e.origin)&&J(e.source)){try{r=(t=JSON.parse(e.data))&&t.event&&t.event.substr(0,o.length)===o}catch(e){return}if(r)switch(t.event.substr(o.length)){case a:B(e.source);break;case u:!function(e,t){var r=P(d,e);if(r){var o=Math.max(0,t.scrollPosition-t.pageHeight+t.visibleHeight),i=r.getBoundingClientRect(),a=n.pageYOffset+i.top,s=n.pageYOffset+i.bottom,u=o*(i.bottom-i.top)/t.visibleHeight,c=s-n.innerHeight;n.scroll(0,Math.min(u+a,c))}}(e.source,t);break;case c:!function(e,t){t.url&&0===t.url.trim().toLowerCase().indexOf("javascript:")||(t.urlOpenInNewWindow?n.open(t.url):n.location=t.url)}(e.source,t);break;case l:!function(e,t){var n=P(d,e);n&&y(n,t.variant)}(e.source,t);break;case f:t&&t.globalFunctions&&function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=C(e[t]);if(n){n();break}}}(t.globalFunctions)}}})),n.addEventListener("scroll",(function(){for(var e=0;e<d.length;e++)S(d[e])})),n.addEventListener("resize",M),U}},"object"==typeof e.exports?e.exports=o.document?i(o):function(e){if(!e.document)throw new Error("cerosScrollProxy requires a window with a document");return i(e)}:i(o)}]);