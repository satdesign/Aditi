!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=216)}([function(t,e,n){"use strict";(function(t,i){var r;
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash minus="template"`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",T="[object Symbol]",w="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",O="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",x="[object Uint8Array]",M="[object Uint16Array]",k="[object Uint32Array]",D=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,N=RegExp(D.source),L=RegExp(R.source),V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/[\\^$.*+?()[\]{}|]/g,B=RegExp(U.source),H=/^\s+|\s+$/g,G=/^\s+/,W=/\s+$/,z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$=/\{\n\/\* \[wrapped with (.+)\] \*/,Y=/,? & /,q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,X=/\\(\\)?/g,K=/\w*$/,Z=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,Q=/^\[object .+?Constructor\]$/,tt=/^0o[0-7]+$/i,et=/^(?:0|[1-9]\d*)$/,nt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,it="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ot="[\\ud800-\\udfff]",at="["+rt+"]",st="["+it+"]",ut="\\d+",lt="[\\u2700-\\u27bf]",ct="[a-z\\xdf-\\xf6\\xf8-\\xff]",dt="[^\\ud800-\\udfff"+rt+ut+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ht="\\ud83c[\\udffb-\\udfff]",ft="[^\\ud800-\\udfff]",pt="(?:\\ud83c[\\udde6-\\uddff]){2}",gt="[\\ud800-\\udbff][\\udc00-\\udfff]",mt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",vt="(?:"+ct+"|"+dt+")",yt="(?:"+mt+"|"+dt+")",_t="(?:"+st+"|"+ht+")"+"?",bt="[\\ufe0e\\ufe0f]?"+_t+("(?:\\u200d(?:"+[ft,pt,gt].join("|")+")[\\ufe0e\\ufe0f]?"+_t+")*"),Tt="(?:"+[lt,pt,gt].join("|")+")"+bt,wt="(?:"+[ft+st+"?",st,pt,gt,ot].join("|")+")",St=RegExp("['’]","g"),Et=RegExp(st,"g"),Ot=RegExp(ht+"(?="+ht+")|"+wt+bt,"g"),Ct=RegExp([mt+"?"+ct+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[at,mt,"$"].join("|")+")",yt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[at,mt+vt,"$"].join("|")+")",mt+"?"+vt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",mt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ut,Tt].join("|"),"g"),At=RegExp("[\\u200d\\ud800-\\udfff"+it+"\\ufe0e\\ufe0f]"),Pt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,It=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt={};xt[O]=xt[C]=xt[A]=xt[P]=xt[I]=xt[x]=xt["[object Uint8ClampedArray]"]=xt[M]=xt[k]=!0,xt[u]=xt[l]=xt[S]=xt[c]=xt[E]=xt[d]=xt[h]=xt[f]=xt[g]=xt[m]=xt[v]=xt[y]=xt[_]=xt[b]=xt[w]=!1;var Mt={};Mt[u]=Mt[l]=Mt[S]=Mt[E]=Mt[c]=Mt[d]=Mt[O]=Mt[C]=Mt[A]=Mt[P]=Mt[I]=Mt[g]=Mt[m]=Mt[v]=Mt[y]=Mt[_]=Mt[b]=Mt[T]=Mt[x]=Mt["[object Uint8ClampedArray]"]=Mt[M]=Mt[k]=!0,Mt[h]=Mt[f]=Mt[w]=!1;var kt=parseFloat,Dt=parseInt,Rt="object"==typeof t&&t&&t.Object===Object&&t,Nt="object"==typeof self&&self&&self.Object===Object&&self,Lt=Rt||Nt||Function("return this")(),Vt=e&&!e.nodeType&&e,Ft=Vt&&"object"==typeof i&&i&&!i.nodeType&&i,jt=Ft&&Ft.exports===Vt,Ut=jt&&Rt.process,Bt=function(){try{var t=Ft&&Ft.require&&Ft.require("util").types;return t||Ut&&Ut.binding&&Ut.binding("util")}catch(t){}}(),Ht=Bt&&Bt.isArrayBuffer,Gt=Bt&&Bt.isDate,Wt=Bt&&Bt.isMap,zt=Bt&&Bt.isRegExp,$t=Bt&&Bt.isSet,Yt=Bt&&Bt.isTypedArray;function qt(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Xt(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Kt(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Zt(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Jt(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Qt(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function te(t,e){return!!(null==t?0:t.length)&&ce(t,e,0)>-1}function ee(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function ne(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function ie(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function re(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function oe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function ae(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var se=pe("length");function ue(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function le(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function ce(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):le(t,he,n)}function de(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function he(t){return t!=t}function fe(t,e){var n=null==t?0:t.length;return n?ve(t,e)/n:NaN}function pe(t){return function(e){return null==e?void 0:e[t]}}function ge(t){return function(e){return null==t?void 0:t[e]}}function me(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function ve(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function ye(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function _e(t){return function(e){return t(e)}}function be(t,e){return ne(e,(function(e){return t[e]}))}function Te(t,e){return t.has(e)}function we(t,e){for(var n=-1,i=t.length;++n<i&&ce(e,t[n],0)>-1;);return n}function Se(t,e){for(var n=t.length;n--&&ce(e,t[n],0)>-1;);return n}function Ee(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var Oe=ge({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ce=ge({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ae(t){return At.test(t)}function Pe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Ie(t,e){return function(n){return t(e(n))}}function xe(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[r++]=n)}return o}function Me(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ke(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function De(t){return Ae(t)?function(t){var e=Ot.lastIndex=0;for(;Ot.test(t);)++e;return e}(t):se(t)}function Re(t){return Ae(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.split("")}(t)}var Ne=ge({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Le=function t(e){var n,i=(e=null==e?Lt:Le.defaults(Lt.Object(),e,Le.pick(Lt,It))).Array,r=e.Date,it=e.Error,rt=e.Function,ot=e.Math,at=e.Object,st=e.RegExp,ut=e.String,lt=e.TypeError,ct=i.prototype,dt=rt.prototype,ht=at.prototype,ft=e["__core-js_shared__"],pt=dt.toString,gt=ht.hasOwnProperty,mt=0,vt=(n=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",yt=ht.toString,_t=pt.call(at),bt=Lt._,Tt=st("^"+pt.call(gt).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=jt?e.Buffer:void 0,Ot=e.Symbol,At=e.Uint8Array,Rt=wt?wt.allocUnsafe:void 0,Nt=Ie(at.getPrototypeOf,at),Vt=at.create,Ft=ht.propertyIsEnumerable,Ut=ct.splice,Bt=Ot?Ot.isConcatSpreadable:void 0,se=Ot?Ot.iterator:void 0,ge=Ot?Ot.toStringTag:void 0,Ve=function(){try{var t=Br(at,"defineProperty");return t({},"",{}),t}catch(t){}}(),Fe=e.clearTimeout!==Lt.clearTimeout&&e.clearTimeout,je=r&&r.now!==Lt.Date.now&&r.now,Ue=e.setTimeout!==Lt.setTimeout&&e.setTimeout,Be=ot.ceil,He=ot.floor,Ge=at.getOwnPropertySymbols,We=wt?wt.isBuffer:void 0,ze=e.isFinite,$e=ct.join,Ye=Ie(at.keys,at),qe=ot.max,Xe=ot.min,Ke=r.now,Ze=e.parseInt,Je=ot.random,Qe=ct.reverse,tn=Br(e,"DataView"),en=Br(e,"Map"),nn=Br(e,"Promise"),rn=Br(e,"Set"),on=Br(e,"WeakMap"),an=Br(at,"create"),sn=on&&new on,un={},ln=go(tn),cn=go(en),dn=go(nn),hn=go(rn),fn=go(on),pn=Ot?Ot.prototype:void 0,gn=pn?pn.valueOf:void 0,mn=pn?pn.toString:void 0;function vn(t){if(ka(t)&&!Ta(t)&&!(t instanceof Tn)){if(t instanceof bn)return t;if(gt.call(t,"__wrapped__"))return mo(t)}return new bn(t)}var yn=function(){function t(){}return function(e){if(!Ma(e))return{};if(Vt)return Vt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function _n(){}function bn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Tn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function En(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function On(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new En;++e<n;)this.add(t[e])}function Cn(t){var e=this.__data__=new Sn(t);this.size=e.size}function An(t,e){var n=Ta(t),i=!n&&ba(t),r=!n&&!i&&Oa(t),o=!n&&!i&&!r&&Ua(t),a=n||i||r||o,s=a?ye(t.length,ut):[],u=s.length;for(var l in t)!e&&!gt.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||qr(l,u))||s.push(l);return s}function Pn(t){var e=t.length;return e?t[Oi(0,e-1)]:void 0}function In(t,e){return ho(ar(t),Fn(e,0,t.length))}function xn(t){return ho(ar(t))}function Mn(t,e,n){(void 0!==n&&!va(t[e],n)||void 0===n&&!(e in t))&&Ln(t,e,n)}function kn(t,e,n){var i=t[e];gt.call(t,e)&&va(i,n)&&(void 0!==n||e in t)||Ln(t,e,n)}function Dn(t,e){for(var n=t.length;n--;)if(va(t[n][0],e))return n;return-1}function Rn(t,e,n,i){return Gn(t,(function(t,r,o){e(i,t,n(t),o)})),i}function Nn(t,e){return t&&sr(e,us(e),t)}function Ln(t,e,n){"__proto__"==e&&Ve?Ve(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Vn(t,e){for(var n=-1,r=e.length,o=i(r),a=null==t;++n<r;)o[n]=a?void 0:is(t,e[n]);return o}function Fn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function jn(t,e,n,i,r,o){var a,s=1&e,l=2&e,h=4&e;if(n&&(a=r?n(t,i,r,o):n(t)),void 0!==a)return a;if(!Ma(t))return t;var w=Ta(t);if(w){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&gt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return ar(t,a)}else{var D=Wr(t),R=D==f||D==p;if(Oa(t))return tr(t,s);if(D==v||D==u||R&&!r){if(a=l||R?{}:$r(t),!s)return l?function(t,e){return sr(t,Gr(t),e)}(t,function(t,e){return t&&sr(e,ls(e),t)}(a,t)):function(t,e){return sr(t,Hr(t),e)}(t,Nn(a,t))}else{if(!Mt[D])return r?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case S:return er(t);case c:case d:return new i(+t);case E:return function(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case O:case C:case A:case P:case I:case x:case"[object Uint8ClampedArray]":case M:case k:return nr(t,n);case g:return new i;case m:case b:return new i(t);case y:return function(t){var e=new t.constructor(t.source,K.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new i;case T:return r=t,gn?at(gn.call(r)):{}}var r}(t,D,s)}}o||(o=new Cn);var N=o.get(t);if(N)return N;o.set(t,a),Va(t)?t.forEach((function(i){a.add(jn(i,e,n,i,t,o))})):Da(t)&&t.forEach((function(i,r){a.set(r,jn(i,e,n,r,t,o))}));var L=w?void 0:(h?l?Rr:Dr:l?ls:us)(t);return Kt(L||t,(function(i,r){L&&(i=t[r=i]),kn(a,r,jn(i,e,n,r,t,o))})),a}function Un(t,e,n){var i=n.length;if(null==t)return!i;for(t=at(t);i--;){var r=n[i],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0}function Bn(t,e,n){if("function"!=typeof t)throw new lt(o);return so((function(){t.apply(void 0,n)}),e)}function Hn(t,e,n,i){var r=-1,o=te,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=ne(e,_e(n))),i?(o=ee,a=!1):e.length>=200&&(o=Te,a=!1,e=new On(e));t:for(;++r<s;){var c=t[r],d=null==n?c:n(c);if(c=i||0!==c?c:0,a&&d==d){for(var h=l;h--;)if(e[h]===d)continue t;u.push(c)}else o(e,d,i)||u.push(c)}return u}vn.prototype=_n.prototype,vn.prototype.constructor=vn,bn.prototype=yn(_n.prototype),bn.prototype.constructor=bn,Tn.prototype=yn(_n.prototype),Tn.prototype.constructor=Tn,wn.prototype.clear=function(){this.__data__=an?an(null):{},this.size=0},wn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},wn.prototype.get=function(t){var e=this.__data__;if(an){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return gt.call(e,t)?e[t]:void 0},wn.prototype.has=function(t){var e=this.__data__;return an?void 0!==e[t]:gt.call(e,t)},wn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=an&&void 0===e?"__lodash_hash_undefined__":e,this},Sn.prototype.clear=function(){this.__data__=[],this.size=0},Sn.prototype.delete=function(t){var e=this.__data__,n=Dn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ut.call(e,n,1),--this.size,!0)},Sn.prototype.get=function(t){var e=this.__data__,n=Dn(e,t);return n<0?void 0:e[n][1]},Sn.prototype.has=function(t){return Dn(this.__data__,t)>-1},Sn.prototype.set=function(t,e){var n=this.__data__,i=Dn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},En.prototype.clear=function(){this.size=0,this.__data__={hash:new wn,map:new(en||Sn),string:new wn}},En.prototype.delete=function(t){var e=jr(this,t).delete(t);return this.size-=e?1:0,e},En.prototype.get=function(t){return jr(this,t).get(t)},En.prototype.has=function(t){return jr(this,t).has(t)},En.prototype.set=function(t,e){var n=jr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},On.prototype.add=On.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},On.prototype.has=function(t){return this.__data__.has(t)},Cn.prototype.clear=function(){this.__data__=new Sn,this.size=0},Cn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Cn.prototype.get=function(t){return this.__data__.get(t)},Cn.prototype.has=function(t){return this.__data__.has(t)},Cn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Sn){var i=n.__data__;if(!en||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new En(i)}return n.set(t,e),this.size=n.size,this};var Gn=cr(Zn),Wn=cr(Jn,!0);function zn(t,e){var n=!0;return Gn(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function $n(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(void 0===s?a==a&&!ja(a):n(a,s)))var s=a,u=o}return u}function Yn(t,e){var n=[];return Gn(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function qn(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=Yr),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?qn(s,e-1,n,i,r):ie(r,s):i||(r[r.length]=s)}return r}var Xn=dr(),Kn=dr(!0);function Zn(t,e){return t&&Xn(t,e,us)}function Jn(t,e){return t&&Kn(t,e,us)}function Qn(t,e){return Qt(e,(function(e){return Pa(t[e])}))}function ti(t,e){for(var n=0,i=(e=Ki(e,t)).length;null!=t&&n<i;)t=t[po(e[n++])];return n&&n==i?t:void 0}function ei(t,e,n){var i=e(t);return Ta(t)?i:ie(i,n(t))}function ni(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ge&&ge in at(t)?function(t){var e=gt.call(t,ge),n=t[ge];try{t[ge]=void 0;var i=!0}catch(t){}var r=yt.call(t);i&&(e?t[ge]=n:delete t[ge]);return r}(t):function(t){return yt.call(t)}(t)}function ii(t,e){return t>e}function ri(t,e){return null!=t&&gt.call(t,e)}function oi(t,e){return null!=t&&e in at(t)}function ai(t,e,n){for(var r=n?ee:te,o=t[0].length,a=t.length,s=a,u=i(a),l=1/0,c=[];s--;){var d=t[s];s&&e&&(d=ne(d,_e(e))),l=Xe(d.length,l),u[s]=!n&&(e||o>=120&&d.length>=120)?new On(s&&d):void 0}d=t[0];var h=-1,f=u[0];t:for(;++h<o&&c.length<l;){var p=d[h],g=e?e(p):p;if(p=n||0!==p?p:0,!(f?Te(f,g):r(c,g,n))){for(s=a;--s;){var m=u[s];if(!(m?Te(m,g):r(t[s],g,n)))continue t}f&&f.push(g),c.push(p)}}return c}function si(t,e,n){var i=null==(t=io(t,e=Ki(e,t)))?t:t[po(Ao(e))];return null==i?void 0:qt(i,t,n)}function ui(t){return ka(t)&&ni(t)==u}function li(t,e,n,i,r){return t===e||(null==t||null==e||!ka(t)&&!ka(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=Ta(t),s=Ta(e),f=a?l:Wr(t),p=s?l:Wr(e),w=(f=f==u?v:f)==v,O=(p=p==u?v:p)==v,C=f==p;if(C&&Oa(t)){if(!Oa(e))return!1;a=!0,w=!1}if(C&&!w)return o||(o=new Cn),a||Ua(t)?Mr(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!o(new At(t),new At(e)));case c:case d:case m:return va(+t,+e);case h:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case g:var s=Pe;case _:var u=1&i;if(s||(s=Me),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var f=Mr(s(t),s(e),i,r,o,a);return a.delete(t),f;case T:if(gn)return gn.call(t)==gn.call(e)}return!1}(t,e,f,n,i,r,o);if(!(1&n)){var A=w&&gt.call(t,"__wrapped__"),P=O&&gt.call(e,"__wrapped__");if(A||P){var I=A?t.value():t,x=P?e.value():e;return o||(o=new Cn),r(I,x,n,i,o)}}if(!C)return!1;return o||(o=new Cn),function(t,e,n,i,r,o){var a=1&n,s=Dr(t),u=s.length,l=Dr(e).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var d=s[c];if(!(a?d in e:gt.call(e,d)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);var g=a;for(;++c<u;){d=s[c];var m=t[d],v=e[d];if(i)var y=a?i(v,m,d,e,t,o):i(m,v,d,t,e,o);if(!(void 0===y?m===v||r(m,v,n,i,o):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,i,r,o)}(t,e,n,i,li,r))}function ci(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=at(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var u=(s=n[r])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var d=new Cn;if(i)var h=i(l,c,u,t,e,d);if(!(void 0===h?li(c,l,3,i,d):h))return!1}}return!0}function di(t){return!(!Ma(t)||(e=t,vt&&vt in e))&&(Pa(t)?Tt:Q).test(go(t));var e}function hi(t){return"function"==typeof t?t:null==t?Rs:"object"==typeof t?Ta(t)?yi(t[0],t[1]):vi(t):Gs(t)}function fi(t){if(!Qr(t))return Ye(t);var e=[];for(var n in at(t))gt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function pi(t){if(!Ma(t))return function(t){var e=[];if(null!=t)for(var n in at(t))e.push(n);return e}(t);var e=Qr(t),n=[];for(var i in t)("constructor"!=i||!e&&gt.call(t,i))&&n.push(i);return n}function gi(t,e){return t<e}function mi(t,e){var n=-1,r=Sa(t)?i(t.length):[];return Gn(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function vi(t){var e=Ur(t);return 1==e.length&&e[0][2]?eo(e[0][0],e[0][1]):function(n){return n===t||ci(n,t,e)}}function yi(t,e){return Kr(t)&&to(e)?eo(po(t),e):function(n){var i=is(n,t);return void 0===i&&i===e?rs(n,t):li(e,i,3)}}function _i(t,e,n,i,r){t!==e&&Xn(e,(function(o,a){if(r||(r=new Cn),Ma(o))!function(t,e,n,i,r,o,a){var s=oo(t,n),u=oo(e,n),l=a.get(u);if(l)return void Mn(t,n,l);var c=o?o(s,u,n+"",t,e,a):void 0,d=void 0===c;if(d){var h=Ta(u),f=!h&&Oa(u),p=!h&&!f&&Ua(u);c=u,h||f||p?Ta(s)?c=s:Ea(s)?c=ar(s):f?(d=!1,c=tr(u,!0)):p?(d=!1,c=nr(u,!0)):c=[]:Na(u)||ba(u)?(c=s,ba(s)?c=qa(s):Ma(s)&&!Pa(s)||(c=$r(u))):d=!1}d&&(a.set(u,c),r(c,u,i,o,a),a.delete(u));Mn(t,n,c)}(t,e,a,n,_i,i,r);else{var s=i?i(oo(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),Mn(t,a,s)}}),ls)}function bi(t,e){var n=t.length;if(n)return qr(e+=e<0?n:0,n)?t[e]:void 0}function Ti(t,e,n){e=e.length?ne(e,(function(t){return Ta(t)?function(e){return ti(e,1===t.length?t[0]:t)}:t})):[Rs];var i=-1;return e=ne(e,_e(Fr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(mi(t,(function(t,n,r){return{criteria:ne(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var u=ir(r[i],o[i]);if(u){if(i>=s)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function wi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=ti(t,a);n(s,a)&&xi(o,Ki(a,t),s)}return o}function Si(t,e,n,i){var r=i?de:ce,o=-1,a=e.length,s=t;for(t===e&&(e=ar(e)),n&&(s=ne(t,_e(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(s,c,u,i))>-1;)s!==t&&Ut.call(s,u,1),Ut.call(t,u,1);return t}function Ei(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;qr(r)?Ut.call(t,r,1):Hi(t,r)}}return t}function Oi(t,e){return t+He(Je()*(e-t+1))}function Ci(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=He(e/2))&&(t+=t)}while(e);return n}function Ai(t,e){return uo(no(t,e,Rs),t+"")}function Pi(t){return Pn(vs(t))}function Ii(t,e){var n=vs(t);return ho(n,Fn(e,0,n.length))}function xi(t,e,n,i){if(!Ma(t))return t;for(var r=-1,o=(e=Ki(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var u=po(e[r]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=a){var c=s[u];void 0===(l=i?i(c,u,s):void 0)&&(l=Ma(c)?c:qr(e[r+1])?[]:{})}kn(s,u,l),s=s[u]}return t}var Mi=sn?function(t,e){return sn.set(t,e),t}:Rs,ki=Ve?function(t,e){return Ve(t,"toString",{configurable:!0,enumerable:!1,value:Ms(e),writable:!0})}:Rs;function Di(t){return ho(vs(t))}function Ri(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function Ni(t,e){var n;return Gn(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function Li(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!ja(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return Vi(t,e,Rs,n)}function Vi(t,e,n,i){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,u=ja(e),l=void 0===e;r<o;){var c=He((r+o)/2),d=n(t[c]),h=void 0!==d,f=null===d,p=d==d,g=ja(d);if(a)var m=i||p;else m=l?p&&(i||h):s?p&&h&&(i||!f):u?p&&h&&!f&&(i||!g):!f&&!g&&(i?d<=e:d<e);m?r=c+1:o=c}return Xe(o,4294967294)}function Fi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!va(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function ji(t){return"number"==typeof t?t:ja(t)?NaN:+t}function Ui(t){if("string"==typeof t)return t;if(Ta(t))return ne(t,Ui)+"";if(ja(t))return mn?mn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bi(t,e,n){var i=-1,r=te,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=ee;else if(o>=200){var l=e?null:Cr(t);if(l)return Me(l);a=!1,r=Te,u=new On}else u=e?[]:s;t:for(;++i<o;){var c=t[i],d=e?e(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=u.length;h--;)if(u[h]===d)continue t;e&&u.push(d),s.push(c)}else r(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function Hi(t,e){return null==(t=io(t,e=Ki(e,t)))||delete t[po(Ao(e))]}function Gi(t,e,n,i){return xi(t,e,n(ti(t,e)),i)}function Wi(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Ri(t,i?0:o,i?o+1:r):Ri(t,i?o+1:0,i?r:o)}function zi(t,e){var n=t;return n instanceof Tn&&(n=n.value()),re(e,(function(t,e){return e.func.apply(e.thisArg,ie([t],e.args))}),n)}function $i(t,e,n){var r=t.length;if(r<2)return r?Bi(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=Hn(a[o]||s,t[u],e,n));return Bi(qn(a,1),e,n)}function Yi(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a}function qi(t){return Ea(t)?t:[]}function Xi(t){return"function"==typeof t?t:Rs}function Ki(t,e){return Ta(t)?t:Kr(t,e)?[t]:fo(Xa(t))}var Zi=Ai;function Ji(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Ri(t,e,n)}var Qi=Fe||function(t){return Lt.clearTimeout(t)};function tr(t,e){if(e)return t.slice();var n=t.length,i=Rt?Rt(n):new t.constructor(n);return t.copy(i),i}function er(t){var e=new t.constructor(t.byteLength);return new At(e).set(new At(t)),e}function nr(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ir(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=ja(t),a=void 0!==e,s=null===e,u=e==e,l=ja(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||i&&a&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!u)return-1}return 0}function rr(t,e,n,r){for(var o=-1,a=t.length,s=n.length,u=-1,l=e.length,c=qe(a-s,0),d=i(l+c),h=!r;++u<l;)d[u]=e[u];for(;++o<s;)(h||o<a)&&(d[n[o]]=t[o]);for(;c--;)d[u++]=t[o++];return d}function or(t,e,n,r){for(var o=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,d=qe(a-u,0),h=i(d+c),f=!r;++o<d;)h[o]=t[o];for(var p=o;++l<c;)h[p+l]=e[l];for(;++s<u;)(f||o<a)&&(h[p+n[s]]=t[o++]);return h}function ar(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function sr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=i?i(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),r?Ln(n,s,u):kn(n,s,u)}return n}function ur(t,e){return function(n,i){var r=Ta(n)?Xt:Rn,o=e?e():{};return r(n,t,Fr(i,2),o)}}function lr(t){return Ai((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&Xr(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=at(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e}))}function cr(t,e){return function(n,i){if(null==n)return n;if(!Sa(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=at(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function dr(t){return function(e,n,i){for(var r=-1,o=at(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}function hr(t){return function(e){var n=Ae(e=Xa(e))?Re(e):void 0,i=n?n[0]:e.charAt(0),r=n?Ji(n,1).join(""):e.slice(1);return i[t]()+r}}function fr(t){return function(e){return re(Ps(bs(e).replace(St,"")),t,"")}}function pr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=yn(t.prototype),i=t.apply(n,e);return Ma(i)?i:n}}function gr(t){return function(e,n,i){var r=at(e);if(!Sa(e)){var o=Fr(n,3);e=us(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}}function mr(t){return kr((function(e){var n=e.length,i=n,r=bn.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new lt(o);if(r&&!s&&"wrapper"==Lr(a))var s=new bn([],!0)}for(i=s?i:n;++i<n;){var u=Lr(a=e[i]),l="wrapper"==u?Nr(a):void 0;s=l&&Zr(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Lr(l[0])].apply(s,l[3]):1==a.length&&Zr(a)?s[u]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&Ta(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function vr(t,e,n,r,o,a,s,u,l,c){var d=128&e,h=1&e,f=2&e,p=24&e,g=512&e,m=f?void 0:pr(t);return function v(){for(var y=arguments.length,_=i(y),b=y;b--;)_[b]=arguments[b];if(p)var T=Vr(v),w=Ee(_,T);if(r&&(_=rr(_,r,o,p)),a&&(_=or(_,a,s,p)),y-=w,p&&y<c){var S=xe(_,T);return Er(t,e,vr,v.placeholder,n,_,S,u,l,c-y)}var E=h?n:this,O=f?E[t]:t;return y=_.length,u?_=ro(_,u):g&&y>1&&_.reverse(),d&&l<y&&(_.length=l),this&&this!==Lt&&this instanceof v&&(O=m||pr(O)),O.apply(E,_)}}function yr(t,e){return function(n,i){return function(t,e,n,i){return Zn(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function _r(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ui(n),i=Ui(i)):(n=ji(n),i=ji(i)),r=t(n,i)}return r}}function br(t){return kr((function(e){return e=ne(e,_e(Fr())),Ai((function(n){var i=this;return t(e,(function(t){return qt(t,i,n)}))}))}))}function Tr(t,e){var n=(e=void 0===e?" ":Ui(e)).length;if(n<2)return n?Ci(e,t):e;var i=Ci(e,Be(t/De(e)));return Ae(e)?Ji(Re(i),0,t).join(""):i.slice(0,t)}function wr(t){return function(e,n,r){return r&&"number"!=typeof r&&Xr(e,n,r)&&(n=r=void 0),e=Wa(e),void 0===n?(n=e,e=0):n=Wa(n),function(t,e,n,r){for(var o=-1,a=qe(Be((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,r=void 0===r?e<n?1:-1:Wa(r),t)}}function Sr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ya(e),n=Ya(n)),t(e,n)}}function Er(t,e,n,i,r,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var d=[t,e,r,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],h=n.apply(void 0,d);return Zr(t)&&ao(h,d),h.placeholder=i,lo(h,t,e)}function Or(t){var e=ot[t];return function(t,n){if(t=Ya(t),(n=null==n?0:Xe(za(n),292))&&ze(t)){var i=(Xa(t)+"e").split("e");return+((i=(Xa(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Cr=rn&&1/Me(new rn([,-0]))[1]==1/0?function(t){return new rn(t)}:js;function Ar(t){return function(e){var n=Wr(e);return n==g?Pe(e):n==_?ke(e):function(t,e){return ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Pr(t,e,n,r,s,u,l,c){var d=2&e;if(!d&&"function"!=typeof t)throw new lt(o);var h=r?r.length:0;if(h||(e&=-97,r=s=void 0),l=void 0===l?l:qe(za(l),0),c=void 0===c?c:za(c),h-=s?s.length:0,64&e){var f=r,p=s;r=s=void 0}var g=d?void 0:Nr(t),m=[t,e,n,r,s,f,p,u,l,c];if(g&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,s=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?rr(l,u,e[4]):u,t[4]=l?xe(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?or(l,u,e[6]):u,t[6]=l?xe(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&i&&(t[8]=null==t[8]?e[8]:Xe(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(m,g),t=m[0],e=m[1],n=m[2],r=m[3],s=m[4],!(c=m[9]=void 0===m[9]?d?0:t.length:qe(m[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var r=pr(t);return function o(){for(var a=arguments.length,s=i(a),u=a,l=Vr(o);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:xe(s,l);if((a-=c.length)<n)return Er(t,e,vr,o.placeholder,void 0,s,c,void 0,void 0,n-a);var d=this&&this!==Lt&&this instanceof o?r:t;return qt(d,this,s)}}(t,e,c):32!=e&&33!=e||s.length?vr.apply(void 0,m):function(t,e,n,r){var o=1&e,a=pr(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=r.length,d=i(c+u),h=this&&this!==Lt&&this instanceof e?a:t;++l<c;)d[l]=r[l];for(;u--;)d[l++]=arguments[++s];return qt(h,o?n:this,d)}}(t,e,n,r);else var v=function(t,e,n){var i=1&e,r=pr(t);return function e(){var o=this&&this!==Lt&&this instanceof e?r:t;return o.apply(i?n:this,arguments)}}(t,e,n);return lo((g?Mi:ao)(v,m),t,e)}function Ir(t,e,n,i,r,o){return Ma(t)&&Ma(e)&&(o.set(e,t),_i(t,e,void 0,Ir,o),o.delete(e)),t}function xr(t){return Na(t)?void 0:t}function Mr(t,e,n,i,r,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var d=-1,h=!0,f=2&n?new On:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var p=t[d],g=e[d];if(i)var m=a?i(g,p,d,e,t,o):i(p,g,d,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!ae(e,(function(t,e){if(!Te(f,e)&&(p===t||r(p,t,n,i,o)))return f.push(e)}))){h=!1;break}}else if(p!==g&&!r(p,g,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function kr(t){return uo(no(t,void 0,wo),t+"")}function Dr(t){return ei(t,us,Hr)}function Rr(t){return ei(t,ls,Gr)}var Nr=sn?function(t){return sn.get(t)}:js;function Lr(t){for(var e=t.name+"",n=un[e],i=gt.call(un,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Vr(t){return(gt.call(vn,"placeholder")?vn:t).placeholder}function Fr(){var t=vn.iteratee||Ns;return t=t===Ns?hi:t,arguments.length?t(arguments[0],arguments[1]):t}function jr(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ur(t){for(var e=us(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,to(r)]}return e}function Br(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return di(n)?n:void 0}var Hr=Ge?function(t){return null==t?[]:(t=at(t),Qt(Ge(t),(function(e){return Ft.call(t,e)})))}:$s,Gr=Ge?function(t){for(var e=[];t;)ie(e,Hr(t)),t=Nt(t);return e}:$s,Wr=ni;function zr(t,e,n){for(var i=-1,r=(e=Ki(e,t)).length,o=!1;++i<r;){var a=po(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&xa(r)&&qr(a,r)&&(Ta(t)||ba(t))}function $r(t){return"function"!=typeof t.constructor||Qr(t)?{}:yn(Nt(t))}function Yr(t){return Ta(t)||ba(t)||!!(Bt&&t&&t[Bt])}function qr(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&et.test(t))&&t>-1&&t%1==0&&t<e}function Xr(t,e,n){if(!Ma(n))return!1;var i=typeof e;return!!("number"==i?Sa(n)&&qr(e,n.length):"string"==i&&e in n)&&va(n[e],t)}function Kr(t,e){if(Ta(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ja(t))||(F.test(t)||!V.test(t)||null!=e&&t in at(e))}function Zr(t){var e=Lr(t),n=vn[e];if("function"!=typeof n||!(e in Tn.prototype))return!1;if(t===n)return!0;var i=Nr(n);return!!i&&t===i[0]}(tn&&Wr(new tn(new ArrayBuffer(1)))!=E||en&&Wr(new en)!=g||nn&&"[object Promise]"!=Wr(nn.resolve())||rn&&Wr(new rn)!=_||on&&Wr(new on)!=w)&&(Wr=function(t){var e=ni(t),n=e==v?t.constructor:void 0,i=n?go(n):"";if(i)switch(i){case ln:return E;case cn:return g;case dn:return"[object Promise]";case hn:return _;case fn:return w}return e});var Jr=ft?Pa:Ys;function Qr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ht)}function to(t){return t==t&&!Ma(t)}function eo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in at(n)))}}function no(t,e,n){return e=qe(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=qe(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=i(e+1);++o<e;)u[o]=r[o];return u[e]=n(s),qt(t,this,u)}}function io(t,e){return e.length<2?t:ti(t,Ri(e,0,-1))}function ro(t,e){for(var n=t.length,i=Xe(e.length,n),r=ar(t);i--;){var o=e[i];t[i]=qr(o,n)?r[o]:void 0}return t}function oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ao=co(Mi),so=Ue||function(t,e){return Lt.setTimeout(t,e)},uo=co(ki);function lo(t,e,n){var i=e+"";return uo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(z,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Kt(s,(function(n){var i="_."+n[0];e&n[1]&&!te(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match($);return e?e[1].split(Y):[]}(i),n)))}function co(t){var e=0,n=0;return function(){var i=Ke(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ho(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=Oi(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var fo=function(t){var e=da(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(j,(function(t,n,i,r){e.push(i?r.replace(X,"$1"):n||t)})),e}));function po(t){if("string"==typeof t||ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function go(t){if(null!=t){try{return pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function mo(t){if(t instanceof Tn)return t.clone();var e=new bn(t.__wrapped__,t.__chain__);return e.__actions__=ar(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var vo=Ai((function(t,e){return Ea(t)?Hn(t,qn(e,1,Ea,!0)):[]})),yo=Ai((function(t,e){var n=Ao(e);return Ea(n)&&(n=void 0),Ea(t)?Hn(t,qn(e,1,Ea,!0),Fr(n,2)):[]})),_o=Ai((function(t,e){var n=Ao(e);return Ea(n)&&(n=void 0),Ea(t)?Hn(t,qn(e,1,Ea,!0),void 0,n):[]}));function bo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:za(n);return r<0&&(r=qe(i+r,0)),le(t,Fr(e,3),r)}function To(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=za(n),r=n<0?qe(i+r,0):Xe(r,i-1)),le(t,Fr(e,3),r,!0)}function wo(t){return(null==t?0:t.length)?qn(t,1):[]}function So(t){return t&&t.length?t[0]:void 0}var Eo=Ai((function(t){var e=ne(t,qi);return e.length&&e[0]===t[0]?ai(e):[]})),Oo=Ai((function(t){var e=Ao(t),n=ne(t,qi);return e===Ao(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?ai(n,Fr(e,2)):[]})),Co=Ai((function(t){var e=Ao(t),n=ne(t,qi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?ai(n,void 0,e):[]}));function Ao(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Po=Ai(Io);function Io(t,e){return t&&t.length&&e&&e.length?Si(t,e):t}var xo=kr((function(t,e){var n=null==t?0:t.length,i=Vn(t,e);return Ei(t,ne(e,(function(t){return qr(t,n)?+t:t})).sort(ir)),i}));function Mo(t){return null==t?t:Qe.call(t)}var ko=Ai((function(t){return Bi(qn(t,1,Ea,!0))})),Do=Ai((function(t){var e=Ao(t);return Ea(e)&&(e=void 0),Bi(qn(t,1,Ea,!0),Fr(e,2))})),Ro=Ai((function(t){var e=Ao(t);return e="function"==typeof e?e:void 0,Bi(qn(t,1,Ea,!0),void 0,e)}));function No(t){if(!t||!t.length)return[];var e=0;return t=Qt(t,(function(t){if(Ea(t))return e=qe(t.length,e),!0})),ye(e,(function(e){return ne(t,pe(e))}))}function Lo(t,e){if(!t||!t.length)return[];var n=No(t);return null==e?n:ne(n,(function(t){return qt(e,void 0,t)}))}var Vo=Ai((function(t,e){return Ea(t)?Hn(t,e):[]})),Fo=Ai((function(t){return $i(Qt(t,Ea))})),jo=Ai((function(t){var e=Ao(t);return Ea(e)&&(e=void 0),$i(Qt(t,Ea),Fr(e,2))})),Uo=Ai((function(t){var e=Ao(t);return e="function"==typeof e?e:void 0,$i(Qt(t,Ea),void 0,e)})),Bo=Ai(No);var Ho=Ai((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Lo(t,n)}));function Go(t){var e=vn(t);return e.__chain__=!0,e}function Wo(t,e){return e(t)}var zo=kr((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Vn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Tn&&qr(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Wo,args:[r],thisArg:void 0}),new bn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var $o=ur((function(t,e,n){gt.call(t,n)?++t[n]:Ln(t,n,1)}));var Yo=gr(bo),qo=gr(To);function Xo(t,e){return(Ta(t)?Kt:Gn)(t,Fr(e,3))}function Ko(t,e){return(Ta(t)?Zt:Wn)(t,Fr(e,3))}var Zo=ur((function(t,e,n){gt.call(t,n)?t[n].push(e):Ln(t,n,[e])}));var Jo=Ai((function(t,e,n){var r=-1,o="function"==typeof e,a=Sa(t)?i(t.length):[];return Gn(t,(function(t){a[++r]=o?qt(e,t,n):si(t,e,n)})),a})),Qo=ur((function(t,e,n){Ln(t,n,e)}));function ta(t,e){return(Ta(t)?ne:mi)(t,Fr(e,3))}var ea=ur((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var na=Ai((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Xr(t,e[0],e[1])?e=[]:n>2&&Xr(e[0],e[1],e[2])&&(e=[e[0]]),Ti(t,qn(e,1),[])})),ia=je||function(){return Lt.Date.now()};function ra(t,e,n){return e=n?void 0:e,Pr(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function oa(t,e){var n;if("function"!=typeof e)throw new lt(o);return t=za(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var aa=Ai((function(t,e,n){var i=1;if(n.length){var r=xe(n,Vr(aa));i|=32}return Pr(t,i,e,n,r)})),sa=Ai((function(t,e,n){var i=3;if(n.length){var r=xe(n,Vr(sa));i|=32}return Pr(e,i,t,n,r)}));function ua(t,e,n){var i,r,a,s,u,l,c=0,d=!1,h=!1,f=!0;if("function"!=typeof t)throw new lt(o);function p(e){var n=i,o=r;return i=r=void 0,c=e,s=t.apply(o,n)}function g(t){return c=t,u=so(v,e),d?p(t):s}function m(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=a}function v(){var t=ia();if(m(t))return y(t);u=so(v,function(t){var n=e-(t-l);return h?Xe(n,a-(t-c)):n}(t))}function y(t){return u=void 0,f&&i?p(t):(i=r=void 0,s)}function _(){var t=ia(),n=m(t);if(i=arguments,r=this,l=t,n){if(void 0===u)return g(l);if(h)return Qi(u),u=so(v,e),p(l)}return void 0===u&&(u=so(v,e)),s}return e=Ya(e)||0,Ma(n)&&(d=!!n.leading,a=(h="maxWait"in n)?qe(Ya(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),_.cancel=function(){void 0!==u&&Qi(u),c=0,i=l=r=u=void 0},_.flush=function(){return void 0===u?s:y(ia())},_}var la=Ai((function(t,e){return Bn(t,1,e)})),ca=Ai((function(t,e,n){return Bn(t,Ya(e)||0,n)}));function da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new lt(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(da.Cache||En),n}function ha(t){if("function"!=typeof t)throw new lt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}da.Cache=En;var fa=Zi((function(t,e){var n=(e=1==e.length&&Ta(e[0])?ne(e[0],_e(Fr())):ne(qn(e,1),_e(Fr()))).length;return Ai((function(i){for(var r=-1,o=Xe(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return qt(t,this,i)}))})),pa=Ai((function(t,e){return Pr(t,32,void 0,e,xe(e,Vr(pa)))})),ga=Ai((function(t,e){return Pr(t,64,void 0,e,xe(e,Vr(ga)))})),ma=kr((function(t,e){return Pr(t,256,void 0,void 0,void 0,e)}));function va(t,e){return t===e||t!=t&&e!=e}var ya=Sr(ii),_a=Sr((function(t,e){return t>=e})),ba=ui(function(){return arguments}())?ui:function(t){return ka(t)&&gt.call(t,"callee")&&!Ft.call(t,"callee")},Ta=i.isArray,wa=Ht?_e(Ht):function(t){return ka(t)&&ni(t)==S};function Sa(t){return null!=t&&xa(t.length)&&!Pa(t)}function Ea(t){return ka(t)&&Sa(t)}var Oa=We||Ys,Ca=Gt?_e(Gt):function(t){return ka(t)&&ni(t)==d};function Aa(t){if(!ka(t))return!1;var e=ni(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Na(t)}function Pa(t){if(!Ma(t))return!1;var e=ni(t);return e==f||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ia(t){return"number"==typeof t&&t==za(t)}function xa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ma(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ka(t){return null!=t&&"object"==typeof t}var Da=Wt?_e(Wt):function(t){return ka(t)&&Wr(t)==g};function Ra(t){return"number"==typeof t||ka(t)&&ni(t)==m}function Na(t){if(!ka(t)||ni(t)!=v)return!1;var e=Nt(t);if(null===e)return!0;var n=gt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&pt.call(n)==_t}var La=zt?_e(zt):function(t){return ka(t)&&ni(t)==y};var Va=$t?_e($t):function(t){return ka(t)&&Wr(t)==_};function Fa(t){return"string"==typeof t||!Ta(t)&&ka(t)&&ni(t)==b}function ja(t){return"symbol"==typeof t||ka(t)&&ni(t)==T}var Ua=Yt?_e(Yt):function(t){return ka(t)&&xa(t.length)&&!!xt[ni(t)]};var Ba=Sr(gi),Ha=Sr((function(t,e){return t<=e}));function Ga(t){if(!t)return[];if(Sa(t))return Fa(t)?Re(t):ar(t);if(se&&t[se])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[se]());var e=Wr(t);return(e==g?Pe:e==_?Me:vs)(t)}function Wa(t){return t?(t=Ya(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function za(t){var e=Wa(t),n=e%1;return e==e?n?e-n:e:0}function $a(t){return t?Fn(za(t),0,4294967295):0}function Ya(t){if("number"==typeof t)return t;if(ja(t))return NaN;if(Ma(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ma(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(H,"");var n=J.test(t);return n||tt.test(t)?Dt(t.slice(2),n?2:8):Z.test(t)?NaN:+t}function qa(t){return sr(t,ls(t))}function Xa(t){return null==t?"":Ui(t)}var Ka=lr((function(t,e){if(Qr(e)||Sa(e))sr(e,us(e),t);else for(var n in e)gt.call(e,n)&&kn(t,n,e[n])})),Za=lr((function(t,e){sr(e,ls(e),t)})),Ja=lr((function(t,e,n,i){sr(e,ls(e),t,i)})),Qa=lr((function(t,e,n,i){sr(e,us(e),t,i)})),ts=kr(Vn);var es=Ai((function(t,e){t=at(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&Xr(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=ls(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||va(c,ht[l])&&!gt.call(t,l))&&(t[l]=o[l])}return t})),ns=Ai((function(t){return t.push(void 0,Ir),qt(ds,void 0,t)}));function is(t,e,n){var i=null==t?void 0:ti(t,e);return void 0===i?n:i}function rs(t,e){return null!=t&&zr(t,e,oi)}var os=yr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=yt.call(e)),t[e]=n}),Ms(Rs)),as=yr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=yt.call(e)),gt.call(t,e)?t[e].push(n):t[e]=[n]}),Fr),ss=Ai(si);function us(t){return Sa(t)?An(t):fi(t)}function ls(t){return Sa(t)?An(t,!0):pi(t)}var cs=lr((function(t,e,n){_i(t,e,n)})),ds=lr((function(t,e,n,i){_i(t,e,n,i)})),hs=kr((function(t,e){var n={};if(null==t)return n;var i=!1;e=ne(e,(function(e){return e=Ki(e,t),i||(i=e.length>1),e})),sr(t,Rr(t),n),i&&(n=jn(n,7,xr));for(var r=e.length;r--;)Hi(n,e[r]);return n}));var fs=kr((function(t,e){return null==t?{}:function(t,e){return wi(t,e,(function(e,n){return rs(t,n)}))}(t,e)}));function ps(t,e){if(null==t)return{};var n=ne(Rr(t),(function(t){return[t]}));return e=Fr(e),wi(t,n,(function(t,n){return e(t,n[0])}))}var gs=Ar(us),ms=Ar(ls);function vs(t){return null==t?[]:be(t,us(t))}var ys=fr((function(t,e,n){return e=e.toLowerCase(),t+(n?_s(e):e)}));function _s(t){return As(Xa(t).toLowerCase())}function bs(t){return(t=Xa(t))&&t.replace(nt,Oe).replace(Et,"")}var Ts=fr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),ws=fr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ss=hr("toLowerCase");var Es=fr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Os=fr((function(t,e,n){return t+(n?" ":"")+As(e)}));var Cs=fr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),As=hr("toUpperCase");function Ps(t,e,n){return t=Xa(t),void 0===(e=n?void 0:e)?function(t){return Pt.test(t)}(t)?function(t){return t.match(Ct)||[]}(t):function(t){return t.match(q)||[]}(t):t.match(e)||[]}var Is=Ai((function(t,e){try{return qt(t,void 0,e)}catch(t){return Aa(t)?t:new it(t)}})),xs=kr((function(t,e){return Kt(e,(function(e){e=po(e),Ln(t,e,aa(t[e],t))})),t}));function Ms(t){return function(){return t}}var ks=mr(),Ds=mr(!0);function Rs(t){return t}function Ns(t){return hi("function"==typeof t?t:jn(t,1))}var Ls=Ai((function(t,e){return function(n){return si(n,t,e)}})),Vs=Ai((function(t,e){return function(n){return si(t,n,e)}}));function Fs(t,e,n){var i=us(e),r=Qn(e,i);null!=n||Ma(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Qn(e,us(e)));var o=!(Ma(n)&&"chain"in n&&!n.chain),a=Pa(t);return Kt(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=ar(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,ie([this.value()],arguments))})})),t}function js(){}var Us=br(ne),Bs=br(Jt),Hs=br(ae);function Gs(t){return Kr(t)?pe(po(t)):function(t){return function(e){return ti(e,t)}}(t)}var Ws=wr(),zs=wr(!0);function $s(){return[]}function Ys(){return!1}var qs=_r((function(t,e){return t+e}),0),Xs=Or("ceil"),Ks=_r((function(t,e){return t/e}),1),Zs=Or("floor");var Js,Qs=_r((function(t,e){return t*e}),1),tu=Or("round"),eu=_r((function(t,e){return t-e}),0);return vn.after=function(t,e){if("function"!=typeof e)throw new lt(o);return t=za(t),function(){if(--t<1)return e.apply(this,arguments)}},vn.ary=ra,vn.assign=Ka,vn.assignIn=Za,vn.assignInWith=Ja,vn.assignWith=Qa,vn.at=ts,vn.before=oa,vn.bind=aa,vn.bindAll=xs,vn.bindKey=sa,vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ta(t)?t:[t]},vn.chain=Go,vn.chunk=function(t,e,n){e=(n?Xr(t,e,n):void 0===e)?1:qe(za(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,a=0,s=i(Be(r/e));o<r;)s[a++]=Ri(t,o,o+=e);return s},vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ie(Ta(n)?ar(n):[n],qn(e,1))},vn.cond=function(t){var e=null==t?0:t.length,n=Fr();return t=e?ne(t,(function(t){if("function"!=typeof t[1])throw new lt(o);return[n(t[0]),t[1]]})):[],Ai((function(n){for(var i=-1;++i<e;){var r=t[i];if(qt(r[0],this,n))return qt(r[1],this,n)}}))},vn.conforms=function(t){return function(t){var e=us(t);return function(n){return Un(n,t,e)}}(jn(t,1))},vn.constant=Ms,vn.countBy=$o,vn.create=function(t,e){var n=yn(t);return null==e?n:Nn(n,e)},vn.curry=function t(e,n,i){var r=Pr(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},vn.curryRight=function t(e,n,i){var r=Pr(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},vn.debounce=ua,vn.defaults=es,vn.defaultsDeep=ns,vn.defer=la,vn.delay=ca,vn.difference=vo,vn.differenceBy=yo,vn.differenceWith=_o,vn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Ri(t,(e=n||void 0===e?1:za(e))<0?0:e,i):[]},vn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Ri(t,0,(e=i-(e=n||void 0===e?1:za(e)))<0?0:e):[]},vn.dropRightWhile=function(t,e){return t&&t.length?Wi(t,Fr(e,3),!0,!0):[]},vn.dropWhile=function(t,e){return t&&t.length?Wi(t,Fr(e,3),!0):[]},vn.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Xr(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=za(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:za(i))<0&&(i+=r),i=n>i?0:$a(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},vn.filter=function(t,e){return(Ta(t)?Qt:Yn)(t,Fr(e,3))},vn.flatMap=function(t,e){return qn(ta(t,e),1)},vn.flatMapDeep=function(t,e){return qn(ta(t,e),1/0)},vn.flatMapDepth=function(t,e,n){return n=void 0===n?1:za(n),qn(ta(t,e),n)},vn.flatten=wo,vn.flattenDeep=function(t){return(null==t?0:t.length)?qn(t,1/0):[]},vn.flattenDepth=function(t,e){return(null==t?0:t.length)?qn(t,e=void 0===e?1:za(e)):[]},vn.flip=function(t){return Pr(t,512)},vn.flow=ks,vn.flowRight=Ds,vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},vn.functions=function(t){return null==t?[]:Qn(t,us(t))},vn.functionsIn=function(t){return null==t?[]:Qn(t,ls(t))},vn.groupBy=Zo,vn.initial=function(t){return(null==t?0:t.length)?Ri(t,0,-1):[]},vn.intersection=Eo,vn.intersectionBy=Oo,vn.intersectionWith=Co,vn.invert=os,vn.invertBy=as,vn.invokeMap=Jo,vn.iteratee=Ns,vn.keyBy=Qo,vn.keys=us,vn.keysIn=ls,vn.map=ta,vn.mapKeys=function(t,e){var n={};return e=Fr(e,3),Zn(t,(function(t,i,r){Ln(n,e(t,i,r),t)})),n},vn.mapValues=function(t,e){var n={};return e=Fr(e,3),Zn(t,(function(t,i,r){Ln(n,i,e(t,i,r))})),n},vn.matches=function(t){return vi(jn(t,1))},vn.matchesProperty=function(t,e){return yi(t,jn(e,1))},vn.memoize=da,vn.merge=cs,vn.mergeWith=ds,vn.method=Ls,vn.methodOf=Vs,vn.mixin=Fs,vn.negate=ha,vn.nthArg=function(t){return t=za(t),Ai((function(e){return bi(e,t)}))},vn.omit=hs,vn.omitBy=function(t,e){return ps(t,ha(Fr(e)))},vn.once=function(t){return oa(2,t)},vn.orderBy=function(t,e,n,i){return null==t?[]:(Ta(e)||(e=null==e?[]:[e]),Ta(n=i?void 0:n)||(n=null==n?[]:[n]),Ti(t,e,n))},vn.over=Us,vn.overArgs=fa,vn.overEvery=Bs,vn.overSome=Hs,vn.partial=pa,vn.partialRight=ga,vn.partition=ea,vn.pick=fs,vn.pickBy=ps,vn.property=Gs,vn.propertyOf=function(t){return function(e){return null==t?void 0:ti(t,e)}},vn.pull=Po,vn.pullAll=Io,vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Si(t,e,Fr(n,2)):t},vn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Si(t,e,void 0,n):t},vn.pullAt=xo,vn.range=Ws,vn.rangeRight=zs,vn.rearg=ma,vn.reject=function(t,e){return(Ta(t)?Qt:Yn)(t,ha(Fr(e,3)))},vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Fr(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Ei(t,r),n},vn.rest=function(t,e){if("function"!=typeof t)throw new lt(o);return Ai(t,e=void 0===e?e:za(e))},vn.reverse=Mo,vn.sampleSize=function(t,e,n){return e=(n?Xr(t,e,n):void 0===e)?1:za(e),(Ta(t)?In:Ii)(t,e)},vn.set=function(t,e,n){return null==t?t:xi(t,e,n)},vn.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:xi(t,e,n,i)},vn.shuffle=function(t){return(Ta(t)?xn:Di)(t)},vn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Xr(t,e,n)?(e=0,n=i):(e=null==e?0:za(e),n=void 0===n?i:za(n)),Ri(t,e,n)):[]},vn.sortBy=na,vn.sortedUniq=function(t){return t&&t.length?Fi(t):[]},vn.sortedUniqBy=function(t,e){return t&&t.length?Fi(t,Fr(e,2)):[]},vn.split=function(t,e,n){return n&&"number"!=typeof n&&Xr(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=Xa(t))&&("string"==typeof e||null!=e&&!La(e))&&!(e=Ui(e))&&Ae(t)?Ji(Re(t),0,n):t.split(e,n):[]},vn.spread=function(t,e){if("function"!=typeof t)throw new lt(o);return e=null==e?0:qe(za(e),0),Ai((function(n){var i=n[e],r=Ji(n,0,e);return i&&ie(r,i),qt(t,this,r)}))},vn.tail=function(t){var e=null==t?0:t.length;return e?Ri(t,1,e):[]},vn.take=function(t,e,n){return t&&t.length?Ri(t,0,(e=n||void 0===e?1:za(e))<0?0:e):[]},vn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Ri(t,(e=i-(e=n||void 0===e?1:za(e)))<0?0:e,i):[]},vn.takeRightWhile=function(t,e){return t&&t.length?Wi(t,Fr(e,3),!1,!0):[]},vn.takeWhile=function(t,e){return t&&t.length?Wi(t,Fr(e,3)):[]},vn.tap=function(t,e){return e(t),t},vn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new lt(o);return Ma(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ua(t,e,{leading:i,maxWait:e,trailing:r})},vn.thru=Wo,vn.toArray=Ga,vn.toPairs=gs,vn.toPairsIn=ms,vn.toPath=function(t){return Ta(t)?ne(t,po):ja(t)?[t]:ar(fo(Xa(t)))},vn.toPlainObject=qa,vn.transform=function(t,e,n){var i=Ta(t),r=i||Oa(t)||Ua(t);if(e=Fr(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Ma(t)&&Pa(o)?yn(Nt(t)):{}}return(r?Kt:Zn)(t,(function(t,i,r){return e(n,t,i,r)})),n},vn.unary=function(t){return ra(t,1)},vn.union=ko,vn.unionBy=Do,vn.unionWith=Ro,vn.uniq=function(t){return t&&t.length?Bi(t):[]},vn.uniqBy=function(t,e){return t&&t.length?Bi(t,Fr(e,2)):[]},vn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Bi(t,void 0,e):[]},vn.unset=function(t,e){return null==t||Hi(t,e)},vn.unzip=No,vn.unzipWith=Lo,vn.update=function(t,e,n){return null==t?t:Gi(t,e,Xi(n))},vn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Gi(t,e,Xi(n),i)},vn.values=vs,vn.valuesIn=function(t){return null==t?[]:be(t,ls(t))},vn.without=Vo,vn.words=Ps,vn.wrap=function(t,e){return pa(Xi(e),t)},vn.xor=Fo,vn.xorBy=jo,vn.xorWith=Uo,vn.zip=Bo,vn.zipObject=function(t,e){return Yi(t||[],e||[],kn)},vn.zipObjectDeep=function(t,e){return Yi(t||[],e||[],xi)},vn.zipWith=Ho,vn.entries=gs,vn.entriesIn=ms,vn.extend=Za,vn.extendWith=Ja,Fs(vn,vn),vn.add=qs,vn.attempt=Is,vn.camelCase=ys,vn.capitalize=_s,vn.ceil=Xs,vn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=Ya(n))==n?n:0),void 0!==e&&(e=(e=Ya(e))==e?e:0),Fn(Ya(t),e,n)},vn.clone=function(t){return jn(t,4)},vn.cloneDeep=function(t){return jn(t,5)},vn.cloneDeepWith=function(t,e){return jn(t,5,e="function"==typeof e?e:void 0)},vn.cloneWith=function(t,e){return jn(t,4,e="function"==typeof e?e:void 0)},vn.conformsTo=function(t,e){return null==e||Un(t,e,us(e))},vn.deburr=bs,vn.defaultTo=function(t,e){return null==t||t!=t?e:t},vn.divide=Ks,vn.endsWith=function(t,e,n){t=Xa(t),e=Ui(e);var i=t.length,r=n=void 0===n?i:Fn(za(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},vn.eq=va,vn.escape=function(t){return(t=Xa(t))&&L.test(t)?t.replace(R,Ce):t},vn.escapeRegExp=function(t){return(t=Xa(t))&&B.test(t)?t.replace(U,"\\$&"):t},vn.every=function(t,e,n){var i=Ta(t)?Jt:zn;return n&&Xr(t,e,n)&&(e=void 0),i(t,Fr(e,3))},vn.find=Yo,vn.findIndex=bo,vn.findKey=function(t,e){return ue(t,Fr(e,3),Zn)},vn.findLast=qo,vn.findLastIndex=To,vn.findLastKey=function(t,e){return ue(t,Fr(e,3),Jn)},vn.floor=Zs,vn.forEach=Xo,vn.forEachRight=Ko,vn.forIn=function(t,e){return null==t?t:Xn(t,Fr(e,3),ls)},vn.forInRight=function(t,e){return null==t?t:Kn(t,Fr(e,3),ls)},vn.forOwn=function(t,e){return t&&Zn(t,Fr(e,3))},vn.forOwnRight=function(t,e){return t&&Jn(t,Fr(e,3))},vn.get=is,vn.gt=ya,vn.gte=_a,vn.has=function(t,e){return null!=t&&zr(t,e,ri)},vn.hasIn=rs,vn.head=So,vn.identity=Rs,vn.includes=function(t,e,n,i){t=Sa(t)?t:vs(t),n=n&&!i?za(n):0;var r=t.length;return n<0&&(n=qe(r+n,0)),Fa(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&ce(t,e,n)>-1},vn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:za(n);return r<0&&(r=qe(i+r,0)),ce(t,e,r)},vn.inRange=function(t,e,n){return e=Wa(e),void 0===n?(n=e,e=0):n=Wa(n),function(t,e,n){return t>=Xe(e,n)&&t<qe(e,n)}(t=Ya(t),e,n)},vn.invoke=ss,vn.isArguments=ba,vn.isArray=Ta,vn.isArrayBuffer=wa,vn.isArrayLike=Sa,vn.isArrayLikeObject=Ea,vn.isBoolean=function(t){return!0===t||!1===t||ka(t)&&ni(t)==c},vn.isBuffer=Oa,vn.isDate=Ca,vn.isElement=function(t){return ka(t)&&1===t.nodeType&&!Na(t)},vn.isEmpty=function(t){if(null==t)return!0;if(Sa(t)&&(Ta(t)||"string"==typeof t||"function"==typeof t.splice||Oa(t)||Ua(t)||ba(t)))return!t.length;var e=Wr(t);if(e==g||e==_)return!t.size;if(Qr(t))return!fi(t).length;for(var n in t)if(gt.call(t,n))return!1;return!0},vn.isEqual=function(t,e){return li(t,e)},vn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?li(t,e,void 0,n):!!i},vn.isError=Aa,vn.isFinite=function(t){return"number"==typeof t&&ze(t)},vn.isFunction=Pa,vn.isInteger=Ia,vn.isLength=xa,vn.isMap=Da,vn.isMatch=function(t,e){return t===e||ci(t,e,Ur(e))},vn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,ci(t,e,Ur(e),n)},vn.isNaN=function(t){return Ra(t)&&t!=+t},vn.isNative=function(t){if(Jr(t))throw new it("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return di(t)},vn.isNil=function(t){return null==t},vn.isNull=function(t){return null===t},vn.isNumber=Ra,vn.isObject=Ma,vn.isObjectLike=ka,vn.isPlainObject=Na,vn.isRegExp=La,vn.isSafeInteger=function(t){return Ia(t)&&t>=-9007199254740991&&t<=9007199254740991},vn.isSet=Va,vn.isString=Fa,vn.isSymbol=ja,vn.isTypedArray=Ua,vn.isUndefined=function(t){return void 0===t},vn.isWeakMap=function(t){return ka(t)&&Wr(t)==w},vn.isWeakSet=function(t){return ka(t)&&"[object WeakSet]"==ni(t)},vn.join=function(t,e){return null==t?"":$e.call(t,e)},vn.kebabCase=Ts,vn.last=Ao,vn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=za(n))<0?qe(i+r,0):Xe(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):le(t,he,r,!0)},vn.lowerCase=ws,vn.lowerFirst=Ss,vn.lt=Ba,vn.lte=Ha,vn.max=function(t){return t&&t.length?$n(t,Rs,ii):void 0},vn.maxBy=function(t,e){return t&&t.length?$n(t,Fr(e,2),ii):void 0},vn.mean=function(t){return fe(t,Rs)},vn.meanBy=function(t,e){return fe(t,Fr(e,2))},vn.min=function(t){return t&&t.length?$n(t,Rs,gi):void 0},vn.minBy=function(t,e){return t&&t.length?$n(t,Fr(e,2),gi):void 0},vn.stubArray=$s,vn.stubFalse=Ys,vn.stubObject=function(){return{}},vn.stubString=function(){return""},vn.stubTrue=function(){return!0},vn.multiply=Qs,vn.nth=function(t,e){return t&&t.length?bi(t,za(e)):void 0},vn.noConflict=function(){return Lt._===this&&(Lt._=bt),this},vn.noop=js,vn.now=ia,vn.pad=function(t,e,n){t=Xa(t);var i=(e=za(e))?De(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Tr(He(r),n)+t+Tr(Be(r),n)},vn.padEnd=function(t,e,n){t=Xa(t);var i=(e=za(e))?De(t):0;return e&&i<e?t+Tr(e-i,n):t},vn.padStart=function(t,e,n){t=Xa(t);var i=(e=za(e))?De(t):0;return e&&i<e?Tr(e-i,n)+t:t},vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Ze(Xa(t).replace(G,""),e||0)},vn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Xr(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Wa(t),void 0===e?(e=t,t=0):e=Wa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Je();return Xe(t+r*(e-t+kt("1e-"+((r+"").length-1))),e)}return Oi(t,e)},vn.reduce=function(t,e,n){var i=Ta(t)?re:me,r=arguments.length<3;return i(t,Fr(e,4),n,r,Gn)},vn.reduceRight=function(t,e,n){var i=Ta(t)?oe:me,r=arguments.length<3;return i(t,Fr(e,4),n,r,Wn)},vn.repeat=function(t,e,n){return e=(n?Xr(t,e,n):void 0===e)?1:za(e),Ci(Xa(t),e)},vn.replace=function(){var t=arguments,e=Xa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},vn.result=function(t,e,n){var i=-1,r=(e=Ki(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[po(e[i])];void 0===o&&(i=r,o=n),t=Pa(o)?o.call(t):o}return t},vn.round=tu,vn.runInContext=t,vn.sample=function(t){return(Ta(t)?Pn:Pi)(t)},vn.size=function(t){if(null==t)return 0;if(Sa(t))return Fa(t)?De(t):t.length;var e=Wr(t);return e==g||e==_?t.size:fi(t).length},vn.snakeCase=Es,vn.some=function(t,e,n){var i=Ta(t)?ae:Ni;return n&&Xr(t,e,n)&&(e=void 0),i(t,Fr(e,3))},vn.sortedIndex=function(t,e){return Li(t,e)},vn.sortedIndexBy=function(t,e,n){return Vi(t,e,Fr(n,2))},vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Li(t,e);if(i<n&&va(t[i],e))return i}return-1},vn.sortedLastIndex=function(t,e){return Li(t,e,!0)},vn.sortedLastIndexBy=function(t,e,n){return Vi(t,e,Fr(n,2),!0)},vn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Li(t,e,!0)-1;if(va(t[n],e))return n}return-1},vn.startCase=Os,vn.startsWith=function(t,e,n){return t=Xa(t),n=null==n?0:Fn(za(n),0,t.length),e=Ui(e),t.slice(n,n+e.length)==e},vn.subtract=eu,vn.sum=function(t){return t&&t.length?ve(t,Rs):0},vn.sumBy=function(t,e){return t&&t.length?ve(t,Fr(e,2)):0},vn.times=function(t,e){if((t=za(t))<1||t>9007199254740991)return[];var n=4294967295,i=Xe(t,4294967295);t-=4294967295;for(var r=ye(i,e=Fr(e));++n<t;)e(n);return r},vn.toFinite=Wa,vn.toInteger=za,vn.toLength=$a,vn.toLower=function(t){return Xa(t).toLowerCase()},vn.toNumber=Ya,vn.toSafeInteger=function(t){return t?Fn(za(t),-9007199254740991,9007199254740991):0===t?t:0},vn.toString=Xa,vn.toUpper=function(t){return Xa(t).toUpperCase()},vn.trim=function(t,e,n){if((t=Xa(t))&&(n||void 0===e))return t.replace(H,"");if(!t||!(e=Ui(e)))return t;var i=Re(t),r=Re(e);return Ji(i,we(i,r),Se(i,r)+1).join("")},vn.trimEnd=function(t,e,n){if((t=Xa(t))&&(n||void 0===e))return t.replace(W,"");if(!t||!(e=Ui(e)))return t;var i=Re(t);return Ji(i,0,Se(i,Re(e))+1).join("")},vn.trimStart=function(t,e,n){if((t=Xa(t))&&(n||void 0===e))return t.replace(G,"");if(!t||!(e=Ui(e)))return t;var i=Re(t);return Ji(i,we(i,Re(e))).join("")},vn.truncate=function(t,e){var n=30,i="...";if(Ma(e)){var r="separator"in e?e.separator:r;n="length"in e?za(e.length):n,i="omission"in e?Ui(e.omission):i}var o=(t=Xa(t)).length;if(Ae(t)){var a=Re(t);o=a.length}if(n>=o)return t;var s=n-De(i);if(s<1)return i;var u=a?Ji(a,0,s).join(""):t.slice(0,s);if(void 0===r)return u+i;if(a&&(s+=u.length-s),La(r)){if(t.slice(s).search(r)){var l,c=u;for(r.global||(r=st(r.source,Xa(K.exec(r))+"g")),r.lastIndex=0;l=r.exec(c);)var d=l.index;u=u.slice(0,void 0===d?s:d)}}else if(t.indexOf(Ui(r),s)!=s){var h=u.lastIndexOf(r);h>-1&&(u=u.slice(0,h))}return u+i},vn.unescape=function(t){return(t=Xa(t))&&N.test(t)?t.replace(D,Ne):t},vn.uniqueId=function(t){var e=++mt;return Xa(t)+e},vn.upperCase=Cs,vn.upperFirst=As,vn.each=Xo,vn.eachRight=Ko,vn.first=So,Fs(vn,(Js={},Zn(vn,(function(t,e){gt.call(vn.prototype,e)||(Js[e]=t)})),Js),{chain:!1}),vn.VERSION="4.17.20",Kt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){vn[t].placeholder=vn})),Kt(["drop","take"],(function(t,e){Tn.prototype[t]=function(n){n=void 0===n?1:qe(za(n),0);var i=this.__filtered__&&!e?new Tn(this):this.clone();return i.__filtered__?i.__takeCount__=Xe(n,i.__takeCount__):i.__views__.push({size:Xe(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},Tn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Kt(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Tn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Fr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Kt(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Tn.prototype[t]=function(){return this[n](1).value()[0]}})),Kt(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Tn.prototype[t]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(Rs)},Tn.prototype.find=function(t){return this.filter(t).head()},Tn.prototype.findLast=function(t){return this.reverse().find(t)},Tn.prototype.invokeMap=Ai((function(t,e){return"function"==typeof t?new Tn(this):this.map((function(n){return si(n,t,e)}))})),Tn.prototype.reject=function(t){return this.filter(ha(Fr(t)))},Tn.prototype.slice=function(t,e){t=za(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Tn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=za(e))<0?n.dropRight(-e):n.take(e-t)),n)},Tn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Tn.prototype.toArray=function(){return this.take(4294967295)},Zn(Tn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=vn[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(vn.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof Tn,u=a[0],l=s||Ta(e),c=function(t){var e=r.apply(vn,ie([t],a));return i&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=o&&!d,p=s&&!h;if(!o&&l){e=p?e:new Tn(this);var g=t.apply(e,a);return g.__actions__.push({func:Wo,args:[c],thisArg:void 0}),new bn(g,d)}return f&&p?t.apply(this,a):(g=this.thru(c),f?i?g.value()[0]:g.value():g)})})),Kt(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ct[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);vn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Ta(r)?r:[],t)}return this[n]((function(n){return e.apply(Ta(n)?n:[],t)}))}})),Zn(Tn.prototype,(function(t,e){var n=vn[e];if(n){var i=n.name+"";gt.call(un,i)||(un[i]=[]),un[i].push({name:e,func:n})}})),un[vr(void 0,2).name]=[{name:"wrapper",func:void 0}],Tn.prototype.clone=function(){var t=new Tn(this.__wrapped__);return t.__actions__=ar(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ar(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ar(this.__views__),t},Tn.prototype.reverse=function(){if(this.__filtered__){var t=new Tn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Tn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ta(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Xe(e,t+a);break;case"takeRight":t=qe(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,d=c.length,h=0,f=Xe(u,this.__takeCount__);if(!n||!i&&r==u&&f==u)return zi(t,this.__actions__);var p=[];t:for(;u--&&h<f;){for(var g=-1,m=t[l+=e];++g<d;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}p[h++]=m}return p},vn.prototype.at=zo,vn.prototype.chain=function(){return Go(this)},vn.prototype.commit=function(){return new bn(this.value(),this.__chain__)},vn.prototype.next=function(){void 0===this.__values__&&(this.__values__=Ga(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},vn.prototype.plant=function(t){for(var e,n=this;n instanceof _n;){var i=mo(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},vn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Tn){var e=t;return this.__actions__.length&&(e=new Tn(this)),(e=e.reverse()).__actions__.push({func:Wo,args:[Mo],thisArg:void 0}),new bn(e,this.__chain__)}return this.thru(Mo)},vn.prototype.toJSON=vn.prototype.valueOf=vn.prototype.value=function(){return zi(this.__wrapped__,this.__actions__)},vn.prototype.first=vn.prototype.head,se&&(vn.prototype[se]=function(){return this}),vn}();Lt._=Le,void 0===(r=function(){return Le}.call(e,n,e,i))||(i.exports=r)}).call(this)}).call(this,n(35),n(219)(t))},function(t,e){t.exports=jQuery},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={absorb:function(t){r.default.each(t,(function(t,e){o[e]=t}))},purge:function(t){delete o[t]}};window.cerosContext&&o.absorb(window.cerosContext),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b,T,w,S,E,O,C,A,P,I,x,M,k,D,R=i(n(0)),N=i(n(112)),L=i(n(224)),V=i(n(56)),F=i(n(225)),j=i(n(57)),U=(r=function(){var t=j.default.getDimensions();return t.width*t.height<5e5},o=function(){return window.innerWidth*window.innerHeight<5e5},a=function(){return L.default.isMobile},s=function(){return!a()},u=function(){return a()&&r()},l=function(){return h(navigator.userAgent)||a()&&!r()},c=function(){return N.default.canvas&&N.default.video},d=R.default.once((function(){return F.default.browser(navigator.userAgent)})),h=function(t){var e=(t=t||navigator.userAgent).match(/(Macintosh; Intel Mac)(.*Version\/([\d.]+)\sSafari)/i);return!!(e&&(window.navigator.maxTouchPoints||0)>1)&&e},p=(f=function(t){var e,n,i;/Windows/i.test(t)?(e=t.match(/Phone( (OS )?([\d.]+))?/))?(n="Windows Mobile",i=e[3]):(e=t.match(/Windows NT\s([0-9.]+)/))?(n="Windows",i=e[1]):n="Windows":(e=t.match(/(iPad|iPod|iPhone)(.*OS ([\d_]+))?/))?(n="iOS",e[3]&&(i=e[3].replace(/_/g,"."))):(e=h(t))?(n="iOS",i=e[3]):(e=t.match(/(Android ?([\d.]+)?)/))?(n="Android",i=e[2]):(e=t.match(/(BlackBerry|PlayBook|BB10)(.*Version\/(\d+\.\d+\.\d+))?/i))?(n="BlackBerry",i=e[3]):(e=t.match(/\(Macintosh(;\D*([\d_.]+)[);])?/))?(n="Mac OS X",e[2]&&(i=e[2].replace(/_/g,"."))):(e=t.match(/Linux\s([0-9._a-z]+)?/))?(n="Linux",i=e[1]):(e=t.match(/CrOS ?(\S+)?/))?(n="Chrome OS",i=e[1]):(e=t.match(/jsdom\/([0-9._a-z]+)/))&&(n="jsdom",i=e[1]);var r={};return n&&(r.name=n),i&&(r.version=i),r})(navigator.userAgent),g=function(){return window.orientation%180==0?"portrait":"landscape"},m=o()?50:200,v=R.default.once((function(){V.default.set("testcookie",1);var t=V.default.get("testcookie");return t&&V.default.remove("testcookie"),t})),y=function(){return d().msieVersion()},_=d().isEdge(),b=d().isWebkit(),T=d().isMozilla(),S=function(){return w()&&d().version.match(/^7\..*/)},E=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i<e},O=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i>=e},C=function(){return a()&&"Mobile Safari"===d().name},A=function(){return!a()&&"Safari"===d().name},x=function(){return P()&&!window.navigator.standalone&&C()},M=function(){return"Chrome"===d().name},k=function(){return d().isMozilla()},{touch:function(){return N.default.touch},mobile:a,desktop:s,smartPhone:u,tablet:l,retina:function(){var t=1;return void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),t>=2},renderingEngine:function(){return d().engine},edge:_,webkit:b,mozilla:T,html5:c,isBot:function(){return/(google web preview|google search console|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(window.navigator.userAgent)},browser:d,os:p,parseOS:f,standalone:function(){return!0===window.navigator.standalone},smallWindow:o,deviceType:function(){return u()?"smartphone":l()?"tablet":s()?"desktop":"other"},playerType:function(){return c()?"html5":"html4"},orientation:g,portrait:function(){return"portrait"===g()},landscape:function(){return"landscape"===g()},supportsOrientationChange:function(){return"onorientationchange"in window},getSlackHeight:function(t){var e=j.default.getDimensions();if(!D()&&t<e.width){if(I()&&!window.navigator.standalone&&S())return-20;if(x()&&S())return-65;if(x())return 60}return 0},getRubberBandLimit:function(){return m},cookies:v,pixelRatio:function(){return R.default.isNumber(window.devicePixelRatio)?window.devicePixelRatio:1},isIphoneFullscreenMobileSafari:function(t,e){var n=j.default.getDimensions();return x()&&t===n.height&&e>=n.width},isIframe:D=function(){return top!=window},isMac:function(){return"Mac OS X"===p.name},isWindows:function(){return"Windows"===p.name},isIos:w=function(){return"iOS"===p.name},isIosLessThan:function(t){return!!w()&&E(p.version,t)},isIosGreaterThanOrEqualTo:function(t){return!!w()&&O(p.version,t)},isBrowserChromeLessThan:function(t){return!!M()&&E(d().version,t)},isBrowserChromeGreaterThanOrEqualTo:function(t){return!!M()&&O(d().version,t)},isBrowserFirefoxGreaterThanOrEqualTo:function(t){return!!k()&&O(d().version,t)},isDesktopSafariLessThan:function(t){return!!A()&&E(d().version,t)},isAndroid:function(){return"Android"===p.name},isIphone:P=function(){return/iPhone/i.test(navigator.userAgent)},isIpad:I=function(){return/iPad/i.test(navigator.userAgent)||!!h(navigator.userAgent)},isPhantomJS:function(){return"PhantomJS"===d().name},isJsDom:function(){return R.default.includes(navigator.userAgent,"jsdom")},isIE9OrEarlier:function(){return!1!==y()&&y()<=9},isBrowserChrome:M,isBrowserFirefox:k,isDesktopSafari:A,isMobileSafari:C,isIpadPretendingToBeDesktop:h,isIosSafari:function(){return w()&&d().name.includes("Safari")},reload:function(){d=R.default.once((function(){return F.default.browser(navigator.userAgent)})),p=f(navigator.userAgent)},DEVICE_TYPE_SMARTPHONE:"smartphone",DEVICE_TYPE_TABLET:"tablet",DEVICE_TYPE_DESKTOP:"desktop",DEVICE_TYPE_OTHER:"other"});e.default=U},function(t,e,n){"use strict";(function(i){var r,o,a;a="object"==typeof self&&self.self==self&&self||"object"==typeof i&&i.global==i&&i,r=[n(0),n(1),e],void 0===(o=function(t,e,n){a.Backbone=function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,i){n.each(e,(function(e,r){n[r]&&(t.prototype[r]=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],s(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],s(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}}(e,r,i))}))},s=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},c=/\s+/,d=function(t,e,i,r,o){var a,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=n.keys(i);s<a.length;s++)e=d(t,e,a[s],i[a[s]],o)}else if(i&&c.test(i))for(a=i.split(c);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,i,r,o);return e};l.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,i,r){return t._events=d(f,t._events||{},e,n,{context:i,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};l.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return h(t,e,i,this,a),this};var f=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,a=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:o,ctx:o||a,listening:s})}return t};l.off=function(t,e,n){return this._events?(this._events=d(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var p=function(t,e,i,r){if(t){var o,a=0,s=r.context,u=r.listeners;if(e||i||s){for(var l=e?[e]:n.keys(t);a<l.length;a++){var c=t[e=l[a]];if(!c)break;for(var d=[],h=0;h<c.length;h++){var f=c[h];i&&i!==f.callback&&i!==f.callback._callback||s&&s!==f.context?d.push(f):(o=f.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}d.length?t[e]=d:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(u);a<p.length;a++)delete u[(o=u[p[a]]).id],delete o.listeningTo[o.objId]}};l.once=function(t,e,i){var r=d(g,{},t,e,n.bind(this.off,this));return this.on(r,void 0,i)},l.listenToOnce=function(t,e,i){var r=d(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var o=t[e]=n.once((function(){r(e,o),i.apply(this,arguments)}));o._callback=i}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return d(m,this._events,t,void 0,n),this};var m=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&v(r,i),o&&v(o,[e].concat(i))}return t},v=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var y=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,a=i.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var h in r)e=r[h],n.isEqual(l[h],e)||s.push(h),n.isEqual(d[h],e)?delete c[h]:c[h]=e,o?delete l[h]:l[h]=e;if(this.id=this.get(this.idAttribute),!a){s.length&&(this._pending=i);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,l[s[f]],i)}if(u)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},V(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,s=i.success,u=this.attributes;i.success=function(t){a.attributes=u;var e=i.parse?a.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!a.set(e,i))return!1;s&&s.call(i.context,a,t,i),a.trigger("sync",a,t,i)},V(this,i),r&&o&&(this.attributes=n.extend({},u,r));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=r);var c=this.sync(l,this,i);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(V(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||L();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},w=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var i=Array(t.length-n),r=e.length,o=0;o<i.length;o++)i[o]=t[o+n];for(o=0;o<r;o++)t[o+n]=e[o];for(o=0;o<i.length;o++)t[o+r+n]=i[o]};n.extend(_.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,T))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:n.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.defaults({},e,b)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var o,a=[],s=[],u=[],l={},c=e.add,d=e.merge,h=e.remove,f=!1,p=this.comparator&&null==r&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null,m=0;m<t.length;m++){o=t[m];var v=this.get(o);if(v){if(d&&o!==v){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=v.parse(y,e)),v.set(y,e),p&&!f&&(f=v.hasChanged(g))}l[v.cid]||(l[v.cid]=!0,a.push(v)),t[m]=v}else c&&(o=t[m]=this._prepareModel(o,e))&&(s.push(o),this._addReference(o,e),l[o.cid]=!0,a.push(o))}if(h){for(m=0;m<this.length;m++)l[(o=this.models[m]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var _=!1,T=!p&&c&&h;if(a.length&&T?(_=this.length!=a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,w(this.models,a,0),this.length=this.models.length):s.length&&(p&&(f=!0),w(this.models,s,null==r?this.length:r),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(m=0;m<s.length;m++)null!=r&&(e.index=r+m),(o=s[m]).trigger("add",o,this,e);(f||_)&&this.trigger("sort",this,e),(s.length||u.length)&&this.trigger("update",this,e)}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},V(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return!!n.length&&n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e._previousAttributes),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),a(_,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var S=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,O)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(E);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=C[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||L()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var u=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,u&&u.call(r.context,t,e,n)};var l=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,l,r),l};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,x=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(A.prototype,l,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(r,a,i)&&(o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(P,"(?:$1)?").replace(I,(function(t,e){return e?t:"([^/?]+)"})).replace(x,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null}))}});var k=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,N=/#.*$/;k.started=!1,n.extend(k.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(D,"")},start:function(t){if(k.started)throw new Error("Backbone.history has already been started");if(k.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),k.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!k.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(N,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new k,y.extend=_.extend=A.extend=S.extend=k.extend=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var L=function(){throw new Error('A "url" property or function must be specified')},V=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}(a,n,t,e)}.apply(e,r))||(t.exports=o)}).call(this,n(35))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionTypes=void 0,function(t){t.cycleNext="cycle-next",t.cyclePrevious="cycle-previous",t.hideCanvasTargets="hide-layers",t.showCanvasTargets="show-layers",t.showCanvasTargetsOnHover="show-layers-on-hover",t.toggleCanvasTargets="toggle-layers",t.enableDisablePage="page-enable-disable",t.gotoPage="page-goto",t.nextPage="page-next",t.prevPage="page-prev",t.scrollTo="scroll-to",t.scrollToObject="scroll-to-object",t.url="url",t.email="share-email",t.facebook="share-facebook",t.linkedin="share-linkedin",t.pinterest="share-pinterest",t.twitter="share-twitter",t.changeState="change-state",t.fullscreen="show-fullscreen",t.hideAndStayHiddenCanvasTargets="hide-and-stay-hidden",t.hideOnly="hide-only",t.lightbox="lightbox",t.product="product",t.shoppingCart="shopping-cart",t.showAndStayVisibleCanvasTargets="show-and-stay-visible",t.showOnly="show-only",t.toggleReducedMotion="toggle-reduced-motion",t.bringToFront="bring-to-front",t.resetPositions="reset-positions",t.invalid="invalid"}(e.ActionTypes||(e.ActionTypes={}))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={debug:!1,info:!1,warn:!1,error:!1},a=!1,s=!1,u={debug:function(){o.debug&&(window.Rollbar&&window.Rollbar.debug.apply(window.Rollbar,arguments),console.debug.apply(console,arguments))},info:function(){o.info&&(window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),console.info.apply(console,arguments))},forceInfo:function(){window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),console.info.apply(console,arguments)},devWarn:function(){return a?u.warn.apply(this,arguments):u.info.apply(this,arguments)},warn:function(){o.warn&&(window.Rollbar&&window.Rollbar.warn.apply(window.Rollbar,arguments),console.warn.apply(console,arguments))},error:function(){o.error&&(window.Rollbar&&window.Rollbar.error.apply(window.Rollbar,arguments),console.error.apply(console,arguments))},init:function(t){o=r.default.defaults(t.modes||{},o),a=t.emitDevWarnings,s=r.default.reduce(o,(function(t,e,n){return t||e}),s)},isEnabled:function(t){return r.default.isUndefined(t)?s:o[t]}};u.d=u.debug,u.i=u.info,u.w=u.warn,u.e=u.error,u.fi=u.forceInfo,e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionModelOptions=void 0;var i=n(26);e.ActionModelOptions=function(t){return i.BackboneShim(t)}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/i,s={isValidUrl:function(t){return a.test(t)},beginsWithHttpOrHttps:function(t){return/^(http(s?))\:\/\//gi.test(t)},getUrlParams:function(t){var e,n={};if(-1===(t=String(t)).indexOf("?"))return n;var i=t.split("?")[1];if(r.default.isEmpty(i))return n;i=i.split("&");for(var o=0;o<i.length;o++)-1===i[o].indexOf("=")?n[decodeURIComponent(i[o])]=void 0:(e=i[o].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]));return n},removeEmbedParams:function(t){var e=t.replace(/heightOverride=\d+&?/g,"").replace(/tabletHeightOverride=\d+&?/g,"").replace(/mobileHeightOverride=\d+&?/g,"");return-1!==e.indexOf("?",e.length-1)&&(e=e.substring(0,e.length-1)),e},getBaseUrl:function(t){return-1===(t=String(t)).indexOf("?")?t:t.split("?")[0]},appendQueryParams:function(t,e,n){if(r.default.isEmpty(e))return t;var i="",o=t.lastIndexOf("#");-1!==o&&(i=t.substr(o),t=t.substr(0,o));var a=this.getUrlParams(t);e=r.default.extend({},a,e);var s=[];r.default.each(e,(function(t,e){var i=n?e:encodeURIComponent(e);r.default.isUndefined(t)||(n||(t=encodeURIComponent(t)),i+="="+t),s.push(i)}));var u=s.join("&");return this.getBaseUrl(t)+"?"+u+i},appendCacheBustingTimestamp:function(t,e){return t+(-1===t.indexOf("?")?"?":"&")+"_="+e},extractDomain:function(t){var e=t.match(/^https?:\/\/([^\/]+)/);return e?e[1]:""},replaceProtocolIfHttpsRequest:function(t){return"https:"===location.protocol&&(t=s.makeHttps(t)),t},makeHttps:function(t){return t.replace(/^http:/,"https:")},linkifyText:function(t,e){var n=e?' target="_blank"':"";return t.replace(/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,'<a href="$&"'+n+">$&</a>").replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2"'+n+">$2</a>").replace(/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim,'<a href="mailto:$&"'+n+">$&</a>")},locationIsHtmlFile:function(){return!!window.location.pathname.match(/\.html$/)},makeUrlAbsolute:function(t){if(this.extractDomain(t))return t;if(!window.cerosBaseUrl)return t;var e="/"===t[0],n=window.cerosBaseUrl.lastIndexOf("/")===window.cerosBaseUrl.length-1;return n&&e?window.cerosBaseUrl+t.slice(1):n||e?window.cerosBaseUrl+t:window.cerosBaseUrl+"/"+t},hasQueryParam:function(t,e){return!r.default.isUndefined(this.getQueryParamValue(t,e))},getQueryParamValue:function(t,e){var n=s.getUrlParams(t);return r.default.find(n,(function(t,n){if(n.toLowerCase()===e.toLowerCase())return!0}))},prependProtocol:function(t,e){var n=e?"https://":"http://";return s.beginsWithHttpOrHttps(t)?t:n+t},replaceUrlContextVariables:function(t){return t.replace(/\{api-version\}/,o.default.apiVersion).replace(/\{account-slug\}/,o.default.accountSlug).replace(/\{scope\}/,o.default.accountSlug)},filterUrl:function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t},getRootDomain:function(){var t=location.host.split(".").reverse();return"."+t[1]+"."+t[0]},getExperiencePath:function(){var t=window.location.pathname,e=o.default.previewMode?t.search(/\/page\/page-.+/g):t.search(/\/p\/\d+/g);return e>=0?t.substr(0,e):t}};e.default=s},function(t,e,n){"use strict";var i,r,o,a;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */a=function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}var a=RegExp.prototype.test,s=/\S/;function u(t){return!function(t,e){return a.call(t,e)}(s,t)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,d=/\s+/,h=/\s*=/,f=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function g(t){this.string=t,this.tail=t,this.pos=0}function m(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function v(){this.cache={}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},m.prototype.push=function(t){return new m(t,this)},m.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var r,a,s=this,u=!1;s;){if(t.indexOf(".")>0)for(e=s.view,r=t.split("."),a=0;null!=e&&a<r.length;)a===r.length-1&&(u=o(e,r[a])),e=e[r[a++]];else e=s.view[t],u=o(s.view,t);if(u)break;s=s.parent}n[t]=e}return i(e)&&(e=e.call(this.view)),e},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(e,i){var o=this.cache,a=o[e];return null==a&&(a=o[e]=function(e,i){if(!e)return[];var o,a,s,l=[],m=[],v=[],y=!1,_=!1;function b(){if(y&&!_)for(;v.length;)delete m[v.pop()];else v=[];y=!1,_=!1}function T(t){if("string"==typeof t&&(t=t.split(d,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(r(t[0])+"\\s*"),a=new RegExp("\\s*"+r(t[1])),s=new RegExp("\\s*"+r("}"+t[1]))}T(i||t.tags);for(var w,S,E,O,C,A,P=new g(e);!P.eos();){if(w=P.pos,E=P.scanUntil(o))for(var I=0,x=E.length;I<x;++I)u(O=E.charAt(I))?v.push(m.length):_=!0,m.push(["text",O,w,w+1]),w+=1,"\n"===O&&b();if(!P.scan(o))break;if(y=!0,S=P.scan(p)||"name",P.scan(c),"="===S?(E=P.scanUntil(h),P.scan(h),P.scanUntil(a)):"{"===S?(E=P.scanUntil(s),P.scan(f),P.scanUntil(a),S="&"):E=P.scanUntil(a),!P.scan(a))throw new Error("Unclosed tag at "+P.pos);if(C=[S,E,w,P.pos],m.push(C),"#"===S||"^"===S)l.push(C);else if("/"===S){if(!(A=l.pop()))throw new Error('Unopened section "'+E+'" at '+w);if(A[1]!==E)throw new Error('Unclosed section "'+A[1]+'" at '+w)}else"name"===S||"{"===S||"&"===S?_=!0:"="===S&&T(E)}if(A=l.pop())throw new Error('Unclosed section "'+A[1]+'" at '+P.pos);return function(t){for(var e,n=[],i=n,r=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(m))}(e,i)),a},v.prototype.render=function(t,e,n){var i=this.parse(t),r=e instanceof m?e:new m(e);return this.renderTokens(i,r,n,t)},v.prototype.renderTokens=function(t,e,n,i){for(var r,o,a,s="",u=0,l=t.length;u<l;++u)a=void 0,"#"===(o=(r=t[u])[0])?a=this.renderSection(r,e,n,i):"^"===o?a=this.renderInverted(r,e,n,i):">"===o?a=this.renderPartial(r,e,n,i):"&"===o?a=this.unescapedValue(r,e):"name"===o?a=this.escapedValue(r,e):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},v.prototype.renderSection=function(t,e,r,o){var a=this,s="",u=e.lookup(t[1]);if(u){if(n(u))for(var l=0,c=u.length;l<c;++l)s+=this.renderTokens(t[4],e.push(u[l]),r,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(t[4],e.push(u),r,o);else if(i(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(e.view,o.slice(t[3],t[5]),(function(t){return a.render(t,e,r)})))&&(s+=u)}else s+=this.renderTokens(t[4],e,r,o);return s}},v.prototype.renderInverted=function(t,e,i,r){var o=e.lookup(t[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(t[4],e,i,r)},v.prototype.renderPartial=function(t,e,n){if(n){var r=i(n)?n(t[1]):n[t[1]];return null!=r?this.renderTokens(this.parse(r),e,n,r):void 0}},v.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},v.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.1",t.tags=["{{","}}"];var y=new v;t.clearCache=function(){return y.clearCache()},t.parse=function(t,e){return y.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(r=t)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return y.render(t,e,i)},t.to_html=function(e,n,r,o){var a=t.render(e,n,r);if(!i(o))return a;o(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return l[t]}))},t.Scanner=g,t.Context=m,t.Writer=v},e&&"string"!=typeof e.nodeName?a(e):(r=[e],void 0===(o="function"==typeof(i=a)?i.apply(e,r):i)||(t.exports=o))},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(389));e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(2)),o={hasFeature:function(t){return r.default.featureFlags&&!!r.default.featureFlags[t]}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PASSWORD_PROTECTED_EXPERIENCES:"Password Protected Experiences",GETTY_IMAGES:"Getty Image Integration",GETTY_VIDEOS:"Getty Video Integration",ACCESSIBILITY:"Accessibility",OBJECT_STATES:"Object States",AVOCODE_INTEGRATION:"Avocode Integration",VIEWER_ROLE:"(BETA) Viewer Role",REVIEWER_ROLE:"(BETA) Reviewer Role",PROTECTED_PREVIEW:"(BETA) Protected Preview",ENABLE_WELCOME_MESSAGE_FOR_EA_ROLES:"(BETA) Enable Welcome Message for Early Access Roles",POSITION_INTERACTIONS:"Position Interactions",COOKIE_COMPLIANCE:"Cookie Compliance",EDIT_IN_PREVIEW:"Project Miller Prototype",NEW_TEXT_TOOL:"New Text Tool",ACCOUNT_LEVEL_ROLES:"(BETA) Account Level Roles",NEW_API:"New API"}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractActionModel=void 0;var a=o(n(0)),s=o(n(4)),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.parentInteraction=n.parentInteraction,i}return r(e,t),e.prototype.getDefaultDelay=function(){return this.parentInteraction.defaults.delay},e.prototype.getActionType=function(){return this.actionType},e.prototype.toJSON=function(){return a.default.extend(s.default.Model.prototype.toJSON.call(this),{action:this.actionType})},e.prototype.isValid=function(){return!0},e.prototype.isHidden=function(){return!1},e}(s.default.Model);e.AbstractActionModel=u},function(t,e,n){"use strict";var i,r;Object.defineProperty(e,"__esModule",{value:!0}),e.VIEWPORT_TOP_ID=e.MAIN_CONTENT_LINK_DEFAULT_TEXT=e.SECTION_DEFAULTS=e.MODEL_DEFAULTS=e.properties=e.DEFAULT_LANDMARK_TAG=e.HTML_LANDMARK_TAGS=void 0,e.HTML_LANDMARK_TAGS=["main","nav","aside","article","section","header","footer"],e.DEFAULT_LANDMARK_TAG="main",e.properties={HTML_LANDMARK:"htmlLandmarkTag",ARIA_LABEL:"ariaLabel",SCREEN_READER_ONLY_TEXT:"screenReaderOnlyText"},e.MODEL_DEFAULTS=((i={})[e.properties.ARIA_LABEL]=void 0,i),e.SECTION_DEFAULTS=((r={})[e.properties.HTML_LANDMARK]=void 0,r[e.properties.ARIA_LABEL]=void 0,r),e.MAIN_CONTENT_LINK_DEFAULT_TEXT="Skip to Main Content",e.VIEWPORT_TOP_ID="viewport-top"},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(0)),a=i(n(1)),s=i(n(4)),u=i(n(3)),l=i(n(2)),c=i(n(6)),d=i(n(40)),h=i(n(31)),f=function(t){var e=d.default.getLayoutSettings();return d.default.doesVariantExist("mobile")&&t<=e.maxMobileWidthBreakpoint?"mobile":d.default.doesVariantExist("tablet")&&t<=e.maxTabletWidthBreakpoint?"tablet":"desktop"},p=function(t,e){return d.default.doesVariantExist(e)?e:d.default.doesVariantExist(t.deviceTypeMissingVariantFallback)?t.deviceTypeMissingVariantFallback:"desktop"};function g(){var t=u.default.deviceType();return"smartphone"===t&&(t="mobile"),t}var m=function(t){var e=d.default.getLayoutSettings();return 0!==d.default.getNumberOfExistingVariants()&&d.default.isValidVariantName(t)?"desktop"===t||d.default.doesVariantExist(t)?t:v(e.deviceTypeMissingVariantFallback):"desktop"},v=function(t){return d.default.doesVariantExist(t)?t:(c.default.info("FALLBACK RECTIFIED"),"tablet"===t?"desktop":"mobile"===t&&d.default.doesVariantExist("tablet")?"tablet":"desktop")},y=function(){if(!l.default.allowAdaptiveLayouts)return"desktop";if(!d.default.isDocVersionSet())throw new Error("Trying to resolve variant before DocVersion set");if(0===d.default.getNumberOfExistingVariants())return"desktop";if(l.default.previewMode)return function(){var t=d.default.getLayoutSettings(),e=g(),n=e!==u.default.DEVICE_TYPE_DESKTOP;if("device-type"===t.layoutPrimarySetting){if(n){var i=p(t,e);return c.default.debug("Resolved layout for touch device: "+e),i!==d.default.getPreviewerFrameSize()&&(c.default.debug("Forcing frame size as on touch device: "+i),d.default.setPreviewerFrameSize(i)),i}var r=d.default.getPreviewerFrameSize();return m(r)}var o=a.default(".adaptive-layouts-frame").width();return f(o)}();var t,e,n,i=("smartphone"===(t=d.default.getLayoutFromQueryParam())&&(t="mobile"),t&&d.default.doesVariantExist(t)?t:null);return i||("device-type"===d.default.getLayoutSettings().layoutPrimarySetting?m(g()):l.default.isEmbedded?(e=h.default.getInstance().getEmbedContextDimensions(),f(e.width)):(n=window.innerWidth,f(n)))};e.default=o.default.extend({},s.default.Events,{getVariant:function(){if(!r)throw new Error("Something wants to know the variant before detection");return r},hasDetectedVariant:function(){return!!r},detect:function(){var t=y();if(t!==r){var e=r;r=t,c.default.debug("Detected variant "+t+(e?", was "+e:"")),this.trigger("change",r,e)}return r}})},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.maintainOffsetWhenRotated=e.toNextMultiple=e.round=e.evaluateBezierCurve=e.splitBezierCurveAtPoint=e.cubicBezierCurveFirstDerivativeRoots=e.sqDiag2D=e.vectorToSegment2D=e.closestPointOnLine=e.closestPointOnBezierCurve=e.lineLength=e.distance=e.scaleBoxToMaxDimension=e.calcPointOnRect=e.calcRotatedLineIntersect=e.Point=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=void 0,e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=.01;e.Point=function(t,e){this.x=t,this.y=e,this.getX=function(){return this.x},this.getY=function(){return this.y},this.setX=function(t){this.x=t},this.setY=function(t){this.y=t},this.rotate=function(t,e,n){var i=Math.rotateCoord(this.x,this.y,t,e,n);this.setX(i.x),this.setY(i.y)}},e.Point.diff=function(t,n){return new e.Point(t.getX()-n.getX(),t.getY()-n.getY())},e.Point.sum=function(t,n){return new e.Point(t.getX()+n.getX(),t.getY()+n.getY())},e.Point.ORIGIN=new e.Point(0,0);e.calcRotatedLineIntersect=function(t,e,n){return{startPt:this.calcPointOnRect(t-270,e,n),endPt:this.calcPointOnRect(t-90,e,n)}};e.calcPointOnRect=function(t,n,i){var r=n/2,o=i/2;(t%=360)<0&&(t+=360);var a,s,u,l=Math.toRad(t),c=Math.tan(l),d=50*c,h=50/c;return Math.abs(d)<=50?(a=n/100*50,s=i/100*d,u=l<=Math.PI/2||l>3*Math.PI/2?{x:a,y:s}:{x:-a,y:-s}):(a=n/100*h,s=i/100*50,u=l<Math.PI?{x:a,y:s}:{x:-a,y:-s}),u.x+=r,u.y+=o,u.x=Math.round(u.x),u.y=Math.round(u.y),new e.Point(u.x,u.y)};e.scaleBoxToMaxDimension=function(t,e,n){var i=t,r=e;return t>0&&e>0&&(t>e?(i=n,r=Math.round(n/t*e)):(i=Math.round(n/e*t),r=n)),{width:i,height:r}};e.distance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)};e.lineLength=function(t){return e.distance({x:t.x1,y:t.y1},{x:t.x2,y:t.y2})};e.closestPointOnBezierCurve=function(t,n,i,r,o,a){if(null==a&&(a=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT),a<=0)return null;for(var s=1/0,u=null,l=a;l<1;l+=a){var c={x:e.evaluateBezierCurve(n.x,i.cx2,o.cx1,r.x,l),y:e.evaluateBezierCurve(n.y,i.cy2,o.cy1,r.y,l)},d=e.distance(t,c);d<s&&(s=d,u=c)}return u};e.closestPointOnLine=function(t,n){var i=[n.x2-n.x1,n.y2-n.y1],r=[n.x1-t.x,n.y1-t.y],o=-(i[0]*r[0]+i[1]*r[1])/(Math.pow(i[0],2)+Math.pow(i[1],2));return o>=0&&o<=1?e.vectorToSegment2D(o,{x:0,y:0},n):e.sqDiag2D(e.vectorToSegment2D(0,t,n))<=e.sqDiag2D(e.vectorToSegment2D(1,t,n))?{x:n.x1,y:n.y1}:{x:n.x2,y:n.y2}};e.vectorToSegment2D=function(t,e,n){return{x:(1-t)*n.x1+t*n.x2-e.x,y:(1-t)*n.y1+t*n.y2-e.y}};e.sqDiag2D=function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)};e.cubicBezierCurveFirstDerivativeRoots=function(t,n,i,r){var o=[],a=3*(3*n-t-3*i+r),s=6*(t-2*n+i),u=s*s-4*a*(3*(n-t));if(u>=0){var l=(-s+Math.sqrt(u))/(2*a),c=(-s-Math.sqrt(u))/(2*a);l>0&&l<1&&o.push(e.evaluateBezierCurve(t,n,i,r,l)),c>0&&c<1&&o.push(e.evaluateBezierCurve(t,n,i,r,c))}return o};e.splitBezierCurveAtPoint=function(t,e,n){var r={x:t.x,y:t.y},o={x:t.cx2||t.x,y:t.cy2||t.y},a={x:e.cx1||e.x,y:e.cy1||e.y},s={x:e.x,y:e.y},u=function(t,e){return{x:(t.x+e.x)*(1-n),y:(t.y+e.y)*(1-n)}},l=u(r,o),c=u(o,a),d=u(a,s),h=u(l,c),f=u(c,d),p=u(h,f);return{left:i(i({},t),{cx2:l.x,cy2:l.y}),center:{x:p.x,y:p.y,cx1:h.x,cy1:h.y,cx2:f.x,cy2:f.y},right:i(i({},e),{cx1:d.x,cy1:d.y})}};e.evaluateBezierCurve=function(t,e,n,i,r){return t*(1-r)*(1-r)*(1-r)+3*e*r*(1-r)*(1-r)+3*n*r*r*(1-r)+i*r*r*r};e.round=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n};e.toNextMultiple=function(t,e){return t>0?Math.ceil(t/e)*e:t<0?Math.floor(t/e)*e:0};e.maintainOffsetWhenRotated=function(t,e){var n=e.x,i=e.y;if(t&&0!==t&&void 0!==e.x&&void 0!==e.y){var r=e.x,o=e.y;t=Math.toRad(t),n=r*Math.cos(t)+o*Math.sin(t),i=o*Math.cos(t)-r*Math.sin(t)}return{x:n,y:i}};var r={BEZIER_CURVE_POINT_INCREMENT_DEFAULT:e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT,Point:e.Point,calcRotatedLineIntersect:e.calcRotatedLineIntersect,calcPointOnRect:e.calcPointOnRect,scaleBoxToMaxDimension:e.scaleBoxToMaxDimension,distance:e.distance,lineLength:e.lineLength,closestPointOnBezierCurve:e.closestPointOnBezierCurve,closestPointOnLine:e.closestPointOnLine,vectorToSegment2D:e.vectorToSegment2D,sqDiag2D:e.sqDiag2D,cubicBezierCurveFirstDerivativeRoots:e.cubicBezierCurveFirstDerivativeRoots,evaluateBezierCurve:e.evaluateBezierCurve,round:e.round,toNextMultiple:e.toNextMultiple,maintainOffsetWhenRotated:e.maintainOffsetWhenRotated};window.CerosMath=r,e.default=r},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(162));e.defaults=i({},l.defaults),e.supported=u.default.union(l.supported,["animations","animationsRepeatAll","animationsReplayOnScroll"]),e.objectStateSupportedProperties=l.objectStateSupportedProperties},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(2)),a=i(n(8)),s={page_number:"/p/",page_slug:"/page/"},u={buildUri:function(t,e,n,i){return void 0===n&&(n=null),void 0===i&&(i=""),a.default.locationIsHtmlFile()?this.buildHtmlStyleUri(e,i):this.buildPathStyleUri(t,e,n,i)},buildHtmlStyleUri:function(t,e){e=e||"";var n,i=this.getWindowContext(),r=i.location.search;return 1===t?(r=r.replace(/page=(\d+)&?/,""),n=i.location.pathname+r):n=a.default.appendQueryParams(i.location.pathname+r,{page:t}),(n=n.replace(/[&|\?]$/,""))+e},buildPathStyleUri:function(t,e,n,i){if(!s[t])return r.default.warn("Mode is not supported"),null;i=i||"";var a=this.getWindowContext(),u=s[t]+e,l=o.default.previewMode&&n&&"desktop"!==n?"/layout/"+n:"",c=a.location.pathname+"";return c=(c=(c=c.replace(/\/$/,"")).replace(/\/layout\/[a-z0-9-]+/,"")+l).replace(/\/(p|page)\/[a-z0-9-]*/,"")+u,(c+=a.location.search)+i},buildUriForPageNumber:function(t){var e=this.parseLayoutFromLocation();return this.buildUri("page_number",t,e)},parsePageFromLocation:function(){var t=this.getWindowContext(),e=null;if(a.default.locationIsHtmlFile()){var n=t.location.search.match(/page=(\d+)/);return e=1,n&&(e=parseInt(n[1],10)),e}var i=t.location.pathname.match(/\/p\/(\d+)\/?$/);if(i&&(e=parseInt(i[1],10)),!e&&o.default.usePageSlugsInNavigation){var r=t.location.pathname.match(/\/page\/([a-z0-9-]+)\/?$/);r&&(e=r[1])}return e||(e=1),e},parseLayoutFromLocation:function(){var t=this.getWindowContext().location.pathname.match(/\/layout\/([a-z0-9-]+)\/?/);return t?t[1]:"desktop"},getLayoutFromQueryParam:function(){var t,e=window.location.search;return null===(t=new URLSearchParams(e).get("layout"))||void 0===t?void 0:t.toLowerCase()},getLocationWithoutParamsAndLayoutOrPageNumber:function(){return this.getWindowContext().location.href.replace(/\?.*$/,"").replace(/\/(layout\/[0-9a-z-]+)\\?/,"").replace(/\/(page\/[0-9a-z-]+|p\/\d+)\\?$/,"")},getWindowContext:function(){return window},getEditModeFromQueryParam:function(){return"true"===new URLSearchParams(window.location.search).get("editmode")},getStackDistance:function(){var t=new URLSearchParams(window.location.search);return parseInt(t.get("distance"))}};e.default=u},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(0)),l=a(n(16)),c=s(n(10)),d=s(n(176)),h=s(n(464)),f=n(108),p=s(n(474)),g=s(n(36)),m=s(n(211)),v=s(n(24)),y=n(50),_=s(n(45)),b=n(75),T=s(n(45));e.default=d.default.extend({MINIMUM_WIDTH:0,MINIMUM_HEIGHT:0,DIMENSION_DECIMAL_PLACES:0,initialize:function(t,e){var n=v.default.getCurrentVariant(),i=t.interactions;"desktop"!==n&&(i=u.default.get(t,"overrides."+n+".interactions")||i),this.interactions=this._buildInteractionCollectionThatWillUpdateOnChanges(i),this.on("change:interactions",u.default.bind((function(){this.interactions.reset(this.get("interactions"))}),this)),this.rubberBandHighlighted=!1,d.default.prototype.initialize.call(this,t,e)},_buildInteractionCollectionThatWillUpdateOnChanges:function(t,e){var n=new h.default(t,{saveHandler:u.default.bind(this.save,this)});return n.on("reset add change remove",u.default.bind((function(){this.set("interactions",n.toJSON(),e)}),this)),n},getInteractions:function(){return this.interactions},getSupported:function(){return c.default.AbstractComponentModel.supported},supportsProperty:function(t){return-1!==this.getSupported().indexOf(t)},getSupportedInteractionTriggers:function(){var t=[f.InteractionModel.TRIGGER_TYPES.CLICK,f.InteractionModel.TRIGGER_TYPES.ONVIEW];return v.default.doesCurrentVariantSupportHover()&&t.splice(1,0,f.InteractionModel.TRIGGER_TYPES.HOVER),t},highlight:function(){return this.rubberBandHighlighted||(this.rubberBandHighlighted=!0),this},dehighlight:function(){return this.rubberBandHighlighted?(this.rubberBandHighlighted=!1,this):this},getWidth:function(){return this.get("width")},getHeight:function(){return this.get("height")},setWidth:function(t){this.set("width",t)},setHeight:function(t){this.set("height",t)},getExtentsDimensionData:function(){var t=this.get("x"),e=this.get("y"),n=this.getWidth(),i=this.getHeight(),r=Math.toRad(this.get("rotation")),o=this.get("border");return{x:t,y:e,width:n,height:i,rotation:r,borderWidth:o&&o.width?o.width:0}},getExtents:function(){var t=this.getExtentsDimensionData();return g.default.getExtentsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth)},getExtentsInPageCoords:function(){var t=this.getExtentsDimensionData(),e=g.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth);return this.transformPointsToPageCoords(e)},getExtentsInPageCoordsWithoutBorder:function(){var t=this.getExtentsDimensionData(),e=g.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,0);return this.transformPointsToPageCoords(e)},transformPointsToPageCoords:function(t){var e=this.transformPointToRotatedPageCoordinateSpace(t[0]),n=this.transformPointToRotatedPageCoordinateSpace(t[1]),i=this.transformPointToRotatedPageCoordinateSpace(t[2]),r=this.transformPointToRotatedPageCoordinateSpace(t[3]);return{x1:Math.round(Math.min(e.x,n.x,i.x,r.x)),y1:Math.round(Math.min(e.y,n.y,i.y,r.y)),x2:Math.round(Math.max(e.x,n.x,i.x,r.x)),y2:Math.round(Math.max(e.y,n.y,i.y,r.y))}},getCenterPosition:function(){var t=this.get("x")+this.getWidth()/2,e=this.get("y")+this.getHeight()/2;return new l.Point(t,e)},getCenterPositionInPageCoordinateSpace:function(){return this.translatePointToPageCoordinateSpace(this.getCenterPosition(),this.getAllParents())},getTopLeft:function(){return new l.Point(this.get("x"),this.get("y"))},getTopCenter:function(){return new l.Point(this.get("x")+this.getWidth()/2,this.get("y"))},getTopRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y"))},getCenterRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y")+this.getHeight()/2)},getBottomRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y")+this.getHeight())},getBottomCenter:function(){return new l.Point(this.get("x")+this.getWidth()/2,this.get("y")+this.getHeight())},getBottomLeft:function(){return new l.Point(this.get("x"),this.get("y")+this.getHeight())},getCenterLeft:function(){return new l.Point(this.get("x"),this.get("y")+this.getHeight()/2)},getAspectRatio:function(){return 0===this.get("height")?1:this.get("width")/this.get("height")},getLeft:function(){return this.get("x")},getRight:function(){return this.get("x")+this.getWidth()},getTop:function(){return this.get("y")},getBottom:function(){return this.get("y")+this.getHeight()},setLeft:function(t){this.set("x",t)},setRight:function(t){this.set("x",t-this.getWidth())},setTop:function(t){this.set("y",t)},setBottom:function(t){this.set("y",t-this.getHeight())},setCenterX:function(t){this.set("x",t-Math.round(this.getWidth()/2))},setCenterY:function(t){this.set("y",t-Math.round(this.getHeight()/2))},toCanvasCoords:function(t){return Math.rotateCoord(t,this.getCenterPosition(),-Math.toRad(this.get("rotation")))},fromCanvasCoords:function(t){return Math.rotateCoord(t,this.getCenterPosition(),Math.toRad(this.get("rotation")))},setWidthWhileMaintainingCanvasLeft:function(t,e,n,i){var r;n=n||p.default.createInstance(this),t=m.default.getValidValueForOptions(this.get("width"),t,i),t=this.ensureMinimumWidth(t),e&&0!==n.getWidth()&&0!==n.getHeight()?(r=t/n.getAspectRatio(),r=0===this.DIMENSION_DECIMAL_PLACES?Math.round(r):l.round(r,this.DIMENSION_DECIMAL_PLACES)):r=this.get("height"),this.setDimensionsWhileMaintainingCanvasTopLeft(t,r,n)},toHierarchyJSON:function(){return{id:this.get("id")}},toDictionaryJSON:function(){return this.toJSON()},setHeightWhileMaintainingCanvasTop:function(t,e,n,i){var r;n=n||p.default.createInstance(this),t=m.default.getValidValueForOptions(this.get("height"),t,i),t=this.ensureMinimumHeight(t),e&&0!==n.getWidth()&&0!==n.getHeight()?(r=t*n.getAspectRatio(),r=0===this.DIMENSION_DECIMAL_PLACES?Math.round(r):l.round(r,this.DIMENSION_DECIMAL_PLACES)):r=this.get("width"),this.setDimensionsWhileMaintainingCanvasTopLeft(r,t,n)},setDimensionsWhileMaintainingCanvasTopLeft:function(t,e,n){var i=(n=n||p.default.createInstance(this)).getCenterPosition(),r=n.getWidth(),o=n.getHeight(),a=Math.toRad(this.get("rotation")),s=t-r,u=e-o,c=s*Math.cos(a)/2-u*Math.sin(a)/2,d=s*Math.sin(a)/2+u*Math.cos(a)/2,h=new l.Point(i.getX()+c,i.getY()+d);this.set({x:Math.round(h.getX()-t/2),y:Math.round(h.getY()-e/2),width:t,height:e})},ensureMinimumWidth:function(t){return t<this.MINIMUM_WIDTH&&(t=this.MINIMUM_WIDTH),t},ensureMinimumHeight:function(t){return t<this.MINIMUM_HEIGHT&&(t=this.MINIMUM_HEIGHT),t},resizeAttributes:function(t){},translatePointToPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.forEachRight(e,(function(t){t.isGroup()&&(n=t.translatePointToParentCoordinateSpace(n))})),n},translatePointFromPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.each(e,(function(t){t.isGroup()&&(n=t.translatePointToChildCoordinateSpace(n))})),n},transformPointToRotatedPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.forEachRight(e,(function(t){t.isGroup()&&(n=t.transformPointToRotatedParentCoordinateSpace(n))})),n},transformPointFromRotatedPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.each(e,(function(t){t.isGroup()&&(n=t.transformPointToRotatedChildCoordinateSpace(n))})),n},transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation:function(t){var e=this.getTopLeft(),n=0,i=new l.Point(0,0);u.default.each(t,(function(t){if(t.isGroup()){var r=t.get("rotation");n+=t.get("rotation"),e=Math.rotateCoord(e,l.Point.sum(i,t.getCenterPosition()),Math.toRad(r)),i=l.Point.sum(i,t.getTopLeft())}}));var r=Math.rotateCoord(e,new l.Point(e.x+this.getWidth()/2,e.y+this.getHeight()/2),Math.toRad(n)),o=l.Point.diff(e,r),a=l.Point.diff(l.Point.sum(new l.Point(e.x+this.getWidth()/2,e.y+this.getHeight()/2),o),new l.Point(this.getWidth()/2,this.getHeight()/2)),s=this.supportsProperty("rotation")?this.get("rotation")-n:0;s%=360;var c=this.translatePointFromPageCoordinateSpace(a,t);this.set({x:c.getX(),y:c.getY(),rotation:s},{silent:!0})},hasReferencesToScranchor:function(t){var e=this.getReferencedScranchorIds();return u.default.includes(e,t.getId())},getReferencedScranchorIds:function(){return this.interactions.reduce((function(t,e){if(e.isScrollToInteraction()){var n=e.getAction().getScranchorId();n&&!u.default.includes(t,n)&&t.push(n)}return t}),[])},removeInteractionsReferencingScranchor:function(t){var e=this.interactions.filter((function(e){return e.isScrollToInteraction()&&e.getAction().getScranchorId()===t.getId()}));this.interactions.remove(e)},isVectorBased:function(){return!1},toPageCoordinateSpaceJsonMaintainingPositionAndOrientation:function(t){var e;e=t&&t.ignoreState?new l.Point(this.get("x",{ignoreState:!0}),this.get("y",{ignoreState:!0})):this.getTopLeft();var n=this.transformPointToRotatedPageCoordinateSpace(e,this.getAllParents()),i=this.getTotalParentRotation(),r=Math.rotateCoord(n,new l.Point(n.x+this.getWidth()/2,n.y+this.getHeight()/2),Math.toRad(-i)),o=l.Point.diff(n,r),a=l.Point.diff(l.Point.sum(new l.Point(n.x+this.getWidth()/2,n.y+this.getHeight()/2),o),new l.Point(this.getWidth()/2,this.getHeight()/2)),s=this.supportsProperty("rotation")?this.get("rotation")+i:0;s%=360;var u=this.reconcileJSONForCurrentVariant(!0);return u.x=a.getX(),u.y=a.getY(),u.rotation=s,u.width=this.get("width"),u.height=this.get("height"),u},translateToParentCoordinateSpace:function(t){var e=this.translatePointFromPageCoordinateSpace(this.getTopLeft(),t);this.set("x",e.getX()),this.set("y",e.getY())},roundTransformableAttributes:function(){this.set("x",Math.round(this.get("x"))),this.set("y",Math.round(this.get("y"))),this.set("width",Math.round(this.get("width"))),this.set("height",Math.round(this.get("height")))},getTotalRotation:function(){return this.get("rotation")+this.getTotalParentRotation()},getTotalParentRotation:function(){var t=this.getAllParents(),e=0;return u.default.each(t,(function(t){t.isGroup()&&(e+=t.get("rotation"))})),e},setSelectedObjectState:function(t,e,n){if(e=!!e,d.default.prototype.setSelectedObjectState.call(this,t),e){if(n.inIsolationMode())n.getAllIsolationModeReferences().forEach((function(e){e.createAutogeneratedChangeStateInteraction(t)}));this.createAutogeneratedChangeStateInteraction(t)}},supportsBlendingModes:function(){var t=this.get("contentType"),e=this.get("title");return this.supportsProperty("blendingMode")&&y.BlendingModes.isSupportedImageType(t,e)},hasActiveBlendingMode:function(){var t=this.get("blendingMode");return t&&!y.BlendingModes.isDefaultBlendingMode(t)},hasRotation:function(){return!!this.get("rotation")},hasAnimations:function(){var t=this.get("animations");return t&&0!==t.length},hasAnyParentWithRotation:function(){return this.getAllParents().some((function(t){return!t.isFolder()&&t.hasRotation()}))},hasAnyParentWithAnimations:function(){return this.getAllParents().some((function(t){return!t.isFolder()&&t.hasAnimations()}))},hasAnyParentThatDoesNotAllowBlendModes:function(){return this.hasAnyParentWithRotation()||this.hasAnyParentWithAnimations()},supportsLinkInteraction:function(){return this.supportsProperty("linkInteraction")},setLinkInteraction:function(t){this.set("linkInteraction",t),t?(this.createAutogeneratedChangeStateInteraction(_.default.OBJECT_STATES_CLICK),v.default.isCurrentVariant("desktop")&&this.createAutogeneratedChangeStateInteraction(_.default.OBJECT_STATES_HOVER)):this.removeAllAutogeneratedInteractions()},removeInteractionsForState:function(t){this.getInteractions().forEach((function(e){e&&e.get("state")===t&&e.destroy()}))},removeAllAutogeneratedInteractions:function(){this.getInteractions().forEach((function(t){t&&t.get("autogenerated")&&t.destroy()}))},removeInteractionsNotChangeState:function(){this.getInteractions().forEach((function(t){t&&"change-state"!==t.get("action")&&t.destroy()}))},hasObjectStates:function(){var t=this.get("states");return!!Object.keys(t).length>0},createAutogeneratedChangeStateInteraction:function(t){this.isInteractable()&&b.ObjectStateManager.isInteractionState(t)&&(u.default.find(this.interactions.models,(function(e){return e.get("autogenerated")&&e.get("trigger")===t}))||this.interactions.add({action:"change-state",trigger:t,layerTargets:[this.id],state:t,autogenerated:!0,lockState:t!==_.default.OBJECT_STATES_HOVER}));this.save()},removeIncompatiblePropertiesWhenMasking:function(t){var e;void 0===t&&(t=!1);var n=this.get("type"),r={};if("shape-component"===n||"custom-shape-component"===n){var o=this.get("background");o&&o.color||(r.background=i(i({},o),{color:T.default.MASK_ITEM_DEFAULT_FILL_COLOR})),r.shadow={};var a=this.get("border");if(a){var s=a.radius;void 0!==s&&s.split&&(s=a.radius.split(",")[0]),r.border=i(i({},a),{radius:s,color:void 0,width:void 0})}}r.visible=!0,r.animations=[],r.animationsRepeatAll=!1,r.animationsReplayOnScroll=!1;var u=!(!this.attributes.maskInfo||!(null===(e=this.attributes.maskInfo)||void 0===e?void 0:e.isBaseMaskObject));"image-component"===n&&u?this.removeInteractionsNotChangeState():(r.interactions=[],this.removeAllObjectStates(t)),this.set(r,{silent:t})}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCanvasTargetsActionModel=void 0;var s=a(n(0)),u=n(13),l=n(7),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){var t=this,e=this.get("layerTargets");if(!e||s.default.isEmpty(e))return!1;if(!this.getSupportsMultipleTargets()&&1!==e.length)return!1;var n=this.getValidCanvasTargets();return e.every(function(e){return t.isCanvasTargetValid(e,n)}.bind(this))},e.prototype.getCanvasTargetsInContext=function(){return this.parentInteraction.getValidFullHierarchyTargets()},e.prototype.getValidCanvasTargets=function(){return this.getCanvasTargetsInContext()},e.prototype.isCanvasTargetTypeValid=function(t){var e=this.get("layerTargets");return!(!this.getSupportsMultipleTargets()&&e&&e.length>=1)&&t.isInteractable()},e.prototype.isCanvasTargetValid=function(t,e){return e||(e=this.getValidCanvasTargets()),!!e.get(t)},e.prototype.getCanvasTargetIds=function(){var t=this.get("layerTargets");return s.default.isArray(t)?t.slice():[]},e.prototype.getFirstCanvasTargetId=function(){var t=this.getCanvasTargetIds();return s.default.isEmpty(t)?null:t[0]},e.prototype.getCanvasTargetModels=function(){var t=this,e=new Array;return s.default.each(this.getCanvasTargetIds(),s.default.bind((function(n){var i=t.getValidCanvasTargets().get(n);i?e.push(i):console.warn("No canvas target model found for id "+n)}),this)),e},e.prototype.getFirstCanvasTargetModel=function(){var t=this.getCanvasTargetModels();return t.length>0?t[0]:null},e.prototype.hasACanvasTarget=function(){var t=this.getCanvasTargetIds();return!s.default.isEmpty(t)},e.prototype.addCanvasTarget=function(t){var e=this.getCanvasTargetIds();e.push(t),this.set("layerTargets",e)},e.prototype.setCanvasTargets=function(t){s.default.isString(t)&&(t=s.default.filter([t])),this.set("layerTargets",t)},e.prototype.updateCanvasTargets=function(t,e){var n=this.getCanvasTargetIds();n.length<=t?console.warn("Trying to update a canvas target that doesn't exist"):(n[t]=e,this.set("layerTargets",n))},e.prototype.removeCanvasTarget=function(t){var e=this.getCanvasTargetIds();e.length<=t?console.warn("Trying to update a canvas target that doesn't exist"):(e.splice(t,1),this.set("layerTargets",e))},e.prototype.getSupportsMultipleTargets=function(){return this.get("supportsMultipleTargets")},e=o([l.ActionModelOptions({defaults:{layerTargets:null,supportsMultipleTargets:!0}})],e)}(u.AbstractActionModel);e.AbstractCanvasTargetsActionModel=c},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=a(n(1)),l=a(n(4)),c={Module:function(t){s.default.extend(this,t),this.status=c.Module.STATUS.PENDING,t.delegate&&this.setDelegate(t.delegate)}};s.default.extend(c.Module.prototype,l.default.Events,{setDelegate:function(t){if(!s.default.isObject(t))throw Error("invalid module delegate!");for(var e in t)!this.hasOwnProperty(e)&&t.hasOwnProperty(e)&&s.default.isFunction(t[e])&&(this[e]=s.default.bind(t[e],t))},getModule:function(t){return this.application.getModule(t)},setApplication:function(t){this.application=t},getApplication:function(){return this.application},getDependency:function(t){return this.application.getModule(t)},setStatus:function(t){this.status=t},getStatus:function(){return this.status},getDeferredLoadingTimeout:function(){return c.Application.DEFERRED_LOADING_TIMEOUT}}),c.Module.extend=l.default.View.extend,c.Module.STATUS={PENDING:1,LOADED:2,STARTED:4},c.Application=function(t){this.initCallbacks=new c.Callbacks,this.modules={};var e=this;this.loadedAllModules=(new u.default.Deferred).progress((function(t){e._loadModule(t),e._allLoaded()&&this.resolve()})),s.default.extend(this,t)},s.default.extend(c.Application.prototype,l.default.Events,{_allLoaded:function(){return s.default.every(s.default.values(this.modules),(function(t){return t&&t.getStatus()===c.Module.STATUS.LOADED}))},_loadModule:function(t){if(s.default.isUndefined(t)||s.default.isNull(t))throw Error("invalid module!");this.modules[t.id]=t,t.setApplication(this),t.trigger("load"),t.setStatus(c.Module.STATUS.LOADED),this.addInitializer((function(){t.trigger("start"),t.setStatus(c.Module.STATUS.STARTED)}))},use:function(t){var e=this;s.default.isString(t)?(this.modules[t]=null,Promise.resolve().then((function(){return o(n(240)("./"+t+"/module"))})).then((function(n){if(!n)throw Error("could not load module: "+t);e.loadedAllModules.notify(n)}))):this._loadModule(t)},getModule:function(t){return this.modules[t]},addInitializer:function(t){this.initCallbacks.add(t)},start:function(t){var e=s.default.bind((function(){this.trigger("initialize:before",t),this.initCallbacks.run(t,this),this.trigger("initialize:after",t),this.trigger("start",t)}),this);this._allLoaded()?e():u.default.when(this.loadedAllModules).then(e)}}),c.Application.extend=l.default.View.extend,c.Application.DEFERRED_LOADING_TIMEOUT=5e3,c.Callbacks=function(){this.deferred=u.default.Deferred(),this.promise=this.deferred.promise()},s.default.extend(c.Callbacks.prototype,{add:function(t,e){this.promise.done((function(n,i){e&&(n=e),t.call(n,i)}))},run:function(t,e){this.deferred.resolve(e,t)}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(4)),s=i(n(3)),u=i(n(124));e.default=a.default.View.extend({broadcast:r.default.clone(a.default.Events),constructor:function(t){this.options=t||{},a.default.View.apply(this,arguments)},_broadcast:function(t){if(!r.default.isUndefined(t)){t.preventDefault(),t.stopPropagation();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");r.default.isString(e)&&this.broadcast.trigger(e,n)}},_triggerEvent:function(t){if(!r.default.isUndefined(t)){t.preventDefault();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");this.trigger(e,n)}},bindInteraction:function(t,e){var n;n="function"!=typeof e?o.default.noop:function(t){s.default.touch()&&(t=t.srcEvent),t.preventDefault(),e(t)},s.default.touch()&&r.default.each(t,(function(t){t.swipeAction=new u.default(t),t.swipeAction.on("tap",n)})),s.default.desktop()&&t.off("click").on("click",n)},unbindInteraction:function(t){s.default.touch()&&r.default.each(t,(function(t){t.swipeAction.destroy()})),s.default.desktop()&&t.off("click")},onClose:function(){},beforeClose:function(){},close:function(){this.beforeClose(),this.remove(),this.onClose(),this.trigger("close"),this.unbind()},setModel:function(t){this.model=t,this._bindModel()},setCollection:function(t){this.collection=t,this._bindCollection()},_bindModel:function(){this.model&&(this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this),this.render())},_bindCollection:function(){this.collection&&(this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this),this.render())},initialize:function(){this.options.module&&this._setModule(this.options.module),this._bindModel(),this._bindCollection()},insertAfter:function(t){this.$el.insertAfter(t)},insertBefore:function(t){this.$el.insertBefore(t)},appendTo:function(t){this.$el.appendTo(t)},after:function(t){this.$el.after(t)},before:function(t){this.$el.before(t)},setAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!0,this.options.visible&&"none"!=this.$el.css("display")||(this.$el.css("display","block"),this.$el.addClass("sr-only")),this.exitAnimations.forEach((function(t){return t.keepVisibleForScreenReaders()}))},unsetAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!1,this.$el.hasClass("sr-only")&&(this.$el.removeClass("sr-only"),this.$el.css("display","none")),this.exitAnimations.forEach((function(t){return t.restoreHideBehavior()}))},show:function(){this.keepVisibleForScreenReaders?this.$el.removeClass("sr-only"):this.$el.show()},hide:function(){this.keepVisibleForScreenReaders?this.$el.addClass("sr-only"):this.$el.hide()},_setModule:function(t){if(r.default.isUndefined(t)||null===t)throw Error("attempting to set an invalid module!");this.module=t},getModule:function(){return this.module},_change:function(){this.render()},_sync:function(){this.render()},_destroy:function(){this.render()},_invalid:function(){this.render()},_add:function(){this.render()},_remove:function(){this.render()},_reset:function(){this.render()},getEscapedId:function(){return this.id.replace("|","\\|")}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractComponentView=void 0;var s=a(n(0)),u=a(n(3)),l=a(n(280)),c=a(n(36)),d=n(138),h=n(37),f=a(n(16)),p=n(27),g=a(n(2)),m=a(n(63)),v=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n._isComponent=!0,n.activeStateInteractions=[],n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.applyTransition(),this.setStateValues(),this.createHoverArea(),this},e.prototype.setStateValues=function(){var t=this;this.options.states&&this.options.states.forEach((function(e){t.applyDeltaValuesToCoordinateProperties(e),Object.keys(e.config).forEach((function(n){t.diffStateProperty(e,n)}))}))},e.prototype.diffStateProperty=function(t,e){s.default.get(t.config,e)===s.default.get(this.options,e)&&s.default.set(t.config,e,void 0)},e.prototype.hasObjectState=function(t){var e;return"default"===t||!!(null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t})))},e.prototype.getObjectState=function(t){var e;if(t)return null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t}))},e.prototype.applyDeltaValuesToCoordinateProperties=function(t){s.default.isNil(this.options.x)||(t.config.deltaX=t.config.deltaX||0,t.config.x=this.options.x+t.config.deltaX),s.default.isNil(this.options.y)||(t.config.deltaY=t.config.deltaY||0,t.config.y=this.options.y+t.config.deltaY),s.default.isNil(this.options.x2)||(t.config.deltaX2=t.config.deltaX2||0,t.config.x2=this.options.x2+t.config.deltaX2),s.default.isNil(this.options.y2)||(t.config.deltaY2=t.config.deltaY2||0,t.config.y2=this.options.y2+t.config.deltaY2)},e.prototype.getExtentsFromObjectState=function(t){var e=this.getExtentsDimensionData(!0),n=this.getObjectState(t),i=e;n&&(n.config.deltaX&&void 0!==n.config.x&&(i.x=n.config.x),n.config.deltaY&&void 0!==n.config.y&&(i.y=n.config.y),n.config.border&&void 0!==n.config.border.width&&(i.borderWidth=n.config.border.width),n.config.width&&(i.width=n.config.width),n.config.height&&(i.height=n.config.height),n.config.rotation&&(i.rotation=n.config.rotation));var r=c.default.getExtentsPointsFromDimensions(i.x,i.y,i.width,i.height,i.rotation,i.borderWidth);return this._transformPointsToExtents(r)},e.prototype.getExtentsDimensionData=function(t){var e,n,i=t?null:this.getObjectState(this.options.selectedState);return{x:i&&i.hasPositionChange()?i.config.x:this.options.x,y:i&&i.hasPositionChange()?i.config.y:this.options.y,width:i&&i.hasDimensionsChange()?i.config.width:this.options.width,height:i&&i.hasDimensionsChange()?i.config.height:this.options.height,rotation:-Math.toRad((i&&i.hasRotationChange()?i.config.rotation:this.options.rotation)||0),borderWidth:(i&&i.hasBorderChange()?null===(e=i.config.border)||void 0===e?void 0:e.width:null===(n=this.options.border)||void 0===n?void 0:n.width)||0}},e.prototype.applyScale=function(t,e,n,i){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),void 0===n&&(n=this.options.x),void 0===i&&(i=this.options.y);var r=t/this.options.width,o=e/this.options.height;p.CssUtils.setTransformToElement(this.$el,{scale:{x:r,y:o}}),this.applyPositionToScaledObject(n,i,t,e)},e.prototype.applyPositionToScaledObject=function(t,e,n,i){void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===n&&(n=this.options.width),void 0===i&&(i=this.options.height);var r=(n-this.options.width)/2,o=(i-this.options.height)/2;this._applyPosition(t+r,e+o)},e.prototype.addStateUnderActiveState=function(t,e){if(!this.activeStateInteractions.some((function(e){return e.state===t}))&&this.activeStateInteractions&&this.activeStateInteractions.length>0){var n=this.activeStateInteractions.findIndex((function(t){return t.lockState}));n>=0&&this.activeStateInteractions.splice(n,0,e)}},e.prototype.invokeObjectState=function(t){"default"===t&&this.isInNonDefaultState()&&this.revertToDefaultState();var e=this.getObjectState(t);e&&this.applyState(e)},e.prototype.applyState=function(t){var e="default"!==this.options.selectedState?this.getObjectState(this.options.selectedState):void 0;this.options.selectedState=t.state||"default",this.callObjectStateInvoker(t,e)},e.prototype.callObjectStateInvoker=function(t,e){h.ObjectStateInvoker.invokeObjectState(this,t,e)},e.prototype.revertToDefaultState=function(){var t=new d.ObjectState({state:"default"});this.activeStateInteractions=[],this.applyState(t)},e.prototype.revokeObjectState=function(t){var e,n;if(this.getObjectState(t)){var i=t===(null===(e=this.getCurrentActiveChangeStateInteraction())||void 0===e?void 0:e.state);if(this.activeStateInteractions=this.activeStateInteractions.filter((function(e){return e.state!==t})),i){var r=this.getObjectState(null===(n=this.getCurrentActiveChangeStateInteraction())||void 0===n?void 0:n.state);r?this.applyState(r):this.revertToDefaultState()}}},e.prototype.applyTransition=function(t,e){var n=this;if(void 0===t&&(t=this.options.transition),!g.default.shouldReduceMotion)if(t){var i="all "+(t.duration||0)+"s "+(t.easing||"linear")+" "+(t.delay||0)+"s";this.applyTransitionToTarget(i,e);var r=1e3*((t.duration||0)+(t.delay||0));this.transitionTimer&&clearTimeout(this.transitionTimer),this.transitionTimer=setTimeout((function(){n.applyTransitionToTarget("")}),r)}else this.applyTransitionToTarget("")},e.prototype.applyTransitionToTarget=function(t,e){this.$el.css("transition",t),this.$el.css("transition-property",e||"none")},e.prototype.applyDropShadow=function(t,e){var n;void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation);var i=this.getApplyShadowTarget(),r=null===(n=i[0])||void 0===n?void 0:n.style.filter,o="";if(r){var a=r.match(/[\w-]*\(.*?\)/g);a&&(o=a.filter((function(t){return!t.startsWith("drop-shadow")})).join(" "))}if(this.hasShadow(t)){var s=p.CssUtils.convertShadowObjectToCssFilter(t,e);i.css("-webkit-filter",s),i.css("filter",s)}else i.css("filter",o),i.css("-webkit-filter",o)},e.prototype.getParentsWithLinkInteraction=function(){return this.options.parentSmartGroup&&this.options.parentSmartGroup.interactions.find((function(t){var e;return"click"===(null===(e=t)||void 0===e?void 0:e.state)}))?[this.options.parentSmartGroup.id]:this.hasParents()?this.parentViews.filter((function(t){return t.isComponent()&&!!t.options.linkInteraction})).map((function(t){return t.id})):[]},e.prototype.triggerMouseUpAction=function(t){t.triggerOutAction()},e.prototype.removeAllActiveStates=function(){var t=this;this.activeStateInteractions.forEach((function(e){t.options.pageView.deactivateInteraction(e)})),this.activeStateInteractions=[]},e.prototype.removeActiveState=function(t){var e=this.activeStateInteractions.findIndex((function(e){return e===t}));-1!==e&&this.activeStateInteractions.splice(e,1),this.options.pageView.deactivateInteraction(t)},e.prototype.addActiveState=function(t){this.activeStateInteractions.find((function(e){return e===t}))||this.activeStateInteractions.push(t)},e.prototype.getCurrentActiveChangeStateInteraction=function(){if(this.activeStateInteractions&&this.activeStateInteractions.length>0)return this.activeStateInteractions[this.activeStateInteractions.length-1]},e.prototype.hasActiveClickStateWithLock=function(){return this.activeStateInteractions.some((function(t){return"click"===t.state&&t.lockState}))},e.prototype.hasActiveCustomStateWithLock=function(){return this.activeStateInteractions.some((function(t){return!("click"===t.state||"hover"===t.state||"default"===t.state)&&t.lockState}))},e.prototype.hasActiveBringToFront=function(){return!!this.activeBringToFrontInteraction},e.prototype.isInNonDefaultState=function(){return"default"!==this.options.selectedState},e.prototype.createHoverArea=function(){(this.isUsingHoverAreaForMouseOut()||this.isMask())&&(this.unbindInteractions(),this.hoverArea||(this.hoverArea=this.options.pageView.createHoverArea(this),this.hoverArea.render()),this._configureInteractions(),this.shouldAddHoverAreaPointerEvents()?this.addPointerEvents():this.removePointerEvents())},e.prototype.enableHoverArea=function(){var t;this.shouldAddHoverAreaPointerEvents(!0)&&(null===(t=this.hoverArea)||void 0===t||t.enableHoverArea(this))},e.prototype.disableHoverArea=function(){var t,e=this;this.usesHoverAreaForInteractions()&&(null===(t=this.hoverArea)||void 0===t||t.getHoverAreaTarget().on("click",(function(){var t;null===(t=e.hoverArea)||void 0===t||t.disableHoverArea(e)})))},e.prototype.isHoverAreaDisabled=function(){var t;return!!(null===(t=this.hoverArea)||void 0===t?void 0:t.isDisabled())},e.prototype.activateHoverArea=function(){var t;this.shouldAddHoverAreaPointerEvents()&&(null===(t=this.hoverArea)||void 0===t||t.activate())},e.prototype.shouldAddHoverAreaPointerEvents=function(t){void 0===t&&(t=!1);var e=this.hoverArea&&!(this.hoverArea.isDisabled()&&!t);return this.visible&&e},e.prototype.isHovered=function(t){var e,n=this.getHoverTarget();return!!(null===(e=this.hoverArea)||void 0===e?void 0:e.isHovered())||n.is((function(t,e){return e.matches(":hover")}))},e.prototype.getComponentActualWidthHeight=function(){var t=this.options.width,e=this.options.height,n=this.options.parentSmartgroup;return n&&(t*=n.options.scaleWidth,e*=n.options.scaleHeight),{width:t,height:e}},e.prototype.getComponentAbsolutePosition=function(){var t=this.options.absoluteX||0,e=this.options.absoluteY||0,n=this.options.parentSmartgroup;if(n){t*=n.options.scaleWidth,t+=n.options.originalX,e*=n.options.scaleHeight,e+=n.options.originalY;var i=Math.toRad(n.options.rotation);if(i){var r=this.options.width*n.options.scaleWidth,o=this.options.height*n.options.scaleHeight,a=this.options.x*n.options.scaleWidth,s=this.options.y*n.options.scaleHeight,u=new f.default.Point(a+r/2,s+o/2),l=n.options.width*n.options.scaleWidth/2,c=n.options.height*n.options.scaleHeight/2;u.rotate(l,c,-i),u.x+=n.options.absoluteX||0,u.y+=n.options.absoluteY||0,t=u.x-r/2,e=u.y-o/2}}return{componentTop:e,componentLeft:t}},e.prototype.getHoverTarget=function(){return this.$el},e.prototype.updatePositionForHoverArea=function(){var t;null===(t=this.hoverArea)||void 0===t||t.updatePosition()},e.prototype.setInitialZIndex=function(t){this.$el.css("z-index",t),this.zIndex=t,this.currentZIndex=t},e.prototype.setZIndex=function(t,e){var n;this.$el.css("z-index",t),this.currentZIndex=t,null===(n=this.hoverArea)||void 0===n||n.setZIndex(t+1),"click"===e&&(this.activeBringToFrontInteraction=!0)},e.prototype.resetZIndex=function(){var t;this.$el.css("z-index",this.zIndex),this.currentZIndex=this.zIndex,null===(t=this.hoverArea)||void 0===t||t.setZIndex(this.zIndex+1),this.activeBringToFrontInteraction=!1},e.prototype.getCurrentHighestZIndex=function(){return this.hoverArea?Math.max(this.hoverArea.currentZIndex,this.currentZIndex):this.currentZIndex},e.prototype.setDimensionsAsAttributes=function(t,e,n){t.attr("width",e),t.attr("height",n)},e.prototype.getPointerEventsTarget=function(){return this.$el},e.prototype.addPointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.activate():this.isMask()||this.isMaskGroup()?(this.getPointerEventsTarget().css("pointer-events","none"),this.addPointerEventsToChildren()):this.getPointerEventsTarget().css("pointer-events","auto")},e.prototype.addPointerEventsToChildren=function(){},e.prototype.removePointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.deactivate():this.getPointerEventsTarget().css("pointer-events","none")},e.prototype.assignCursor=function(){this.hasClickInteraction()||this.hasMouseDownInteraction()||this.options.showHoverCursor?this.getInteractionTarget().css("cursor","pointer"):this.getInteractionTarget().css("cursor","inherit")},e.prototype.getInteractionTarget=function(t){if((void 0===t&&(t=!1),this.hoverArea)&&!(this.hoverArea.isDisabled()&&!t))return this.hoverArea.getHoverAreaTarget();return this.getPointerEventsTarget()},e.prototype.bindClickInteraction=function(){this.hasClickInteraction()||this.isMask()?this.getInteractionTarget().on("click",s.default.bind(this._handleClickInteraction,this)):this.getInteractionTarget().on("click",s.default.bind(this.handleClickWithoutInteraction,this))},e.prototype.bindMouseDownInteraction=function(){(this.hasMouseDownInteraction()||this.isMask())&&this.getInteractionTarget().on("mousedown",s.default.bind(this._handleMouseDownInteraction,this))},e.prototype.bindMouseOverInteraction=function(){(this.hasHoverInteraction()||this.isMask())&&this.getInteractionTarget().on("mouseover",s.default.bind(this._handleMouseOverInteraction,this))},e.prototype.unbindInteractions=function(t){void 0===t&&(t=!1),this.$el.off("click"),this.$el.off("mouseover"),this.$el.off("mouseout"),this.$el.off("keydown"),this.$el.off("mousedown");var e=this.getInteractionTarget(t);e!==this.$el&&(e.off("click"),e.off("mouseover"),e.off("mouseout"),e.off("mousedown")),this.hasAccessibilityFeature&&this.$el.off("keydown",this._handleOnEscKeyPressed)},e.prototype._configureInteractions=function(){this.unbindInteractions(!0),this.assignCursor(),this.bindClickInteraction(),this.bindMouseDownInteraction(),this.bindMouseOverInteraction(),this.bindClickSelectInteraction(),this.hasAccessibilityFeature&&this.$el.on("keydown",this._handleOnEscKeyPressed)},e.prototype.bindClickSelectInteraction=function(){this.$el.on("keydown",this.handleKeydown.bind(this))},e.prototype.shouldTriggerClickOnKeyDown=function(){return!(!this.hasClickInteraction()||!this.hoverArea)},e.prototype.handleKeydown=function(t){var e=t.keyCode;e!==m.default.SPACE&&e!==m.default.ENTER||(this.shouldTriggerClickOnKeyDown()?this._handleClickInteraction(t,!1,void 0,!0):this.handleClickWithoutInteraction(t),this.hasMouseDownInteraction()&&this._handleMouseDownInteraction(t,!0))},e.prototype.setMaskInteractions=function(t){this.options.interactions=t,this.createHoverArea()},e.prototype.usesHoverAreaForInteractions=function(){return!!this.hoverArea&&!this.hoverArea.isDisabled()},e.prototype.isBaseMaskObject=function(){return!1},e.prototype.isMask=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.isMaskGroup=function(){return!1},e.prototype.isAlphaMask=function(){return!1},e.prototype.hasInteractions=function(){var t;return!!(null===(t=this.options.interactions)||void 0===t?void 0:t.length)},e.prototype.getMaskGroup=function(){return[]},e.prototype.isUsingHoverAreaForMouseOut=function(){var t,e=!!(null===(t=this.options.interactions)||void 0===t?void 0:t.find((function(t){return!!t.hasOutTrigger})));return u.default.desktop()&&!this.isBaseMaskObject()&&this.hasInteractions()&&e},e.prototype.getEventInteractionData=function(){return this.isMask()&&this.parentViews.length?this.parentViews[0].getEventInteractionData():{componentSlug:this.id,componentName:this.options.title,componentType:this.options.type,pageSlug:this.options.pageView.model.get("slug"),pageName:this.options.pageView.model.get("name"),currentState:this.options.selectedState,sdkTags:this.options.sdkTags,sdkPayload:this.options.sdkPayload}},Object.defineProperty(e.prototype,"linkInteraction",{get:function(){return this.options.linkInteraction||"smartgroup"===this.options.type},enumerable:!1,configurable:!0}),e.prototype.getCurrentValue=function(t){var e=this.options;if(this.isInNonDefaultState()){var n=this.getObjectState(this.options.selectedState);e=o(o({},e),null==n?void 0:n.config)}return e[t]},e}(l.default);e.AbstractComponentView=v},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(4)),s=i(n(2)),u=i(n(171)),l=i(n(450)),c=i(n(174)),d={VARIANT_ADDED:"variantAdded",VARIANT_ADDED_REMOTE:"variantAddedRemote",VARIANT_CHANGED:"variantChanged",VARIANT_DELETION_STARTED:"variantDeletionStarted",VARIANT_ABOUT_TO_DELETE:"variantAboutToDelete",VARIANT_DELETED:"variantDeleted",VARIANT_DELETED_REMOTE:"variantDeletedRemote",VARIANT_DELETED_FROM_ALL_PAGES:"variantDeletedFromAllPages",VARIANT_DELETE_FAILED:"variantDeleteFailed",VARIANT_SAVED:"variantSaved",VARIANT_SAVE_FAILED:"variantSaveFailed",VARIANT_NOTIFY_EDITOR:"variantNotifyEditor",VARIANT_EDITOR_DISABLE_STARTED:"variantEditorDisableStarted",VARIANT_EDITOR_DISABLE_ENDED:"variantEditorDisableEnded"},h=["desktop"],f={docVersion:null,currentVariant:"desktop",creatingComponent:!1,inIsolationMode:!1,EVENTS:d,doingCycleHack:!1,cachedAdaptiveLayoutsEnabled:null,defaultVariantValues:{mobile:{viewportWidth:540,viewportHeight:960},tablet:{viewportWidth:768,viewportHeight:1024}},setDocumentVersion:function(t){this.docVersion=t},setInIsolationMode:function(t){this.inIsolationMode=t},setCurrentVariant:function(t){t!==this.currentVariant&&(this.currentVariant=t,this.trigger(d.VARIANT_CHANGED))},setDoingCycleHack:function(t){this.doingCycleHack=t},isDoingCycleHack:function(){return this.doingCycleHack},setIsDeletingAVariant:function(t){this.deletingAVariant=t},isDeletingAVariant:function(){return this.deletingAVariant},isCurrentVariant:function(t){return this.currentVariant===t},isInIsolationMode:function(){return this.inIsolationMode},getExistingVariants:function(){if(!this.adaptiveLayoutsEnabled())return[];var t=this.docVersion.doc.at("overrides").get();return o.default.keys(t)},areAllVariantsCreated:function(){return 2===this.getExistingVariants().length},getMissingVariants:function(){return o.default.difference(o.default.keys(this.defaultVariantValues),this.getExistingVariants())},getOtherVariantIfExists:function(t){var e="mobile"===t?"tablet":"mobile";return this.doesVariantExist(e)?e:null},doesVariantExist:function(t){var e=this.getExistingVariants();return o.default.includes(e,t)||"desktop"===t},doesAnyVariantExist:function(){return this.getExistingVariants().length>0},getCurrentVariant:function(){return this.adaptiveLayoutsEnabled()?this.currentVariant:"desktop"},getAllExistingLayouts:function(){return this.getExistingVariants().concat("desktop")},getNonCurrentLayouts:function(){if(!this.adaptiveLayoutsEnabled())return[];if("desktop"===this.currentVariant)return this.getExistingVariants();var t=["desktop"],e=this.getOtherVariantIfExists(this.currentVariant);return e&&t.push(e),t},hasMultipleVariants:function(){return o.default.size(this.docVersion.doc.at("overrides").get())>0},addNewVariantToDocVersion:function(t){var e=r.default.Deferred();if(this.adaptiveLayoutsEnabled())if(this.doesVariantExist(t))e.reject("error-variant-exists");else try{var n=this.getSourceVariantName(),i=o.default.cloneDeep(this.docVersion.get("overrides"))||{};i[t]=this.defaultVariantValues[t],o.default.extend(i[t],this.getDocVersionAttributesToCopyFromSourceVariant(this.docVersion,n)),this.trigger(d.VARIANT_EDITOR_DISABLE_STARTED),this.docVersion.set("overrides",i),this.disableAllEditableLayers(),this.trigger(d.VARIANT_ADDED,{newVariantName:t,sourceVariantName:n}),e.resolve()}catch(t){e.reject(t)}else e.reject("error-adaptiveLayouts-disabled");return e.promise()},disableAllEditableLayers:function(){this.docVersion.pageCollection.each((function(t){t.layersService.getAllItems().forEach((function(t){t.isEditable()&&t.setEditable(!1).save()}))}))},beginVariantDelete:function(t){this.doesVariantExist(t)&&(this.setIsDeletingAVariant(!0),this.trigger(d.VARIANT_DELETION_STARTED),this.trigger(d.VARIANT_ABOUT_TO_DELETE,{variantName:t}))},deleteVariantFromDocVersion:function(t){var e=r.default.Deferred();if(this.doesVariantExist(t))try{this.setCurrentVariant("desktop");var n=o.default.cloneDeep(this.docVersion.get("overrides"));delete n[t],this.docVersion.set("overrides",n),this.setIsDeletingAVariant(!1),this.trigger(d.VARIANT_DELETED,{variantName:t}),this.trigger(d.VARIANT_NOTIFY_EDITOR),e.resolve()}catch(t){e.reject(t),this.trigger(d.VARIANT_DELETE_FAILED)}else e.reject("error-variant-missing"),this.trigger(d.VARIANT_DELETE_FAILED);return e.promise()},saveVariant:function(t){this.trigger(d.VARIANT_SAVED,{variantName:t})},variantSaveFailed:function(t){this.trigger(d.VARIANT_SAVE_FAILED,{variantName:t})},listenForVariantSavedOrFailed:function(){var t=r.default.Deferred();return this.listenToOnce(f,f.EVENTS.VARIANT_SAVED,t.resolve),this.listenToOnce(f,f.EVENTS.VARIANT_SAVE_FAILED,t.reject),t},getDocVersionAttributesToCopyFromSourceVariant:function(t,e){return"desktop"!==e&&this.adaptiveLayoutsEnabled()?{scaleExperienceType:t.get("overrides")[e].scaleExperienceType}:{scaleExperienceType:t.get("scaleExperienceType")}},adaptiveLayoutsEnabled:function(){if(null!==this.cachedAdaptiveLayoutsEnabled)return this.cachedAdaptiveLayoutsEnabled;if(c.default.getCurrentUser()){var t=u.default.getActiveAccount().hasAdaptiveLayouts();return this.cachedAdaptiveLayoutsEnabled=t,t}return!1},getSourceVariantName:function(){var t=this.getExistingVariants();if(0===t.length)return"desktop";if(1===t.length)return t[0];throw"All 3 variants already exist"},cloneOverrides:function(t){var e=o.default.clone(t);return o.default.each(t,(function(t,n){e[n]=o.default.clone(t)})),e},reconcileJSONForCurrentVariant:function(t,e){var n;if(e&&e.isSyncedObject()||"desktop"===this.currentVariant)n=o.default.extend({},t);else{var i=t.overrides[this.currentVariant];if(i){var r=t.synced?o.default.omit(i,e.getSyncedProperties()):i;n=o.default.extend({},t,r)}else{var a={variant:this.currentVariant,modelJSON:JSON.stringify(t),issue:s.default.issueSlug,docDictionaryJson:JSON.stringify(this.docVersion.pageCollection.getCurrentPage().doc.at("layerDictionary").at(t.id).get())};window.Rollbar.warn("Missing Variant Overrides Object on reconcileJSONForCurrentVariant",a)}}return delete n.overrides,n},disableLayoutSwitch:function(){this.trigger("disableLayoutSwitch")},enableLayoutSwitchIfReady:function(){l.default.allClearToSwitchVariants()&&this.trigger("enableLayoutSwitch")},doesCurrentVariantSupportHover:function(){var t=this.getCurrentVariant();return h.indexOf(t)>-1}};o.default.extend(f,a.default.Events),e.default=f},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseInteraction=void 0;var a=o(n(0)),s=n(270),u=o(n(30)),l=function(){function t(e,n){if(!n.module)throw new Error("All interactions must belong to a module");a.default.assign(this,e),this.action=e.action,this.trigger=e.trigger,this.pageView=n;var i=t.shouldInteractionChangeToMouseDown(this.action,this.trigger,this.hasOutTrigger,!!e.hasSiblingThatIsABringToFrontClickInteraction,!!e.hasSiblingThatIsAChangeStateClickInteraction);this.trigger=i?"mouseDown":e.trigger}return t.prototype.hasGlobalScope=function(){return!0},t.prototype.setTrigger=function(t){this.trigger=t},t.shouldInteractionChangeToMouseDown=function(t,e,n,i,r){return void 0===r&&(r=!1),"click"===e&&(n||"bring-to-front"===t||i||r)},t.prototype.setOptionalParameters=function(t){this.componentId=t},t.prototype.triggerAction=function(t){return this.validateAndSendEvent(t)},t.prototype.triggerOutAction=function(){},t.prototype.validateAndSendEvent=function(t){if(!t)return!1;if(!a.default.isFunction(this.getModuleAction))return!1;var e=this.getModuleAction();if(!e)return!1;var n=new s.InteractionInvocation(this,t);return this.hasGlobalScope()?u.default.trigger(e,n):this.pageView.module.trigger(e,n),!0},Object.defineProperty(t.prototype,"domTagOverride",{get:function(){if(this.isValid()&&("click"===this.trigger||"mouseDown"===this.trigger))return{tagName:"button",priority:1}},enumerable:!1,configurable:!0}),t.prototype.isValid=function(){var t=a.default.values(i(i({},this),{sdkTags:void 0,sdkPayload:void 0}));return!a.default.some(t,(function(t){if(a.default.isNull(t))return!0;if(a.default.isArray(t)){if(0===t.length)return!0}else if(""===t)return!0;return!1}))},t.prototype.toJSON=function(){this.pageView;return r(this,["pageView"])},t.prototype.shouldCreateHoverArea=function(){return!1},t.prototype.shouldTriggerOnKeyboardNavigation=function(){return!0},t.prototype.getHoverTargets=function(){return[]},t}();e.BaseInteraction=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackboneShim=void 0,e.BackboneShim=function(t){var e=this;return function(n){t&&Object.keys(t).forEach((function(e){n.prototype[e]=t[e]}));var i=n,r=n.prototype;n.prototype.constructor=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Object.keys(r).forEach((function(t){void 0!==r[t]&&(e[t]=r[t])})),i.apply(e,t)}}}},function(t,e,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CssUtils=void 0;var o,a,s=r(n(0)),u=r(n(3)),l=n(89);!function(t){t.scale="scale",t.skew="skew",t.rotate="rotate",t.matrix="matrix",t.translate3d="translate3d",t.translateX="translateX",t.translateY="translateY",t.translateZ="translateZ"}(o||(o={})),function(t){t.matrix3d="matrix3d",t.translate="translate",t.scale3d="scale3d",t.scaleX="scaleX",t.scaleY="scaleY",t.scaleZ="scaleZ",t.rotate3d="rotate3d",t.rotateX="rotateX",t.rotateY="rotateY",t.rotateZ="rotateZ",t.skewX="skewX",t.skewY="skewY",t.perspective="perspective",t.none="none",t.initial="initial",t.inherit="inherit"}(a||(a={}));var c=function(){function t(){}return t.setTransformToElement=function(t,e){if(t&&t.length){var n=t[0].style.transform;t.css("transform",this.setTransformProperty(n,e))}},t.setTransformProperty=function(e,n){e&&"none"!==e||(e="");var r=[a.matrix3d,a.translate,a.scale3d,a.scaleX,a.scaleY,a.scaleZ,a.rotate3d,a.rotateX,a.rotateY,a.rotateZ,a.skewX,a.skewY,a.perspective].map((function(n){return t.getUnsupportedString(e,n)})).filter((function(t){return!!t})),s=[o.translateX,o.translateY,o.translateZ].map((function(i){var r=t.getValueFromProperty(e,i),o=n[i];return void 0!==o?t.buildProperty(i,o):t.buildProperty(i,r)})),u=t.getScale(e),l=t.getSkew(e),c=t.getValueFromProperty(e,o.rotate),d=t.getTranslate(e),h=t.getMatrix(e);return i([void 0!==n.scale?t.buildScaleTransform(n.scale):t.buildScaleTransform(u),void 0!==n.skew?t.buildSkewTransform(n.skew):t.buildSkewTransform(l),void 0!==n.rotate?t.buildRotationTransform(n.rotate):t.buildRotationTransform(c),void 0!==n.translate3d?t.buildTranslateTransform(n.translate3d):t.buildTranslateTransform(d),void 0!==n.matrix?t.buildMatrixTransform(n.matrix):t.buildMatrixTransform(h)],s,r).filter((function(t){return!!t})).join(" ")},t.setShadowToElement=function(e,n,i){var r=t.convertShadowObjectToCssFilter(e,n);i.css("-webkit-filter",r),i.css("filter",r)},t.convertShadowObjectToCssFilter=function(t,e){var n="";if(s.default.isEmpty(t))return n;var i={x:t.x||0,y:t.y||0};if(e&&0!==e){e=Math.toRad(e);var r=i.x*Math.cos(e)+i.y*Math.sin(e),o=-1*i.x*Math.sin(e)+i.y*Math.cos(e);i.x=r,i.y=o}n+="drop-shadow(",n+=Math.round(i.x)+"px",n+=" "+Math.round(i.y)+"px";var a=u.default.webkit?4:2;return n+=t.blur?" "+Math.round(t.blur/a)+"px":" 0",n+=" "+t.color,n+=")"},t.getValueFromProperty=function(e,n){var i=new RegExp(n+"\\(.*?\\)","g"),r=e.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o?Number.parseFloat(o[0]):null},t.getUnsupportedString=function(t,e){var n=new RegExp(e+"\\(.*?\\)","g"),i=t.match(n);return i?i[0]:null},t.getScale=function(t){return this.getXYAll(o.scale,t)},t.getSkew=function(t){return this.getXYAll(o.skew,t)},t.getXYAll=function(e,n){var i=new RegExp(e+"\\(.*?\\)","g"),r=n.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o&&2===o.length?{x:Number.parseFloat(o[0]),y:Number.parseFloat(o[1])}:o&&1===o.length?{all:Number.parseFloat(o[0])}:null},t.getTranslate=function(e){var n=new RegExp(o.translate3d+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&3===r.length?{x:Number.parseFloat(r[0]),y:Number.parseFloat(r[1]),z:Number.parseFloat(r[2])}:null},t.getMatrix=function(e){var n=new RegExp(o.matrix+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&6===r.length?{scaleX:Number.parseFloat(r[0]),skewY:Number.parseFloat(r[1]),skewX:Number.parseFloat(r[2]),scaleY:Number.parseFloat(r[3]),translateX:Number.parseFloat(r[4]),translateY:Number.parseFloat(r[5])}:null},t.buildProperty=function(t,e){return e||0===e?t+"("+e+")":""},t.buildScaleTransform=function(t){return t?t.all?o.scale+"("+t.all+")":o.scale+"("+t.x+", "+t.y+")":""},t.buildSkewTransform=function(t){return t?t.all?o.skew+"("+t.all+"deg)":o.skew+"("+t.x+"deg, "+t.y+"deg)":""},t.buildTranslateTransform=function(t){return t?o.translate3d+"("+t.x+", "+t.y+", "+t.z+")":""},t.buildMatrixTransform=function(t){if(t instanceof Array){if(6!==t.length)return"";t={scaleX:t[0],skewY:t[1],skewX:t[2],scaleY:t[3],translateX:t[4],translateY:t[5]}}return t?o.matrix+"("+t.scaleX+", "+t.skewY+", "+t.skewX+", "+t.scaleY+", "+t.translateX+", "+t.translateY+")":""},t.buildRotationTransform=function(t){return t||0===t?o.rotate+"("+t+"deg)":""},t.computeEffect=function(e,n){var i=e[l.ImageEffects.BRIGHTNESS.NAME],r=e[l.ImageEffects.CONTRAST.NAME],o=e[l.ImageEffects.HUEROTATE.NAME],a=e[l.ImageEffects.SATURATE.NAME],u=e[l.ImageEffects.SEPIA.NAME],c=e[l.ImageEffects.INVERT.NAME],d="",h="",f="";(n||!s.default.isNil(i)&&i!==l.ImageEffects.defaultValueOf(l.ImageEffects.BRIGHTNESS.NAME))&&(i+=100,d=t.createImageEffectCssString(l.ImageEffects.BRIGHTNESS,i)),(n||!s.default.isNil(r)&&r!==l.ImageEffects.defaultValueOf(l.ImageEffects.CONTRAST.NAME))&&(r+=100,h=this.createImageEffectCssString(l.ImageEffects.CONTRAST,r)),(n||!s.default.isNil(a)&&a!==l.ImageEffects.defaultValueOf(l.ImageEffects.SATURATE.NAME))&&(0===(a+=100)&&(a=1),f=this.createImageEffectCssString(l.ImageEffects.SATURATE,a));var p={};return p[l.ImageEffects.BRIGHTNESS.NAME]=d,p[l.ImageEffects.CONTRAST.NAME]=h,p[l.ImageEffects.SATURATE.NAME]=f,p[l.ImageEffects.HUEROTATE.NAME]=this.createEffectStringIfPresent(o,l.ImageEffects.HUEROTATE,n),p[l.ImageEffects.SEPIA.NAME]=this.createEffectStringIfPresent(u,l.ImageEffects.SEPIA,n),p[l.ImageEffects.INVERT.NAME]=this.createEffectStringIfPresent(c,l.ImageEffects.INVERT,n),l.ImageEffects.computeBrowserImageFilter(p)},t.createEffectStringIfPresent=function(e,n,i){return i||!s.default.isNil(e)&&e!==l.ImageEffects.defaultValueOf(n.NAME)?t.createImageEffectCssString(n,e):""},t.createImageEffectCssString=function(t,e){return t.NAME+"("+e+t.UNIT+")"},t.getCurrentEffects=function(e){var n={},i=e.css("filter");if(i){var r=i.match(/brightness\((.*?)\)/);n[l.ImageEffects.BRIGHTNESS.NAME]=t.formatEffect(l.ImageEffects.BRIGHTNESS,r);var o=i.match(/contrast\((.*?)\)/);n[l.ImageEffects.CONTRAST.NAME]=t.formatEffect(l.ImageEffects.CONTRAST,o);var a=i.match(/hue-rotate\((.*?)\)/);n[l.ImageEffects.HUEROTATE.NAME]=t.formatEffect(l.ImageEffects.HUEROTATE,a);var s=i.match(/saturate\((.*?)\)/);n[l.ImageEffects.SATURATE.NAME]=t.formatEffect(l.ImageEffects.SATURATE,s);var u=i.match(/sepia\((.*?)\)/);n[l.ImageEffects.SEPIA.NAME]=t.formatEffect(l.ImageEffects.SEPIA,u);var c=i.match(/invert\((.*?)\)/);n[l.ImageEffects.INVERT.NAME]=t.formatEffect(l.ImageEffects.INVERT,c)}return n},t.formatEffect=function(t,e){return e?"hue-rotate"===t.NAME?parseFloat(e[1]):100*parseFloat(e[1])+t.MIN:t.DEFAULT},t.transformValueRegEx=/(-?\d+\.?\d*)/g,t}();e.CssUtils=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={GOOGLE_API_ID:"Google",BUILTIN_API_ID:"BuiltIn",UPLOADED_API_ID:"Uploaded",DEFAULT_FONT_FAMILY_GUID:"Google|Roboto",DEFAULT_FONT_VARIANT_GUID:"Google|Roboto|400|normal",DEFAULT_FONT_WEIGHT:400,DEFAULT_FONT_STYLE:"normal",FONT_STYLE_ITALIC:"italic",FONT_STYLE_NORMAL:"normal",FONT_STYLE_OBLIQUE:"oblique",EXPERIENCE_FAMILY_GUIDS_KEY:"familyGuids"}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(1)),u=a(n(0)),l=o(n(16)),c=a(n(3)),d=a(n(114)),h=["svg","path","rect","circle","ellipse","line","polyline","polygon","text"];e.default={VECTOR_IMAGE_CONVERSION_VERSION:2,isVectorBased:function(t){return"image/svg+xml"===t},hasCurrentConvertedVectorImageUri:function(t,e){return 2===t&&!!e},getImageAspectRatio:function(t){var e=this.getViewportDimensions(t);if(e&&e.height>0&&e.width>0)return e;var n=this.getViewBoxDimensions(t);return n&&n.height>0&&n.width>0?n:null},getViewBoxDimensions:function(t){var e=(t.documentElement.getAttribute("viewBox")||"").match(/-?[\d\.]+/g);if(e&&4===e.length){var n=parseInt(e[2],10),i=parseInt(e[3],10);if(n>0&&i>0)return{width:n,height:i}}return null},getViewportDimensions:function(t){var e=t.documentElement,n=parseInt(e.getAttribute("width"),10),i=parseInt(e.getAttribute("height"),10);return n>0&&i>0?{width:n,height:i}:null},setViewportDimensions:function(t,e,n){var i=t.documentElement;i.setAttribute("width",e+"px"),i.setAttribute("height",n+"px")},updateSVGColorStyle:function(t,e){u.default.each(h,u.default.bind((function(n){var i=t.getElementsByTagName(n);u.default.each(i,u.default.bind((function(t){this.canFillStyleBeUpdated(t)&&this.appendStyle(t,"fill",e),this.canStrokeStyleBeUpdated(t)&&this.appendStyle(t,"stroke",e)}),this))}),this))},canFillStyleBeUpdated:function(t){var e=this.getStyle(t,"fill");return!e||"none"!==e.trim()},canStrokeStyleBeUpdated:function(t){var e=this.getStyle(t,"stroke");return e&&"none"!==e.trim()},getStyle:function(t,e){var n=this.getStyleValue(t,e);return n||(n=t.getAttribute(e)),n},removeIllegalNodes:function(t){this.removeNodesByNodeName(t,"foreignObject")},removeNodesByNodeName:function(t,e){var n=t.getElementsByTagName(e);if(n)for(var i=n.length-1;i>=0;i--){var r=n[i];r.parentNode.removeChild(r)}},handleTitle:function(t,e,n){var i=t.getElementsByTagName("title"),r=t.documentElement;if(e||n){var o="title"+d.default.randomId();if(r.setAttribute("role","img"),r.setAttribute("aria-labelledby",o),r.removeAttribute("aria-hidden"),null==i||0===i.length){var a=t.createElement("title");r.appendChild(a),i=t.getElementsByTagName("title")}i[0].innerHTML=e,i[0].setAttribute("id",o)}else r.setAttribute("aria-hidden","true")},findChildNode:function(t,e){return u.default.find(t.childNodes,(function(t){return t.nodeName===e}))},appendNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.appendChild(i,e.firstChild),i},prependNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.insertBefore(i,e.firstChild),i},addLinearGradient:function(t,e,n){var i=t.documentElement,r=this.findChildNode(i,"defs");r||(r=this.prependNewChildNode(t,i,"defs"));var o=this.findChildNode(r,"linearGradient"),a=(null==o?void 0:o.getAttribute("id"))||"";null!=o&&0!==o.length||(o=this.prependNewChildNode(t,r,"linearGradient")),o.getAttribute("data-cerosgradient")||0===a.indexOf("CerosGradient_")||(o=this.prependNewChildNode(t,r,"linearGradient")),o.setAttribute("class","cerosgradient"),o.setAttribute("data-cerosgradient",!0),o.setAttribute("id",e),o.setAttribute("gradientUnits","userSpaceOnUse");var s=l.calcRotatedLineIntersect(n.angle,100,100);o.setAttribute("x1",s.startPt.getX()+"%"),o.setAttribute("y1",s.startPt.getY()+"%"),o.setAttribute("x2",s.endPt.getX()+"%"),o.setAttribute("y2",s.endPt.getY()+"%"),u.default.each(n.stops,u.default.bind((function(e,i){var r=100*i/(n.stops.length-1),a=o.getElementsByTagName("stop")[i];null!=a&&0!==a.length||(a=this.appendNewChildNode(t,o,"stop")),a.setAttribute("offset",r+"%"),a.setAttribute("stop-color",e.color)}),this))},createSVGNode:function(t,e){return t.createElementNS("http://www.w3.org/2000/svg",e)},supportsObjectURLs:function(){return!c.default.isPhantomJS()&&!c.default.isJsDom()},createObjectURL:function(t){if(this.supportsObjectURLs()){var e=this.createBlob(t);return this.getDOMURL().createObjectURL(e)}var n=this.createXmlString(t);return"data:image/svg+xml;base64,"+window.btoa(n)},createBlob:function(t){var e=this.createXmlString(t);return new Blob([e],{type:"image/svg+xml"})},createXmlString:function(t){return(new XMLSerializer).serializeToString(t)},revokeObjectURL:function(t){this.supportsObjectURLs()&&this.getDOMURL().revokeObjectURL(t)},getDOMURL:function(){return window.URL||window.webkitURL||window},isDataURL:function(t){return u.default.isString(t)&&0===t.indexOf("data:")},isVectorDataURL:function(t){return u.default.isString(t)&&0===t.indexOf("data:image/svg+xml;base64,")},convertToXMLString:function(t){if(!this.isVectorDataURL(t))throw new Error("Expected data url to start with data:image/svg+xml;base64,");var e=t.substring("data:image/svg+xml;base64,".length);return window.atob(e)},appendStyle:function(t,e,n){var i=t.getAttribute("style"),r=e+":"+n+";";i&&i.length>0?(";"!==i.substr(i.length-1)&&(i+=";"),i+=r):i=r,t.setAttribute("style",i)},getStyleValue:function(t,e){var n=t.getAttribute("style");if(!n||0===n.length)return null;var i=n.split(";");if(!i)return null;for(var r=null,o=i.length-1;o>=0;o--){var a=i[o].split(":");if(a&&2==a.length)if(a[0].trim()===e){r=a[1].trim();break}}return r},createImageElement:function(t,e){var n=s.default("<img/>");return e&&n.attr(e),n.on("error",u.default.bind((function(){this.revokeObjectURL(t)}),this)),n.attr("src",t),n},renameCssClassesAndIds:function(t,e){return t=this.renameCssClasses(t,e),t=this.renameIds(t,e)},renameCssClasses:function(t,e){var n=this.extractStyleFromSvg(t),i=this.extractClassesFromSvg(t),r=null;n&&i&&(r=this.matchCssClasses(n[2]));var o=function(t){return t.original+t.newOne};if(r&&r.length>0){for(var a=u.default.uniq(r),s=new Array,l=new Set,c=0,d=a;c<d.length;c++){var h=d[c],f=h.indexOf("{")===h.length-1,p=new RegExp("[.|{|,]","gi"),g=h.replace(p,"").replace(" ","")+"-"+e,m=o(S={original:h,newOne:f?"."+g+"{":"."+g+","});l.has(m)||(s.push(S),l.add(m))}for(var v=0,y=i;v<y.length;v++){var _=y[v],b=_.replace("class=","").replace('"',"").replace('"',"").split(" ");m=o(S={original:_,newOne:'class="'+(b=this.formatClasses(b,e)).join(" ")+'"'});l.has(m)||(s.push(S),l.add(m))}for(var T=0,w=s;T<w.length;T++){var S=w[T];t=t.replaceAll(S.original,S.newOne)}}return t},formatClasses:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].indexOf("cerosgradient")>-1;t[n]=i?t[n]:t[n]+"-"+e}return t},renameIds:function(t,e){var n=this.matchIds(t);if(n)for(var i=u.default.uniq(n),r=0;r<i.length;r++){var o=i[r].replace("id=","").replace(/\"/gi,""),a=""+o+e,s=new RegExp('id=\\"'+o+'\\"',"gi");t=t.replace(s,'id="'+a+'"');var l=new RegExp('begin=\\"(.+)?'+o+"\\.","gi");t=t.replace(l,'begin="$1'+a+".");var c=new RegExp('end=\\"'+o+"\\.","gi");t=t.replace(c,'end="'+a+".");var d=new RegExp('xlink:href=\\"#'+o+'\\"',"gi");t=t.replace(d,'xlink:href="#'+a+'"');var h=new RegExp("url\\(\\&quot\\;#"+o+"\\&quot\\;\\)","gi");t=t.replace(h,"url(&quot;#"+a+"&quot;");var f=new RegExp(o+"\\)","gi");t=t.replace(f,a+")")}return t},extractClassesFromSvg:function(t){return t.match(/class=\"([^"]*)\"/g)},extractStyleFromSvg:function(t){return t.match(/<style(.+)?>([\s\S]+?)<\/style>/)},matchCssClasses:function(t){return t.match(/(\.(?![^{]*})([\w+\-]+?)(\s+)?[\{|(\,])/g)},matchIds:function(t){var e=new RegExp('id=\\"?([a-zA-Z][\\w|\\:|\\.|\\-]*)\\"?',"gi");return t.match(e)},colorToGradient:function(t){return{angle:0,stops:[{color:t},{color:t}]}},preventXss:function(t){var e=/\b(on\w+=[\w|\(|\)|\'|\"| ]+)[ |\>|\/]/i,n=t.match(e);if(n){for(;n;)n=(t=t.replace(n[1]," ")).match(e);t=t.replace(/\s\s+/g," ").replace(" >",">")}return t},fetchSvg:function(t,e){var n=this;t.startsWith("http://")&&(t="https"+t.substring("http".length)),s.default.ajax({type:"GET",url:t,dataType:"text",cache:!0,success:function(t){t=n.preventXss(t),e.resolve(t)},error:function(){e.reject()}})}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4));e.default=r.default.extend({events:{},unregisteredHandlers:{},registerEvents:function(t,e){r.default.each(t,r.default.bind((function(t){this.events[t]=e,this.unregisteredHandlers[t]&&(r.default.each(this.unregisteredHandlers[t],r.default.bind((function(e){this.on(t,e)}),this)),this.unregisteredHandlers[t]=null)}),this))}},o.default.Events)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(2)),o=i(n(0)),a=i(n(4)),s=null,u=a.default.Model.extend({defaults:{top:null,bottom:null,windowWidth:null,windowHeight:null},validPositionProperties:["top","bottom","windowWidth","windowHeight"],setPositionData:function(t){var e=o.default.pick(t,this.validPositionProperties);this.set(e)},getTop:function(){return this.get("top")},getBottom:function(){return this.get("bottom")},getWindowWidth:function(){return this.get("windowWidth")},getWindowHeight:function(){return this.get("windowHeight")},getVerticalCenterOfVisibleArea:function(t){var e=Math.max(this.getTop(),0);return(Math.min(this.getBottom(),t)-e)/2+e},getEmbedContextDimensions:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();return r.default.allowAdaptiveLayouts&&!1===o.default.isNull(t)&&!1===o.default.isNull(e)?{width:t,height:e}:{width:window.innerWidth,height:window.innerHeight}},isActive:function(){return null!==this.get("top")&&null!==this.get("bottom")}},{getInstance:function(){return s||(s=new u),s}});e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e,n,i){var o=parseFloat(i);return(r.default.isUndefined(i)||r.default.isNaN(o))&&(o=1),null!==t&&(this.r=parseInt(t,10)),null!==e&&(this.g=parseInt(e,10)),null!==n&&(this.b=parseInt(n,10)),this.a=o,this};o.prototype={toHex:function(){var t;return null===this.r||null===this.g||null===this.b?"transparent":(t=(this.b|this.g<<8|this.r<<16).toString(16),(t="#"+"000000".substr(0,6-t.length)+t).toUpperCase())},isTransparent:function(){return!this.a},set:function(t){return r.default.each(t,r.default.bind((function(t,e){this[e]=t}),this)),this},hsv:function(){var t={h:0,s:0,v:0},e=this.r/255,n=this.g/255,i=this.b/255,r=Math.min(e,Math.min(n,i)),o=Math.max(e,Math.max(n,i));if(r==o)return t.v=r,t;var a=e==r?n-i:i==r?e-n:i-e,s=e==r?3:i==r?1:5;return t.h=60*(s-a/(o-r)),t.s=(o-r)/o,t.v=o,t},rgb:function(){return{r:this.r,g:this.g,b:this.b}},rgba:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},cmyk:function(){var t={c:0,m:0,y:0,k:0},e=this.r/255,n=this.g/255,i=this.b/255;return t.k=Math.min(1-e,1-n,1-i),t.c=(1-e-t.k)/(1-t.k),t.m=(1-n-t.k)/(1-t.k),t.y=(1-i-t.k)/(1-t.k),isNaN(t.c)&&(t.c=0),isNaN(t.m)&&(t.m=0),isNaN(t.y)&&(t.y=0),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},contrastRatio:function(t){t=o.fromString(t);var e=this.relativeLuminance(),n=t.relativeLuminance();if(e<n){var i=e;e=n,n=i}return(e+.05)/(n+.05)},relativeLuminance:function(){var t=function(t){return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)};return.2126*t(this.r/255)+.7152*t(this.g/255)+.0722*t(this.b/255)},clone:function(){return new o(this.r,this.g,this.b,this.a)},cloneWithAlpha:function(t){var e=this.clone();return e.a=t,e},toString:function(){return null!==this.r&&null!==this.g&&null!==this.b?null!==this.a&&1!==this.a?"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")":this.toHex():"transparent"},toValue:function(){return[this.r,this.g,this.b,this.a]}},o.fromHex=function(t){var e,n,i;return"#"===t[0]&&(t=t.substring(1,7)),3===t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),i=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),e=parseInt(t.substring(4,6),16),new o(i,n,e)},o.fromHSV=function(t,e,n){var i,a,s,u,l,c,d,h;if(r.default.isObject(t)&&(e=t.s,n=t.v,t=t.h),0===e)return c=d=h=n,new o(255*c,255*d,255*h);switch(s=n*(1-e),u=n*(1-e*(a=(t/=60)-(i=Math.floor(t)))),l=n*(1-e*(1-a)),i){case 0:c=n,d=l,h=s;break;case 1:c=u,d=n,h=s;break;case 2:c=s,d=n,h=l;break;case 3:c=s,d=u,h=n;break;case 4:c=l,d=s,h=n;break;default:c=n,d=s,h=u}return new o(255*c,255*d,255*h)},o.fromCMYK=function(t,e,n,i){r.default.isObject(t)&&(e=t.m,n=t.y,i=t.k,t=t.c);var a=o.Black();return t/=100,e/=100,n/=100,i/=100,a.r=1-Math.min(1,t*(1-i)+i),a.g=1-Math.min(1,e*(1-i)+i),a.b=1-Math.min(1,n*(1-i)+i),a.r=Math.round(255*a.r),a.g=Math.round(255*a.g),a.b=Math.round(255*a.b),a},o.fromString=function(t){var e,n,i,r,a,s,u;if(t instanceof o)return t;var l=t.match(this.regex);return l?(a=l[1],s=l[2],a?o.fromHex(a):s?(e=(u=s.split(/\s*,\s*/))[0],n=u[1],i=u[2],r=u[3],new o(e,n,i,r)):void 0):null},o.regex=/(?:#([0-9a-f]{3,6})|rgba?\(([^)]+)\))/i,o.buildStops=function(t){return r.default.map(t,(function(t){return o.fromString(t.color)+" "+parseInt(100*t.stop,10)+"%"})).join(",")},o.White=function(t){return new o(255,255,255,t)},o.Black=function(t){return new o(0,0,0,t)},o.Transparent=function(){return new o},o.getMostContrasting=function(t,e,n){return t=o.fromString(t),e=o.fromString(e),n=o.fromString(n),t.contrastRatio(e)>t.contrastRatio(n)?e:n},window.Color=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(16)),a=i(n(3)),s=i(n(29));e.default={CONSTANTS:{DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:100},calculateWidthForDevicePixelRatio:function(t){return t*a.default.pixelRatio()},calculateDimensions:function(t,e,n,i){var r;if(s.default.isVectorBased(t)){var a=i?this.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:Math.min(e,n);r=o.default.scaleBoxToMaxDimension(e,n,a)}else r={width:Math.round(e/2),height:Math.round(n/2)};return r},shouldConstrainImageSize:function(t,e,n,i){return!!(s.default.isVectorBased(t)&&i||s.default.isVectorBased(t)&&(!e||!n))||!s.default.isVectorBased(t)},base64toBlob:function(t,e,n){e=r.default.isString(e)?e:"",n=r.default.isNumber(n)?n:512;for(var i=atob(t),o=[],a=0;a<i.length;a+=n){for(var s=i.slice(a,a+n),u=new Array(s.length),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);o.push(c)}return new Blob(o,{type:e})},createFileFromBase64:function(t,e,n){return new File([this.base64toBlob(t)],e,{type:n})},isBase64EncodedImage:function(t){return"data:image"===t.slice(0,10)},encodedSvgStringAsBase64:function(t){return"url('data:image/svg+xml;base64,"+(t=btoa(t.trim()))+"')"},getScaleValueFromFlip:function(t){return{scaleXValue:t.flipHorizontal?-1:1,scaleYValue:t.flipVertical?-1:1}}}},function(t,e,n){"use strict";(function(e){
/**
 * @license
 * Video.js 7.10.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
t.exports=function(t,n){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var i=[],r=function e(n){var r,o="info",a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r("log",o,e)};return r=function(e,n){return function(r,o,a){var s=n.levels[o],u=new RegExp("^("+s+")$");if("log"!==r&&a.unshift(r.toUpperCase()+":"),a.unshift(e+":"),i){i.push([].concat(a));var l=i.length-1e3;i.splice(0,l>0?l:0)}if(t.console){var c=t.console[r];c||"debug"!==r||(c=t.console.info||t.console.log),c&&s&&u.test(r)&&c[Array.isArray(a)?"apply":"call"](t.console,a)}}}(n,a),a.createLogger=function(t){return e(n+": "+t)},a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},a.level=function(t){if("string"==typeof t){if(!a.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');o=t}return o},(a.history=function(){return i?[].concat(i):[]}).filter=function(t){return(i||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},a.history.clear=function(){i&&(i.length=0)},a.history.disable=function(){null!==i&&(i.length=0,i=null)},a.history.enable=function(){null===i&&(i=[])},a.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("error",o,e)},a.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("warn",o,e)},a.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("debug",o,e)},a}("VIDEOJS"),o=r.createLogger;function a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t,e){return t(e={exports:{}},e.exports),e.exports}var u=s((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.apply(this,arguments)}t.exports=e})),l=Object.prototype.toString,c=function(t){return f(t)?Object.keys(t):[]};function d(t,e){c(t).forEach((function(n){return e(t[n],n)}))}function h(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?u.apply(void 0,[t].concat(n)):(n.forEach((function(e){e&&d(e,(function(e,n){t[n]=e}))})),t)}function f(t){return!!t&&"object"==typeof t}function p(t){return f(t)&&"[object Object]"===l.call(t)&&t.constructor===Object}function g(e,n){if(!e||!n)return"";if("function"==typeof t.getComputedStyle){var i=t.getComputedStyle(e);return i?i.getPropertyValue(n)||i[n]:""}return""}function m(t){return"string"==typeof t&&Boolean(t.trim())}function v(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function y(){return n===t.document}function _(t){return f(t)&&1===t.nodeType}function b(){try{return t.parent!==t.self}catch(t){return!0}}function T(t){return function(e,i){if(!m(e))return n[t](null);m(i)&&(i=n.querySelector(i));var r=_(i)?i:n;return r[t]&&r[t](e)}}function w(t,e,i,o){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===i&&(i={});var a=n.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(r.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+n+"."),a.setAttribute(t,n)):"textContent"===t?S(a,n):a[t]!==n&&(a[t]=n)})),Object.getOwnPropertyNames(i).forEach((function(t){a.setAttribute(t,i[t])})),o&&H(a,o),a}function S(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function E(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function O(t,e){return v(e),t.classList?t.classList.contains(e):(n=e,new RegExp("(^|\\s)"+n+"($|\\s)")).test(t.className);var n}function C(t,e){return t.classList?t.classList.add(e):O(t,e)||(t.className=(t.className+" "+e).trim()),t}function A(t,e){return t.classList?t.classList.remove(e):(v(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function P(t,e,n){var i=O(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?C(t,e):A(t,e),t}function I(t,e){Object.getOwnPropertyNames(e).forEach((function(n){var i=e[n];null==i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)}))}function x(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var o=i[r].name,a=i[r].value;"boolean"!=typeof t[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),e[o]=a}return e}function M(t,e){return t.getAttribute(e)}function k(t,e,n){t.setAttribute(e,n)}function D(t,e){t.removeAttribute(e)}function R(){n.body.focus(),n.onselectstart=function(){return!1}}function N(){n.onselectstart=function(){return!0}}function L(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n.height||(n.height=parseFloat(g(t,"height"))),n.width||(n.width=parseFloat(g(t,"width"))),n}}function V(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};var e=t.offsetWidth,n=t.offsetHeight,i=0,r=0;do{i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent}while(t);return{left:i,top:r,width:e,height:n}}function F(t,e){var n={},i=V(e.target),r=V(t),o=r.width,a=r.height,s=e.offsetY-(r.top-i.top),u=e.offsetX-(r.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-r.left,s=e.changedTouches[0].pageY+r.top),n.y=1-Math.max(0,Math.min(1,s/a)),n.x=Math.max(0,Math.min(1,u/o)),n}function j(t){return f(t)&&3===t.nodeType}function U(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function B(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),_(t)||j(t)?t:"string"==typeof t&&/\S/.test(t)?n.createTextNode(t):void 0})).filter((function(t){return t}))}function H(t,e){return B(e).forEach((function(e){return t.appendChild(e)})),t}function G(t,e){return H(U(t),e)}function W(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var z,$=T("querySelector"),Y=T("querySelectorAll"),q=Object.freeze({__proto__:null,isReal:y,isEl:_,isInFrame:b,createEl:w,textContent:S,prependTo:E,hasClass:O,addClass:C,removeClass:A,toggleClass:P,setAttributes:I,getAttributes:x,getAttribute:M,setAttribute:k,removeAttribute:D,blockTextSelection:R,unblockTextSelection:N,getBoundingClientRect:L,findPosition:V,getPointerPosition:F,isTextNode:j,emptyEl:U,normalizeContent:B,appendContent:H,insertContent:G,isSingleLeftClick:W,$:$,$$:Y}),X=!1,K=function(){if(y()&&!1!==z.options.autoSetup){var t=Array.prototype.slice.call(n.getElementsByTagName("video")),e=Array.prototype.slice.call(n.getElementsByTagName("audio")),i=Array.prototype.slice.call(n.getElementsByTagName("video-js")),r=t.concat(e,i);if(r&&r.length>0)for(var o=0,a=r.length;o<a;o++){var s=r[o];if(!s||!s.getAttribute){Z(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&z(s)}else X||Z(1)}};function Z(e,n){n&&(z=n),t.setTimeout(K,e)}function J(){X=!0,t.removeEventListener("load",J)}y()&&("complete"===n.readyState?J():t.addEventListener("load",J));var Q,tt=function(t){var e=n.createElement("style");return e.className=t,e},et=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},nt=3;function it(){return nt++}t.WeakMap||(Q=function(){function e(){this.vdata="vdata"+Math.floor(t.performance&&t.performance.now()||Date.now()),this.data={}}var n=e.prototype;return n.set=function(t,e){var n=t[this.vdata]||it();return t[this.vdata]||(t[this.vdata]=n),this.data[n]=e,this},n.get=function(t){var e=t[this.vdata];if(e)return this.data[e];r("We have no data for this element",t)},n.has=function(t){return t[this.vdata]in this.data},n.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},e}());var rt,ot=t.WeakMap?new WeakMap:new Q;function at(t,e){if(ot.has(t)){var n=ot.get(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ot.delete(t)}}function st(t,e,n,i){n.forEach((function(n){t(e,n,i)}))}function ut(e){if(e.fixed_)return e;function i(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var o=e||t.event;for(var a in e={},o)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&o.preventDefault||(e[a]=o[a]));if(e.target||(e.target=e.srcElement||n),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){o.preventDefault&&o.preventDefault(),e.returnValue=!1,o.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),e.cancelBubble=!0,o.cancelBubble=!0,e.isPropagationStopped=i},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),e.isImmediatePropagationStopped=i,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var s=n.documentElement,u=n.body;e.pageX=e.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var lt=["touchstart","touchmove"];function ct(e,n,i){if(Array.isArray(n))return st(ct,e,n,i);ot.has(e)||ot.set(e,{});var o=ot.get(e);if(o.handlers||(o.handlers={}),o.handlers[n]||(o.handlers[n]=[]),i.guid||(i.guid=it()),o.handlers[n].push(i),o.dispatcher||(o.disabled=!1,o.dispatcher=function(t,n){if(!o.disabled){t=ut(t);var i=o.handlers[t.type];if(i)for(var a=i.slice(0),s=0,u=a.length;s<u&&!t.isImmediatePropagationStopped();s++)try{a[s].call(e,t,n)}catch(t){r.error(t)}}}),1===o.handlers[n].length)if(e.addEventListener){var a=!1;(function(){if("boolean"!=typeof rt){rt=!1;try{var e=Object.defineProperty({},"passive",{get:function(){rt=!0}});t.addEventListener("test",null,e),t.removeEventListener("test",null,e)}catch(t){}}return rt})()&&lt.indexOf(n)>-1&&(a={passive:!0}),e.addEventListener(n,o.dispatcher,a)}else e.attachEvent&&e.attachEvent("on"+n,o.dispatcher)}function dt(t,e,n){if(ot.has(t)){var i=ot.get(t);if(i.handlers){if(Array.isArray(e))return st(dt,t,e,n);var r=function(t,e){i.handlers[e]=[],at(t,e)};if(void 0!==e){var o=i.handlers[e];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);at(t,e)}else r(t,e)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(t,s)}}}function ht(t,e,n){var i=ot.has(t)?ot.get(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=ut(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles)ht.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){ot.has(e.target)||ot.set(e.target,{});var o=ot.get(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function ft(t,e,n){if(Array.isArray(e))return st(ft,t,e,n);var i=function i(){dt(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||it(),ct(t,e,i)}function pt(t,e,n){var i=function i(){dt(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||it(),ct(t,e,i)}var gt,mt=Object.freeze({__proto__:null,fixEvent:ut,on:ct,off:dt,trigger:ht,one:ft,any:pt}),vt=function(t,e,n){e.guid||(e.guid=it());var i=e.bind(t);return i.guid=n?n+"_"+e.guid:e.guid,i},yt=function(e,n){var i=t.performance.now();return function(){var r=t.performance.now();r-i>=n&&(e.apply(void 0,arguments),i=r)}},_t=function(){};_t.prototype.allowedEvents_={},_t.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ct(this,t,e),this.addEventListener=n},_t.prototype.addEventListener=_t.prototype.on,_t.prototype.off=function(t,e){dt(this,t,e)},_t.prototype.removeEventListener=_t.prototype.off,_t.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ft(this,t,e),this.addEventListener=n},_t.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},pt(this,t,e),this.addEventListener=n},_t.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=ut(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),ht(this,t)},_t.prototype.dispatchEvent=_t.prototype.trigger,_t.prototype.queueTrigger=function(e){var n=this;gt||(gt=new Map);var i=e.type||e,r=gt.get(this);r||(r=new Map,gt.set(this,r));var o=r.get(i);r.delete(i),t.clearTimeout(o);var a=t.setTimeout((function(){0===r.size&&(r=null,gt.delete(n)),n.trigger(e)}),0);r.set(i,a)};var bt=function(t){return t instanceof _t||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))},Tt=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},wt=function(t){if(!t.nodeName&&!bt(t))throw new Error("Invalid target; must be a DOM node or evented object.")},St=function(t){if(!Tt(t))throw new Error("Invalid event type; must be a non-empty string or array.")},Et=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},Ot=function(t,e){var n,i,r,o=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return o?(n=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],r=e[1]):(n=e[0],i=e[1],r=e[2]),wt(n),St(i),Et(r),{isTargetingSelf:o,target:n,type:i,listener:r=vt(t,r)}},Ct=function(t,e,n,i){wt(t),t.nodeName?mt[e](t,n,i):t[e](n,i)},At={on:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ot(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(Ct(a,"on",s,u),!o){var l=function(){return t.off(a,s,u)};l.guid=u.guid;var c=function(){return t.off("dispose",l)};c.guid=u.guid,Ct(this,"on","dispose",l),Ct(a,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ot(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)Ct(a,"one",s,u);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,Ct(a,"one",s,l)}},any:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ot(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)Ct(a,"any",s,u);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,Ct(a,"any",s,l)}},off:function(t,e,n){if(!t||Tt(t))dt(this.eventBusEl_,t,e);else{var i=t,r=e;wt(i),St(r),Et(n),n=vt(this,n),this.off("dispose",n),i.nodeName?(dt(i,r,n),dt(i,"dispose",n)):bt(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return ht(this.eventBusEl_,t,e)}};function Pt(e,n){void 0===n&&(n={});var i=n.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=w("span",{className:"vjs-event-bus"});return h(e,At),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(t){t()})),e.on("dispose",(function(){e.off(),t.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var It={state:{},setState:function(t){var e,n=this;return"function"==typeof t&&(t=t()),d(t,(function(t,i){n.state[i]!==t&&((e=e||{})[i]={from:n.state[i],to:t}),n.state[i]=t})),e&&bt(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function xt(t,e){return h(t,It),t.state=h({},t.state,e),"function"==typeof t.handleStateChanged&&bt(t)&&t.on("statechanged",t.handleStateChanged),t}var Mt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},kt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))};function Dt(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){e&&d(e,(function(e,n){p(e)?(p(t[n])||(t[n]={}),t[n]=Dt(t[n],e)):t[n]=e}))})),t}var Rt=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(t){return t in this.map_},e.delete=function(t){var e=this.has(t);return delete this.map_[t],e},e.set=function(t,e){return this.set_[t]=e,this},e.forEach=function(t,e){for(var n in this.map_)t.call(e,this.map_[n],n,this)},t}(),Nt=t.Map?t.Map:Rt,Lt=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var n in this.set_)t.call(e,n,n,this)},t}(),Vt=t.Set?t.Set:Lt,Ft=function(){function e(t,e,n){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Dt({},this.options_),e=this.options_=Dt(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+it()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&Pt(this,{eventBusKey:this.el_?"el_":null}),xt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Vt,this.setIntervalIds_=new Vt,this.rafIds_=new Vt,this.namedRafs_=new Nt,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var n=e.prototype;return n.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ot.has(this.el_)&&ot.delete(this.el_),this.el_=null),this.player_=null}},n.isDisposed=function(){return Boolean(this.isDisposed_)},n.player=function(){return this.player_},n.options=function(t){return t?(this.options_=Dt(this.options_,t),this.options_):this.options_},n.el=function(){return this.el_},n.createEl=function(t,e,n){return w(t,e,n)},n.localize=function(t,e,n){void 0===n&&(n=t);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],a=i&&i.split("-")[0],s=r&&r[a],u=n;return o&&o[t]?u=o[t]:s&&s[t]&&(u=s[t]),e&&(u=u.replace(/\{(\d+)\}/g,(function(t,n){var i=e[n-1],r=i;return void 0===i&&(r=t),r}))),u},n.contentEl=function(){return this.contentEl_||this.el_},n.id=function(){return this.id_},n.name=function(){return this.name_},n.children=function(){return this.children_},n.getChildById=function(t){return this.childIndex_[t]},n.getChild=function(t){if(t)return this.childNameIndex_[t]},n.getDescendant=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=e.reduce((function(t,e){return t.concat(e)}),[]);for(var i=this,r=0;r<e.length;r++)if(!(i=i.getChild(e[r]))||!i.getChild)return;return i},n.addChild=function(t,n,i){var r,o;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof t){o=kt(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(o=o||r.name&&kt(r.name()))&&(this.childNameIndex_[o]=r,this.childNameIndex_[Mt(o)]=r),"function"==typeof r.el&&r.el()){var u=null;this.children_[i+1]&&(this.children_[i+1].el_?u=this.children_[i+1].el_:_(this.children_[i+1])&&(u=this.children_[i+1])),this.contentEl().insertBefore(r.el(),u)}return r},n.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[kt(t.name())]=null,this.childNameIndex_[Mt(t.name())]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},n.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,r=this.options_,o=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(t){return!i.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(e){var i,r;return"string"==typeof e?r=n[i=e]||t.options_[i]||{}:(i=e.name,r=e),{name:i,opts:r}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||kt(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}}))}},n.buildCSSClass=function(){return""},n.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},n.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},n.$=function(t,e){return $(t,e||this.contentEl())},n.$$=function(t,e){return Y(t,e||this.contentEl())},n.hasClass=function(t){return O(this.el_,t)},n.addClass=function(t){C(this.el_,t)},n.removeClass=function(t){A(this.el_,t)},n.toggleClass=function(t,e){P(this.el_,t,e)},n.show=function(){this.removeClass("vjs-hidden")},n.hide=function(){this.addClass("vjs-hidden")},n.lockShowing=function(){this.addClass("vjs-lock-showing")},n.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.getAttribute=function(t){return M(this.el_,t)},n.setAttribute=function(t,e){k(this.el_,t,e)},n.removeAttribute=function(t){D(this.el_,t)},n.width=function(t,e){return this.dimension("width",t,e)},n.height=function(t,e){return this.dimension("height",t,e)},n.dimensions=function(t,e){this.width(t,!0),this.height(e)},n.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+kt(t)],10)},n.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=g(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var n="offset"+kt(t);e=this.el_[n]}return e},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.el_.focus()},n.blur=function(){this.el_.blur()},n.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},n.handleKeyPress=function(t){this.handleKeyDown(t)},n.emitTapEvents=function(){var e,n=0,i=null;this.on("touchstart",(function(r){1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},n=t.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(i){var n=t.touches[0].pageX-i.pageX,r=t.touches[0].pageY-i.pageY;Math.sqrt(n*n+r*r)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){i=null,!0===e&&t.performance.now()-n<200&&(r.preventDefault(),this.trigger("tap"))}))},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=vt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},n.setTimeout=function(e,n){var i,r=this;return e=vt(this,e),this.clearTimersOnDispose_(),i=t.setTimeout((function(){r.setTimeoutIds_.has(i)&&r.setTimeoutIds_.delete(i),e()}),n),this.setTimeoutIds_.add(i),i},n.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),t.clearTimeout(e)),e},n.setInterval=function(e,n){e=vt(this,e),this.clearTimersOnDispose_();var i=t.setInterval(e,n);return this.setIntervalIds_.add(i),i},n.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),t.clearInterval(e)),e},n.requestAnimationFrame=function(e){var n,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=vt(this,e),n=t.requestAnimationFrame((function(){i.rafIds_.has(n)&&i.rafIds_.delete(n),e()})),this.rafIds_.add(n),n):this.setTimeout(e,1e3/60)},n.requestNamedAnimationFrame=function(t,e){var n=this;if(!this.namedRafs_.has(t)){this.clearTimersOnDispose_(),e=vt(this,e);var i=this.requestAnimationFrame((function(){e(),n.namedRafs_.has(t)&&n.namedRafs_.delete(t)}));return this.namedRafs_.set(t,i),t}},n.cancelNamedAnimationFrame=function(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))},n.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),t.cancelAnimationFrame(e)),e):this.clearTimeout(e)},n.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){var n=e[0],i=e[1];t[n].forEach((function(e,n){return t[i](n)}))})),t.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i,r=e.getComponent("Tech"),o=r&&r.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!a)throw i=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+i+".");t=kt(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map((function(t){return u[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Mt(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();Ft.prototype.supportsRaf_="function"==typeof t.requestAnimationFrame&&"function"==typeof t.cancelAnimationFrame,Ft.registerComponent("Component",Ft);var jt=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};s((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e})),s((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e}));var Ut,Bt=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},Ht=t.navigator&&t.navigator.userAgent||"",Gt=/AppleWebKit\/([\d.]+)/i.exec(Ht),Wt=Gt?parseFloat(Gt.pop()):null,zt=/iPod/i.test(Ht),$t=(Ut=Ht.match(/OS (\d+)_/i))&&Ut[1]?Ut[1]:null,Yt=/Android/i.test(Ht),qt=function(){var t=Ht.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),Xt=Yt&&qt<5&&Wt<537,Kt=/Firefox/i.test(Ht),Zt=/Edg/i.test(Ht),Jt=!Zt&&(/Chrome/i.test(Ht)||/CriOS/i.test(Ht)),Qt=function(){var t=Ht.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),te=function(){var t=/MSIE\s(\d+)\.\d/.exec(Ht),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Ht)&&/rv:11.0/.test(Ht)&&(e=11),e}(),ee=/Safari/i.test(Ht)&&!Jt&&!Yt&&!Zt,ne=/Windows/i.test(Ht),ie=y()&&("ontouchstart"in t||t.navigator.maxTouchPoints||t.DocumentTouch&&t.document instanceof t.DocumentTouch),re=/iPad/i.test(Ht)||ee&&ie&&!/iPhone/i.test(Ht),oe=/iPhone/i.test(Ht)&&!re,ae=oe||re||zt,se=(ee||ae)&&!Jt,ue=Object.freeze({__proto__:null,IS_IPOD:zt,IOS_VERSION:$t,IS_ANDROID:Yt,ANDROID_VERSION:qt,IS_NATIVE_ANDROID:Xt,IS_FIREFOX:Kt,IS_EDGE:Zt,IS_CHROME:Jt,CHROME_VERSION:Qt,IE_VERSION:te,IS_SAFARI:ee,IS_WINDOWS:ne,TOUCH_ENABLED:ie,IS_IPAD:re,IS_IPHONE:oe,IS_IOS:ae,IS_ANY_SAFARI:se});function le(t,e,n,i){return function(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,i,n.length-1),n[i][e]}function ce(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:le.bind(null,"start",0,t),end:le.bind(null,"end",1,t)}}function de(t,e){return Array.isArray(t)?ce(t):void 0===t||void 0===e?ce():ce([[t,e]])}function he(t,e){var n,i,r=0;if(!e)return 0;t&&t.length||(t=de(0,0));for(var o=0;o<t.length;o++)n=t.start(o),(i=t.end(o))>e&&(i=e),r+=i-n;return r/e}for(var fe,pe={prefixed:!0},ge=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],me=ge[0],ve=0;ve<ge.length;ve++)if(ge[ve][1]in n){fe=ge[ve];break}if(fe){for(var ye=0;ye<fe.length;ye++)pe[me[ye]]=fe[ye];pe.prefixed=fe[0]!==me[0]}function _e(t){if(t instanceof _e)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:f(t)&&("number"==typeof t.code&&(this.code=t.code),h(this,t)),this.message||(this.message=_e.defaultMessages[this.code]||"")}_e.prototype.code=0,_e.prototype.message="",_e.prototype.status=null,_e.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_e.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var be=0;be<_e.errorTypes.length;be++)_e[_e.errorTypes[be]]=be,_e.prototype[_e.errorTypes[be]]=be;var Te=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]};function we(t){return null!=t&&"function"==typeof t.then}function Se(t){we(t)&&t.then(null,(function(t){}))}var Ee=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,n,i){return t[n]&&(e[n]=t[n]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},Oe=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,(function(t){return t.track}));return Array.prototype.map.call(e,(function(t){var e=Ee(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===n.indexOf(t)})).map(Ee))},Ce=function(t,e){return t.forEach((function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return n.addCue(t)}))})),e.textTracks()},Ae=s((function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var n,o=String(t);return(n=i[o.toLowerCase()])?n:(n=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var o;if(o=i[e.toLowerCase()])return o===n;if(o=r[e.toLowerCase()])return o===n}else if("number"==typeof e)return e===n;return!1}};var i=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
     * Programatically add the following
     */
for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var a=e.names=e.title={};for(o in i)a[i[o]]=o;for(var s in r)i[s]=r[s]})),Pe=(Ae.code,Ae.codes,Ae.aliases,Ae.names,Ae.title,function(e){function i(t,n){var i;return(i=e.call(this,t,n)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=w("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=w("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),S(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}Bt(i,e);var r=i.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),G(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},r.empty=function(){this.trigger("beforemodalempty"),U(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return void 0!==t&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var t=n.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(t){if(t.stopPropagation(),Ae.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(Ae.isEventKey(t,"Tab")){for(var e,i=this.focusableEls_(),r=this.el_.querySelector(":focus"),o=0;o<i.length;o++)if(r===i[o]){e=o;break}n.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(i[i.length-1].focus(),t.preventDefault()):t.shiftKey||e!==i.length-1||(i[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof t.HTMLAnchorElement||e instanceof t.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof t.HTMLInputElement||e instanceof t.HTMLSelectElement||e instanceof t.HTMLTextAreaElement||e instanceof t.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof t.HTMLIFrameElement||e instanceof t.HTMLObjectElement||e instanceof t.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},i}(Ft));Pe.prototype.options_={pauseOnOpen:!0,temporary:!0},Ft.registerComponent("ModalDialog",Pe);var Ie=function(t){function e(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(jt(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)n.addTrack(e[i]);return n}Bt(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},n.removeTrack=function(t){for(var e,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},n.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(_t);for(var xe in Ie.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Ie.prototype.allowedEvents_)Ie.prototype["on"+xe]=null;var Me=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},ke=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].enabled){Me(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,n}Bt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.enabled&&Me(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,Me(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Ie),De=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},Re=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].selected){De(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(jt(n),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}Bt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.selected&&De(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,De(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Ie),Ne=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Ie),Le=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),Ve=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(),Fe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},je={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ue={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Be={disabled:"disabled",hidden:"hidden",showing:"showing"},He=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var i={id:e.id||"vjs_track_"+it(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(jt(n),t,{get:function(){return i[t]},set:function(){}})};for(var o in i)r(o);return n}return Bt(e,t),e}(_t),Ge=function(e){var i=["protocol","hostname","port","pathname","search","hash","host"],r=n.createElement("a");r.href=e;var o,a=""===r.host&&"file:"!==r.protocol;a&&((o=n.createElement("div")).innerHTML='<a href="'+e+'"></a>',r=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),n.body.appendChild(o));for(var s={},u=0;u<i.length;u++)s[i[u]]=r[i[u]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=t.location.protocol),a&&n.body.removeChild(o),s},We=function(t){if(!t.match(/^https?:\/\//)){var e=n.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},ze=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},$e=function(e,n){void 0===n&&(n=t.location);var i=Ge(e);return(":"===i.protocol?n.protocol:i.protocol)+i.host!==n.protocol+n.host},Ye=Object.freeze({__proto__:null,parseUrl:Ge,getAbsoluteURL:We,getFileExtension:ze,isCrossOrigin:$e}),qe=function(t){var e=Xe.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}
/**
     * @license
     * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
     * Copyright (c) 2014 David Björklund
     * Available under the MIT license
     * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
     */,Xe=Object.prototype.toString,Ke=Qe,Ze=Qe;function Je(t,e,n){var i=t;return qe(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=u({},e,{uri:t}),i.callback=n,i}function Qe(t,e,n){return tn(e=Je(t,e,n))}function tn(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,i,r){e||(e=!0,t.callback(n,i,r))};function i(){var t=void 0;if(t=u.response?u.response:u.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(u),g)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(l),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,m)}function o(){if(!s){var e;clearTimeout(l),e=t.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=m,o=null;return 0!==e?(r={body:i(),statusCode:e,method:d,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(r.headers=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var n=t.indexOf(":"),i=t.slice(0,n).trim().toLowerCase(),r=t.slice(n+1).trim();void 0===e[i]?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]})),e):e}(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var a,s,u=t.xhr||null;u||(u=t.cors||t.useXDR?new Qe.XDomainRequest:new Qe.XMLHttpRequest);var l,c=u.url=t.uri||t.url,d=u.method=t.method||"GET",h=t.body||t.data,f=u.headers=t.headers||{},p=!!t.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:u};if("json"in t&&!1!==t.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(!0===t.json?h:t.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=r,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=r,u.open(d,c,!p,t.username,t.password),p||(u.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(l=setTimeout((function(){if(!s){s=!0,u.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}}),t.timeout)),u.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&u.setRequestHeader(a,f[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(u),u.send(h||null),u}Qe.XMLHttpRequest=t.XMLHttpRequest||function(){},Qe.XDomainRequest="withCredentials"in new Qe.XMLHttpRequest?Qe.XMLHttpRequest:t.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){Qe["delete"===t?"del":t]=function(e,n,i){return(n=Je(e,n,i)).method=t.toUpperCase(),tn(n)}})),Ke.default=Ze;var en=function(e,n){var i=new t.WebVTT.Parser(t,t.vttjs,t.WebVTT.StringDecoder()),o=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){o.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),o.length>0&&(t.console&&t.console.groupCollapsed&&t.console.groupCollapsed("Text Track parsing errors for "+n.src),o.forEach((function(t){return r.error(t)})),t.console&&t.console.groupEnd&&t.console.groupEnd()),i.flush()},nn=function(e,n){var i={uri:e},o=$e(e);o&&(i.cors=o);var a="use-credentials"===n.tech_.crossOrigin();a&&(i.withCredentials=a),Ke(i,vt(this,(function(e,i,o){if(e)return r.error(e,i);n.loaded_=!0,"function"!=typeof t.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return en(o,n);r.error("vttjs failed to load, stopping trying to process "+n.src)})):en(o,n)})))},rn=function(e){function n(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=Dt(t,{kind:Ue[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=Be[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new Ve(n.cues_),s=new Ve(n.activeCues_),u=!1,l=vt(jt(n),(function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)}));return"disabled"!==r&&n.tech_.ready((function(){n.tech_.on("timeupdate",l)}),!0),Object.defineProperties(jt(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;Be[t]&&(r=t,this.preload_||"disabled"===r||0!==this.cues.length||nn(this.src,this),"disabled"!==r?this.tech_.ready((function(){e.tech_.on("timeupdate",l)}),!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(u=!0);return this.activeCues_=e,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||o||"subtitles"!==i.kind&&"captions"!==i.kind)&&nn(n.src,jt(n))):n.loaded_=!0,n}Bt(n,e);var i=n.prototype;return i.addCue=function(e){var n=e;if(t.vttjs&&!(e instanceof t.vttjs.VTTCue)){for(var i in n=new t.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in n||(n[i]=e[i]);n.id=e.id,n.originalCue_=e}for(var r=this.tech_.textTracks(),o=0;o<r.length;o++)r[o]!==this&&r[o].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},i.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},n}(He);rn.prototype.allowedEvents_={cuechange:"cuechange"};var on=function(t){function e(e){var n;void 0===e&&(e={});var i=Dt(e,{kind:je[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(jt(n),"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return Bt(e,t),e}(He),an=function(t){function e(e){var n;void 0===e&&(e={});var i=Dt(e,{kind:Fe[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(jt(n),"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return Bt(e,t),e}(He),sn=function(t){function e(e){var n,i;void 0===e&&(e={}),n=t.call(this)||this;var r=new rn(e);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(jt(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:jt(n)})})),n}return Bt(e,t),e}(_t);sn.prototype.allowedEvents_={load:"load"},sn.NONE=0,sn.LOADING=1,sn.LOADED=2,sn.ERROR=3;var un={audio:{ListClass:ke,TrackClass:on,capitalName:"Audio"},video:{ListClass:Re,TrackClass:an,capitalName:"Video"},text:{ListClass:Ne,TrackClass:rn,capitalName:"Text"}};Object.keys(un).forEach((function(t){un[t].getterName=t+"Tracks",un[t].privateName=t+"Tracks_"}));var ln={remoteText:{ListClass:Ne,TrackClass:rn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Le,TrackClass:sn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},cn=u({},un,ln);ln.names=Object.keys(ln),un.names=Object.keys(un),cn.names=[].concat(ln.names).concat(un.names);var dn=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function hn(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function fn(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function pn(){this.values=dn(null)}function gn(t,e,n,i){var r=i?t.split(i):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&e(a[0],a[1])}}function mn(t,e,n){var i=t;function r(){var e=fn(t);if(null===e)throw new hn(hn.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new hn(hn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),o(),e.endTime=r(),o(),function(t,e){var i=new pn;gn(t,(function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=e.split(","),i.percent(t,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","center","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","center","end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");try{e.line=i.get("line","auto")}catch(t){}e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100);try{e.align=i.get("align","center")}catch(t){e.align=i.get("align","middle")}try{e.position=i.get("position","auto")}catch(t){e.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(t,e)}hn.prototype=dn(Error.prototype),hn.prototype.constructor=hn,hn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},pn.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var vn=n.createElement("textarea"),yn={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},_n={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},bn={v:"title",lang:"lang"},Tn={rt:"ruby"};function wn(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]*>?)?/);return t=n[1]?n[1]:n[2],e=e.substr(t.length),t}function i(t,e){return!Tn[e.localName]||Tn[e.localName]===t.localName}function r(e,n){var i=yn[e];if(!i)return null;var r=t.document.createElement(i),o=bn[e];return o&&n&&(r[o]=n.trim()),r}for(var o,a,s=t.document.createElement("div"),u=s,l=[];null!==(o=n());)if("<"!==o[0])u.appendChild(t.document.createTextNode((a=o,vn.innerHTML=a,a=vn.textContent,vn.textContent="",a)));else{if("/"===o[1]){l.length&&l[l.length-1]===o.substr(2).replace(">","")&&(l.pop(),u=u.parentNode);continue}var c,d=fn(o.substr(1,o.length-2));if(d){c=t.document.createProcessingInstruction("timestamp",d),u.appendChild(c);continue}var h=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(!(c=r(h[1],h[3])))continue;if(!i(u,c))continue;if(h[2]){var f=h[2].split(".");f.forEach((function(t){var e=/^bg_/.test(t),n=e?t.slice(3):t;if(_n.hasOwnProperty(n)){var i=e?"background-color":"color",r=_n[n];c.style[i]=r}})),c.className=f.join(" ")}l.push(h[1]),u.appendChild(c),u=c}return s}var Sn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function En(t){for(var e=0;e<Sn.length;e++){var n=Sn[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function On(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function r(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):n}return"ruby"===e.tagName?r(t):e.childNodes?(i(t,e),r(t)):void 0}for(i(e,t);n=r(e);)for(var o=0;o<n.length;o++)if(En(n.charCodeAt(o)))return"rtl";return"ltr"}function Cn(){}function An(t,e,n){Cn.call(this),this.cue=e,this.cueDiv=wn(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:On(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function Pn(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function In(t,e,n,i){var r=new Pn(e),o=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=r.lineHeight,c=l*Math.round(a),d=n[u]+l,h=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/l)*l),a<0&&(c+=""===o.vertical?n.height:n.width,s=s.reverse()),r.move(h,c)}else{var f=r.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=f/2;break;case"end":a-=f}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new Pn(e)}var p=function(t,e){for(var r,o=new Pn(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(i);)t.move(e[s]);if(t.within(n))return t;var u=t.intersectPercentage(n);a>u&&(r=new Pn(t),a=u),t=new Pn(o)}return r||o}(r,s);e.move(p.toCSSCompatValues(n))}function xn(){}Cn.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},Cn.prototype.formatStyle=function(t,e){return 0===t?0:t+e},An.prototype=dn(Cn.prototype),An.prototype.constructor=An,Pn.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},Pn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},Pn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},Pn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},Pn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},Pn.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},Pn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},Pn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},xn.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},xn.convertCueToDOMTree=function(t,e){return t&&e?wn(t,e):null},xn.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var r=[],o=Pn.getSimpleBoxPosition(i),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,u=0;u<e.length;u++)s=e[u],n=new An(t,s,a),i.appendChild(n.div),In(0,n,o,r),s.displayState=n.div,r.push(Pn.getSimpleBoxPosition(n))}()}else for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState)},xn.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},xn.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof hn))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){for(var t=e.buffer,n=0;n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}function i(t){t.match(/X-TIMESTAMP-MAP/)?gn(t,(function(t,n){switch(t){case"X-TIMESTAMP-MAP":!function(t){var n=new pn;gn(t,(function(t,e){switch(t){case"MPEGT":n.integer(t+"S",e);break;case"LOCA":n.set(t+"L",fn(e))}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):gn(t,(function(t,n){switch(t){case"Region":!function(t){var n=new pn;if(gn(t,(function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var r=new pn;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(t+"X",r.get("x")),n.set(t+"Y",r.get("y"));break;case"scroll":n.alt(t,e,["up"])}}),/=/,/\s/),n.has("id")){var i=new(e.vttjs.VTTRegion||e.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),e.onregion&&e.onregion(i),e.regionList.push({id:n.get("id"),region:i})}}(n)}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var o=(r=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new hn(hn.Errors.BadSignature);e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:r=n(),e.state){case"HEADER":/:/.test(r)?i(r):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(t){e.cue.align="middle"}if(e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":try{mn(r,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(a=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new hn(hn.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}};var Mn=xn,kn={"":1,lr:1,rl:1},Dn={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Rn(t){return"string"==typeof t&&!!Dn[t.toLowerCase()]&&t.toLowerCase()}function Nn(t,e,n){this.hasBeenReset=!1;var i="",r=!1,o=t,a=e,s=n,u=null,l="",c=!0,d="auto",h="start",f="auto",p="auto",g=100,m="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(t){i=""+t}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(t){r=!!t}},startTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");o=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");a=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(t){s=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(t){u=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(t){var e=function(t){return"string"==typeof t&&!!kn[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(t){c=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(t){var e=Rn(t);e?(h=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");f=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(t){var e=Rn(t);e?(p=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");g=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(t){var e=Rn(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");m=e,this.hasBeenReset=!0}}}),this.displayState=void 0}Nn.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ln=Nn,Vn={"":!0,up:!0};function Fn(t){return"number"==typeof t&&t>=0&&t<=100}var jn=function(){var t=100,e=3,n=0,i=100,r=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Fn(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(t){if(!Fn(t))throw new Error("RegionAnchorX must be between 0 and 100.");i=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!Fn(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Fn(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!Fn(t))throw new Error("ViewportAnchorX must be between 0 and 100.");r=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){var e=function(t){return"string"==typeof t&&!!Vn[t.toLowerCase()]&&t.toLowerCase()}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):a=e}}})},Un=s((function(e){var n=e.exports={WebVTT:Mn,VTTCue:Ln,VTTRegion:jn};t.vttjs=n,t.WebVTT=n.WebVTT;var i=n.VTTCue,r=n.VTTRegion,o=t.VTTCue,a=t.VTTRegion;n.shim=function(){t.VTTCue=i,t.VTTRegion=r},n.restore=function(){t.VTTCue=o,t.VTTRegion=a},t.VTTCue||n.shim()}));Un.WebVTT,Un.VTTCue,Un.VTTRegion;var Bn=function(e){function i(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(i=e.call(this,null,t,n)||this).hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),cn.names.forEach((function(e){var n=cn[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new cn.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}Bt(i,e);var o=i.prototype;return o.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},o.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(vt(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},o.onDurationChange=function(t){this.duration_=this.duration()},o.buffered=function(){return de(0,0)},o.bufferedPercent=function(){return he(this.buffered(),this.duration_)},o.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},o.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.dispose=function(){this.clearTracks(un.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},o.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}}))},o.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},o.reset=function(){},o.crossOrigin=function(){},o.setCrossOrigin=function(){},o.error=function(t){return void 0!==t&&(this.error_=new _e(t),this.trigger("error")),this.error_},o.played=function(){return this.hasStarted_?de(0,0):de()},o.setScrubbing=function(){},o.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.initTrackListeners=function(){var t=this;un.names.forEach((function(e){var n=un[e],i=function(){t.trigger(e+"trackchange")},r=t[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},o.addWebVttScript_=function(){var e=this;if(!t.WebVTT)if(n.body.contains(this.el())){if(!this.options_["vtt.js"]&&p(Un)&&Object.keys(Un).length>0)return void this.trigger("vttjsloaded");var i=n.createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",i.onload=function(){e.trigger("vttjsloaded")},i.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){i.onload=null,i.onerror=null})),t.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.addWebVttScript_)},o.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var o=function(){return t.trigger("texttrackchange")},a=function(){o();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++)e[t].removeEventListener("cuechange",o)}))},o.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i,r){void 0===r&&(r={});var o=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var a=new cn.text.TrackClass(r);return o.addTrack(a),a}(this,t,e,n)},o.createRemoteTextTrack=function(t){var e=Dt(t,{tech:this});return new ln.remoteTextEl.TrackClass(e)},o.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(r.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},o.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},o.getVideoPlaybackQuality=function(){return{}},o.requestPictureInPicture=function(){var e=this.options_.Promise||t.Promise;if(e)return e.reject()},o.disablePictureInPicture=function(){return!0},o.setDisablePictureInPicture=function(){},o.setPoster=function(){},o.playsinline=function(){},o.setPlaysinline=function(){},o.overrideNativeAudioTracks=function(){},o.overrideNativeVideoTracks=function(){},o.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(t,e){return i.canPlayType(t.type)},i.isTech=function(t){return t.prototype instanceof i||t instanceof i||t===i},i.registerTech=function(t,e){if(i.techs_||(i.techs_={}),!i.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=kt(t),i.techs_[t]=e,i.techs_[Mt(t)]=e,"Tech"!==t&&i.defaultTechOrder_.push(t),e},i.getTech=function(e){if(e)return i.techs_&&i.techs_[e]?i.techs_[e]:(e=kt(e),t&&t.videojs&&t.videojs[e]?(r.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),t.videojs[e]):void 0)},i}(Ft);cn.names.forEach((function(t){var e=cn[t];Bn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),Bn.prototype.featuresVolumeControl=!0,Bn.prototype.featuresMuteControl=!0,Bn.prototype.featuresFullscreenResize=!1,Bn.prototype.featuresPlaybackRate=!1,Bn.prototype.featuresProgressEvents=!1,Bn.prototype.featuresSourceset=!1,Bn.prototype.featuresTimeupdateEvents=!1,Bn.prototype.featuresNativeTextTracks=!1,Bn.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n,i=t.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(e,n))return i[r];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:r.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ft.registerComponent("Tech",Bn),Bn.registerTech("Tech",Bn),Bn.defaultTechOrder_=[];var Hn={},Gn={},Wn={};function zn(t,e,n){t.setTimeout((function(){return function t(e,n,i,r,o,a){void 0===e&&(e={}),void 0===n&&(n=[]),void 0===o&&(o=[]),void 0===a&&(a=!1);var s=n,u=s[0],l=s.slice(1);if("string"==typeof u)t(e,Hn[u],i,r,o,a);else if(u){var c=function(t,e){var n=Gn[t.id()],i=null;if(null==n)return i=e(t),Gn[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var o=n[r],a=o[0],s=o[1];a===e&&(i=s)}return null===i&&(i=e(t),n.push([e,i])),i}(r,u);if(!c.setSource)return o.push(c),t(e,l,i,r,o,a);c.setSource(h({},e),(function(n,s){if(n)return t(e,l,i,r,o,a);o.push(c),t(s,e.type===s.type?l:Hn[s.type],i,r,o,a)}))}else l.length?t(e,l,i,r,o,a):a?i(e,o):t(e,Hn["*"],i,r,o,!0)}(e,Hn[e.type],n,t)}),1)}function $n(t,e,n,i){void 0===i&&(i=null);var r="call"+kt(n),o=t.reduce(Kn(r),i),a=o===Wn,s=a?null:e[n](o);return function(t,e,n,i){for(var r=t.length-1;r>=0;r--){var o=t[r];o[e]&&o[e](i,n)}}(t,n,s,a),s}var Yn={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},qn={setCurrentTime:1,setMuted:1,setVolume:1},Xn={play:1,pause:1};function Kn(t){return function(e,n){return e===Wn?Wn:n[t]?n[t](e):e}}var Zn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Jn=function(t){void 0===t&&(t="");var e=ze(t);return Zn[e.toLowerCase()]||""};function Qn(t){if(!t.type){var e=Jn(t.src);e&&(t.type=e)}return t}var ti=function(t){function e(e,n,i){var r,o=Dt({createEl:!1},n);if(r=t.call(this,e,o,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var u=kt(s[a]),l=Bn.getTech(u);if(u||(l=Ft.getComponent(u)),l&&l.isSupported()){e.loadTech_(u);break}}return r}return Bt(e,t),e}(Ft);Ft.registerComponent("MediaLoader",ti);var ei=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).emitTapEvents(),i.enable(),i}Bt(e,t);var n=e.prototype;return n.createEl=function(e,n,i){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&r.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=h({role:"button"},i),this.tabIndex_=n.tabIndex;var o=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=w("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,S(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(e){Ae.isEventKey(e,"Space")||Ae.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(Ft);Ft.registerComponent("ClickableComponent",ei);var ni=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update(),e.on("posterchange",vt(jt(i),i.update)),i}Bt(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.createEl=function(){return w("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(te||Zt)&&e||this.player_.tech(!0).focus(),this.player_.paused()?Se(this.player_.play()):this.player_.pause()}},e}(ei);Ft.registerComponent("PosterImage",ni);var ii={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ri(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function oi(t,e,n){try{t.style[e]=n}catch(t){return}}var ai=function(e){function n(n,i,r){var o;o=e.call(this,n,i,r)||this;var a=vt(jt(o),o.updateDisplay);return n.on("loadstart",vt(jt(o),o.toggleDisplay)),n.on("texttrackchange",a),n.on("loadedmetadata",vt(jt(o),o.preselectTrack)),n.ready(vt(jt(o),(function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",a),n.on("playerresize",a),t.addEventListener("orientationchange",a),n.on("dispose",(function(){return t.removeEventListener("orientationchange",a)}));for(var e=this.options_.playerOptions.tracks||[],i=0;i<e.length;i++)this.player_.addRemoteTextTrack(e[i],!0);this.preselectTrack()}}))),o}Bt(n,e);var i=n.prototype;return i.preselectTrack=function(){for(var t,e,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in i?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,t=null,e=null):s.default&&("descriptions"!==s.kind||t?s.kind in i&&!e&&(e=s):t=s)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof t.WebVTT&&t.WebVTT.processCues(t,[],this.el_)},i.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var n=[],i=0;i<t.length;++i){var r=t[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{for(var o=null,a=null,s=t.length;s--;){var u=t[s];"showing"===u.mode&&("descriptions"===u.kind?o=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},i.updateDisplayState=function(e){for(var n=this.player_.textTrackSettings.getValues(),i=e.activeCues,r=i.length;r--;){var o=i[r];if(o){var a=o.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&oi(a.firstChild,"color",ri(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&oi(a.firstChild,"backgroundColor",ri(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?oi(a,"backgroundColor",ri(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var s=t.parseFloat(a.style.fontSize);a.style.fontSize=s*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=ii[n.fontFamily])}}},i.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof t.WebVTT&&!e.every((function(t){return!t.activeCues}))){for(var n=[],i=0;i<e.length;++i)for(var r=e[i],o=0;o<r.activeCues.length;++o)n.push(r.activeCues[o]);t.WebVTT.processCues(t,n,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],u=0;u<s.activeCues.length;++u){var l=s.activeCues[u].displayState;C(l,"vjs-text-track-cue"),C(l,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},n}(Ft);Ft.registerComponent("TextTrackDisplay",ai);var si=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=w("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},e}(Ft);Ft.registerComponent("LoadingSpinner",si);var ui=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),e=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=h({type:"button"},n);var i=Ft.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},n.addChild=function(t,e){void 0===e&&(e={});var n=this.constructor.name;return r.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Ft.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(e){Ae.isEventKey(e,"Space")||Ae.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(ei);Ft.registerComponent("Button",ui);var li=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Se(e),void(!this.player_.tech(!0)||(te||Zt)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};we(e)?e.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(ui);li.prototype.controlText_="Play Video",Ft.registerComponent("BigPlayButton",li);var ci=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(e){Ae.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(ui);Ft.registerComponent("CloseButton",ci);var di=function(t){function e(e,n){var i;return void 0===n&&(n={}),i=t.call(this,e,n)||this,n.replay=void 0===n.replay||n.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),n.replay&&i.on(e,"ended",i.handleEnded),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(ui);di.prototype.controlText_="Play",Ft.registerComponent("PlayToggle",di);var hi=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||o>=10)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)},fi=hi;function pi(t,e){return void 0===e&&(e=t),fi(t,e)}var gi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}Bt(e,t);var i=e.prototype;return i.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=w("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=pi(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(e.contentEl_){var t=e.textNode_;e.textNode_=n.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))},i.updateContent=function(t){},e}(Ft);gi.prototype.labelText_="Time",gi.prototype.controlText_="Time",Ft.registerComponent("TimeDisplay",gi);var mi=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(gi);mi.prototype.labelText_="Current Time",mi.prototype.controlText_="Current Time",Ft.registerComponent("CurrentTimeDisplay",mi);var vi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.updateContent),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(gi);vi.prototype.labelText_="Duration",vi.prototype.controlText_="Duration",Ft.registerComponent("DurationDisplay",vi);var yi=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(Ft);Ft.registerComponent("TimeDivider",yi);var _i=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(w("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},n.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(gi);_i.prototype.labelText_="Remaining Time",_i.prototype.controlText_="Remaining Time",Ft.registerComponent("RemainingTimeDisplay",_i);var bi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=w("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(Ft);Ft.registerComponent("LiveDisplay",bi);var Ti=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=w("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(ui);Ti.prototype.controlText_="Seek to live, currently playing live",Ft.registerComponent("SeekToLive",Ti);var wi=function(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))},Si=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}Bt(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=h({tabIndex:0},n),i=h({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Jt||t.preventDefault(),R(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;N(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(function(){var n=t.vertical()?"height":"width";t.bar.el().style[n]=(100*e).toFixed(2)+"%"}))),e}},n.getProgress=function(){return Number(wi(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(t){var e=F(this.el_,t);return this.vertical()?e.y:e.x},n.handleKeyDown=function(e){Ae.isEventKey(e,"Left")||Ae.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Ae.isEventKey(e,"Right")||Ae.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Ft);Ft.registerComponent("Slider",Si);var Ei=function(t,e){return wi(t/e*100,0,100).toFixed(2)+"%"},Oi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).partEls_=[],i.on(e,"progress",i.update),i}Bt(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=w("span",{className:"vjs-control-text"}),r=w("span",{textContent:this.localize("Loaded")}),o=n.createTextNode(": ");return this.percentageEl_=w("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(r),i.appendChild(o),i.appendChild(this.percentageEl_),e},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(t){var e=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var t=e.player_.liveTracker,n=e.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():e.player_.duration(),r=e.player_.bufferedEnd(),o=e.partEls_,a=Ei(r,i);e.percent_!==a&&(e.el_.style.width=a,S(e.percentageEl_,a),e.percent_=a);for(var s=0;s<n.length;s++){var u=n.start(s),l=n.end(s),c=o[s];c||(c=e.el_.appendChild(w()),o[s]=c),c.dataset.start===u&&c.dataset.end===l||(c.dataset.start=u,c.dataset.end=l,c.style.left=Ei(u,r),c.style.width=Ei(l-u,r))}for(var d=o.length;d>n.length;d--)e.el_.removeChild(o[d-1]);o.length=n.length}))},e}(Ft);Ft.registerComponent("LoadProgressBar",Oi);var Ci=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=yt(vt(jt(i),i.update),30),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n){var i=V(this.el_),r=L(this.player_.el()),o=t.width*e;if(r&&i){var a=t.left-r.left+o,s=t.width-o+(r.right-t.right),u=i.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",this.write(n)}},n.write=function(t){S(this.el_,t)},n.updateTime=function(t,e,n,i){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),u=s-e*s;o=(u<1?"":"-")+pi(u,s)}else o=pi(n,a);r.update(t,e,o),i&&i()}))},e}(Ft);Ft.registerComponent("TimeTooltip",Ci);var Ai=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=yt(vt(jt(i),i.update),30),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,e){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(t,e,i)}},e}(Ft);Ai.prototype.options_={children:[]},ae||Yt||Ai.prototype.options_.children.push("timeTooltip"),Ft.registerComponent("PlayProgressBar",Ai);var Pi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=yt(vt(jt(i),i.update),30),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this,i=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,i,(function(){n.el_.style.left=t.width*e+"px"}))},e}(Ft);Pi.prototype.options_={children:["timeTooltip"]},Ft.registerComponent("MouseTimeDisplay",Pi);var Ii=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).setEventHandlers_(),i}Bt(e,t);var i=e.prototype;return i.setEventHandlers_=function(){this.update_=vt(this,this.update),this.update=yt(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in n&&"visibilityState"in n&&this.on(n,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(t){n.hidden?this.disableInterval_(t):(this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},i.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(e){var n=this,i=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var t=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),e=n.player_.liveTracker,r=n.player_.duration();e&&e.isLive()&&(r=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===t&&n.duration_===r||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[pi(t,r),pi(r,r)],"{1} of {2}")),n.currentTime_=t,n.duration_=r),n.bar&&n.bar.update(L(n.el()),n.getProgress())})),i},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var t,e=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},i.handleMouseDown=function(e){W(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(t){if(W(t)){var e,n=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){if(n>=.99)return void i.seekToLiveEdge();var r=i.seekableStart(),o=i.liveCurrentTime();if((e=r+n*i.liveWindow())>=o&&(e=o),e<=r&&(e=r+.1),e===1/0)return}else(e=n*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Se(this.player_.play()):this.update_()},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},i.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(e){if(Ae.isEventKey(e,"Space")||Ae.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Ae.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(Ae.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Ae(e))){e.preventDefault(),e.stopPropagation();var n=10*(Ae.codes[Ae(e)]-Ae.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else Ae.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):Ae.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in n&&"visibilityState"in n&&this.off(n,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(Si);Ii.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ae||Yt||Ii.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ft.registerComponent("SeekBar",Ii);var xi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handleMouseMove=yt(vt(jt(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=yt(vt(jt(i),i.handleMouseSeek),30),i.enable(),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("playProgressBar"),i=e.getChild("mouseTimeDisplay");if(n||i){var r=e.el(),o=V(r),a=F(r,t).x;a=wi(a,0,1),i&&i.update(o,a),n&&n.update(o,e.getProgress())}}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(Ft);xi.prototype.options_={children:["seekBar"]},Ft.registerComponent("ProgressControl",xi);var Mi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),i.on(e,["disablepictureinpicturechanged","loadedmetadata"],i.handlePictureInPictureEnabledChange),i.disable(),i}Bt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){n.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},i.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(ui);Mi.prototype.controlText_="Picture-in-Picture",Ft.registerComponent("PictureInPictureToggle",Mi);var ki=function(t){function e(e,i){var r;return(r=t.call(this,e,i)||this).on(e,"fullscreenchange",r.handleFullscreenChange),!1===n[e.fsApi_.fullscreenEnabled]&&r.disable(),r}Bt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(ui);ki.prototype.controlText_="Fullscreen",Ft.registerComponent("FullscreenToggle",ki);var Di=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(Ft);Ft.registerComponent("VolumeLevel",Di);var Ri=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready((function(){return i.updateARIAAttributes()})),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){W(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){W(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(Si);Ri.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ri.prototype.playerEvent="volumechange",Ft.registerComponent("VolumeBar",Ri);var Ni=function(t){function e(e,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||p(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(jt(i),e),i.throttledHandleMouseMove=yt(vt(jt(i),i.handleMouseMove),30),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(Ft);Ni.prototype.options_={children:["volumeBar"]},Ft.registerComponent("VolumeControl",Ni);var Li=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(jt(i),e),i.on(e,["loadstart","volumechange"],i.update),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;ae&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)A(this.el_,"vjs-vol-"+n);C(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(ui);Li.prototype.controlText_="Mute",Ft.registerComponent("MuteToggle",Li);var Vi=function(t){function e(e,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||p(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=t.call(this,e,n)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}Bt(e,t);var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(t){Ae.isEventKey(t,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(t){this.addClass("vjs-hover"),ct(n,"keyup",vt(this,this.handleKeyPress))},i.handleMouseOut=function(t){this.removeClass("vjs-hover"),dt(n,"keyup",vt(this,this.handleKeyPress))},i.handleKeyPress=function(t){Ae.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(Ft);Vi.prototype.options_={children:["muteToggle","volumeControl"]},Ft.registerComponent("VolumePanel",Vi);var Fi=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=vt(jt(i),i.handleBlur),i.boundHandleTapClick_=vt(jt(i),i.handleTapClick),i}Bt(e,t);var i=e.prototype;return i.addEventListenerForItem=function(t){t instanceof Ft&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(t){t instanceof Ft&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},i.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},i.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=w(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),ct(n,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),n},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(t){var e=t.relatedTarget||n.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var i=this.menuButton_;i&&i.buttonPressed_&&e!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var n=e.filter((function(e){return e.el()===t.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(t){Ae.isEventKey(t,"Left")||Ae.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(Ae.isEventKey(t,"Right")||Ae.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(Ft);Ft.registerComponent("Menu",Fi);var ji=function(t){function e(e,i){var r;void 0===i&&(i={}),(r=t.call(this,e,i)||this).menuButton_=new ui(e,i),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var o=ui.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+o,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),ct(n,"keyup",vt(jt(r),r.handleMenuKeyUp))})),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}Bt(e,t);var i=e.prototype;return i.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var t=new Fi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=w("li",{className:"vjs-menu-title",innerHTML:kt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new Ft(this.player_,{el:e});t.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+ui.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(t){this.removeClass("vjs-hover"),dt(n,"keyup",vt(this,this.handleMenuKeyUp))},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(t){Ae.isEventKey(t,"Esc")||Ae.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),Ae.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(Ae.isEventKey(t,"Up")||Ae.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(t){(Ae.isEventKey(t,"Esc")||Ae.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},i.handleSubmenuKeyDown=function(t){(Ae.isEventKey(t,"Esc")||Ae.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Ae.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ae&&b())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Ft);Ft.registerComponent("MenuButton",ji);var Ui=function(t){function e(e,n){var i,r=n.tracks;if((i=t.call(this,e,n)||this).items.length<=1&&i.hide(),!r)return jt(i);var o=vt(jt(i),i.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)})),i}return Bt(e,t),e}(ji);Ft.registerComponent("TrackButton",Ui);var Bi=["Tab","Esc","Up","Down","Right","Left"],Hi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}Bt(e,t);var n=e.prototype;return n.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",h({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(e){Bi.some((function(t){return Ae.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ei);Ft.registerComponent("MenuItem",Hi);var Gi=function(e){function i(i,r){var o,a=r.track,s=i.textTracks();r.label=a.label||a.language||"Unknown",r.selected="showing"===a.mode,(o=e.call(this,i,r)||this).track=a,o.kinds=(r.kinds||[r.kind||o.track.kind]).filter(Boolean);var u,l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(jt(o),e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleSelectedLanguageChange.apply(jt(o),e)};return i.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),o.on("dispose",(function(){i.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)})),void 0===s.onchange&&o.on(["tap","click"],(function(){if("object"!=typeof t.Event)try{u=new t.Event("change")}catch(t){}u||(u=n.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(u)})),o.handleTracksChange(),o}Bt(i,e);var r=i.prototype;return r.handleClick=function(t){var n=this.track,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var o=i[r];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},r.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},r.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,e.prototype.dispose.call(this)},i}(Hi);Ft.registerComponent("TextTrackMenuItem",Gi);var Wi=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}Bt(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var o=e[i];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var o=e[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Gi);Ft.registerComponent("OffTextTrackMenuItem",Wi);var zi=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}return Bt(e,t),e.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=Gi),this.label_&&(n=this.label_+" off"),t.push(new Wi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var o=i[r];if(this.kinds_.indexOf(o.kind)>-1){var a=new e(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),t.push(a)}}return t},e}(Ui);Ft.registerComponent("TextTrackButton",zi);var $i=function(t){function e(e,n){var i,r=n.track,o=n.cue,a=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(i=t.call(this,e,n)||this).track=r,i.cue=o,r.addEventListener("cuechange",vt(jt(i),i.update)),i}Bt(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Hi);Ft.registerComponent("ChaptersTrackMenuItem",$i);var Yi=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(kt(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],o=new $i(this.player_,{track:this.track_,cue:r});t.push(o)}return t},e}(zi);Yi.prototype.kind_="chapters",Yi.prototype.controlText_="Chapters",Ft.registerComponent("ChaptersButton",Yi);var qi=function(t){function e(e,n,i){var r;r=t.call(this,e,n,i)||this;var o=e.textTracks(),a=vt(jt(r),r.handleTracksChange);return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}Bt(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var o=e[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zi);qi.prototype.kind_="descriptions",qi.prototype.controlText_="Descriptions",Ft.registerComponent("DescriptionsButton",qi);var Xi=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zi);Xi.prototype.kind_="subtitles",Xi.prototype.controlText_="Subtitles",Ft.registerComponent("SubtitlesButton",Xi);var Ki=function(t){function e(e,n){var i;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=t.call(this,e,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return Bt(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Gi);Ft.registerComponent("CaptionSettingsMenuItem",Ki);var Zi=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Ki(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(zi);Zi.prototype.kind_="captions",Zi.prototype.controlText_="Captions",Ft.registerComponent("CaptionsButton",Zi);var Ji=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,h({innerHTML:r},n),i)},e}(Gi);Ft.registerComponent("SubsCapsMenuItem",Ji);var Qi=function(t){function e(e,n){var i;return void 0===n&&(n={}),(i=t.call(this,e,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(kt(i.label_)),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Ki(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Ji)},e}(zi);Qi.prototype.kinds_=["captions","subtitles"],Qi.prototype.controlText_="Subtitles",Ft.registerComponent("SubsCapsButton",Qi);var tr=function(t){function e(e,n){var i,r=n.track,o=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=t.call(this,e,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(jt(i),e)};return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}Bt(e,t);var n=e.prototype;return n.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,h({innerHTML:r},n),i)},n.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Hi);Ft.registerComponent("AudioTrackMenuItem",tr);var er=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new tr(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(Ui);er.prototype.controlText_="Audio Track",Ft.registerComponent("AudioTrackButton",er);var nr=function(t){function e(e,n){var i,r=n.rate,o=parseFloat(r,10);return n.label=r,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,(i=t.call(this,e,n)||this).label=r,i.rate=o,i.on(e,"ratechange",i.update),i}Bt(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Hi);nr.prototype.contentElType="button",Ft.registerComponent("PlaybackRateMenuItem",nr);var ir=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=w("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var t=new Fi(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new nr(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(ji);ir.prototype.controlText_="Playback Rate",Ft.registerComponent("PlaybackRateMenuButton",ir);var rr=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(Ft);Ft.registerComponent("Spacer",rr);var or=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(rr);Ft.registerComponent("CustomControlSpacer",or);var ar=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Ft);ar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in n&&ar.prototype.options_.children.splice(ar.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ft.registerComponent("ControlBar",ar);var sr=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"error",i.open),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Pe);sr.prototype.options_=u({},Pe.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ft.registerComponent("ErrorDisplay",sr);var ur=["#000","Black"],lr=["#00F","Blue"],cr=["#0FF","Cyan"],dr=["#0F0","Green"],hr=["#F0F","Magenta"],fr=["#F00","Red"],pr=["#FFF","White"],gr=["#FF0","Yellow"],mr=["1","Opaque"],vr=["0.5","Semi-Transparent"],yr=["0","Transparent"],_r={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ur,pr,fr,dr,lr,gr,hr,cr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[mr,vr,yr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[pr,ur,fr,dr,lr,gr,hr,cr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[mr,vr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[yr,vr,mr]}};function br(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}_r.windowColor.options=_r.backgroundColor.options;var Tr=function(e){function n(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=vt(jt(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=w("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),d(_r,(function(t){i.on(i.$(t.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}Bt(n,e);var i=n.prototype;return i.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},i.createElSelect_=function(t,e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n="label");var r=_r[t],o=r.id.replace("%s",this.id_),a=[e,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(t){var e=o+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',i.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},i.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return w("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return w("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var t=this.localize("restore all settings to the default values");return w("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var t,e,n,i=this;return e=function(t,e,n){var r,o,a=(r=i.$(e.selector),o=e.parser,br(r.options[r.options.selectedIndex].value,o));return void 0!==a&&(t[n]=a),t},void 0===(n={})&&(n=0),c(t=_r).reduce((function(n,i){return e(n,t[i],i)}),n)},i.setValues=function(t){var e=this;d(_r,(function(n,i){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(br(t.options[i].value,n)===e){t.selectedIndex=i;break}}(e.$(n.selector),t[i],n.parser)}))},i.setDefaults=function(){var t=this;d(_r,(function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n}))},i.restoreSettings=function(){var e;try{e=JSON.parse(t.localStorage.getItem("vjs-text-track-settings"))}catch(t){r.warn(t)}e&&this.setValues(e)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?t.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):t.localStorage.removeItem("vjs-text-track-settings")}catch(t){r.warn(t)}}},i.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},n}(Pe);Ft.registerComponent("TextTrackSettings",Tr);var wr=function(e){function n(n,i){var r,o=i.ResizeObserver||t.ResizeObserver;null===i.ResizeObserver&&(o=!1);var a=Dt({createEl:!o,reportTouchActivity:!1},i);return(r=e.call(this,n,a)||this).ResizeObserver=i.ResizeObserver||t.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,n,i,r){var o;void 0===r&&(r=t);var a=function(){var t=this,a=arguments,s=function(){o=null,s=null,i||e.apply(t,a)};!o&&i&&e.apply(t,a),r.clearTimeout(o),o=r.setTimeout(s,n)};return a.cancel=function(){r.clearTimeout(o),o=null},a}((function(){r.resizeHandler()}),100,!1,jt(r)),o?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(n.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var t=r.debouncedHandler_,e=r.unloadListener_=function(){dt(this,"resize",t),dt(this,"unload",e),e=null};ct(r.el_.contentWindow,"unload",e),ct(r.el_.contentWindow,"resize",t)}},r.one("load",r.loadListener_)),r}Bt(n,e);var i=n.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},n}(Ft);Ft.registerComponent("ResizeManager",wr);var Sr={trackingThreshold:30,liveTolerance:15},Er=function(e){function i(t,i){var r,o=Dt(Sr,i,{createEl:!1});return(r=e.call(this,t,o)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),te&&"hidden"in n&&"visibilityState"in n&&r.on(n,"visibilitychange",r.handleVisibilityChange),r}Bt(i,e);var r=i.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(n.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var n=Number(t.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+i;var r=this.liveCurrentTime(),o=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-o)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},r.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&t>2,this.skipNextSeeked_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.end(n));return e.length?e.sort()[e.length-1]:1/0},r.seekableStart=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.start(n));return e.length?e.sort()[0]:0},r.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return"number"==typeof this.trackingInterval_},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(n,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),e.prototype.dispose.call(this)},i}(Ft);Ft.registerComponent("LiveTracker",Er);var Or,Cr=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],r="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)},Ar=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var i=n.createElement(this.nodeName.toLowerCase());i.innerHTML=e;for(var r=n.createDocumentFragment();i.childNodes.length;)r.appendChild(i.childNodes[0]);return this.innerText="",t.Element.prototype.appendChild.call(this,r),this.innerHTML}}),Pr=function(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},Ir=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},r=function(e){return Pr([e.el(),t.HTMLMediaElement.prototype,t.Element.prototype,Ar],"innerHTML")}(e),o=function(t){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=t.apply(n,r);return Cr(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){n[t]&&(i[t]=n[t],n[t]=o(i[t]))})),Object.defineProperty(n,"innerHTML",Dt(r,{set:o(r.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach((function(t){n[t]=i[t]})),Object.defineProperty(n,"innerHTML",r)},e.one("sourceset",n.resetSourceWatch_)}},xr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?We(t.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return t.Element.prototype.setAttribute.call(this,"src",e),e}}),Mr=function(e){if(e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=function(e){return Pr([e.el(),t.HTMLMediaElement.prototype,xr],"src")}(e),r=n.setAttribute,o=n.load;Object.defineProperty(n,"src",Dt(i,{set:function(t){var r=i.set.call(n,t);return e.triggerSourceset(n.src),r}})),n.setAttribute=function(t,i){var o=r.call(n,t,i);return/src/i.test(t)&&e.triggerSourceset(n.src),o},n.load=function(){var t=o.call(n);return Cr(e)||(e.triggerSourceset(""),Ir(e)),t},n.currentSrc?e.triggerSourceset(n.currentSrc):Cr(e)||Ir(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=o,n.setAttribute=r,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},kr=function(t,e,n,i){void 0===i&&(i=!0);var r=function(n){return Object.defineProperty(t,e,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var t=n();return r(t),t}};return i&&(o.set=r),Object.defineProperty(t,e,o)},Dr=function(e){function i(t,n){var i;i=e.call(this,t,n)||this;var o=t.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,u=s.length,l=[];u--;){var c=s[u];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),a||i.el_.hasAttribute("crossorigin")||!$e(c.src)||(a=!0)):l.push(c))}for(var d=0;d<l.length;d++)i.el_.removeChild(l[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&r.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(ie||oe||Xt)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}Bt(i,e);var o=i.prototype;return o.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},o.setupSourcesetHandling_=function(){Mr(this)},o.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(function(){return e.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<t.length;i++){var r=t[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)}))},o.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(t){n.el()[i+"Tracks"].removeEventListener(t,n[i+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},o.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},o.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},o.proxyNativeTracksForType_=function(t){var e=this,n=un[t],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var o={change:function(n){var i={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(i),"text"===t&&e[ln.remoteText.getterName]().trigger(i)},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,o=0;o<i.length;o++)if(i[o]===r[e]){n=!0;break}n||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(t){var n=o[t];i.addEventListener(t,n),e.on("dispose",(function(e){return i.removeEventListener(t,n)}))})),this.on("loadstart",a),this.on("dispose",(function(t){return e.off("loadstart",a)}))}},o.proxyNativeTracks_=function(){var t=this;un.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},o.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var e=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(e,t),i.disposeMediaElement(t),t=e}else{t=n.createElement("video");var r=Dt({},this.options_.tag&&x(this.options_.tag));ie&&!0===this.options_.nativeControlsForTouch||delete r.controls,I(t,h(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&k(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],u=this.options_[s];void 0!==u&&(u?k(t,s,s):D(t,s),t[s]=u)}return t},o.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},o.setScrubbing=function(t){this.isScrubbing_=t},o.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&se?this.el_.fastSeek(t):this.el_.currentTime=t}catch(t){r(t,"Video is not ready. (Video.js)")}},o.duration=function(){var t=this;return this.el_.duration===1/0&&Yt&&Jt&&0===this.el_.currentTime?(this.on("timeupdate",(function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN):this.el_.duration||NaN},o.width=function(){return this.el_.offsetWidth},o.height=function(){return this.el_.offsetHeight},o.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)}))}},o.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=t.navigator&&t.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},o.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Se(this.el_.play()),this.setTimeout((function(){t.pause();try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},o.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},o.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},o.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},o.reset=function(){i.resetMediaElement(this.el_)},o.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},o.setControls=function(t){this.el_.controls=!!t},o.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},o.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var i=n.createElement("track");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t.default&&(i.default=t.default),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},o.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},o.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},o.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),t.performance&&"function"==typeof t.performance.now?e.creationTime=t.performance.now():t.performance&&t.performance.timing&&"number"==typeof t.performance.timing.navigationStart&&(e.creationTime=t.Date.now()-t.performance.timing.navigationStart),e},i}(Bn);kr(Dr,"TEST_VID",(function(){if(y()){var t=n.createElement("video"),e=n.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}})),Dr.isSupported=function(){try{Dr.TEST_VID.volume=.5}catch(t){return!1}return!(!Dr.TEST_VID||!Dr.TEST_VID.canPlayType)},Dr.canPlayType=function(t){return Dr.TEST_VID.canPlayType(t)},Dr.canPlaySource=function(t,e){return Dr.canPlayType(t.type)},Dr.canControlVolume=function(){try{var t=Dr.TEST_VID.volume;return Dr.TEST_VID.volume=t/2+.1,t!==Dr.TEST_VID.volume}catch(t){return!1}},Dr.canMuteVolume=function(){try{var t=Dr.TEST_VID.muted;return Dr.TEST_VID.muted=!t,Dr.TEST_VID.muted?k(Dr.TEST_VID,"muted","muted"):D(Dr.TEST_VID,"muted"),t!==Dr.TEST_VID.muted}catch(t){return!1}},Dr.canControlPlaybackRate=function(){if(Yt&&Jt&&Qt<58)return!1;try{var t=Dr.TEST_VID.playbackRate;return Dr.TEST_VID.playbackRate=t/2+.1,t!==Dr.TEST_VID.playbackRate}catch(t){return!1}},Dr.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(n.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(n.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(n.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(n.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Dr.supportsNativeTextTracks=function(){return se||ae&&Jt},Dr.supportsNativeVideoTracks=function(){return!(!Dr.TEST_VID||!Dr.TEST_VID.videoTracks)},Dr.supportsNativeAudioTracks=function(){return!(!Dr.TEST_VID||!Dr.TEST_VID.audioTracks)},Dr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[0],n=t[1];kr(Dr.prototype,e,(function(){return Dr[n]()}),!0)})),Dr.prototype.movingMediaElementInDOM=!ae,Dr.prototype.featuresFullscreenResize=!0,Dr.prototype.featuresProgressEvents=!0,Dr.prototype.featuresTimeupdateEvents=!0,Dr.patchCanPlayType=function(){qt>=4&&!Kt&&!Jt&&(Or=Dr.TEST_VID&&Dr.TEST_VID.constructor.prototype.canPlayType,Dr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":Or.call(this,t)})},Dr.unpatchCanPlayType=function(){var t=Dr.TEST_VID.constructor.prototype.canPlayType;return Or&&(Dr.TEST_VID.constructor.prototype.canPlayType=Or),t},Dr.patchCanPlayType(),Dr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Dr.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Dr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Dr.prototype["set"+kt(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(t){Dr.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(t){Dr.prototype["set"+kt(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Dr.prototype[t]=function(){return this.el_[t]()}})),Bn.withSourceHandlers(Dr),Dr.nativeSourceHandler={},Dr.nativeSourceHandler.canPlayType=function(t){try{return Dr.TEST_VID.canPlayType(t)}catch(t){return""}},Dr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Dr.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=ze(t.src);return Dr.nativeSourceHandler.canPlayType("video/"+n)}return""},Dr.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Dr.nativeSourceHandler.dispose=function(){},Dr.registerSourceHandler(Dr.nativeSourceHandler),Bn.registerTech("Html5",Dr);var Rr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Nr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Lr=["tiny","xsmall","small","medium","large","xlarge","huge"],Vr={};Lr.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Vr[t]="vjs-layout-"+e}));var Fr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},jr=function(e){function i(t,r,a){var s;if(t.id=t.id||r.id||"vjs_video_"+it(),(r=h(i.getTagSettings(t),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof t.closest){var u=t.closest("[lang]");u&&u.getAttribute&&(r.language=u.getAttribute("lang"))}else for(var l=t;l&&1===l.nodeType;){if(x(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if((s=e.call(this,null,r,a)||this).boundDocumentFullscreenChange_=vt(jt(s),s.documentFullscreenChange_),s.boundFullWindowOnEscKey_=vt(jt(s),s.fullWindowOnEscKey),s.isFullscreen_=!1,s.log=o(s.id_),s.fsApi_=pe,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=t,s.tagAttributes=t&&x(t),s.language(s.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach((function(t){c[t.toLowerCase()]=r.languages[t]})),s.languages_=c}else s.languages_=i.prototype.options_.languages;s.resetCache_(),s.poster_=r.poster||"",s.controls_=!!r.controls,t.controls=!1,t.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],t.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(t){if("function"!=typeof s[t])throw new Error('plugin "'+t+'" does not exist')})),s.scrubbing_=!1,s.el_=s.createEl(),Pt(jt(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(ct(n,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on("playerreset",s.updateStyleEl_);var d=Dt(s.options_);r.plugins&&Object.keys(r.plugins).forEach((function(t){s[t](r.plugins[t])})),r.debug&&s.debug(!0),s.options_.playerOptions=d,s.middleware_=[],s.initChildren(),s.isAudio("audio"===t.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),ie&&s.addClass("vjs-touch-enabled"),ae||s.addClass("vjs-workinghover"),i.players[s.id_]=jt(s);var f="7.10.2".split(".")[0];return s.addClass("vjs-v"+f),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("stageclick",s.handleStageClick_),s.on("keydown",s.handleKeyDown),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}Bt(i,e);var a=i.prototype;return a.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),dt(n,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),dt(n,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),i.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Gn[this.id()]=null,cn.names.forEach((function(e){var n=cn[e],i=t[n.getterName]();i&&i.off&&i.off()})),e.prototype.dispose.call(this)},a.createEl=function(){var i,r=this.tag,o=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();o?i=this.el_=r.parentNode:a||(i=this.el_=e.prototype.createEl.call(this,"div"));var s=x(r);if(a){for(i=this.el_=r,r=this.tag=n.createElement("video");i.children.length;)r.appendChild(i.firstChild);O(i,"video-js")||C(i,"video-js"),i.appendChild(r),o=this.playerElIngest_=i,Object.keys(i).forEach((function(t){try{r[t]=i[t]}catch(t){}}))}if(r.setAttribute("tabindex","-1"),s.tabindex="-1",(te||Jt&&ne)&&(r.setAttribute("role","application"),s.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(t){a&&"class"===t||i.setAttribute(t,s[t]),a&&r.setAttribute(t,s[t])})),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=i.player=this,this.addClass("vjs-paused"),!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=tt("vjs-styles-dimensions");var u=$(".vjs-styles-defaults"),l=$("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=r.getElementsByTagName("a"),d=0;d<c.length;d++){var h=c.item(d);C(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!o&&r.parentNode.insertBefore(i,r),E(r,i),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=i,i},a.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):r.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},a.width=function(t){return this.dimension("width",t)},a.height=function(t){return this.dimension("height",t)},a.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e||"auto"===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?r.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},a.fluid=function(t){if(void 0===t)return!!this.fluid_;var e,n;this.fluid_=!!t,bt(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),bt(e=function(){this.on("playerreset",this.updateStyleEl_)})?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){if(!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){var e,n,i,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,n=void 0!==this.height_?this.height_:e*o,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),et(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),s>=0&&(u.height=s))}},a.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=kt(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(Bn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var o={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};cn.names.forEach((function(t){var e=cn[t];o[e.getterName]=n[e.privateName]})),h(o,this.options_[i]),h(o,this.options_[r]),h(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=Bn.getTech(t);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(vt(this,this.handleTechReady_),!0),Ce(this.textTracksJson_||[],this.tech_),Rr.forEach((function(t){n.on(n.tech_,t,n["handleTech"+kt(t)+"_"])})),Object.keys(Nr).forEach((function(t){n.on(n.tech_,t,(function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Nr[t]+"_"].bind(n),event:e}):n["handleTech"+Nr[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||E(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var t=this;cn.names.forEach((function(e){var n=cn[e];t[n.privateName]=t[n.getterName]()})),this.textTracksJson_=Oe(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(t){return void 0===t&&r.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},a.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n,i=function(){var t=e.muted();e.muted(!0);var n=function(){e.muted(t)};e.playTerminatedQueue_.push(n);var i=e.play();if(we(i))return i.catch(n)};if("any"===t&&!0!==this.muted()?we(n=this.play())&&(n=n.catch(i)):n="muted"===t&&!0!==this.muted()?i():this.play(),we(n))return n.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(n){e.trigger({type:"autoplay-failure",autoplay:t})}))}},a.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter((function(t){return t.src===e}));if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var o=i[r];if(o.type&&o.src&&o.src===e)return o.type}return Jn(e)}(this,e)),this.cache_.source=Dt({},t,{src:e,type:n});for(var i=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),r=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=x(o[s]);r.push(u),u.src&&u.src===e&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},a.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},i=this.currentSource().src,r=t.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},a.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",(function n(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",n))}))},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(r.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(t){W(t)&&this.controls_&&(this.paused()?Se(this.play()):this.pause())},a.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(t){t.preventDefault()},a.handleStageClick_=function(){this.reportUserActivity()},a.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var i=this.el(),r=n[this.fsApi_.fullscreenElement]===i;!r&&i.matches?r=i.matches(":"+this.fsApi_.fullscreen):!r&&i.msMatchesSelector&&(r=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},a.handleTechFullscreenChange_=function(t,e){e&&(e.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(e.isFullscreen))},a.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},a.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},a.handleTechError_=function(){var t=this.tech_.error();this.error(t)},a.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},a.getCache=function(){return this.cache_},a.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},a.techCall_=function(t,e){this.ready((function(){if(t in qn)return function(t,e,n,i){return e[n](t.reduce(Kn(n),i))}(this.middleware_,this.tech_,t,e);if(t in Xn)return $n(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw r(t),t}}),!0)},a.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Yn)return function(t,e,n){return t.reduceRight(Kn(n),e[n]())}(this.middleware_,this.tech_,t);if(t in Xn)return $n(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw r("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw r("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw r(e),e}}},a.play=function(){var e=this,n=this.options_.Promise||t.Promise;return n?new n((function(t){e.play_(t)})):this.play_()},a.play_=function(t){var e=this;void 0===t&&(t=Se),this.playCallbacks_.push(t);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!se&&!ae||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},a.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},a.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||de(0,0)},a.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(t){return void 0!==t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},a.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=de(0,0)),t},a.bufferedPercent=function(){return he(this.buffered(),this.duration())},a.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},a.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},a.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},a.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},a.requestFullscreen=function(e){var n=this.options_.Promise||t.Promise;if(n){var i=this;return new n((function(t,n){function r(){i.off("fullscreenerror",a),i.off("fullscreenchange",o)}function o(){r(),t()}function a(t,e){r(),n(e)}i.one("fullscreenchange",o),i.one("fullscreenerror",a);var s=i.requestFullscreenHelper_(e);if(s)return s.then(r,r),s}))}return this.requestFullscreenHelper_()},a.requestFullscreenHelper_=function(t){var e,n=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](e);return i&&i.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},a.exitFullscreen=function(){var e=this.options_.Promise||t.Promise;if(e){var n=this;return new e((function(t,e){function i(){n.off("fullscreenerror",o),n.off("fullscreenchange",r)}function r(){i(),t()}function o(t,n){i(),e(n)}n.one("fullscreenchange",r),n.one("fullscreenerror",o);var a=n.exitFullscreenHelper_();if(a)return a.then(i,i),a}))}return this.exitFullscreenHelper_()},a.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=n[this.fsApi_.exitFullscreen]();return e&&e.then((function(){return t.isFullscreen(!1)})),e}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},a.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=n.documentElement.style.overflow,ct(n,"keydown",this.boundFullWindowOnEscKey_),n.documentElement.style.overflow="hidden",C(n.body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(t){Ae.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},a.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,dt(n,"keydown",this.boundFullWindowOnEscKey_),n.documentElement.style.overflow=this.docOrigOverflow,A(n.body,"vjs-full-window"),this.trigger("exitFullWindow")},a.disablePictureInPicture=function(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},a.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function(){if("pictureInPictureEnabled"in n&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function(){if("pictureInPictureEnabled"in n)return n.exitPictureInPicture()},a.handleKeyDown=function(t){var e,n,i=this.options_.userActions;i&&i.hotkeys&&(e=this.el_.ownerDocument.activeElement,n=e.tagName.toLowerCase(),e.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(n))||("function"==typeof i.hotkeys?i.hotkeys.call(this,t):this.handleHotkeys(t)))},a.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},i=e.fullscreenKey,r=void 0===i?function(t){return Ae.isEventKey(t,"f")}:i,o=e.muteKey,a=void 0===o?function(t){return Ae.isEventKey(t,"m")}:o,s=e.playPauseKey,u=void 0===s?function(t){return Ae.isEventKey(t,"k")||Ae.isEventKey(t,"Space")}:s;if(r.call(this,t)){t.preventDefault(),t.stopPropagation();var l=Ft.getComponent("FullscreenToggle");!1!==n[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,t)}else a.call(this,t)?(t.preventDefault(),t.stopPropagation(),Ft.getComponent("MuteToggle").prototype.handleClick.call(this,t)):u.call(this,t)&&(t.preventDefault(),t.stopPropagation(),Ft.getComponent("PlayToggle").prototype.handleClick.call(this,t))},a.canPlayType=function(t){for(var e,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],a=Bn.getTech(o);if(a||(a=Ft.getComponent(o)),a){if(a.isSupported()&&(e=a.canPlayType(t)))return e}else r.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(t){var e,n=this,i=this.options_.techOrder.map((function(t){return[t,Bn.getTech(t)]})).filter((function(t){var e=t[0],n=t[1];return n?n.isSupported():(r.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(t,e,n){var i;return t.some((function(t){return e.some((function(e){if(i=n(t,e))return!0}))})),i},a=function(t,e){var i=t[0];if(t[1].canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}};return(this.options_.sourceOrder?o(t,i,(e=a,function(t,n){return e(n,t)})):o(i,t,a))||!1},a.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=function t(e){if(Array.isArray(e)){var n=[];e.forEach((function(e){e=t(e),Array.isArray(e)?n=n.concat(e):f(e)&&n.push(e)})),e=n}else e="string"==typeof e&&e.trim()?[Qn({src:e})]:f(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Qn(e)]:[];return e}(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),zn(this,n[0],(function(t,i){var r,o;if(e.middleware_=i,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());r=i,o=e.tech_,r.forEach((function(t){return t.setTech&&t.setTech(o)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},a.src_=function(t){var e,n,i=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,kt(e)!==kt(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1))},a.load=function(){this.techCall_("load")},a.reset=function(){var e=this,n=this.options_.Promise||t.Promise;this.paused()||!n?this.doReset_():Se(this.play().then((function(){return e.doReset_()})))},a.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),bt(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,n=t.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},a.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},a.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},a.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},a.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},a.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},a.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new _e(t),this.addClass("vjs-error"),r.error("(CODE:"+this.error_.code+" "+_e.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},a.reportUserActivity=function(t){this.userActivity_=!0},a.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function(){var t,e,n,i=vt(this,this.reportUserActivity),r=function(e){i(),this.clearInterval(t)};this.on("mousedown",(function(){i(),this.clearInterval(t),t=this.setInterval(i,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);var o,a=this.getChild("controlBar");!a||ae||Yt||(a.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var t=this.options_.inactivityTimeout;t<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},a.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},a.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},a.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},a.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},a.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},a.languages=function(){return Dt(i.prototype.options_.languages,this.languages_)},a.toJSON=function(){var t=Dt(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=Dt(i)).player=void 0,t.tracks[n]=i}return t},a.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new Pe(this,e);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Lr.length;n++){var i=Lr[n];if(e<=this.breakpoints_[i]){if(t===i)return;t&&this.removeClass(Vr[t]),this.addClass(Vr[i]),this.breakpoint_=i;break}}},a.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},a.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=h({},Fr,t),this.updateCurrentBreakpoint_()),h(this.breakpoints_)},a.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return Vr[this.breakpoint_]||""},a.loadMedia=function(t,e){var n=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=Dt(t);var i=this.cache_.media,r=i.artwork,o=i.poster,a=i.src,s=i.textTracks;!r&&o&&(this.cache_.media.artwork=[{src:o,type:Jn(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(t){return n.addRemoteTextTrack(t,!1)})),this.ready(e)}},a.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}))};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:Jn(e.poster)}]),e}return Dt(this.cache_.media)},i.getTagSettings=function(t){var e={sources:[],tracks:[]},n=x(t),i=n["data-setup"];if(O(t,"vjs-fill")&&(n.fill=!0),O(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=Te(i||"{}"),a=o[0],s=o[1];a&&r.error(a),h(n,s)}if(h(e,n),t.hasChildNodes())for(var u=t.childNodes,l=0,c=u.length;l<c;l++){var d=u[l],f=d.nodeName.toLowerCase();"source"===f?e.sources.push(x(d)):"track"===f&&e.tracks.push(x(d))}return e},a.flexNotSupported_=function(){var t=n.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},a.debug=function(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i}(Ft);cn.names.forEach((function(t){var e=cn[t];jr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),jr.prototype.crossorigin=jr.prototype.crossOrigin,jr.players={};var Ur=t.navigator;jr.prototype.options_={techOrder:Bn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ur&&(Ur.languages&&Ur.languages[0]||Ur.userLanguage||Ur.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){jr.prototype[t]=function(){return this.techGet_(t)}})),Rr.forEach((function(t){jr.prototype["handleTech"+kt(t)+"_"]=function(){return this.trigger(t)}})),Ft.registerComponent("Player",jr);var Br=s((function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,i)}t.exports=e})),Hr=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}},Gr=s((function(t){function e(n,i,r){return Hr()?t.exports=e=Reflect.construct:t.exports=e=function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Br(r,n.prototype),r},e.apply(null,arguments)}t.exports=e})),Wr={},zr=function(t){return Wr.hasOwnProperty(t)},$r=function(t){return zr(t)?Wr[t]:void 0},Yr=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},qr=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},Xr=function(t,e){return e.prototype.name=t,function(){qr(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=Gr(e,[this].concat(i));return this[t]=function(){return o},qr(this,o.getEventHash()),o}},Kr=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Pt(this),delete this.trigger,xt(this,this.constructor.defaultState),Yr(e,this.name),this.dispose=vt(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),ht(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=Xr(t,Wr[t])},t.isBasic=function(e){var n="string"==typeof e?$r(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(zr(e))r.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(jr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return Wr[e]=n,"plugin"!==e&&(t.isBasic(n)?jr.prototype[e]=function(t,e){var n=function(){qr(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return Yr(this,t),qr(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}(e,n):jr.prototype[e]=Xr(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");zr(t)&&(delete Wr[t],delete jr.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Wr)),t.forEach((function(t){var n=$r(t);n&&((e=e||{})[t]=n)})),e},t.getPluginVersion=function(t){var e=$r(t);return e&&e.VERSION||""},t}();Kr.getPlugin=$r,Kr.BASE_PLUGIN_NAME="plugin",Kr.registerPlugin("plugin",Kr),jr.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},jr.prototype.hasPlugin=function(t){return!!zr(t)};var Zr=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Br(t,e)},Jr=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Qr(t,e,n){var i=Qr.getPlayer(t);if(i)return e&&r.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var o="string"==typeof t?$("#"+Jr(t)):t;if(!_(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.ownerDocument.defaultView&&o.ownerDocument.body.contains(o)||r.warn("The element supplied is not included in the DOM"),e=e||{},Qr.hooks("beforesetup").forEach((function(t){var n=t(o,Dt(e));f(n)&&!Array.isArray(n)?e=Dt(e,n):r.error("please return an object in beforesetup hooks")}));var a=Ft.getComponent("Player");return i=new a(o,e,n),Qr.hooks("setup").forEach((function(t){return t(i)})),i}if(Qr.hooks_={},Qr.hooks=function(t,e){return Qr.hooks_[t]=Qr.hooks_[t]||[],e&&(Qr.hooks_[t]=Qr.hooks_[t].concat(e)),Qr.hooks_[t]},Qr.hook=function(t,e){Qr.hooks(t,e)},Qr.hookOnce=function(t,e){Qr.hooks(t,[].concat(e).map((function(e){return function n(){return Qr.removeHook(t,n),e.apply(void 0,arguments)}})))},Qr.removeHook=function(t,e){var n=Qr.hooks(t).indexOf(e);return!(n<=-1||(Qr.hooks_[t]=Qr.hooks_[t].slice(),Qr.hooks_[t].splice(n,1),0))},!0!==t.VIDEOJS_NO_DYNAMIC_STYLE&&y()){var to=$(".vjs-styles-defaults");if(!to){to=tt("vjs-styles-defaults");var eo=$("head");eo&&eo.insertBefore(to,eo.firstChild),et(to,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}function no(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Z(1,Qr),Qr.VERSION="7.10.2",Qr.options=jr.prototype.options_,Qr.getPlayers=function(){return jr.players},Qr.getPlayer=function(t){var e,n=jr.players;if("string"==typeof t){var i=Jr(t),r=n[i];if(r)return r;e=$("#"+i)}else e=t;if(_(e)){var o=e,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},Qr.getAllPlayers=function(){return Object.keys(jr.players).map((function(t){return jr.players[t]})).filter(Boolean)},Qr.players=jr.players,Qr.getComponent=Ft.getComponent,Qr.registerComponent=function(t,e){Bn.isTech(e)&&r.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ft.registerComponent.call(Ft,t,e)},Qr.getTech=Bn.getTech,Qr.registerTech=Bn.registerTech,Qr.use=function(t,e){Hn[t]=Hn[t]||[],Hn[t].push(e)},Object.defineProperty(Qr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Qr.middleware,"TERMINATOR",{value:Wn,writeable:!1,enumerable:!0}),Qr.browser=ue,Qr.TOUCH_ENABLED=ie,Qr.extend=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},i={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),Zr(n,t),t&&(n.super_=t),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Qr.mergeOptions=Dt,Qr.bind=vt,Qr.registerPlugin=Kr.registerPlugin,Qr.deregisterPlugin=Kr.deregisterPlugin,Qr.plugin=function(t,e){return r.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Kr.registerPlugin(t,e)},Qr.getPlugins=Kr.getPlugins,Qr.getPlugin=Kr.getPlugin,Qr.getPluginVersion=Kr.getPluginVersion,Qr.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Qr.options.languages=Dt(Qr.options.languages,((n={})[t]=e,n)),Qr.options.languages[t]},Qr.log=r,Qr.createLogger=o,Qr.createTimeRange=Qr.createTimeRanges=de,Qr.formatTime=pi,Qr.setFormatTime=function(t){fi=t},Qr.resetFormatTime=function(){fi=hi},Qr.parseUrl=Ge,Qr.isCrossOrigin=$e,Qr.EventTarget=_t,Qr.on=ct,Qr.one=ft,Qr.off=dt,Qr.trigger=ht,Qr.xhr=Ke,Qr.TextTrack=rn,Qr.AudioTrack=on,Qr.VideoTrack=an,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Qr[t]=function(){return r.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),q[t].apply(null,arguments)}})),Qr.computedStyle=g,Qr.dom=q,Qr.url=Ye,Qr.defineLazyProperty=kr;var io=no(s((function(t,e){var n,i,r,o,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a}))),ro=no(t),oo=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=io.default.buildAbsoluteURL(ro.default.location&&ro.default.location.href||"",t)),io.default.buildAbsoluteURL(t,e))},ao=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}();function so(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var uo=so(t),lo=function(t){for(var n,i=(n=t,uo.default.atob?uo.default.atob(n):e.from(n,"base64").toString("binary")),r=new Uint8Array(i.length),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r},co=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return Bt(e,t),e.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(ao),ho=function(t){for(var e,n=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=n.length;r--;)""!==n[r]&&((e=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),i[e[0]]=e[1]);return i},fo=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}Bt(e,t);var n=e.prototype;return n.push=function(t){var e,n,i=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce((function(e,n){var i=n(t);return i===t?e:e.concat([i])}),[t]).forEach((function(t){for(var r=0;r<i.customParsers.length;r++)if(i.customParsers[r].call(i,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void i.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void i.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void i.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var o=ho(e[1]);if(o.URI&&(n.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],u=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}i.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=ho(e[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}i.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=ho(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))i.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=ho(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=ho(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);i.trigger("data",{type:"tag",data:t.slice(4)})}}}else i.trigger("data",{type:"comment",text:t.slice(1)})})):this.trigger("data",{type:"uri",uri:t}))},n.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,o=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push((function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:o}),!0}))},n.addTagMapper=function(t){var e=t.expression,n=t.map;this.tagMappers.push((function(t){return e.test(t)?n(t):t}))},e}(ao),po=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new co,e.parseStream=new fo,e.lineStream.pipe(e.parseStream);var n,i,r=jt(e),o=[],a={},s=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0;return e.parseStream.on("data",(function(t){var e,h;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(t.offset=d)),"offset"in t&&(a.byterange=e,e.offset=t.offset),d=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:lo(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(i.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){n={},t.uri&&(n.uri=t.uri),t.byterange&&(n.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(a.attributes||(a.attributes={}),u(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],(h={default:/yes/i.test(t.attributes.DEFAULT)}).default?h.autoselect=!0:h.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(h.language=t.attributes.LANGUAGE),t.attributes.URI&&(h.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(h.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(h.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(h.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=h}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||s).call(r)},uri:function(){a.uri=t.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),i&&(a.key=i),a.timeline=c,n&&(a.map=n),a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)})),e}Bt(e,t);var n=e.prototype;return n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(ao),go=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,i=/^application\/dash\+xml/i;e.simpleTypeFromSourceType=function(t){return n.test(t)?"hls":i.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null}}));a(go);var mo=go.simpleTypeFromSourceType,vo=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,yo=new RegExp("[\\-\\.0-9"+vo.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),_o=new RegExp("^"+vo.source+yo.source+"*(?::"+vo.source+yo.source+"*)?$");function bo(){}function To(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function wo(t,e,n,i,r,o){for(var a,s=++e,u=0;;){var l=t.charAt(s);switch(l){case"=":if(1===u)a=t.slice(e,s),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(o.warning('attribute value must after "="'),a=t.slice(e,s)),e=s+1,!((s=t.indexOf(l,e))>0))throw new Error("attribute value no end '"+l+"' match");c=t.slice(e,s).replace(/&#?\w+;/g,r),n.add(a,c,e-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');c=t.slice(e,s).replace(/&#?\w+;/g,r),n.add(a,c,e),o.warning('attribute "'+a+'" missed start quot('+l+")!!"),e=s+1,u=5}break;case"/":switch(u){case 0:n.setTagName(t.slice(e,s));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==u&&n.setTagName(t.slice(e,s)),s;case">":switch(u){case 0:n.setTagName(t.slice(e,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=t.slice(e,s)).slice(-1)&&(n.closed=!0,c=c.slice(0,-1));case 2:2===u&&(c=a),4==u?(o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===i[""]&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),n.add(c,c,e));break;case 3:throw new Error("attribute value missed!!")}return s;case"":l=" ";default:if(l<=" ")switch(u){case 0:n.setTagName(t.slice(e,s)),u=6;break;case 1:a=t.slice(e,s),u=2;break;case 4:var c=t.slice(e,s).replace(/&#?\w+;/g,r);o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c,e);case 5:u=6}else switch(u){case 2:n.tagName,"http://www.w3.org/1999/xhtml"===i[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,e),e=s,u=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:u=1,e=s;break;case 3:u=4,e=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function So(t,e,n){for(var i=t.tagName,r=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value;if((h=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,h),c=s.slice(h+1),d="xmlns"===l&&c;else c=s,l=null,d="xmlns"===s&&"";a.localName=c,!1!==d&&(null==r&&(r={},Co(n,n={})),n[d]=r[d]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,u))}for(o=t.length;o--;)(l=(a=t[o]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=n[l||""]));var h;(h=i.indexOf(":"))>0?(l=t.prefix=i.slice(0,h),c=t.localName=i.slice(h+1)):(l=null,c=t.localName=i);var f=t.uri=n[l||""];if(e.startElement(f,c,i,t),!t.closed)return t.currentNSMap=n,t.localNSMap=r,!0;if(e.endElement(f,c,i),r)for(l in r)e.endPrefixMapping(l)}function Eo(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return e+1}function Oo(t,e,n,i){var r=i[n];return null==r&&((r=t.lastIndexOf("</"+n+">"))<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function Co(t,e){for(var n in t)e[n]=t[n]}function Ao(t,e,n,i){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(r=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,r-e-4),r+3):(i.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var r=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,r-e-9),n.endCDATA(),r+3}var o=function(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],c=o[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function Po(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function Io(t){}function xo(t,e){return t.__proto__=e,t}bo.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),Co(e,e={}),function(t,e,n,i,r){function o(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function a(e){if(e>p){var n=t.substring(p,e).replace(/&#?\w+;/g,o);d&&s(p),i.characters(n,0,e-p),p=e}}function s(e,n){for(;e>=l&&(n=c.exec(t));)u=n.index,l=u+n[0].length,d.lineNumber++;d.columnNumber=e-u+1}for(var u=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,h=[{currentNSMap:e}],f={},p=0;;){try{var g=t.indexOf("<",p);if(g<0){if(!t.substr(p).match(/^\s*$/)){var m=i.doc,v=m.createTextNode(t.substr(p));m.appendChild(v),i.currentElement=v}return}switch(g>p&&a(g),t.charAt(g+1)){case"/":var y=t.indexOf(">",g+3),_=t.substring(g+2,y),b=h.pop();y<0?(_=t.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+_+" is not complete:"+b.tagName),y=g+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybe not complete"),y=g+1+_.length);var T=b.localNSMap,w=b.tagName==_;if(w||b.tagName&&b.tagName.toLowerCase()==_.toLowerCase()){if(i.endElement(b.uri,b.localName,_),T)for(var S in T)i.endPrefixMapping(S);w||r.fatalError("end tag name: "+_+" is not match the current start tagName:"+b.tagName)}else h.push(b);y++;break;case"?":d&&s(g),y=Po(t,g,i);break;case"!":d&&s(g),y=Ao(t,g,i,r);break;default:d&&s(g);var E=new Io,O=h[h.length-1].currentNSMap,C=(y=wo(t,g,E,O,o,r),E.length);if(!E.closed&&Oo(t,y,E.tagName,f)&&(E.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),d&&C){for(var A=To(d,{}),P=0;P<C;P++){var I=E[P];s(I.offset),I.locator=To(d,{})}i.locator=A,So(E,i,O)&&h.push(E),i.locator=d}else So(E,i,O)&&h.push(E);"http://www.w3.org/1999/xhtml"!==E.uri||E.closed?y++:y=Eo(t,y,E.tagName,o,i)}}catch(t){r.error("element parse error: "+t),y=-1}y>p?p=y:a(Math.max(g,p)+1)}}(t,e,n,i,this.errorHandler),i.endDocument()}},Io.prototype={setTagName:function(t){if(!_o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!_o.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},xo({},xo.prototype)instanceof xo||(xo=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n});var Mo={XMLReader:bo};function ko(t,e){for(var n in t)e[n]=t[n]}function Do(t,e){var n=t.prototype;if(Object.create){var i=Object.create(e.prototype);n.__proto__=i}if(!(n instanceof e)){var r=function(){};r.prototype=e.prototype,ko(n,r=new r),t.prototype=n=r}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var Ro={},No=Ro.ELEMENT_NODE=1,Lo=Ro.ATTRIBUTE_NODE=2,Vo=Ro.TEXT_NODE=3,Fo=Ro.CDATA_SECTION_NODE=4,jo=Ro.ENTITY_REFERENCE_NODE=5,Uo=Ro.ENTITY_NODE=6,Bo=Ro.PROCESSING_INSTRUCTION_NODE=7,Ho=Ro.COMMENT_NODE=8,Go=Ro.DOCUMENT_NODE=9,Wo=Ro.DOCUMENT_TYPE_NODE=10,zo=Ro.DOCUMENT_FRAGMENT_NODE=11,$o=Ro.NOTATION_NODE=12,Yo={},qo={},Xo=(Yo.INDEX_SIZE_ERR=(qo[1]="Index size error",1),Yo.DOMSTRING_SIZE_ERR=(qo[2]="DOMString size error",2),Yo.HIERARCHY_REQUEST_ERR=(qo[3]="Hierarchy request error",3)),Ko=(Yo.WRONG_DOCUMENT_ERR=(qo[4]="Wrong document",4),Yo.INVALID_CHARACTER_ERR=(qo[5]="Invalid character",5),Yo.NO_DATA_ALLOWED_ERR=(qo[6]="No data allowed",6),Yo.NO_MODIFICATION_ALLOWED_ERR=(qo[7]="No modification allowed",7),Yo.NOT_FOUND_ERR=(qo[8]="Not found",8)),Zo=(Yo.NOT_SUPPORTED_ERR=(qo[9]="Not supported",9),Yo.INUSE_ATTRIBUTE_ERR=(qo[10]="Attribute in use",10));function Jo(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,qo[t]),this.message=qo[t],Error.captureStackTrace&&Error.captureStackTrace(this,Jo);return n.code=t,e&&(this.message=this.message+": "+e),n}function Qo(){}function ta(t,e){this._node=t,this._refresh=e,ea(this)}function ea(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);Ma(t,"length",n.length),ko(n,t),t._inc=e}}function na(){}function ia(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function ra(t,e,n,i){if(i?e[ia(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&da(r,t,i),function(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(r,t,n))}}function oa(t,e,n){var i=ia(e,n);if(!(i>=0))throw Jo(Ko,new Error(t.tagName+"@"+n));for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var o=t.ownerDocument;o&&(da(o,t,n),n.ownerElement=null)}}function aa(t){if(this._features={},t)for(var e in t)this._features=t[e]}function sa(){}function ua(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function la(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(la(t,e))return!0}while(t=t.nextSibling)}function ca(){}function da(t,e,n,i){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function ha(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o}}}function fa(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,ha(t.ownerDocument,t),e}function pa(t,e,n){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===zo){var r=e.firstChild;if(null==r)return e;var o=e.lastChild}else r=o=e;var a=n?n.previousSibling:t.lastChild;r.previousSibling=a,o.nextSibling=n,a?a.nextSibling=r:t.firstChild=r,null==n?t.lastChild=o:n.previousSibling=o;do{r.parentNode=t}while(r!==o&&(r=r.nextSibling));return ha(t.ownerDocument||t,t),e.nodeType==zo&&(e.firstChild=e.lastChild=null),e}function ga(){this._nsMap={}}function ma(){}function va(){}function ya(){}function _a(){}function ba(){}function Ta(){}function wa(){}function Sa(){}function Ea(){}function Oa(){}function Ca(){}function Aa(){}function Pa(t,e){var n=[],i=9==this.nodeType?this.documentElement:this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return xa(this,n,t,e,a),n.join("")}function Ia(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!i&&!r)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==i)return a.namespace!=r}return!0}function xa(t,e,n,i,r){if(i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case No:r||(r=[]),r.length;var o=t.attributes,a=o.length,s=t.firstChild,u=t.tagName;n="http://www.w3.org/1999/xhtml"===t.namespaceURI||n,e.push("<",u);for(var l=0;l<a;l++)"xmlns"==(c=o.item(l)).prefix?r.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&r.push({prefix:"",namespace:c.value});for(l=0;l<a;l++){var c;if(Ia(c=o.item(l),0,r)){var d=c.prefix||"",h=c.namespaceURI,f=d?" xmlns:"+d:" xmlns";e.push(f,'="',h,'"'),r.push({prefix:d,namespace:h})}xa(c,e,n,i,r)}if(Ia(t,0,r)&&(d=t.prefix||"",h=t.namespaceURI,f=d?" xmlns:"+d:" xmlns",e.push(f,'="',h,'"'),r.push({prefix:d,namespace:h})),s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),n&&/^script$/i.test(u))for(;s;)s.data?e.push(s.data):xa(s,e,n,i,r),s=s.nextSibling;else for(;s;)xa(s,e,n,i,r),s=s.nextSibling;e.push("</",u,">")}else e.push("/>");return;case Go:case zo:for(s=t.firstChild;s;)xa(s,e,n,i,r),s=s.nextSibling;return;case Lo:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,ua),'"');case Vo:return e.push(t.data.replace(/[<&]/g,ua));case Fo:return e.push("<![CDATA[",t.data,"]]>");case Ho:return e.push("\x3c!--",t.data,"--\x3e");case Wo:var p=t.publicId,g=t.systemId;if(e.push("<!DOCTYPE ",t.name),p)e.push(' PUBLIC "',p),g&&"."!=g&&e.push('" "',g),e.push('">');else if(g&&"."!=g)e.push(' SYSTEM "',g,'">');else{var m=t.internalSubset;m&&e.push(" [",m,"]"),e.push(">")}return;case Bo:return e.push("<?",t.target," ",t.data,"?>");case jo:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Ma(t,e,n){t[e]=n}Yo.INVALID_STATE_ERR=(qo[11]="Invalid state",11),Yo.SYNTAX_ERR=(qo[12]="Syntax error",12),Yo.INVALID_MODIFICATION_ERR=(qo[13]="Invalid modification",13),Yo.NAMESPACE_ERR=(qo[14]="Invalid namespace",14),Yo.INVALID_ACCESS_ERR=(qo[15]="Invalid access",15),Jo.prototype=Error.prototype,ko(Yo,Jo),Qo.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)xa(this[i],n,t,e);return n.join("")}},ta.prototype.item=function(t){return ea(this),this[t]},Do(ta,Qo),na.prototype={length:0,item:Qo.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Jo(Zo);var n=this.getNamedItem(t.nodeName);return ra(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new Jo(Zo);return e=this.getNamedItemNS(t.namespaceURI,t.localName),ra(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return oa(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return oa(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}},aa.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var i=new ca;if(i.implementation=this,i.childNodes=new Qo,i.doctype=n,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new Ta;return i.name=t,i.nodeName=t,i.publicId=e,i.systemId=n,i}},sa.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return pa(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return fa(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,n,i){var r=new n.constructor;for(var o in n){var a=n[o];"object"!=typeof a&&a!=r[o]&&(r[o]=a)}switch(n.childNodes&&(r.childNodes=new Qo),r.ownerDocument=e,r.nodeType){case No:var s=n.attributes,u=r.attributes=new na,l=s.length;u._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(t(e,s.item(c),!0));break;case Lo:i=!0}if(i)for(var d=n.firstChild;d;)r.appendChild(t(e,d,i)),d=d.nextSibling;return r}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Vo&&t.nodeType==Vo?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var i in n)if(n[i]==t)return i;e=e.nodeType==Lo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==Lo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},ko(Ro,sa),ko(Ro,sa.prototype),ca.prototype={nodeName:"#document",nodeType:Go,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==zo){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return null==this.documentElement&&t.nodeType==No&&(this.documentElement=t),pa(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),fa(this,t)},importNode:function(t,e){return function t(e,n,i){var r;switch(n.nodeType){case No:(r=n.cloneNode(!1)).ownerDocument=e;case zo:break;case Lo:i=!0}if(r||(r=n.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,i)for(var o=n.firstChild;o;)r.appendChild(t(e,o,i)),o=o.nextSibling;return r}(this,t,e)},getElementById:function(t){var e=null;return la(this.documentElement,(function(n){if(n.nodeType==No&&n.getAttribute("id")==t)return e=n,!0})),e},createElement:function(t){var e=new ga;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new Qo,(e.attributes=new na)._ownerElement=e,e},createDocumentFragment:function(){var t=new Oa;return t.ownerDocument=this,t.childNodes=new Qo,t},createTextNode:function(t){var e=new ya;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new _a;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new ba;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Ca;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new ma;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Ea;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new ga,i=e.split(":"),r=n.attributes=new na;return n.childNodes=new Qo,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new ma,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}},Do(ca,sa),ga.prototype={nodeType:No,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===zo?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var i=t.lastChild;n.removeChild(e),i=t.lastChild}return i=t.lastChild,e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,ha(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new ta(this,(function(e){var n=[];return la(e,(function(i){i===e||i.nodeType!=No||"*"!==t&&i.tagName!=t||n.push(i)})),n}))},getElementsByTagNameNS:function(t,e){return new ta(this,(function(n){var i=[];return la(n,(function(r){r===n||r.nodeType!==No||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||i.push(r)})),i}))}},ca.prototype.getElementsByTagName=ga.prototype.getElementsByTagName,ca.prototype.getElementsByTagNameNS=ga.prototype.getElementsByTagNameNS,Do(ga,sa),ma.prototype.nodeType=Lo,Do(ma,sa),va.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(qo[Xo])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},Do(va,sa),ya.prototype={nodeName:"#text",nodeType:Vo,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},Do(ya,va),_a.prototype={nodeName:"#comment",nodeType:Ho},Do(_a,va),ba.prototype={nodeName:"#cdata-section",nodeType:Fo},Do(ba,va),Ta.prototype.nodeType=Wo,Do(Ta,sa),wa.prototype.nodeType=$o,Do(wa,sa),Sa.prototype.nodeType=Uo,Do(Sa,sa),Ea.prototype.nodeType=jo,Do(Ea,sa),Oa.prototype.nodeName="#document-fragment",Oa.prototype.nodeType=zo,Do(Oa,sa),Ca.prototype.nodeType=Bo,Do(Ca,sa),Aa.prototype.serializeToString=function(t,e,n){return Pa.call(t,e,n)},sa.prototype.toString=Pa;try{Object.defineProperty&&(Object.defineProperty(ta.prototype,"length",{get:function(){return ea(this),this.$$length}}),Object.defineProperty(sa.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case No:case zo:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case No:case zo:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),Ma=function(t,e,n){t["$$"+e]=n})}catch(t){}var ka={DOMImplementation:aa,XMLSerializer:Aa},Da=s((function(t,e){function n(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function r(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function a(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function s(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var n=this.options,r=new u,a=n.domBuilder||new i,s=n.errorHandler,l=n.locator,c=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&a.setDocumentLocator(l),r.errorHandler=function(t,e,n){if(!t){if(e instanceof i)return e;t=e}var r={},a=t instanceof Function;function s(e){var i=t[e];!i&&a&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,a,l),r.domBuilder=n.domBuilder||a,/\/x?html?$/.test(e)&&(d.nbsp=" ",d.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,c,d):r.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var o=this.doc,a=o.createElementNS(t,n||e),u=i.length;s(this,a),this.currentElement=a,this.locator&&r(this.locator,a);for(var l=0;l<u;l++){t=i.getURI(l);var c=i.getValue(l),d=(n=i.getQName(l),o.createAttributeNS(t,n));this.locator&&r(i.getLocator(l),d),d.value=d.nodeValue=c,a.setAttributeNode(d)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&r(this.locator,n),s(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=a.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(t);else i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&r(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=a.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&r(this.locator,i),s(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var o=i.createDocumentType(t,e,n);this.locator&&r(this.locator,o),s(this,o)}},warning:function(t){console.warn("[xmldom warning]\t"+t,o(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,o(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,o(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){i.prototype[t]=function(){return null}}));var u=Mo.XMLReader,l=e.DOMImplementation=ka.DOMImplementation;e.XMLSerializer=ka.XMLSerializer,e.DOMParser=n})),Ra=(Da.DOMImplementation,Da.XMLSerializer,Da.DOMParser),Na=function(t){return!!t&&"object"==typeof t},La=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce((function(e,n){return Object.keys(n).forEach((function(i){Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):Na(e[i])&&Na(n[i])?e[i]=t(e[i],n[i]):e[i]=n[i]})),e}),{})},Va=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},Fa=function(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},ja="INVALID_NUMBER_OF_PERIOD",Ua="DASH_EMPTY_MANIFEST",Ba="DASH_INVALID_XML",Ha="NO_BASE_URL",Ga="SEGMENT_TIME_UNSPECIFIED",Wa="UNSUPPORTED_UTC_TIMING_SCHEME",za=function(t){var e=t.baseUrl,n=void 0===e?"":e,i=t.source,r=void 0===i?"":i,o=t.range,a=void 0===o?"":o,s=t.indexRange,u=void 0===s?"":s,l={uri:r,resolvedUri:oo(n||"",r)};if(a||u){var c=(a||u).split("-"),d=parseInt(c[0],10),h=parseInt(c[1],10);l.byterange={length:h-d+1,offset:d}}return l},$a={static:function(t){var e=t.duration,n=t.timescale,i=void 0===n?1:n,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/i))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,o=void 0===r?1:r,a=t.duration,s=t.start,u=void 0===s?0:s,l=t.minimumUpdatePeriod,c=void 0===l?0:l,d=t.timeShiftBufferDepth,h=void 0===d?1/0:d,f=(e+n)/1e3,p=i+u,g=f+c-p,m=Math.ceil(g*o/a),v=Math.floor((f-p-h)*o/a),y=Math.floor((f-p)*o/a);return{start:Math.max(0,v),end:Math.min(m,y)}}},Ya=function(t){var e=t.type,n=void 0===e?"static":e,i=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.sourceDuration,s=$a[n](t),u=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n}(s.start,s.end).map(function(t){return function(e,n){var i=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.periodIndex,s=t.startNumber;return{number:(void 0===s?1:s)+e,duration:i/o,timeline:a,time:n*i}}}(t));if("static"===n){var l=u.length-1;u[l].duration=a-i/o*l}return u},qa=function(t){var e=t.baseUrl,n=t.initialization,i=void 0===n?{}:n,r=t.sourceDuration,o=t.indexRange,a=void 0===o?"":o,s=t.duration;if(!e)throw new Error(Ha);var u=za({baseUrl:e,source:i.sourceURL,range:i.range}),l=za({baseUrl:e,source:e,indexRange:a});if(l.map=u,s){var c=Ya(t);c.length&&(l.duration=c[0].duration,l.timeline=c[0].timeline)}else r&&(l.duration=r,l.timeline=0);return l.number=0,[l]},Xa=function(t,e,n){for(var i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,o=t.timeline||0,a=t.sidx.byterange,s=a.offset+a.length,u=e.timescale,l=e.references.filter((function(t){return 1!==t.referenceType})),c=[],d=s+e.firstOffset,h=0;h<l.length;h++){var f=e.references[h],p=f.referencedSize,g=f.subsegmentDuration,m=qa({baseUrl:n,timescale:u,timeline:o,periodIndex:o,duration:g,sourceDuration:r,indexRange:d+"-"+(d+p-1)})[0];i&&(m.map=i),c.push(m),d+=p}return t.segments=c,t},Ka=function(t){var e;return(e=t.reduce((function(t,e){var n,i=e.attributes.id+(e.attributes.lang||"");return t[i]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(n=t[i].segments).push.apply(n,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e,t}),{}),Object.keys(e).map((function(t){return e[t]}))).map((function(t){var e,n;return t.discontinuityStarts=(e=t.segments,n="discontinuity",e.reduce((function(t,e,i){return e[n]&&t.push(i),t}),[])),t}))},Za=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var n in t){var i=t[n];if(i.sidx){var r=i.sidx.uri+"-"+(a=i.sidx.byterange,s=void 0,s=a.offset+a.length-1,a.offset+"-"+s),o=e[r]&&e[r].sidx;i.sidx&&o&&Xa(i,o,i.sidx.resolvedUri)}}var a,s;return t},Ja=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,o={attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},Qa=function(t){var e,n=t.attributes,i=t.segments;void 0===i&&(i=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var r=((e={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,e);return n.codecs&&(r.CODECS=n.codecs),{attributes:r,uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1}},ts=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,o={attributes:(e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},es=function(t,e,n){var i;if(void 0===n&&(n={}),!t.length)return{};var r=t[0].attributes,o=r.sourceDuration,a=r.type,s=void 0===a?"static":a,u=r.suggestedPresentationDelay,l=r.minimumUpdatePeriod,c=Ka(t.filter((function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType}))).map(ts),d=Ka(t.filter((function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType}))),h=t.filter((function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType})),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:o,playlists:Za(c,n)};return l>=0&&(f.minimumUpdatePeriod=1e3*l),e&&(f.locations=e),"dynamic"===s&&(f.suggestedPresentationDelay=u),d.length&&(f.mediaGroups.AUDIO.audio=function(t,e){var n;void 0===e&&(e={});var i=t.reduce((function(t,i){var r=i.attributes.role&&i.attributes.role.value||"",o=i.attributes.lang||"",a="main";if(o){var s=r?" ("+r+")":"";a=""+i.attributes.lang+s}return t[a]&&t[a].playlists[0].attributes.BANDWIDTH>i.attributes.bandwidth||(t[a]={language:o,autoselect:!0,default:"main"===r,playlists:Za([Ja(i)],e),uri:""},void 0===n&&"main"===r&&((n=i).default=!0)),t}),{});return n||(i[Object.keys(i)[0]].default=!0),i}(d,n)),h.length&&(f.mediaGroups.SUBTITLES.subs=function(t,e){return void 0===e&&(e={}),t.reduce((function(t,n){var i=n.attributes.lang||"text";return t[i]||(t[i]={language:i,default:!1,autoselect:!1,playlists:Za([Qa(n)],e),uri:""}),t}),{})}(h,n)),f},ns=function(t,e,n){var i=t.NOW,r=t.clientOffset,o=t.availabilityStartTime,a=t.timescale,s=void 0===a?1:a,u=t.start,l=void 0===u?0:u,c=t.minimumUpdatePeriod,d=(i+r)/1e3+(void 0===c?0:c)-(o+l);return Math.ceil((d*s-e)/n)},is=function(t,e){for(var n=t.type,i=void 0===n?"static":n,r=t.minimumUpdatePeriod,o=void 0===r?0:r,a=t.media,s=void 0===a?"":a,u=t.sourceDuration,l=t.timescale,c=void 0===l?1:l,d=t.startNumber,h=void 0===d?1:d,f=t.periodIndex,p=[],g=-1,m=0;m<e.length;m++){var v=e[m],y=v.d,_=v.r||0,b=v.t||0;g<0&&(g=b),b&&b>g&&(g=b);var T=void 0;if(_<0){var w=m+1;T=w===e.length?"dynamic"===i&&o>0&&s.indexOf("$Number$")>0?ns(t,g,y):(u*c-g)/y:(e[w].t-g)/y}else T=_+1;for(var S=h+p.length+T,E=h+p.length;E<S;)p.push({number:E,duration:y/c,time:g,timeline:f}),g+=y,E++}return p},rs=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,os=function(t,e){return t.replace(rs,function(t){return function(e,n,i,r){if("$$"===e)return"$";if(void 0===t[n])return e;var o=""+t[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:""+new Array(r-o.length+1).join("0")+o)}}(e))},as=function(t,e){var n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,r=void 0===i?{sourceURL:"",range:""}:i,o=za({baseUrl:t.baseUrl,source:os(r.sourceURL,n),range:r.range});return function(t,e){return t.duration||e?t.duration?Ya(t):is(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map((function(e){n.Number=e.number,n.Time=e.time;var i=os(t.media||"",n);return{uri:i,timeline:e.timeline,duration:e.duration,resolvedUri:oo(t.baseUrl||"",i),map:o,number:e.number}}))},ss=function(t,e){var n=t.duration,i=t.segmentUrls,r=void 0===i?[]:i;if(!n&&!e||n&&e)throw new Error(Ga);var o,a=r.map((function(e){return function(t,e){var n=t.baseUrl,i=t.initialization,r=void 0===i?{}:i,o=za({baseUrl:n,source:r.sourceURL,range:r.range}),a=za({baseUrl:n,source:e.media,range:e.mediaRange});return a.map=o,a}(t,e)}));return n&&(o=Ya(t)),e&&(o=is(t,e)),o.map((function(t,e){if(a[e]){var n=a[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}})).filter((function(t){return t}))},us=function(t){var e,n,i=t.attributes,r=t.segmentInfo;r.template?(n=as,e=La(i,r.template)):r.base?(n=qa,e=La(i,r.base)):r.list&&(n=ss,e=La(i,r.list));var o={attributes:i};if(!n)return o;var a=n(e,r.timeline);if(e.duration){var s=e,u=s.duration,l=s.timescale,c=void 0===l?1:l;e.duration=u/c}else a.length?e.duration=a.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return o.attributes=e,o.segments=a,r.base&&e.indexRange&&(o.sidx=a[0],o.segments=[]),o},ls=function(t,e){return Fa(t.childNodes).filter((function(t){return t.tagName===e}))},cs=function(t){return t.textContent.trim()},ds=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var n=e.slice(1),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(u||0)},hs={mediaPresentationDuration:function(t){return ds(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return ds(t)},suggestedPresentationDelay:function(t){return ds(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return ds(t)},start:function(t){return ds(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?ds(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},fs=function(t){return t&&t.attributes?Fa(t.attributes).reduce((function(t,e){var n=hs[e.name]||hs.DEFAULT;return t[e.name]=n(e.value),t}),{}):{}},ps={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},gs=function(t,e){return e.length?Va(t.map((function(t){return e.map((function(e){return oo(t,cs(e))}))}))):t},ms=function(t){var e=ls(t,"SegmentTemplate")[0],n=ls(t,"SegmentList")[0],i=n&&ls(n,"SegmentURL").map((function(t){return La({tag:"SegmentURL"},fs(t))})),r=ls(t,"SegmentBase")[0],o=n||e,a=o&&ls(o,"SegmentTimeline")[0],s=n||r||e,u=s&&ls(s,"Initialization")[0],l=e&&fs(e);l&&u?l.initialization=u&&fs(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:a&&ls(a,"S").map((function(t){return fs(t)})),list:n&&La(fs(n),{segmentUrls:i,initialization:fs(u)}),base:r&&La(fs(r),{initialization:fs(u)})};return Object.keys(c).forEach((function(t){c[t]||delete c[t]})),c},vs=function(t,e,n){return function(i){var r=fs(i),o=gs(e,ls(i,"BaseURL")),a=ls(i,"Role")[0],s={role:fs(a)},u=La(t,r,s),l=ls(i,"ContentProtection").reduce((function(t,e){var n=fs(e),i=ps[n.schemeIdUri];if(i){t[i]={attributes:n};var r=ls(e,"cenc:pssh")[0];if(r){var o=cs(r),a=o&&lo(o);t[i].pssh=a}}return t}),{});Object.keys(l).length&&(u=La(u,{contentProtection:l}));var c=ms(i),d=ls(i,"Representation"),h=La(n,c);return Va(d.map(function(t,e,n){return function(i){var r=ls(i,"BaseURL"),o=gs(e,r),a=La(t,fs(i)),s=ms(i);return o.map((function(t){return{segmentInfo:La(n,s),attributes:La(a,{baseUrl:t})}}))}}(u,o,h)))}},ys=function(e,n){return function(i,r){var o=gs(n,ls(i,"BaseURL")),a=fs(i),s=parseInt(a.id,10),u=t.isNaN(s)?r:s,l=La(e,{periodIndex:u}),c=ls(i,"AdaptationSet"),d=ms(i);return Va(c.map(vs(l,o,d)))}},_s=function(t){if(""===t)throw new Error(Ua);var e=(new Ra).parseFromString(t,"application/xml"),n=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Ba);return n},bs=function(t,e){void 0===e&&(e={});var n=function(t,e){void 0===e&&(e={});var n=e,i=n.manifestUri,r=void 0===i?"":i,o=n.NOW,a=void 0===o?Date.now():o,s=n.clientOffset,u=void 0===s?0:s,l=ls(t,"Period");if(!l.length)throw new Error(ja);var c=ls(t,"Location"),d=fs(t),h=gs([r],ls(t,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=a,d.clientOffset=u,c.length&&(d.locations=c.map(cs)),{locations:d.locations,representationInfo:Va(l.map(ys(d,h)))}}(_s(t),e),i=n.representationInfo.map(us);return es(i,n.locations,e.sidxMapping)},Ts=function(t){return function(t){var e=ls(t,"UTCTiming")[0];if(!e)return null;var n=fs(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Wa)}return n}(_s(t))},ws=function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},Ss=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)},i=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},r=function(t,e){void 0===e&&(e=0);var i=(t=n(t))[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?i+20:i+10},o=function t(e,o){return void 0===o&&(o=0),(e=n(e)).length-o<10||"ID3"!==i(e.subarray(o,o+3))?o:t(e,o+=r(e,o))},a={aac:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&16==(22&t[e+1])},mp3:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&2==(6&t[e+1])},webm:function(t){return t.length>=4&&26==(255&t[0])&&69==(255&t[1])&&223==(255&t[2])&&163==(255&t[3])},mp4:function(t){return t.length>=8&&/^(f|s)typ$/.test(i(t.subarray(4,8)))&&!/^ftyp3g$/.test(i(t.subarray(4,10)))},"3gp":function(t){return t.length>=10&&/^ftyp3g$/.test(i(t.subarray(4,10)))},ts:function(t){if(t.length<189&&t.length>=1)return 71===t[0];for(var e=0;e+188<t.length&&e<188;){if(71===t[e]&&71===t[e+188])return!0;e+=1}return!1},flac:function(t){return t.length>=4&&/^fLaC$/.test(i(t.subarray(0,4)))},ogg:function(t){return t.length>=4&&/^OggS$/.test(i(t.subarray(0,4)))}},s=Object.keys(a).filter((function(t){return"ts"!==t})).concat("ts");s.forEach((function(t){var e=a[t];a[t]=function(t){return e(n(t))}})),e.detectContainerForBytes=function(t){t=n(t);for(var e=0;e<s.length;e++){var i=s[e];if(a[i](t))return i}return""},e.getId3Offset=o,e.id3Size=r,e.isLikely=a,e.isLikelyFmp4MediaSegment=function(t){t=n(t);for(var e=0;e<t.length;){var r=(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0;if("moof"===i(t.subarray(e+4,e+8)))return!0;0===r||r+e>t.length?e=t.length:e+=r}return!1}}));a(Ss);var Es=Ss.detectContainerForBytes,Os=Ss.getId3Offset,Cs=(Ss.id3Size,Ss.isLikely,Ss.isLikelyFmp4MediaSegment),As=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)};e.bytesToString=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},e.concatTypedArrays=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.reduce((function(t,e){return t+=e&&(e.byteLength||e.length)||0}),0),o=new Uint8Array(r),a=0;return e.forEach((function(t){t=n(t),o.set(t,a),a+=t.byteLength})),o},e.isTypedArray=function(t){return ArrayBuffer.isView(t)},e.stringToBytes=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t&&"function"==typeof t.toString&&(t=t.toString()),"string"!=typeof t?[]:(e||(t=unescape(encodeURIComponent(t))),t.split("").map((function(t){return 255&t.charCodeAt(0)})))},e.toUint8=n}));a(As),As.bytesToString;var Ps=As.concatTypedArrays,Is=(As.isTypedArray,As.stringToBytes),xs=As.toUint8,Ms=27,ks=15,Ds=21,Rs=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,o;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){t={}}}};Rs.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},Rs.prototype.push=function(t){this.trigger("data",t)},Rs.prototype.flush=function(t){this.trigger("done",t)},Rs.prototype.partialFlush=function(t){this.trigger("partialdone",t)},Rs.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},Rs.prototype.reset=function(t){this.trigger("reset",t)};var Ns=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},Ls=function t(e){var n,i;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=Ns(t.dts,i),t.pts=Ns(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ls.prototype=new Rs;var Vs=function(t){var e=31&t[1];return e<<=8,e|=t[2]},Fs=function(t){return!!(64&t[1])},js=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},Us=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Bs={parseType:function(t,e){var n=Vs(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=Fs(t),n=4+js(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=Fs(t),i=4+js(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r;r=3+((15&t[i+1])<<8|t[i+2])-4;for(var o=12+((15&t[i+10])<<8|t[i+11]);o<r;){var a=i+o;e[(31&t[a+1])<<8|t[a+2]]=t[a],o+=5+((15&t[a+3])<<8|t[a+4])}return e}},parsePayloadUnitStartIndicator:Fs,parsePesType:function(t,e){switch(e[Vs(t)]){case Ms:return"video";case ks:return"audio";case Ds:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!Fs(t))return null;var e=4+js(t);if(e>=t.byteLength)return null;var n,i=null;return 192&(n=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+js(t),n=t.subarray(e),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===Us(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Us(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Us(31&n[r+3])&&(o=!0),o}},Hs=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Gs=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return n=n>=0?n:0,(16&t[e+5])>>4?n+20:n+10},Ws=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},zs={isLikelyAacData:function(t){var e=function t(e,n){return e.length-n<10||e[n]!=="I".charCodeAt(0)||e[n+1]!=="D".charCodeAt(0)||e[n+2]!=="3".charCodeAt(0)?n:t(e,n+=Gs(e,n))}(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},parseId3TagSize:Gs,parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return Hs[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,i;e=10,64&t[5]&&(e+=4,e+=Ws(t.subarray(10,14)));do{if((n=Ws(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}(i,0,r))){var o=i.subarray(r+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return a*=4,a+=3&o[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null}},$s=9e4,Ys=(function(t){return 9e4*t},function(t,e){return t*e},function(t){return t/9e4},function(t,e){return t/e},$s),qs=Ns,Xs={};Xs.ts=Bs,Xs.aac=zs;var Ks,Zs=$s,Js=function(t,e,n){for(var i,r,o,a,s=0,u=188,l=!1;u<=t.byteLength;)if(71!==t[s]||71!==t[u]&&u!==t.byteLength)s++,u++;else{switch(i=t.subarray(s,u),Xs.ts.parseType(i,e.pid)){case"pes":r=Xs.ts.parsePesType(i,e.table),o=Xs.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Xs.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0)}if(l)break;s+=188,u+=188}for(s=(u=t.byteLength)-188,l=!1;s>=0;)if(71!==t[s]||71!==t[u]&&u!==t.byteLength)s--,u--;else{switch(i=t.subarray(s,u),Xs.ts.parseType(i,e.pid)){case"pes":r=Xs.ts.parsePesType(i,e.table),o=Xs.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Xs.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0)}if(l)break;s-=188,u-=188}},Qs=function(t,e,n){for(var i,r,o,a,s,u,l,c=0,d=188,h=!1,f={data:[],size:0};d<t.byteLength;)if(71!==t[c]||71!==t[d])c++,d++;else{switch(i=t.subarray(c,d),Xs.ts.parseType(i,e.pid)){case"pes":if(r=Xs.ts.parsePesType(i,e.table),o=Xs.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!h&&(a=Xs.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),h=!0),!n.firstKeyFrame)){if(o&&0!==f.size){for(s=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),s.set(l,u),u+=l.byteLength;if(Xs.ts.videoPacketContainsKeyFrame(s)){var p=Xs.ts.parsePesTime(s);p?(n.firstKeyFrame=p,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(i),f.size+=i.byteLength}}if(h&&n.firstKeyFrame)break;c+=188,d+=188}for(c=(d=t.byteLength)-188,h=!1;c>=0;)if(71!==t[c]||71!==t[d])c--,d--;else{switch(i=t.subarray(c,d),Xs.ts.parseType(i,e.pid)){case"pes":r=Xs.ts.parsePesType(i,e.table),o=Xs.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(a=Xs.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),h=!0)}if(h)break;c-=188,d-=188}},tu=function(t){var e={pid:null,table:null},n={};for(var i in function(t,e){for(var n,i=0,r=188;r<t.byteLength;)if(71!==t[i]||71!==t[r])i++,r++;else{switch(n=t.subarray(i,r),Xs.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=Xs.ts.parsePat(n));break;case"pmt":e.table||(e.table=Xs.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=188,r+=188}}(t,e),e.table)if(e.table.hasOwnProperty(i))switch(e.table[i]){case Ms:n.video=[],Qs(t,e,n),0===n.video.length&&delete n.video;break;case ks:n.audio=[],Js(t,e,n),0===n.audio.length&&delete n.audio}return n},eu=function(t,e){var n;return(n=Xs.aac.isLikelyAacData(t)?function(t){for(var e,n=!1,i=0,r=null,o=null,a=0,s=0;t.length-s>=3;){switch(Xs.aac.parseType(t,s)){case"timed-metadata":if(t.length-s<10){n=!0;break}if((a=Xs.aac.parseId3TagSize(t,s))>t.length){n=!0;break}null===o&&(e=t.subarray(s,s+a),o=Xs.aac.parseAacTimestamp(e)),s+=a;break;case"audio":if(t.length-s<7){n=!0;break}if((a=Xs.aac.parseAdtsSize(t,s))>t.length){n=!0;break}null===r&&(e=t.subarray(s,s+a),r=Xs.aac.parseSampleRate(e)),i++,s+=a;break;default:s++}if(n)return null}if(null===r||null===o)return null;var u=Zs/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*u,pts:o+1024*i*u}]}}(t):tu(t))&&(n.audio||n.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach((function(t){t.dts=qs(t.dts,n),t.pts=qs(t.pts,n),t.dtsTime=t.dts/Zs,t.ptsTime=t.pts/Zs}))}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach((function(t){t.dts=qs(t.dts,i),t.pts=qs(t.pts,i),t.dtsTime=t.dts/Zs,t.ptsTime=t.pts/Zs})),t.firstKeyFrame){var r=t.firstKeyFrame;r.dts=qs(r.dts,i),r.pts=qs(r.pts,i),r.dtsTime=r.dts/Zs,r.ptsTime=r.dts/Zs}}}(n,e),n):null},nu=function(t){return t>>>0},iu=function(t){return("00"+t.toString(16)).slice(-2)},ru=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},ou=nu,au=function t(e,n){var i,r,o,a,s,u=[];if(!n.length)return null;for(i=0;i<e.byteLength;)r=ou(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),o=ru(e.subarray(i+4,i+8)),a=r>1?i+r:e.byteLength,o===n[0]&&(1===n.length?u.push(e.subarray(i+8,a)):(s=t(e.subarray(i+8,a),n.slice(1))).length&&(u=u.concat(s))),i=a;return u},su=nu,uu=iu,lu=function(t,e){var n,i,r;return n=au(e,["moof","traf"]),i=[].concat.apply([],n.map((function(e){return au(e,["tfhd"]).map((function(n){var i,r;return i=su(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=t[i]||9e4,(au(e,["tfdt"]).map((function(t){var e,n;return e=t[0],n=su(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=su(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n}))[0]||1/0)/r}))}))),r=Math.min.apply(null,i),isFinite(r)?r:0},cu=function(t){var e=au(t,["moov","trak"]),n=[];return e.forEach((function(t){var e,i,r={},o=au(t,["tkhd"])[0];o&&(i=(e=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===i?e.getUint32(12):e.getUint32(20));var a=au(t,["mdia","hdlr"])[0];if(a){var s=ru(a.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var u=au(t,["mdia","minf","stbl","stsd"])[0];if(u){var l=u.subarray(8);r.codec=ru(l.subarray(4,8));var c,d=au(l,[r.codec])[0];d&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(c=d.subarray(78),"avcC"===ru(c.subarray(4,8))&&c.length>11?(r.codec+=".",r.codec+=uu(c[9]),r.codec+=uu(c[10]),r.codec+=uu(c[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(c=d.subarray(28),"esds"===ru(c.subarray(4,8))&&c.length>20&&0!==c[19]?(r.codec+="."+uu(c[19]),r.codec+="."+uu(c[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var h=au(t,["mdia","mdhd"])[0];h&&(r.timescale=Ks(h)),n.push(r)})),n},du=(Ks=function(t){var e=0===t[0]?12:20;return su(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])},s((function(e,n){function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(t),o={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/},a=function(t){return t?t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):t},s=function(t){return t.map(a)},u=function(t){void 0===t&&(t="");var e=t.split(","),n={};return e.forEach((function(t){t=t.trim(),["video","audio"].forEach((function(e){var i=o[e].exec(t.toLowerCase());if(i&&!(i.length<=1)){var r=t.substring(0,i[1].length),a=t.replace(r,"");n[e]={type:r,details:a}}}))})),n},l=function(t){return void 0===t&&(t=""),o.audio.test(t.trim().toLowerCase())},c=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase().split(",").map((function(t){return a(t.trim())})),n="video";1===e.length&&l(e[0])&&(n="audio");var i="mp4";return e.every((function(t){return o.mp4.test(t)}))?i="mp4":e.every((function(t){return o.webm.test(t)}))?i="webm":e.every((function(t){return o.ogg.test(t)}))&&(i="ogg"),n+"/"+i+';codecs="'+t+'"'}};n.DEFAULT_AUDIO_CODEC="mp4a.40.2",n.DEFAULT_VIDEO_CODEC="avc1.4d400d",n.browserSupportsCodec=function(t){return void 0===t&&(t=""),r.default.MediaSource&&r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported(c(t))||!1},n.codecsFromDefault=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return u(r.playlists[0].attributes.CODECS)}return null},n.getMimeForCodec=c,n.isAudioCodec=l,n.isVideoCodec=function(t){return void 0===t&&(t=""),o.video.test(t.trim().toLowerCase())},n.mapLegacyAvcCodecs=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t){return s([t])[0]}))},n.muxerSupportsCodec=function(t){return void 0===t&&(t=""),t.toLowerCase().split(",").every((function(t){return t=t.trim(),o.muxerVideo.test(t)||o.muxerAudio.test(t)}))},n.parseCodecs=u,n.translateLegacyCodec=a,n.translateLegacyCodecs=s})));a(du);var hu,fu=du.DEFAULT_AUDIO_CODEC,pu=du.DEFAULT_VIDEO_CODEC,gu=du.browserSupportsCodec,mu=du.codecsFromDefault,vu=du.getMimeForCodec,yu=du.isAudioCodec,_u=du.isVideoCodec,bu=(du.mapLegacyAvcCodecs,du.muxerSupportsCodec),Tu=du.parseCodecs,wu=du.translateLegacyCodec,Su=(du.translateLegacyCodecs,oo),Eu=function(t,e,n){return t&&n&&n.responseURL&&e!==n.responseURL?n.responseURL:e},Ou=Qr.log,Cu=function(t,e){return t+"-"+e},Au=function(t){var e=t.manifestString,n=t.customTagParsers,i=void 0===n?[]:n,r=t.customTagMappers,o=void 0===r?[]:r,a=new po;return i.forEach((function(t){return a.addParser(t)})),o.forEach((function(t){return a.addTagMapper(t)})),a.push(e),a.end(),a.manifest},Pu=function(t,e){["AUDIO","SUBTITLES"].forEach((function(n){for(var i in t.mediaGroups[n])for(var r in t.mediaGroups[n][i]){var o=t.mediaGroups[n][i][r];e(o,n,i,r)}}))},Iu=function(t){var e=t.playlist,n=t.uri,i=t.id;e.id=i,n&&(e.uri=n),e.attributes=e.attributes||{}},xu=function(t,e){t.uri=e;for(var n=0;n<t.playlists.length;n++)if(!t.playlists[n].uri){var i="placeholder-uri-"+n;t.playlists[n].uri=i}Pu(t,(function(e,n,i,r){if(e.playlists&&e.playlists.length&&!e.playlists[0].uri){var o="placeholder-uri-"+n+"-"+i+"-"+r,a=Cu(0,o);e.playlists[0].uri=o,e.playlists[0].id=a,t.playlists[a]=e.playlists[0],t.playlists[o]=e.playlists[0]}})),function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];Iu({playlist:n,id:Cu(e,n.uri)}),n.resolvedUri=Su(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||Ou.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(t),function(t){Pu(t,(function(e){e.uri&&(e.resolvedUri=Su(t.uri,e.uri))}))}(t)},Mu=Qr.mergeOptions,ku=Qr.EventTarget,Du=function(t,e){t.resolvedUri||(t.resolvedUri=Su(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Su(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Su(e,t.map.uri))},Ru=function(t,e){var n=Mu(t,{}),i=n.playlists[e.id];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.endList===e.endList&&i.mediaSequence===e.mediaSequence)return null;var r=Mu(i,e);i.segments&&(r.segments=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),o=n;o<r;o++)i[o-n]=Mu(t[o],i[o-n]);return i}(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach((function(t){Du(t,r.resolvedUri)}));for(var o=0;o<n.playlists.length;o++)n.playlists[o].id===e.id&&(n.playlists[o]=r);return n.playlists[e.id]=r,n.playlists[e.uri]=r,n},Nu=function(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)},Lu=function(e){function n(t,n,i){var r;if(void 0===i&&(i={}),r=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");var o=i,a=o.withCredentials,s=void 0!==a&&a,u=o.handleManifestRedirects,l=void 0!==u&&u;r.src=t,r.vhs_=n,r.withCredentials=s,r.handleManifestRedirects=l;var c=n.options_;return r.customTagParsers=c&&c.customTagParsers||[],r.customTagMappers=c&&c.customTagMappers||[],r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.vhs_.xhr({uri:Su(r.master.uri,r.media().uri),withCredentials:r.withCredentials},(function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})})))})),r}Bt(n,e);var i=n.prototype;return i.playlistRequestError=function(t,e,n){var i=e.uri,r=e.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[r],status:t.status,message:"HLS playlist request error at URL: "+i+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},i.haveMetadata=function(e){var n=this,i=e.playlistString,r=e.playlistObject,o=e.url,a=e.id;this.request=null,this.state="HAVE_METADATA";var s=r||Au({manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers});Iu({playlist:s,uri:o,id:a});var u=Ru(this.master,s);this.targetDuration=s.targetDuration,u?(this.master=u,this.media_=this.master.playlists[a]):this.trigger("playlistunchanged"),this.media().endList||(t.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=t.setTimeout((function(){n.trigger("mediaupdatetimeout")}),Nu(this.media(),!!u))),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.media=function(e,n){var i=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(t.clearTimeout(this.finalRenditionTimeout),n){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=t.setTimeout(this.media.bind(this,e,!1),r)}else{var o=this.state,a=!this.media_||e.id!==this.media_.id;if(this.master.playlists[e.id].endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===o?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,n){if(i.request){if(e.resolvedUri=Eu(i.handleManifestRedirects,e.resolvedUri,n),t)return i.playlistRequestError(i.request,e,o);i.haveMetadata({playlistString:n.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===o?i.trigger("loadedmetadata"):i.trigger("mediachange")}}))}}},i.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},i.load=function(e){var n=this;t.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return n.load()}),r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=t.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Eu(e.handleManifestRedirects,e.src,n);var i=Au({manifestString:n.responseText,customTagParsers:e.customTagParsers,customTagMappers:e.customTagMappers});e.setupInitialPlaylist(i)}}))},i.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},i.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,xu(this.master,this.srcUri()),e.playlists.forEach((function(t){t.segments&&t.segments.forEach((function(e){Du(e,t.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var n=this.srcUri()||t.location.href;this.master=function(e,n){var i=Cu(0,n),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:t.location.href,resolvedUri:t.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[n]=r.playlists[0],r}(0,n),this.haveMetadata({playlistObject:e,url:n,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},n}(ku),Vu=function(t,e){var n,i=[];if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return Qr.createTimeRanges(i)},Fu=function(t,e){return Vu(t,(function(t,n){return t-.1<=e&&n+.1>=e}))},ju=function(t,e){return Vu(t,(function(t){return t-1/30>=e}))},Uu=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},Bu=function(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},Hu=Qr.createTimeRange,Gu=function(t,e,n){if(void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;var i=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=t.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(t,e);if(i.precise)return i.result;var r=function(t,e){for(var n,i=0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(n=t.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(t,e);return r.precise?r.result:i.result+n},Wu=function(e,n,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===n){if(e.totalDuration)return e.totalDuration;if(!e.endList)return t.Infinity}return Gu(e,n,i)},zu=function(t,e,n){var i=0;if(e>n){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var o=e;o<Math.min(0,n);o++)i+=t.targetDuration;e=0}for(var a=e;a<n;a++)i+=t.segments[a].duration;return i},$u=function(t,e){if(!t.segments.length)return 0;var n=t.segments.length,i=t.segments[n-1].duration||t.targetDuration,r="number"==typeof e?e:i+2*t.targetDuration;if(0===r)return n;for(var o=0;n--&&!((o+=t.segments[n].duration)>=r););return Math.max(0,n)},Yu=function(t,e,n,i){if(!t||!t.segments)return null;if(t.endList)return Wu(t);if(null===e)return null;e=e||0;var r=n?$u(t,i):t.segments.length;return Gu(t,t.mediaSequence+r,e)},qu=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Xu=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Ku=function(t){var e=qu(t);return!t.disabled&&!e},Zu=function(t,e){return e.attributes&&e.attributes[t]},Ju=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter((function(t){return!!Ku(t)&&(t.attributes.BANDWIDTH||0)<n})).length},Qu={duration:Wu,seekable:function(t,e,n){var i=e||0,r=Yu(t,e,!0,n);return null===r?Hu():Hu(i,r)},safeLiveIndex:$u,getMediaInfoForTime:function(t,e,n,i){var r,o=t.segments.length,a=e-i;if(a<0){if(n>0)for(r=n-1;r>=0;r--)if((a+=t.segments[r].duration+1/30)>0)return{mediaIndex:r,startTime:i-zu(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((a-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<o;r++)if((a-=t.segments[r].duration+1/30)<0)return{mediaIndex:r,startTime:i+zu(t,n,r)};return{mediaIndex:o-1,startTime:e}},isEnabled:Ku,isDisabled:function(t){return t.disabled},isBlacklisted:qu,isIncompatible:Xu,playlistEnd:Yu,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},hasAttribute:Zu,estimateSegmentRequestTime:function(t,e,n,i){return void 0===i&&(i=0),Zu("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*i)/e:NaN},isLowestEnabledRendition:Ju},tl=Qr.xhr,el=Qr.mergeOptions,nl=function(t,e,n,i){var r="arraybuffer"===t.responseType?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&"ETIMEDOUT"===e.code&&(t.timedout=!0),e||t.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),i(e,t)},il=function(){return function t(e,n){e=el({timeout:45e3},e);var i=t.beforeRequest||Qr.Vhs.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(e);r&&(e=r)}var o=tl(e,(function(t,e){return nl(o,t,e,n)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=e.uri,o.requestTime=Date.now(),o}},rl=function(t){var e,n,i={};return t.byterange&&(i.Range=(e=t.byterange,n=e.offset+e.length-1,"bytes="+e.offset+"-"+n)),i},ol=function(t,e){return t.start(e)+"-"+t.end(e)},al=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},sl=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},ul=function(t){var e={};return Object.keys(t).forEach((function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i})),e},ll=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},cl=function(t){return t.resolvedUri},dl=function(t){for(var e=Array.prototype.slice.call(t),n="",i=0;i<e.length/16;i++)n+=e.slice(16*i,16*i+16).map(al).join("")+" "+e.slice(16*i,16*i+16).map(sl).join("")+"\n";return n},hl=Object.freeze({__proto__:null,createTransferableMessage:ul,initSegmentId:ll,segmentKeyId:cl,hexDump:dl,tagDump:function(t){var e=t.bytes;return dl(e)},textRanges:function(t){var e,n="";for(e=0;e<t.length;e++)n+=ol(t,e)+" ";return n}}),fl=function(t){var e=t.playlist,n=t.time,i=void 0===n?void 0:n,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var o=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var n,i=0,r=0;r<e.segments.length&&!(t<=(i=(n=e.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var o=e.segments[e.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+.25*o.duration)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(i,e);if(!o)return r({message:"valid programTime was not found"});if("estimate"===o.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:i},s=function(t,e){if(!e.dateTimeObject)return null;var n=e.videoTimingInfo.transmuxerPrependedSeconds,i=t-(e.videoTimingInfo.transmuxedPresentationStart+n);return new Date(e.dateTimeObject.getTime()+1e3*i)}(i,o.segment);return s&&(a.programDateTime=s.toISOString()),r(null,a)},pl=function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,o=void 0===r?2:r,a=e.seekTo,s=e.pauseAfterSeek,u=void 0===s||s,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!i||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=function(t,e){var n;try{n=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;var i=e.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<e.segments.length-1&&(i=e.segments[r],!(n<e.segments[r+1].dateTimeObject));r++);var o,a=e.segments[e.segments.length-1],s=a.dateTimeObject,u=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*u)?null:(n>s&&(i=a),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Qu.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(n,i);if(!d)return c({message:n+" was not found in the stream"});var h=d.segment,f=function(t,e){var n,i;try{n=new Date(t),i=new Date(e)}catch(t){}var r=n.getTime();return(i.getTime()-r)/1e3}(h.dateTimeObject,n);if("estimate"===d.type)return 0===o?c({message:n+" is not buffered yet. Try again"}):(a(d.estimatedStart+f),void l.one("seeked",(function(){t({programTime:n,playlist:i,retryCount:o-1,seekTo:a,pauseAfterSeek:u,tech:l,callback:c})})));var p=h.start+f;l.one("seeked",(function(){return c(null,l.currentTime())})),u&&l.pause(),a(p)},gl=function(t,e){if(4===t.readyState)return e()},ml=Qr.EventTarget,vl=Qr.mergeOptions,yl=function(t){var e=t.masterXml,n=t.srcUrl,i=t.clientOffset,r=t.sidxMapping,o=bs(e,{manifestUri:n,clientOffset:i,sidxMapping:r});return xu(o,n),o},_l=function(t,e){for(var n=!0,i=vl(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),r=0;r<e.playlists.length;r++){var o=Ru(i,e.playlists[r]);o&&(i=o,n=!1)}return Pu(e,(function(t,e,r,o){if(t.playlists&&t.playlists.length){var a=t.playlists[0].id,s=Ru(i,t.playlists[0]);s&&((i=s).mediaGroups[e][r][o].playlists[0]=i.playlists[a],n=!1)}})),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},bl=function(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e},Tl=function(t,e){var n,i,r={};for(var o in t){var a=t[o].sidx;if(a){var s=bl(a);if(!e[s])break;var u=e[s].sidxInfo;n=u,i=a,(Boolean(!n.map&&!i.map)||Boolean(n.map&&i.map&&n.map.byterange.offset===i.map.byterange.offset&&n.map.byterange.length===i.map.byterange.length))&&n.uri===i.uri&&n.byterange.offset===i.byterange.offset&&n.byterange.length===i.byterange.length&&(r[s]=e[s])}}return r},wl=function(t,e,n,i,r,o){var a={uri:Eu(r.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:n},s=Qr.mergeOptions(a,{responseType:"arraybuffer",headers:rl(a)});return function(t,e,n){var i,r=[],o=!1,a=function(t,e,i,r){return e.abort(),o=!0,n(t,e,i,r)},s=function(t,e){if(!o){if(t)return a(t,e,"",r);var n=e.responseText.substring(r&&r.byteLength||0,e.responseText.length);if(r=Ps(r,Is(n,!0)),i=i||Os(r),r.length<10||i&&r.length<i+2)return gl(e,(function(){return a(t,e,"",r)}));var s=Es(r);return"ts"===s&&r.length<188||!s&&r.length<376?gl(e,(function(){return a(t,e,"",r)})):a(null,e,s,r)}},u=e({uri:t,beforeSend:function(t){t.overrideMimeType("text/plain; charset=x-user-defined"),t.addEventListener("progress",(function(e){return e.total,e.loaded,nl(t,null,{statusCode:t.status},s)}))}},(function(t,e){return nl(u,t,e,s)}));return u}(a.uri,i,(function(e,r,u,l){if(e)return o(e,r);if(!u||"mp4"!==u)return o({status:r.status,message:"Unsupported "+(u||"unknown")+" container type for sidx segment at URL: "+a.uri,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},r);var c=a.byterange,d=c.offset,h=c.length;if(l.length>=h+d)return o(e,{response:l.subarray(d,d+h),status:r.status,uri:r.uri});t.request=i(s,o)}))},Sl=function(e){function n(t,n,i,r){var o;void 0===i&&(i={}),o=e.call(this)||this;var a=i,s=a.withCredentials,u=void 0!==s&&s,l=a.handleManifestRedirects,c=void 0!==l&&l;if(o.vhs_=n,o.withCredentials=u,o.handleManifestRedirects=c,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},"string"==typeof t?(o.srcUrl=t,o.sidxMapping_={},jt(o)):(o.setupChildLoader(r,t),o)}Bt(n,e);var i=n.prototype;return i.setupChildLoader=function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},t.clearTimeout(this.minimumUpdatePeriodTimeout_),t.clearTimeout(this.mediaRequest_),t.clearTimeout(this.mediaUpdateTimeout),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.sidxRequestFinished_=function(t,e,n,i){var r=this;return function(o,a){if(r.request){if(r.request=null,o)return r.error="object"==typeof o?o:{status:a.status,message:"DASH playlist request error at URL: "+t.uri,response:a.response,code:2},n&&(r.state=n),void r.trigger("error");var s=xs(a.response),u=ws(s.subarray(8));return i(e,u)}}},i.media=function(e){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r)if(this.media_&&this.trigger("mediachanging"),e.sidx){var o,a;this.masterPlaylistLoader_?(o=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(o=this.master,a=this.sidxMapping_);var s=bl(e.sidx);a[s]={sidxInfo:e.sidx},this.request=wl(this,e.sidx,e,this.vhs_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,o,i,(function(t,r){if(!t||!r)throw new Error("failed to request sidx");a[s].sidx=r,n.haveMetadata({startingState:i,playlist:t.playlists[e.id]})})))}else this.mediaRequest_=t.setTimeout(this.haveMetadata.bind(this,{startingState:i,playlist:e}),0)},i.haveMetadata=function(t){var e=t.startingState,n=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)},i.load=function(e){var n=this;t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return n.load()}),r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=t.setTimeout(this.haveMaster_.bind(this),0):this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=Eu(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))},i.syncClientServerClock_=function(t){var e=this,n=Ts(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),t()):void(this.request=this.vhs_.xhr({uri:Su(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(i,r){if(e.request){if(i)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var o;o="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=o-Date.now(),t()}})))},i.haveMaster_=function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.updateMainManifest_(yl({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_})),this.trigger("loadedplaylist"))},i.updateMinimumUpdatePeriodTimeout_=function(){var e=this;t.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=function(n){e.minimumUpdatePeriodTimeout_=t.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),n)},i=this.master&&this.master.minimumUpdatePeriod;i>0?n(i):0===i&&(this.media()?n(1e3*this.media().targetDuration):this.one("loadedplaylist",(function(){n(1e3*e.media().targetDuration)})))},i.onClientServerClockSync_=function(){this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.updateMinimumUpdatePeriodTimeout_()},i.updateMainManifest_=function(t){if(this.master=t,this.master.locations&&this.master.locations.length){var e=this.master.locations[0];e!==this.srcUrl&&(this.srcUrl=e)}},i.refreshXml_=function(){var t=this;this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText,t.sidxMapping_=function(t,e,n,i){var r=bs(t,{manifestUri:e,clientOffset:n}),o=Tl(r.playlists,i);return Pu(r,(function(t,e,n,r){if(t.playlists&&t.playlists.length){var a=t.playlists;o=vl(o,Tl(a,i))}})),o}(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var i=yl({masterXml:t.masterXml_,srcUrl:t.srcUrl,clientOffset:t.clientOffset_,sidxMapping:t.sidxMapping_}),r=_l(t.master,i),o=t.media().sidx;if(r)if(o){var a=bl(o);if(!t.sidxMapping_[a]){var s=t.media();t.request=wl(t,s.sidx,s,t.vhs_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(s,i,t.state,(function(e,n){if(!e||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[a].sidx=n,t.updateMinimumUpdatePeriodTimeout_(),t.refreshMedia_(t.media().id)})))}}else t.updateMainManifest_(r),t.media_&&(t.media_=t.master.playlists[t.media_.id]);t.updateMinimumUpdatePeriodTimeout_()}}))},i.refreshMedia_=function(e){var n,i,r=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,i=yl({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_})):(n=this.master,i=yl({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_}));var o=_l(n,i);o?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=o:this.master=o,this.media_=o.playlists[e]):(this.media_=n.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=t.setTimeout((function(){r.trigger("mediaupdatetimeout")}),Nu(this.media(),!!o))),this.trigger("loadedplaylist")},n}(ml),El={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Ol=function(t){for(var e=new Uint8Array(new ArrayBuffer(t.length)),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},Cl=[],Al=function(t){var e=t.transmuxer,n=t.bytes,i=t.audioAppendStart,r=t.gopsToAlignWith,o=t.isPartial,a=t.remux,s=t.onData,u=t.onTrackInfo,l=t.onAudioTimingInfo,c=t.onVideoTimingInfo,d=t.onVideoSegmentTimingInfo,h=t.onId3,f=t.onCaptions,p=t.onDone,g={isPartial:o,buffer:[]};if(e.onmessage=function(t){hu&&("data"===t.data.action&&function(t,e,n){var i=t.data.segment,r=i.type,o=i.initSegment,a=i.captions,s=i.captionStreams,u=i.metadata,l=i.videoFrameDtsTime,c=i.videoFramePtsTime;e.buffer.push({captions:a,captionStreams:s,metadata:u});var d=t.data.segment.boxes||{data:t.data.segment.data},h={type:r,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==l&&(h.videoFrameDtsTime=l),void 0!==c&&(h.videoFramePtsTime=c),n(h)}(t,g,s),"trackinfo"===t.data.action&&u(t.data.trackInfo),"gopInfo"===t.data.action&&function(t,e){e.gopInfo=t.data.gopInfo}(t,g),"audioTimingInfo"===t.data.action&&l(t.data.audioTimingInfo),"videoTimingInfo"===t.data.action&&c(t.data.videoTimingInfo),"videoSegmentTimingInfo"===t.data.action&&d(t.data.videoSegmentTimingInfo),"id3Frame"===t.data.action&&h([t.data.id3Frame],t.data.id3Frame.dispatchType),"caption"===t.data.action&&f(t.data.caption),"transmuxed"===t.data.type&&(e.onmessage=null,function(t){var e=t.transmuxedData,n=t.callback;e.buffer=[],n(e)}({transmuxedData:g,callback:p}),Pl()))},i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==a&&e.postMessage({action:"setRemux",remux:a}),n.byteLength){var m=n instanceof ArrayBuffer?n:n.buffer,v=n instanceof ArrayBuffer?0:n.byteOffset;e.postMessage({action:"push",data:m,byteOffset:v,byteLength:n.byteLength},[m])}e.postMessage({action:o?"partialFlush":"flush"})},Pl=function(){hu=null,Cl.length&&("function"==typeof(hu=Cl.shift())?hu():Al(hu))},Il=function(t,e){t.postMessage({action:e}),Pl()},xl=function(t,e){if(!hu)return hu=t,void Il(e,t);Cl.push(Il.bind(null,e,t))},Ml=function(t){if(!hu)return hu=t,void Al(t);Cl.push(t)},kl=function(t){xl("reset",t)},Dl=function(){hu=null,Cl.length=0},Rl=function(t){xl("endTimeline",t)},Nl=2,Ll=-101,Vl=-102,Fl=function(t){t.forEach((function(t){t.abort()}))},jl=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Ll,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Vl,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Nl,xhr:e}:null},Ul=function(t){var e=t.segment,n=t.bytes,i=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=e.map&&e.map.tracks||{},h=Boolean(d.audio&&d.video),f=o.bind(null,e,"audio","start"),p=o.bind(null,e,"audio","end"),g=o.bind(null,e,"video","start"),m=o.bind(null,e,"video","end");if(!i&&!e.lastReachedChar){var v=function(t,e){var n=eu(t,e*Ys);if(!n)return null;var i={hasVideo:n.video&&2===n.video.length||!1,hasAudio:n.audio&&2===n.audio.length||!1};return i.hasVideo&&(i.videoStart=n.video[0].ptsTime),i.hasAudio&&(i.audioStart=n.audio[0].ptsTime),i}(n,e.baseStartTime);v&&(r(e,{hasAudio:v.hasAudio,hasVideo:v.hasVideo,isMuxed:h}),r=null,v.hasAudio&&!h&&f(v.audioStart),v.hasVideo&&g(v.videoStart),f=null,g=null)}Ml({bytes:n,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,isPartial:i,remux:h,onData:function(t){t.type="combined"===t.type?"video":t.type,l(e,t)},onTrackInfo:function(t){r&&(h&&(t.isMuxed=!0),r(e,t))},onAudioTimingInfo:function(t){f&&void 0!==t.start&&(f(t.start),f=null),p&&void 0!==t.end&&p(t.end)},onVideoTimingInfo:function(t){g&&void 0!==t.start&&(g(t.start),g=null),m&&void 0!==t.end&&m(t.end)},onVideoSegmentTimingInfo:function(t){a(t)},onId3:function(t,n){s(e,t,n)},onCaptions:function(t){u(e,[t])},onDone:function(t){c&&!i&&(t.type="combined"===t.type?"video":t.type,c(null,e,t))}})},Bl=function(t){var e=t.segment,n=t.bytes,i=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=new Uint8Array(n);if(Cs(d)){e.isFmp4=!0;var h=e.map.tracks,f={isFmp4:!0,hasVideo:!!h.video,hasAudio:!!h.audio};h.audio&&h.audio.codec&&"enca"!==h.audio.codec&&(f.audioCodec=h.audio.codec),h.video&&h.video.codec&&"encv"!==h.video.codec&&(f.videoCodec=h.video.codec),h.video&&h.audio&&(f.isMuxed=!0),r(e,f);var p=lu(e.map.timescales,d);f.hasAudio&&!f.isMuxed&&o(e,"audio","start",p),f.hasVideo&&o(e,"video","start",p);var g=function(t){l(e,{data:n,type:f.hasAudio&&!f.isMuxed?"audio":"video"}),t&&t.length&&u(e,t),c(null,e,{})};if(!h.video||!n.byteLength||!e.transmuxer)return void g();var m=n instanceof ArrayBuffer?n:n.buffer,v=n instanceof ArrayBuffer?0:n.byteOffset;return e.transmuxer.addEventListener("message",(function t(i){if("mp4Captions"===i.data.action){e.transmuxer.removeEventListener("message",t);var r=i.data.data;e.bytes=n=new Uint8Array(r,r.byteOffset||0,r.byteLength),g(i.data.captions)}})),void e.transmuxer.postMessage({action:"pushMp4Captions",timescales:e.map.timescales,trackIds:[h.video.id],data:m,byteOffset:v,byteLength:n.byteLength},[m])}if(e.transmuxer){if(void 0===e.container&&(e.container=Es(d)),"ts"!==e.container&&"aac"!==e.container)return r(e,{hasAudio:!1,hasVideo:!1}),void c(null,e,{});Ul({segment:e,bytes:n,isPartial:i,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}else c(null,e,{})},Hl=function(t){var e=t.activeXhrs,n=t.decryptionWorker,i=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.doneFn,c=0,d=!1;return function(t,h){if(!d){if(t)return d=!0,Fl(e),l(t,h);if((c+=1)===e.length){if(h.endOfAllRequests=Date.now(),h.encryptedBytes)return function(t){var e,n=t.decryptionWorker,i=t.segment,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn;n.addEventListener("message",(function t(e){if(e.data.source===i.requestId){n.removeEventListener("message",t);var d=e.data.decrypted;i.bytes=new Uint8Array(d.bytes,d.byteOffset,d.byteLength),Bl({segment:i,bytes:i.bytes,isPartial:!1,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}})),e=i.key.bytes.slice?i.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.key.bytes)),n.postMessage(ul({source:i.requestId,encrypted:i.encryptedBytes,key:e,iv:i.key.iv}),[i.encryptedBytes.buffer,e.buffer])}({decryptionWorker:n,segment:h,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l});Bl({segment:h,bytes:h.bytes,isPartial:!1,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l})}}}},Gl=function(t){var e=t.segment,n=t.progressFn,i=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.handlePartialData;return function(t){var c=t.target;if(!c.aborted){if(l&&!e.key&&c.responseText&&c.responseText.length>=8){var d=Ol(c.responseText.substring(e.lastReachedChar||0));!e.lastReachedChar&&Cs(new Uint8Array(d))||(e.lastReachedChar=c.responseText.length,Bl({segment:e,bytes:d,isPartial:!0,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u}))}return e.stats=Qr.mergeOptions(e.stats,function(t){var e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(t)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),n(t,e)}}},Wl=function(t){var e=t.xhr,n=t.xhrOptions,i=t.decryptionWorker,r=t.segment,o=t.abortFn,a=t.progressFn,s=t.trackInfoFn,u=t.timingInfoFn,l=t.videoSegmentTimingInfoFn,c=t.id3Fn,d=t.captionsFn,h=t.dataFn,f=t.doneFn,p=t.handlePartialData,g=[],m=Hl({activeXhrs:g,decryptionWorker:i,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:h,doneFn:f});if(r.key&&!r.key.bytes){var v=e(Qr.mergeOptions(n,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(n,i){var r=i.response,o=jl(n,i);if(o)return e(o,t);if(16!==r.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Nl,xhr:i},t);var a=new DataView(r);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}}(r,m));g.push(v)}if(r.map&&!r.map.bytes){var y=e(Qr.mergeOptions(n,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:rl(r.map)}),function(t){var e=t.segment,n=t.finishProcessingFn;return function(t,i){var r=i.response,o=jl(t,i);if(o)return n(o,e);if(0===r.byteLength)return n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:Nl,xhr:i},e);e.map.bytes=new Uint8Array(i.response);var a=Es(e.map.bytes);return"mp4"!==a?n({status:i.status,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+i.uri,code:Nl,internal:!0,xhr:i},e):(cu(e.map.bytes).forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),n(null,e))}}({segment:r,finishProcessingFn:m}));g.push(y)}var _=Qr.mergeOptions(n,{uri:r.resolvedUri,responseType:"arraybuffer",headers:rl(r)});p&&(_.responseType="text",_.beforeSend=function(t){t.overrideMimeType("text/plain; charset=x-user-defined")});var b=e(_,function(t){var e=t.segment,n=t.finishProcessingFn,i=t.responseType;return function(t,r){var o=r.response,a=jl(t,r);if(a)return n(a,e);var s="arraybuffer"!==i&&r.responseText?Ol(r.responseText.substring(e.lastReachedChar||0)):r.response;return 0===o.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Nl,xhr:r},e):(e.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(r),e.key?e.encryptedBytes=new Uint8Array(s):e.bytes=new Uint8Array(s),n(null,e))}}({segment:r,finishProcessingFn:m,responseType:_.responseType}));b.addEventListener("progress",Gl({segment:r,progressFn:a,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:h,handlePartialData:p})),g.push(b);var T={};return g.forEach((function(t){t.addEventListener("loadend",function(t){var e=t.loadendState,n=t.abortFn;return function(t){t.target.aborted&&n&&!e.calledAbortFn&&(n(),e.calledAbortFn=!0)}}({loadendState:T,abortFn:o}))})),function(){return Fl(g)}},zl="undefined"!=typeof window?window:{},$l="undefined"==typeof Symbol?"__target":Symbol(),Yl=zl.BlobBuilder||zl.WebKitBlobBuilder||zl.MozBlobBuilder||zl.MSBlobBuilder,ql=zl.URL||zl.webkitURL||ql&&ql.msURL,Xl=zl.Worker;function Kl(t,e){return function(n){var i=this;if(!e)return new Xl(t);if(Xl&&!n){var r=tc(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[$l]=new Xl(r),function(t,e){if(t&&e){var n=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&ql.revokeObjectURL(t.objURL),n.call(t)}}}(this[$l],r),this[$l]}var o={postMessage:function(t){i.onmessage&&setTimeout((function(){i.onmessage({data:t,target:o})}))}};e.call(o),this.postMessage=function(t){setTimeout((function(){o.onmessage({data:t,target:i})}))},this.isThisThread=!0}}if(Xl){var Zl,Jl=tc("self.onmessage = function () {}"),Ql=new Uint8Array(1);try{(Zl=new Xl(Jl)).postMessage(Ql,[Ql.buffer])}catch(t){Xl=null}finally{ql.revokeObjectURL(Jl),Zl&&Zl.terminate()}}function tc(t){try{return ql.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(n){var e=new Yl;return e.append(t),ql.createObjectURL(e.getBlob(type))}}var ec=new Kl("./transmuxer-worker.worker.js",(function(t,e){var n=this;
/*! @name @videojs/http-streaming @version 2.2.4 @license Apache-2.0 */!function(){var t=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,o;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){t={}}}};t.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var e,i,r,o,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b,T,w,S,E,O,C,A,P,I,x,M,k,D,R,N,L,V,F,j,U,B,H=t,G=Math.pow(2,32)-1;!function(){var t;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in S)S.hasOwnProperty(t)&&(S[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),O=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:A,audio:P},k=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),R=D,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=D,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},i=function(){return e(S.dinf,e(S.dref,k))},r=function(t){return e(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},m=function(t){return e(S.hdlr,I[t])},g=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(n[12]=t.samplerate>>>24&255,n[13]=t.samplerate>>>16&255,n[14]=t.samplerate>>>8&255,n[15]=255&t.samplerate),e(S.mdhd,n)},p=function(t){return e(S.mdia,g(t),m(t.type),s(t))},a=function(t){return e(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},s=function(t){return e(S.minf,"video"===t.type?e(S.vmhd,x):e(S.smhd,M),i(),y(t))},u=function(t,n){for(var i=[],r=n.length;r--;)i[r]=b(n[r]);return e.apply(null,[S.moof,a(t)].concat(i))},l=function(t){for(var n=t.length,i=[];n--;)i[n]=h(t[n]);return e.apply(null,[S.moov,d(4294967295)].concat(i).concat(c(t)))},c=function(t){for(var n=t.length,i=[];n--;)i[n]=T(t[n]);return e.apply(null,[S.mvex].concat(i))},d=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(S.mvhd,n)},v=function(t){var n,i,r=t.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,o[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e(S.sdtp,o)},y=function(t){return e(S.stbl,_(t),e(S.stts,L),e(S.stsc,R),e(S.stsz,N),e(S.stco,D))},_=function(t){return e(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?V(t):F(t))},V=function(t){var n,i,r=t.sps||[],o=t.pps||[],a=[],s=[];for(n=0;n<r.length;n++)a.push((65280&r[n].byteLength)>>>8),a.push(255&r[n].byteLength),a=a.concat(Array.prototype.slice.call(r[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(i=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(S.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length],a,[o.length],s))),e(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var u=t.sarRatio[0],l=t.sarRatio[1];i.push(e(S.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return e.apply(null,i)},F=function(t){return e(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))},f=function(t){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(S.tkhd,n)},b=function(t){var n,i,r,o,a,s;return n=e(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(G+1)),s=Math.floor(t.baseMediaDecodeTime%(G+1)),i=e(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(r=w(t,92),e(S.traf,n,i,r)):(o=v(t),r=w(t,o.length+92),e(S.traf,n,i,r,o))},h=function(t){return t.duration=t.duration||4294967295,e(S.trak,f(t),p(t))},T=function(t){var n=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(n[n.length-1]=0),e(S.trex,n)},B=function(t,e){var n=0,i=0,r=0,o=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},U=function(t,n){var i,r,o,a,s,u;for(n+=20+16*(a=t.samples||[]).length,o=B(a,n),(r=new Uint8Array(o.length+16*a.length)).set(o),i=o.length,u=0;u<a.length;u++)s=a[u],r[i++]=(4278190080&s.duration)>>>24,r[i++]=(16711680&s.duration)>>>16,r[i++]=(65280&s.duration)>>>8,r[i++]=255&s.duration,r[i++]=(4278190080&s.size)>>>24,r[i++]=(16711680&s.size)>>>16,r[i++]=(65280&s.size)>>>8,r[i++]=255&s.size,r[i++]=s.flags.isLeading<<2|s.flags.dependsOn,r[i++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,r[i++]=61440&s.flags.degradationPriority,r[i++]=15&s.flags.degradationPriority,r[i++]=(4278190080&s.compositionTimeOffset)>>>24,r[i++]=(16711680&s.compositionTimeOffset)>>>16,r[i++]=(65280&s.compositionTimeOffset)>>>8,r[i++]=255&s.compositionTimeOffset;return e(S.trun,r)},j=function(t,n){var i,r,o,a,s,u;for(n+=20+8*(a=t.samples||[]).length,o=B(a,n),(i=new Uint8Array(o.length+8*a.length)).set(o),r=o.length,u=0;u<a.length;u++)s=a[u],i[r++]=(4278190080&s.duration)>>>24,i[r++]=(16711680&s.duration)>>>16,i[r++]=(65280&s.duration)>>>8,i[r++]=255&s.duration,i[r++]=(4278190080&s.size)>>>24,i[r++]=(16711680&s.size)>>>16,i[r++]=(65280&s.size)>>>8,i[r++]=255&s.size;return e(S.trun,i)},w=function(t,e){return"audio"===t.type?j(t,e):U(t,e)},o=function(){return e(S.ftyp,E,O,E,C)};var W,z,$,Y,q,X,K,Z,J=function(t){return e(S.mdat,t)},Q=u,tt=function(t){var e,n=o(),i=l(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e},et=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},nt=function(t){var e,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},it=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},rt=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},ot=function(t,e){var n,i,r,o,a,s=e||0,u=[];for(n=0;n<t.length;n++)for(o=t[n],i=0;i<o.length;i++)a=o[i],s+=(r=et(a,s)).size,u.push(r);return u},at=function(t){var e,n,i,r,o,a,s=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),d=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},st=function(t,e){var n,i=[];return n=et(t,e||0),i.push(n),i},ut=function(t){var e,n,i=0,r=t.byteLength,o=t.length,a=new Uint8Array(r+4*o),s=new DataView(a.buffer);for(e=0;e<t.length;e++)n=t[e],s.setUint32(i,n.data.byteLength),i+=4,a.set(n.data,i),i+=n.data.byteLength;return a},lt=[33,16,5,32,164,27],ct=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],dt=function(t){for(var e=[];t--;)e.push(0);return e},ht=function(){if(!W){var t={96e3:[lt,[227,64],dt(154),[56]],88200:[lt,[231],dt(170),[56]],64e3:[lt,[248,192],dt(240),[56]],48e3:[lt,[255,192],dt(268),[55,148,128],dt(54),[112]],44100:[lt,[255,192],dt(268),[55,163,128],dt(84),[112]],32e3:[lt,[255,192],dt(268),[55,234],dt(226),[112]],24e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,112],dt(126),[224]],16e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,255],dt(269),[223,108],dt(195),[1,192]],12e3:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,253,128],dt(259),[56]],11025:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,255,192],dt(268),[55,175,128],dt(108),[112]],8e3:[ct,dt(268),[3,121,16],dt(47),[7]]};e=t,W=Object.keys(e).reduce((function(t,n){return t[n]=new Uint8Array(e[n].reduce((function(t,e){return t.concat(e)}),[])),t}),{})}var e;return W};X=function(t,e){return z(q(t,e))},K=function(t,e){return $(Y(t),e)},Z=function(t,e,n){return Y(n?t:t-e)};var ft=9e4,pt=($=function(t,e){return t*e},Y=function(t){return t/9e4}),gt=(q=function(t,e){return t/e},X),mt=K,vt=Z,yt=z=function(t){return 9e4*t},_t=pt,bt=function(t,e,n,i){var r,o,a,s,u,l=0,c=0,d=0;if(e.length&&(r=gt(t.baseMediaDecodeTime,t.samplerate),o=Math.ceil(ft/(t.samplerate/1024)),n&&i&&(l=r-Math.max(n,i),d=(c=Math.floor(l/o))*o),!(c<1||d>ft/2))){for((a=ht()[t.samplerate])||(a=e[0].data),s=0;s<c;s++)u=e[0],e.splice(0,0,{data:a,dts:u.dts-o,pts:u.pts-o});t.baseMediaDecodeTime-=Math.floor(mt(d,t.samplerate))}},Tt=function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},wt=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},St=function(t){var e,n,i=0,r=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r},Et=ft,Ot=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},Ct=function(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/Et,n=Math.floor(n)),n},At=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},Pt=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){if("GA94"===String.fromCharCode(t[e+3],t[e+4],t[e+5],t[e+6])){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}n.payload=void 0}e+=r,i=0,r=0}return n},It=function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},xt=function(t,e){var n,i,r,o,a=[];if(!(64&e[0]))return a;for(i=31&e[0],n=0;n<i;n++)o={type:3&e[2+(r=3*n)],pts:t},4&e[r+2]&&(o.ccData=e[r+3]<<8|e[r+4],a.push(o));return a},Mt=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},kt=4,Dt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ft(0,0),new Ft(0,1),new Ft(1,0),new Ft(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};(Dt.prototype=new H).push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=Pt(t.escapedRBSP)).payloadType===kt&&(n=It(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=xt(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},Dt.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},Dt.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},Dt.prototype.flush=function(){return this.flushStream("flush")},Dt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Dt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},Dt.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},Dt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},Dt.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},Dt.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var Rt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Nt=function(t){return null===t?"":(t=Rt[t]||t,String.fromCharCode(t))},Lt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Vt=function(){for(var t=[],e=15;e--;)t.push("");return t},Ft=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,o;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Vt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Vt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Vt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))o=Nt((i=(3&i)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Nt((i=(3&i)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=Lt.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=Nt(i),o+=Nt(r),this[this.mode_](t.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Ft.prototype=new H,Ft.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Ft.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Vt(),this.nonDisplayed_=Vt(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ft.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ft.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Ft.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Ft.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Ft.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Ft.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Ft.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Ft.prototype.isNormalChar=function(t){return t>=32&&t<=127},Ft.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Vt(),this.displayed_=Vt()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Ft.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,n)},Ft.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},Ft.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},Ft.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},Ft.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Ft.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};var jt={CaptionStream:Dt,Cea608Stream:Ft},Ut={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Bt=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},Ht=function t(e){var n,i;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=Bt(t.dts,i),t.pts=Bt(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ht.prototype=new H;var Gt,Wt=Ht,zt=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},$t=function(t,e,n){return decodeURIComponent(zt(t,e,n))},Yt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},qt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.value=$t(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.url=$t(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(zt(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(Gt=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,r=[],o=0;if(Gt.prototype.init.call(this),this.dispatchType=Ut.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,s,u,l;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),o+=t.data.byteLength,1===r.length&&(i=Yt(t.data.subarray(6,10)),i+=10),!(o<i)){for(e={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)e.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();a=10,64&e.data[5]&&(a+=4,a+=Yt(e.data.subarray(10,14)),i-=Yt(e.data.subarray(16,20)));do{if((s=Yt(e.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),data:e.data.subarray(a+10,a+s+10)}).key=u.id,qt[u.id]&&(qt[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var c=u.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],u.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),a+=10,a+=s}while(a<i);this.trigger("data",e)}}}).prototype=new H;var Xt,Kt,Zt,Jt=Gt,Qt=Wt;(Xt=function(){var t=new Uint8Array(188),e=0;Xt.prototype.init.call(this),this.push=function(n){var i,r=0,o=188;for(e?((i=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),i.set(n,e),e=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=188,o+=188);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}}).prototype=new H,(Kt=function(){var t,e,n,i;Kt.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<n;){var o=t[r],a=(31&t[r+1])<<8|t[r+2];o===Ut.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:o===Ut.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:o===Ut.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=o),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=Ut.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ut.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new H,Kt.STREAM_TYPES={h264:27,adts:15},(Zt=function(){var t,e=this,n={data:[],size:0},i={data:[],size:0},r={data:[],size:0},o=function(t,n,i){var r,o,a=new Uint8Array(t.size),s={type:n},u=0,l=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,u=0;u<t.data.length;u++)o=t.data[u],a.set(o.data,l),l+=o.data.byteLength;var c,d,h;c=a,(d=s).packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=0!=(4&c[6]),192&(h=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&h&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8]),r="video"===n||s.packetLength<=t.size,(i||r)&&(t.size=0,t.data.length=0),r&&e.trigger("data",s)}};Zt.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,e;switch(a.streamType){case Ut.H264_STREAM_TYPE:t=n,e="video";break;case Ut.ADTS_STREAM_TYPE:t=i,e="audio";break;case Ut.METADATA_STREAM_TYPE:t=r,e="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(t,e,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(t=a.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(n,"video"),o(i,"audio"),o(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new H;var te={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Xt,TransportParseStream:Kt,ElementaryStream:Zt,TimestampRolloverStream:Qt,CaptionStream:jt.CaptionStream,Cea608Stream:jt.Cea608Stream,MetadataStream:Jt};for(var ee in Ut)Ut.hasOwnProperty(ee)&&(te[ee]=Ut[ee]);var ne,ie=te,re=ft,oe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(ne=function(t){var e,n=0;ne.prototype.init.call(this),this.push=function(i){var r,o,a,s,u,l,c=0;if(t||(n=0),"audio"===i.type)for(e?(s=e,(e=new Uint8Array(s.byteLength+i.data.byteLength)).set(s),e.set(i.data,s.byteLength)):e=i.data;c+5<e.length;)if(255===e[c]&&240==(246&e[c+1])){if(o=2*(1&~e[c+1]),r=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>5,l=(u=1024*(1+(3&e[c+6])))*re/oe[(60&e[c+2])>>>2],a=c+r,e.byteLength<a)return;if(this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:u,audioobjecttype:1+(e[c+2]>>>6&3),channelcount:(1&e[c+2])<<2|(192&e[c+3])>>>6,samplerate:oe[(60&e[c+2])>>>2],samplingfrequencyindex:(60&e[c+2])>>>2,samplesize:16,data:e.subarray(c+7+o,a)}),n++,e.byteLength===a)return void(e=void 0);e=e.subarray(a)}else c++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}}).prototype=new H;var ae,se,ue,le=ne,ce=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,o=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");o.set(t.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,e-=a},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),o=n>>>32-r;return(i-=r)>0?n<<=r:e>0&&this.loadWord(),(r=t-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(se=function(){var t,e,n=0;se.prototype.init.call(this),this.push=function(i){var r;e?((r=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),r.set(i.data,e.byteLength),e=r):e=i.data;for(var o=e.byteLength;n<o-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<o;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<o);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.reset=function(){e=null,n=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new H,ue={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ae=function(){var t,e,n,i,r,o,a,s=new se;ae.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,i=t.dts,s.push(t))},s.on("data",(function(a){var s={trackId:e,pts:n,dts:i,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",s)})),s.on("done",(function(){t.trigger("done")})),s.on("partialdone",(function(){t.trigger("partialdone")})),s.on("reset",(function(){t.trigger("reset")})),s.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},r=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},o=function(t){var e,n,i,r,o,s,u,l,c,d,h,f,p,g=0,m=0,v=0,y=0,_=1;if(n=(e=new ce(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),ue[n]&&(3===(o=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(h=3!==o?8:12,p=0;p<h;p++)e.readBoolean()&&a(p<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),u=e.readUnsignedExpGolomb(),p=0;p<u;p++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),l=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===(d=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}f&&(_=f[0]/f[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(l+1)-2*g-2*m)*_),height:(2-d)*(c+1)*16-2*v-2*y,sarRatio:f}}}).prototype=new H;var de,he={H264Stream:ae,NalByteStream:se},fe=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return n=n>=0?n:0,(16&t[e+5])>>4?n+20:n+10},pe=function(t){var e=function t(e,n){return e.length-n<10||e[n]!=="I".charCodeAt(0)||e[n+1]!=="D".charCodeAt(0)||e[n+2]!=="3".charCodeAt(0)?n:t(e,n+=fe(e,n))}(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},ge=fe,me=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n};(de=function(){var t=new Uint8Array,e=0;de.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var i,r,o,a,s=0,u=0;for(t.length?(a=t.length,(t=new Uint8Array(n.byteLength+a)).set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(255!=(255&t[u])||240!=(240&t[u+1]))u++;else{if(t.length-u<7)break;if(u+(s=me(t,u))>t.length)break;o={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",o),u+=s}else{if(t.length-u<10)break;if(u+(s=ge(t,u))>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",r),u+=s}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new H;var ve,ye,_e,be,Te=de,we=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Se=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ee=he.H264Stream,Oe=pe,Ce=ft,Ae=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Pe=function(t,e,n,i,r,o){return{start:{dts:t,pts:t+(n-e)},end:{dts:t+(i-e),pts:t+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:t}};(ye=function(t,e){var n=[],i=0,r=0,o=0,a=1/0;e=e||{},ye.prototype.init.call(this),this.push=function(e){At(t,e),t&&we.forEach((function(n){t[n]=e[n]})),n.push(e)},this.setEarliestDts=function(t){r=t},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var s,u,l,c,d;0!==n.length?(s=Tt(n,t,r),t.baseMediaDecodeTime=Ct(t,e.keepOriginalTimestamps),bt(t,s,o,a),t.samples=wt(s),l=J(St(s)),n=[],u=Q(i,[t]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),Ot(t),d=Math.ceil(1024*Ce/t.samplerate),s.length&&this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+s.length*d}),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Ot(t),n=[],this.trigger("reset")}}).prototype=new H,(ve=function(t,e){var n,i,r=0,o=[],a=[];e=e||{},ve.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){At(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],Se.forEach((function(e){t[e]=n[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){for(var n,i,s,u,l,c,d,h,f=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=nt(o),(s=it(n))[0][0].keyFrame||((i=this.getGopForFusion_(o[0],t))?(f=i.duration,s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=rt(s)),a.length){var p;if(!(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ot(t),s=p}At(t,s),t.samples=ot(s),l=J(at(s)),t.baseMediaDecodeTime=Ct(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),d=s[0],h=s[s.length-1],this.trigger("segmentTimingInfo",Pe(t.baseMediaDecodeTime,d.dts,d.pts,h.dts+h.duration,h.pts+h.duration,f)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=Q(r,[t]),c=new Uint8Array(u.byteLength+l.byteLength),r++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Ot(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,i,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,t.pps&&Ae(t.pps[0],o.pps[0])&&t.sps&&Ae(t.sps[0],o.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=o,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,o,s,u,l;for(o=t.byteLength,s=t.nalCount,u=t.duration,e=n=0;e<a.length&&n<t.length&&(i=a[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,o-=r.byteLength,s-=r.nalCount,u-=r.duration);return 0===n?t:n===t.length?null:((l=t.slice(n)).byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,o,s,u;for(e=a.length-1,n=t.length-1,o=null,s=!1;e>=0&&n>=0;){if(i=a[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(u=s?n:o))return t;var l=t.slice(u),c=l.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){a=t}}).prototype=new H,(be=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,be.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}}).prototype=new H,be.prototype.flush=function(t){var e,n,i,r,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Se.forEach((function(t){a.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,we.forEach((function(t){a.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=tt(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=vt(e.startPts,s,this.keepOriginalTimestamps),e.endTime=vt(e.endPts,s,this.keepOriginalTimestamps),a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=vt(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)e=a.captions[r],this.trigger("caption",e);for(r=0;r<a.metadata.length;r++)n=a.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},be.prototype.setRemux=function(t){this.remuxTracks=t},(_e=function(t){var e,n,i=this,r=!0;_e.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new ie.MetadataStream,r.aacStream=new Te,r.audioTimestampRolloverStream=new ie.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new ie.TimestampRolloverStream("timed-metadata"),r.adtsStream=new le,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(t){r.aacStream.setTimestamp(t.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(n,t),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new ie.MetadataStream,r.packetStream=new ie.TransportPacketStream,r.parseStream=new ie.TransportParseStream,r.elementaryStream=new ie.ElementaryStream,r.timestampRolloverStream=new ie.TimestampRolloverStream,r.adtsStream=new le,r.h264Stream=new Ee,r.captionStream=new ie.CaptionStream,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)e||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(e=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new ve(e,t),r.videoSegmentStream.on("timelineStartInfo",(function(e){n&&!t.keepOriginalTimestamps&&(n.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(t){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(n,t),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(t){t.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",t)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Ot(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,Ot(e),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var n=this.transmuxPipeline_;t.remux=e,n&&n.coalesceStream&&n.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=Oe(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new H;var Ie={Transmuxer:_e,VideoSegmentStream:ve,AudioSegmentStream:ye,AUDIO_PROPERTIES:we,VIDEO_PROPERTIES:Se,generateVideoSegmentTimingInfo:Pe}.Transmuxer,xe={Adts:le,h264:he},Me=ft,ke=function t(e,n){var i=[],r=0,o=0,a=0,s=1/0,u=null,l=null;n=n||{},t.prototype.init.call(this),this.push=function(t){At(e,t),e&&we.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(t){o=t},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){a=t},this.processFrames_=function(){var t,c,d,h,f;0!==i.length&&0!==(t=Tt(i,e,o)).length&&(e.baseMediaDecodeTime=Ct(e,n.keepOriginalTimestamps),bt(e,t,a,s),e.samples=wt(t),d=J(St(t)),i=[],c=Q(r,[e]),r++,e.initSegment=tt([e]),(h=new Uint8Array(c.byteLength+d.byteLength)).set(c),h.set(d,c.byteLength),Ot(e),null===u&&(l=u=t[0].pts),l+=t.length*(1024*Me/e.samplerate),f={start:u},this.trigger("timingInfo",f),this.trigger("data",{track:e,boxes:h}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:u,end:l}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){Ot(e),u=null,l=null},this.reset=function(){this.resetTiming_(),i=[],this.trigger("reset")}};ke.prototype=new H;var De=ke,Re=function t(e,n){var i,r,o,a=0,s=[],u=[],l=null,c=null,d=!0;n=n||{},t.prototype.init.call(this),this.push=function(t){At(e,t),void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],Se.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),s.push(t)},this.processNals_=function(t){var i;for(s=u.concat(s);s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0!==s.length){var r=nt(s);if(r.length)if(u=r[r.length-1],t&&(r.pop(),r.duration-=u.duration,r.nalCount-=u.length,r.byteLength-=u.byteLength),r.length){if(this.trigger("timelineStartInfo",e.timelineStartInfo),d){if(!(o=it(r))[0][0].keyFrame){if(!(o=rt(o))[0][0].keyFrame)return s=[].concat.apply([],r).concat(u),void(u=[]);(r=[].concat.apply([],o)).duration=o.duration}d=!1}for(null===l&&(l=r[0].pts,c=l),c+=r.duration,this.trigger("timingInfo",{start:l,end:c}),i=0;i<r.length;i++){var h=r[i];e.samples=st(h);var f=J(ut(h));Ot(e),At(e,h),e.baseMediaDecodeTime=Ct(e,n.keepOriginalTimestamps);var p=Q(a,[e]);a++,e.initSegment=tt([e]);var g=new Uint8Array(p.byteLength+f.byteLength);g.set(p),g.set(f,p.byteLength),this.trigger("data",{track:e,boxes:g,sequence:a,videoFrameDts:h.dts,videoFramePts:h.pts})}s=[]}else s=[]}},this.resetTimingAndConfig_=function(){i=void 0,r=void 0,l=null,c=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),u=[],s=[],d=!0,this.trigger("reset")}};Re.prototype=new H;var Ne=Re,Le=pe,Ve=function(t){return t.prototype=new H,t.prototype.init.call(t),t},Fe=function(t,e){t.on("data",e.trigger.bind(e,"data")),t.on("done",e.trigger.bind(e,"done")),t.on("partialdone",e.trigger.bind(e,"partialdone")),t.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),t.on("audioTimingInfo",e.trigger.bind(e,"audioTimingInfo")),t.on("videoTimingInfo",e.trigger.bind(e,"videoTimingInfo")),t.on("trackinfo",e.trigger.bind(e,"trackinfo")),t.on("id3Frame",(function(n){n.dispatchType=t.metadataStream.dispatchType,n.cueTime=pt(n.pts),e.trigger("id3Frame",n)})),t.on("caption",(function(t){e.trigger("caption",t)}))},je=function t(e){var n=null,i=!0;e=e||{},t.prototype.init.call(this),e.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.push=function(t){if(i){var r=Le(t);!r||n&&"aac"===n.type?r||n&&"ts"===n.type||(n=function(t){var e={type:"ts",tracks:{audio:null,video:null},packet:new ie.TransportPacketStream,parse:new ie.TransportParseStream,elementary:new ie.ElementaryStream,timestampRollover:new ie.TimestampRolloverStream,adts:new xe.Adts,h264:new xe.h264.H264Stream,captionStream:new ie.CaptionStream,metadataStream:new ie.MetadataStream};return e.headOfPipeline=e.packet,e.packet.pipe(e.parse).pipe(e.elementary).pipe(e.timestampRollover),e.timestampRollover.pipe(e.h264),e.h264.pipe(e.captionStream),e.timestampRollover.pipe(e.metadataStream),e.timestampRollover.pipe(e.adts),e.elementary.on("data",(function(n){if("metadata"===n.type){for(var i=0;i<n.tracks.length;i++)e.tracks[n.tracks[i].type]||(e.tracks[n.tracks[i].type]=n.tracks[i],e.tracks[n.tracks[i].type].timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime);e.tracks.video&&!e.videoSegmentStream&&(e.videoSegmentStream=new Ne(e.tracks.video,t),e.videoSegmentStream.on("timelineStartInfo",(function(n){e.tracks.audio&&!t.keepOriginalTimestamps&&e.audioSegmentStream.setEarliestDts(n.dts-t.baseMediaDecodeTime)})),e.videoSegmentStream.on("timingInfo",e.trigger.bind(e,"videoTimingInfo")),e.videoSegmentStream.on("data",(function(t){e.trigger("data",{type:"video",data:t})})),e.videoSegmentStream.on("done",e.trigger.bind(e,"done")),e.videoSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.videoSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.h264.pipe(e.videoSegmentStream)),e.tracks.audio&&!e.audioSegmentStream&&(e.audioSegmentStream=new De(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adts.pipe(e.audioSegmentStream)),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video})}})),e.captionStream.on("data",(function(n){var i;i=e.tracks.video&&e.tracks.video.timelineStartInfo.pts||0,n.startTime=vt(n.startPts,i,t.keepOriginalTimestamps),n.endTime=vt(n.endPts,i,t.keepOriginalTimestamps),e.trigger("caption",n)})),(e=Ve(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Fe(n,this)):(n=function(t){var e={type:"aac",tracks:{audio:null},metadataStream:new ie.MetadataStream,aacStream:new Te,audioRollover:new ie.TimestampRolloverStream("audio"),timedMetadataRollover:new ie.TimestampRolloverStream("timed-metadata"),adtsStream:new le(!0)};return e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioRollover).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataRollover).pipe(e.metadataStream),e.metadataStream.on("timestamp",(function(t){e.aacStream.setTimestamp(t.timeStamp)})),e.aacStream.on("data",(function(n){"timed-metadata"!==n.type&&"audio"!==n.type||e.audioSegmentStream||(e.tracks.audio=e.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},e.audioSegmentStream=new De(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video}))})),(e=Ve(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Fe(n,this)),i=!1}n.headOfPipeline.push(t)},this.flush=function(){n&&(i=!0,n.headOfPipeline.flush())},this.partialFlush=function(){n&&n.headOfPipeline.partialFlush()},this.endTimeline=function(){n&&n.headOfPipeline.endTimeline()},this.reset=function(){n&&n.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(t){e.keepOriginalTimestamps||(e.baseMediaDecodeTime=t),n&&(n.tracks.audio&&(n.tracks.audio.timelineStartInfo.dts=void 0,n.tracks.audio.timelineStartInfo.pts=void 0,Ot(n.tracks.audio),n.audioRollover&&n.audioRollover.discontinuity()),n.tracks.video&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[]),n.tracks.video.timelineStartInfo.dts=void 0,n.tracks.video.timelineStartInfo.pts=void 0,Ot(n.tracks.video)),n.timestampRollover&&n.timestampRollover.discontinuity())},this.setRemux=function(t){e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.setAudioAppendStart=function(t){n&&n.tracks.audio&&n.audioSegmentStream&&n.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){}};je.prototype=new H;var Ue=je,Be=function(t){return t>>>0},He=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},Ge=Be,We=function t(e,n){var i,r,o,a,s,u=[];if(!n.length)return null;for(i=0;i<e.byteLength;)r=Ge(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),o=He(e.subarray(i+4,i+8)),a=r>1?i+r:e.byteLength,o===n[0]&&(1===n.length?u.push(e.subarray(i+8,a)):(s=t(e.subarray(i+8,a),n.slice(1))).length&&(u=u.concat(s))),i=a;return u},ze=Be,$e=function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:ze(t[4]<<24|t[5]<<16|t[6]<<8|t[7])};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=ze(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),e},Ye=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},qe=function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),o&&c&&(e={flags:Ye(t.subarray(d,d+4))},d+=4,a&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),l&&(1===n.version?e.compositionTimeOffset=i.getInt32(d):e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e),c--);c--;)e={},a&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),u&&(e.flags=Ye(t.subarray(d,d+4)),d+=4),l&&(1===n.version?e.compositionTimeOffset=i.getInt32(d):e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e);return n},Xe=function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),o&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),a&&(i.defaultSampleDuration=n.getUint32(e),e+=4),s&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},Ke=Mt,Ze=jt.CaptionStream,Je=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},Qe=function(t,e){var n=We(t,["moof","traf"]),i=We(t,["mdat"]),r={},o=[];return i.forEach((function(t,e){var i=n[e];o.push({mdat:t,traf:i})})),o.forEach((function(t){var n,i=t.mdat,o=t.traf,a=We(o,["tfhd"]),s=Xe(a[0]),u=s.trackId,l=We(o,["tfdt"]),c=l.length>0?$e(l[0]).baseMediaDecodeTime:0,d=We(o,["trun"]);e===u&&d.length>0&&(n=function(t,e,n){var i,r,o,a,s=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=o)if(o=s.getUint32(r),r+=4,!(o<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+o),c=Je(r,e);if(i={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:Ke(l),trackId:n},c)i.pts=c.pts,i.dts=c.dts,a=c;else{if(!a){console.log("We've encountered a nal unit without data. See mux.js#233.");break}i.pts=a.pts,i.dts=a.dts}u.push(i)}return u}(i,function(t,e,n){var i=e,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return t.forEach((function(t){var e=qe(t).samples;e.forEach((function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=o),t.trackId=a,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration})),s=s.concat(e)})),s}(d,c,s),u),r[u]||(r[u]=[]),r[u]=r[u].concat(n))})),r},tn=function(){var t,e,n,i,r,o,a=!1;this.isInitialized=function(){return a},this.init=function(e){t=new Ze,a=!0,o=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,r.captions.push(t),r.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&i===e[n])},this.parse=function(t,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],i=a[n];else if(null===n||!i)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,o,a)}return null!==(s=function(t,e,n){return null===e?null:{seiNals:Qe(t,e)[e],timescale:n}}(t,n,i))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},en=function(t){return"AudioSegmentStream"===t?"audio":"VideoSegmentStream"===t?"video":""},nn=function(){function t(t,e){this.options=e||{},this.self=t,this.init()}var e=t.prototype;return e.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=this.options.handlePartialData?new Ue(this.options):new Ie(this.options),this.options.handlePartialData?function(t,e){e.on("data",(function(e){var n={data:e.data.track.initSegment.buffer,byteOffset:e.data.track.initSegment.byteOffset,byteLength:e.data.track.initSegment.byteLength},i={boxes:{data:e.data.boxes.buffer,byteOffset:e.data.boxes.byteOffset,byteLength:e.data.boxes.byteLength},initSegment:n,type:e.type,sequence:e.data.sequence};void 0!==e.data.videoFrameDts&&(i.videoFrameDtsTime=_t(e.data.videoFrameDts)),void 0!==e.data.videoFramePts&&(i.videoFramePtsTime=_t(e.data.videoFramePts)),t.postMessage({action:"data",segment:i},[i.boxes.data,i.initSegment.data])})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("done",(function(e){t.postMessage({action:"done",type:en(e)})})),e.on("partialdone",(function(e){t.postMessage({action:"partialdone",type:en(e)})})),e.on("endedsegment",(function(e){t.postMessage({action:"endedSegment",type:en(e)})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){if(null!==e.start){var n={start:_t(e.start)};e.end&&(n.end=_t(e.end)),t.postMessage({action:"audioTimingInfo",audioTimingInfo:n})}else t.postMessage({action:"audioTimingInfo",audioTimingInfo:e})})),e.on("videoTimingInfo",(function(e){var n={start:_t(e.start)};e.end&&(n.end=_t(e.end)),t.postMessage({action:"videoTimingInfo",videoTimingInfo:n})}))}(this.self,this.transmuxer):function(t,e){e.on("data",(function(e){var n=e.initSegment;e.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=e.data;e.data=i.buffer,t.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])})),e.on("done",(function(e){t.postMessage({action:"done"})})),e.on("gopInfo",(function(e){t.postMessage({action:"gopInfo",gopInfo:e})})),e.on("videoSegmentTimingInfo",(function(e){var n={start:{decode:_t(e.start.dts),presentation:_t(e.start.pts)},end:{decode:_t(e.end.dts),presentation:_t(e.end.pts)},baseMediaDecodeTime:_t(e.baseMediaDecodeTime)};e.prependedContentDuration&&(n.prependedContentDuration=_t(e.prependedContentDuration)),t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){t.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:_t(e.start),end:_t(e.end)}})})),e.on("videoTimingInfo",(function(e){t.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:_t(e.start),end:_t(e.end)}})}))}(this.self,this.transmuxer)},e.pushMp4Captions=function(t){this.captionParser||(this.captionParser=new tn,this.captionParser.init());var e=new Uint8Array(t.data,t.byteOffset,t.byteLength),n=this.captionParser.parse(e,t.trackIds,t.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],data:e.buffer},[e.buffer])},e.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},e.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},e.push=function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)},e.reset=function(){this.transmuxer.reset()},e.setTimestampOffset=function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(yt(e)))},e.setAudioAppendStart=function(t){this.transmuxer.setAudioAppendStart(Math.ceil(yt(t.appendStart)))},e.setRemux=function(t){this.transmuxer.setRemux(t.remux)},e.flush=function(t){this.transmuxer.flush(),n.postMessage({action:"done",type:"transmuxed"})},e.partialFlush=function(t){this.transmuxer.partialFlush(),n.postMessage({action:"partialdone",type:"transmuxed"})},e.endTimeline=function(){this.transmuxer.endTimeline(),n.postMessage({action:"endedtimeline",type:"transmuxed"})},e.alignGopsWith=function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())},t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new nn(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new nn(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(n)}()})),nc=function(t,e){var n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},ic=function(t,e){var n=e.attributes||{},i=function(t){var e=t.attributes||{};if(e.CODECS)return Tu(e.CODECS)}(e)||{};if(nc(t,e)&&!i.audio&&!function(t,e){if(!nc(t,e))return!0;var n=e.attributes||{},i=t.mediaGroups.AUDIO[n.AUDIO];for(var r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1}(t,e)){var r=mu(t,n.AUDIO);r&&(i.audio=r.audio)}var o={};return i.video&&(o.video=wu(""+i.video.type+i.video.details)),i.audio&&(o.audio=wu(""+i.audio.type+i.audio.details)),o},rc=function(t){return Qr.log.debug?Qr.log.debug.bind(Qr,"VHS:",t+" >"):function(){}},oc=rc("PlaylistSelector"),ac=function(t){if(t&&t.playlist){var e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})}},sc=function(e,n){if(!e)return"";var i=t.getComputedStyle(e);return i?i[n]:""},uc=function(t,e){var n=t.slice();t.sort((function(t,i){var r=e(t,i);return 0===r?n.indexOf(t)-n.indexOf(i):r}))},lc=function(e,n){var i,r;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||t.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),i-(r=r||t.Number.MAX_VALUE)},cc=function(e){var n=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,o=e.videoDuration;if(i){var a=t.WebKitDataCue||t.VTTCue,s=n.metadataTrack_;if(s&&(i.forEach((function(e){var n=e.cueTime+r;!("number"!=typeof n||t.isNaN(n)||n<0)&&n<1/0&&e.frames.forEach((function(t){var e=new a(n,n,t.value||t.url||t.data||"");e.frame=t,e.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return Qr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Qr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Qr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(e),s.addCue(e)}))})),s.cues&&s.cues.length)){for(var u=s.cues,l=[],c=0;c<u.length;c++)u[c]&&l.push(u[c]);var d=l.reduce((function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t}),{}),h=Object.keys(d).sort((function(t,e){return Number(t)-Number(e)}));h.forEach((function(t,e){var n=d[t],i=Number(h[e+1])||o;n.forEach((function(t){t.endTime=i}))}))}}},dc=function(t,e,n){var i,r;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime>=t&&r.endTime<=e&&n.removeCue(r)},hc=function(t){return"number"==typeof t&&isFinite(t)},fc=function(t){return t+"TimingInfo"},pc=function(t){var e=t.segmentTimeline,n=t.currentTimeline,i=t.startOfSegment,r=t.buffered;return t.overrideCheck||e!==n?r.length?r.end(r.length-1):i:null},gc=function(t){var e=t.timelineChangeController,n=t.currentTimeline,i=t.segmentTimeline,r=t.loaderType,o=t.audioDisabled;if(n===i)return!1;if("audio"===r){var a=e.lastTimelineChange({type:"main"});return!a||a.to!==i}if("main"===r&&o){var s=e.pendingTimelineChange({type:"audio"});return!s||s.to!==i}return!1},mc=function(e){function n(t,n){var i;if(i=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.vhs_=t.vhs,i.loaderType_=t.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.sourceUpdater_=t.sourceUpdater,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.handlePartialData_=t.handlePartialData,i.timelineChangeController_=t.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Qr.browser.IE_VERSION>=11,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",(function(){i.isEndOfStream_()||(i.ended_=!1)})),i.fetchAtBuffer_=!1,i.logger_=rc("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(jt(i),"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",(function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),i}Bt(n,e);var i=n.prototype;return i.createTransmuxer_=function(){var t=new ec;return t.postMessage({action:"init",options:{remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,handlePartialData:this.handlePartialData_}}),t},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&(this.transmuxer_.terminate(),Dl()),this.resetStats_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_)},i.checkForAbort_=function(t){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==t:(this.state="READY",!0)},i.error=function(t){return void 0!==t&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&kl(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return Qr.createTimeRanges();if("main"===this.loaderType_){var t=this.startingMediaInfo_,e=t.hasAudio,n=t.hasVideo,i=t.isMuxed;if(n&&e&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=ll(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),i||t},i.segmentKey=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=cl(t),i=this.keyCache_[n];this.cacheEncryptionKeys_&&e&&!i&&t.bytes&&(this.keyCache_[n]=i={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(i||t).resolvedUri};return i&&(r.bytes=i.bytes),r},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(t,e){if(void 0===e&&(e={}),t){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==t.uri)return(null!==this.mediaIndex||this.handlePartialData_)&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),i&&(i.mediaIndex-=o,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}},i.pause=function(){this.checkBufferTimeout_&&(t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return null===this.checkBufferTimeout_},i.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&kl(this.transmuxer_),this.mediaIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(t,e,n){if(void 0===n&&(n=function(){}),e===1/0&&(e=this.duration_()),this.sourceUpdater_&&this.currentMediaInfo_){var i=1,r=function(){0==--i&&n()};for(var o in this.audioDisabled_||(i++,this.sourceUpdater_.removeAudio(t,e,r)),"main"===this.loaderType_&&this.currentMediaInfo_&&this.currentMediaInfo_.hasVideo&&(this.gopBuffer_=function(t,e,n,i){for(var r=Math.ceil((e-i)*Ys),o=Math.ceil((n-i)*Ys),a=t.slice(),s=t.length;s--&&!(t[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),a.splice(u,s-u+1),a}(this.gopBuffer_,t,e,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(t,e,r)),this.inbandTextTracks_)dc(t,e,this.inbandTextTracks_[o]);dc(t,e,this.segmentMetadataTrack_),r()}},i.monitorBuffer_=function(){this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),500)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.buffered_(),e=this.checkBuffer_(t,this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(e.timestampOffset=pc({segmentTimeline:e.timeline,currentTimeline:this.currentTimeline_,startOfSegment:e.startOfSegment,buffered:t,overrideCheck:this.isPendingTimestampOffset_}),this.isPendingTimestampOffset_=!1,"number"==typeof e.timestampOffset&&this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loadSegment_(e))}},i.isEndOfStream_=function(t,e){if(void 0===t&&(t=this.mediaIndex),void 0===e&&(e=this.playlist_),!e||!this.mediaSource_)return!1;var n=t+1===e.segments.length;return e.endList&&"open"===this.mediaSource_.readyState&&n},i.checkBuffer_=function(t,e,n,i,r,o){var a=0;t.length&&(a=t.end(t.length-1));var s=Math.max(0,a-r);if(!e.segments.length)return null;if(s>=this.goalBufferLength_())return null;if(!i&&s>=1)return null;var u,l=null,c=!1;if(null===o)l=this.getSyncSegmentCandidate_(e),c=!0;else if(null!==n){var d=e.segments[n];u=d&&d.end?d.end:a,l=n+1}else if(this.fetchAtBuffer_){var h=Qu.getMediaInfoForTime(e,a,o.segmentIndex,o.time);l=h.mediaIndex,u=h.startTime}else{var f=Qu.getMediaInfoForTime(e,r,o.segmentIndex,o.time);l=f.mediaIndex,u=f.startTime}var p=this.generateSegmentInfo_(e,l,u,c);return!p||this.mediaSource_&&this.playlist_&&p.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?void 0:(this.logger_("checkBuffer_ returning "+p.uri,{segmentInfo:p,playlist:e,currentMediaIndex:n,nextMediaIndex:l,startOfSegment:u,isSyncRequest:c}),p)},i.getSyncSegmentCandidate_=function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map((function(t,e){return{timeline:t.timeline,segmentIndex:e}})).filter((function(t){return t.timeline===e.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)},i.generateSegmentInfo_=function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r,o,a=t.segments[e],s=this.sourceUpdater_.audioBuffered(),u=this.sourceUpdater_.videoBuffered();return s.length&&(r=s.end(s.length-1)-this.sourceUpdater_.audioTimestampOffset()),u.length&&(o=function(t,e,n){if(null==e||!t.length)return[];var i,r=Math.ceil((e-n+3)*Ys);for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a,byteLength:0,transmuxer:this.transmuxer_,audioAppendStart:r,gopsToAlignWith:o}},i.abortRequestEarly_=function(t){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=Qu.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),o=function(t,e,n){return void 0===n&&(n=1),((t.length?t.end(t.length-1):0)-e)/n}(this.buffered_(),e,this.vhs_.tech_.playbackRate())-1;if(r<=o)return!1;var a=function(t){var e=t.master,n=t.currentTime,i=t.bandwidth,r=t.duration,o=t.segmentDuration,a=t.timeUntilRebuffer,s=t.currentTimeline,u=t.syncController,l=e.playlists.filter((function(t){return!Qu.isIncompatible(t)})),c=l.filter(Qu.isEnabled);c.length||(c=l.filter((function(t){return!Qu.isDisabled(t)})));var d=c.filter(Qu.hasAttribute.bind(null,"BANDWIDTH")).map((function(t){var e=u.getSyncPoint(t,r,s,n)?1:2;return{playlist:t,rebufferingImpact:Qu.estimateSegmentRequestTime(o,i,t)*e-a}})),h=d.filter((function(t){return t.rebufferingImpact<=0}));return uc(h,(function(t,e){return lc(e.playlist,t.playlist)})),h.length?h[0]:(uc(d,(function(t,e){return t.rebufferingImpact-e.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-o-a.rebufferingImpact,u=.5;return o<=1/30&&(u=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||s<u)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*El.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}},i.handleAbort_=function(){this.mediaRequestsAborted+=1},i.handleProgress_=function(t,e){this.checkForAbort_(e.requestId)||this.abortRequestEarly_(e.stats)||this.trigger("progress")},i.handleTrackInfo_=function(t,e){this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||this.checkForIllegalMediaSwitch(e)||(e=e||{},function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;var n=Object.keys(t).sort(),i=Object.keys(e).sort();if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(o!==i[r])return!1;if(t[o]!==e[o])return!1}return!0}(this.currentMediaInfo_,e)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=e,this.currentMediaInfo_=e,this.logger_("trackinfo update",e),this.trigger("trackinfo")),this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||(this.pendingSegment_.trackInfo=e,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},i.handleTimingInfo_=function(t,e,n,i){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats)){var r=this.pendingSegment_,o=fc(e);r[o]=r[o]||{},r[o][n]=i,this.logger_("timinginfo: "+e+" - "+n+" - "+i),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(e,n){var i=this;if(!this.checkForAbort_(e.requestId)&&!this.abortRequestEarly_(e.stats))if(0!==n.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};n.forEach((function(t){o[t.stream]=o[t.stream]||{startTime:1/0,captions:[],endTime:0};var e=o[t.stream];e.startTime=Math.min(e.startTime,t.startTime+r),e.endTime=Math.max(e.endTime,t.endTime+r),e.captions.push(t)})),Object.keys(o).forEach((function(e){var n=o[e],a=n.startTime,s=n.endTime,u=n.captions,l=i.inbandTextTracks_;i.logger_("adding cues from "+a+" -> "+s+" for "+e),function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"}),e.trigger({type:"usage",name:"hls-608"});var i=e.textTracks().getTrackById(n);t[n]=i||e.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(l,i.vhs_.tech_,e),dc(a,s,l[e]),function(e){var n=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(i){var o=t.WebKitDataCue||t.VTTCue;i.forEach((function(t){var e=t.stream;n[e].addCue(new o(t.startTime+r,t.endTime+r,t.text))}))}}({captionArray:u,inbandTextTracks:l,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));else this.logger_("SegmentLoader received no captions from a caption event")},i.handleId3_=function(t,e,n){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(t,e,n){t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=e)}(this.inbandTextTracks_,n,this.vhs_.tech_),cc({inbandTextTracks:this.inbandTextTracks_,metadataArray:e,timestampOffset:i,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,e,n))},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(t){return t()})),this.metadataQueue_.caption.forEach((function(t){return t()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach((function(t){return t()}))},i.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach((function(t){return t()}))},i.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var t=this.pendingSegment_;return!(!t||this.currentMediaInfo_&&gc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;var t=this.pendingSegment_;if(!t||!t.trackInfo)return!1;if(!this.handlePartialData_){var e=this.currentMediaInfo_,n=e.hasAudio,i=e.hasVideo,r=e.isMuxed;if(i&&!t.videoTimingInfo)return!1;if(n&&!this.audioDisabled_&&!r&&!t.audioTimingInfo)return!1}return!gc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},i.handleData_=function(t,e){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),n.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),n.isFmp4=t.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[fc(e.type)].start;else{var i,r="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;r&&(i=this.handlePartialData_?e.videoFramePtsTime:n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}this.updateAppendInitSegmentStatus(n,e.type),this.updateSourceBufferTimestampOffset_(n),n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,e)}}else this.callQueue_.push(this.handleData_.bind(this,t,e))},i.updateAppendInitSegmentStatus=function(t,e){"main"!==this.loaderType_||"number"!=typeof t.timestampOffset||t.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[e]!==t.playlist&&(this.appendInitSegment_[e]=!0)},i.getInitSegmentAndUpdateState_=function(t){var e=t.type,n=t.initSegment,i=t.map,r=t.playlist;if(i){var o=ll(i);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!!i,this.activeInitSegmentId_=null,n):null},i.appendToSourceBuffer_=function(t){var e=this,n=t.segmentInfo,i=t.type,r=t.initSegment,o=t.data,a=[o],s=o.byteLength;r&&(a.unshift(r),s+=r.byteLength);var u,l,c,d=(c=0,(u={bytes:s,segments:a}).bytes&&(l=new Uint8Array(u.bytes),u.segments.forEach((function(t){l.set(t,c),c+=t.byteLength}))),l);this.sourceUpdater_.appendBuffer({segmentInfo:n,type:i,bytes:d},(function(t){t&&(e.error(i+" append of "+d.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),e.trigger("appenderror"))}))},i.handleVideoSegmentTimingInfo_=function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=e.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=e.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=e.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=e.baseMediaDecodeTime}},i.appendData_=function(t,e){var n=e.type,i=e.data;if(i&&i.byteLength&&("audio"!==n||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:n,initSegment:e.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:n,initSegment:r,data:i})}},i.loadSegment_=function(t){var e=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push((function(){var n=e.buffered_();"number"==typeof t.timestampOffset&&(t.timestampOffset=pc({segmentTimeline:t.timeline,currentTimeline:e.currentTimeline_,startOfSegment:t.startOfSegment,buffered:n,overrideCheck:!0})),delete t.audioAppendStart;var i=e.sourceUpdater_.audioBuffered();i.length&&(t.audioAppendStart=i.end(i.length-1)-e.sourceUpdater_.audioTimestampOffset()),e.updateTransmuxerAndRequestSegment_(t)}))},i.updateTransmuxerAndRequestSegment_=function(t){this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var e=this.createSimplifiedSegmentObj_(t);t.abortRequests=Wl({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,handlePartialData:this.handlePartialData_,abortFn:this.handleAbort_.bind(this),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId),captionsFn:this.handleCaptions_.bind(this),id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this)})},i.trimBackBuffer_=function(t){var e=function(t,e,n){var i=e-El.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));var r=e-n;return Math.min(r,i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)},i.createSimplifiedSegmentObj_=function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith},i=t.playlist.segments[t.mediaIndex];if(i&&i.end&&i.timeline===e.timeline&&(n.baseStartTime=i.end+t.timestampOffset),e.key){var r=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key=this.segmentKey(e.key),n.key.iv=r}return e.map&&(n.map=this.initSegmentForMap(e.map)),n},i.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},i.saveBandwidthRelatedStats_=function(t){this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime,this.pendingSegment_.byteLength=t.bytesReceived},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(t,e,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,e,n));else if(this.saveTransferStats_(e.stats),this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===Vl)return;return this.pause(),t.code===Ll?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error"))}this.saveBandwidthRelatedStats_(e.stats);var i=this.pendingSegment_;i.endOfAllRequests=e.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING";var r=this.isEndOfStream_(i.mediaIndex,i.playlist),o=null!==this.mediaIndex,a=i.timeline!==this.currentTimeline_&&i.timeline>0;!i.isFmp4&&(r||o&&a)&&Rl(this.transmuxer_),this.trigger("appending"),this.waitForAppendsToComplete_(i)}},i.setTimeMapping_=function(t){var e=this.syncController_.mappingForTimeline(t);null!==e&&(this.timeMapping_=e)},i.updateMediaSecondsLoaded_=function(t){"number"==typeof t.start&&"number"==typeof t.end?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(t){return null!==t&&("main"===this.loaderType_&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset())},i.trueSegmentStart_=function(t){var e=t.currentStart,n=t.playlist,i=t.mediaIndex,r=t.firstVideoFrameTimeForData,o=t.currentVideoTimestampOffset,a=t.useVideoTimingInfo,s=t.videoTimingInfo,u=t.audioTimingInfo;if(void 0!==e)return e;if(!a)return u.start;var l=n.segments[i-1];return 0!==i&&l&&void 0!==l.start&&l.end===r+o?s.start:r},i.waitForAppendsToComplete_=function(t){if(!this.currentMediaInfo_)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var e=this.currentMediaInfo_,n=e.hasAudio,i=e.hasVideo,r=e.isMuxed,o="main"===this.loaderType_&&i,a=!this.audioDisabled_&&n&&!r;if(t.waitingOnAppends=0,!t.hasAppendedData_)return t.timingInfo||"number"!=typeof t.timestampOffset||(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t);o&&t.waitingOnAppends++,a&&t.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},i.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,0===t.waitingOnAppends&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(t){var e=function(t,e,n){return"main"===t&&e&&n?n.hasAudio||n.hasVideo?e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.currentMediaInfo_,t);return!!e&&(this.error({message:e,blacklistDuration:1/0}),this.trigger("error"),!0)},i.updateSourceBufferTimestampOffset_=function(t){if(null!==t.timestampOffset&&"number"==typeof t.timingInfo.start&&!t.changedTimestampOffset&&"main"===this.loaderType_){var e=!1;t.timestampOffset-=t.timingInfo.start,t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),e=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),e=!0),e&&this.trigger("timestampoffset")}},i.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var e="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;e&&(t.timingInfo.end="number"==typeof e.end?e.end:e.start+t.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_;if(this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:"main"===this.loaderType_}),this.logger_(function(t){var e=t.segment,n=e.start,i=e.end,r=t.playlist,o=r.mediaSequence,a=r.id,s=r.segments,u=void 0===s?[]:s,l=t.mediaIndex,c=t.timeline;return["appending ["+l+"] of ["+o+", "+(o+u.length)+"] from playlist ["+a+"]","["+n+" => "+i+"] in timeline ["+c+"]"].join(" ")}(t)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var e=t.segment;e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.isEndOfStream_(t.mediaIndex,t.playlist)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_())}},i.recordThroughput_=function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count},i.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var n=e.segment,i=n.start,r=n.end;if(hc(i)&&hc(r)){dc(i,r,this.segmentMetadataTrack_);var o=t.WebKitDataCue||t.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:r},s=new o(i,r,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}},n}(Qr.EventTarget);function vc(){}var yc,_c=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))},bc=["video","audio"],Tc=function(t,e){var n=e[t+"Buffer"];return n&&n.updating||e.queuePending[t]},wc=function t(e,n){if(0!==n.queue.length){var i=0,r=n.queue[i];if("mediaSource"!==r.type){if("mediaSource"!==e&&n.started_&&"closed"!==n.mediaSource.readyState&&!Tc(e,n)){if(r.type!==e){if(null===(i=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if("mediaSource"===i.type)return null;if(i.type===t)return n}return null}(e,n.queue)))return;r=n.queue[i]}n.queue.splice(i,1),r.action(e,n),r.doneFn?n.queuePending[e]=r:t(e,n)}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),t("audio",n),t("video",n))}},Sc=function(t,e){var n=e[t+"Buffer"],i=_c(t);n&&(n.removeEventListener("updateend",e["on"+i+"UpdateEnd_"]),n.removeEventListener("error",e["on"+i+"Error_"]),e.codecs[t]=null,e[t+"Buffer"]=null)},Ec=function(t,e){return t&&e&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,e)},Oc=function(t,e){return function(n,i){var r=i[n+"Buffer"];Ec(i.mediaSource,r)&&(i.logger_("Appending segment "+e.mediaIndex+"'s "+t.length+" bytes to "+n+"Buffer"),r.appendBuffer(t))}},Cc=function(t,e){return function(n,i){var r=i[n+"Buffer"];Ec(i.mediaSource,r)&&(i.logger_("Removing "+t+" to "+e+" from "+n+"Buffer"),r.remove(t,e))}},Ac=function(t){return function(e,n){var i=n[e+"Buffer"];Ec(n.mediaSource,i)&&(n.logger_("Setting "+e+"timestampOffset to "+t),i.timestampOffset=t)}},Pc=function(t){return function(e,n){t()}},Ic=function(t){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{e.mediaSource.endOfStream(t)}catch(t){Qr.log.warn("Failed to call media source endOfStream",t)}}}},xc=function(t){return function(e){e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(t){Qr.log.warn("Failed to set media source duration",t)}}},Mc=function(){return function(t,e){if("open"===e.mediaSource.readyState){var n=e[t+"Buffer"];if(Ec(e.mediaSource,n)){e.logger_("calling abort on "+t+"Buffer");try{n.abort()}catch(e){Qr.log.warn("Failed to abort on "+t+"Buffer",e)}}}}},kc=function(t,e){return function(n){var i=_c(t),r=vu(e);n.logger_("Adding "+t+"Buffer with codec "+e+" to mediaSource");var o=n.mediaSource.addSourceBuffer(r);o.addEventListener("updateend",n["on"+i+"UpdateEnd_"]),o.addEventListener("error",n["on"+i+"Error_"]),n.codecs[t]=e,n[t+"Buffer"]=o}},Dc=function(t){return function(e){var n=e[t+"Buffer"];if(Sc(t,e),Ec(e.mediaSource,n)){e.logger_("Removing "+t+"Buffer with codec "+e.codecs[t]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(n)}catch(e){Qr.log.warn("Failed to removeSourceBuffer "+t+"Buffer",e)}}}},Rc=function(t){return function(e,n){var i=n[e+"Buffer"],r=vu(t);Ec(n.mediaSource,i)&&n.codecs[e]!==t&&(n.logger_("changing "+e+"Buffer codec from "+n.codecs[e]+" to "+t),i.changeType(r),n.codecs[e]=t)}},Nc=function(t){var e=t.type,n=t.sourceUpdater,i=t.action,r=t.doneFn,o=t.name;n.queue.push({type:e,action:i,doneFn:r,name:o}),wc(e,n)},Lc=function(t,e){return function(n){if(e.queuePending[t]){var i=e.queuePending[t].doneFn;e.queuePending[t]=null,i&&i(e[t+"Error_"])}wc(t,e)}},Vc=function(e){function n(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return wc("mediaSource",jt(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=rc("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Lc("video",jt(n)),n.onAudioUpdateEnd_=Lc("audio",jt(n)),n.onVideoError_=function(t){n.videoError_=t},n.onAudioError_=function(t){n.audioError_=t},n.started_=!1,n}Bt(n,e);var i=n.prototype;return i.ready=function(){return this.started_},i.createSourceBuffers=function(t){this.ready()||(this.addOrChangeSourceBuffers(t),this.started_=!0,this.trigger("ready"))},i.addSourceBuffer=function(t,e){Nc({type:"mediaSource",sourceUpdater:this,action:kc(t,e),name:"addSourceBuffer"})},i.abort=function(t){Nc({type:t,sourceUpdater:this,action:Mc(t),name:"abort"})},i.removeSourceBuffer=function(t){this.canRemoveSourceBuffer()?Nc({type:"mediaSource",sourceUpdater:this,action:Dc(t),name:"removeSourceBuffer"}):Qr.log.error("removeSourceBuffer is not supported!")},i.canRemoveSourceBuffer=function(){return!Qr.browser.IE_VERSION&&t.MediaSource&&t.MediaSource.prototype&&"function"==typeof t.MediaSource.prototype.removeSourceBuffer},n.canChangeType=function(){return t.SourceBuffer&&t.SourceBuffer.prototype&&"function"==typeof t.SourceBuffer.prototype.changeType},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(t,e){this.canChangeType()?Nc({type:t,sourceUpdater:this,action:Rc(e),name:"changeType"}):Qr.log.error("changeType is not supported!")},i.addOrChangeSourceBuffers=function(t){var e=this;if(!t||"object"!=typeof t||0===Object.keys(t).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach((function(n){var i=t[n];if(!e.ready())return e.addSourceBuffer(n,i);e.canChangeType()&&e.changeType(n,i)}))},i.appendBuffer=function(t,e){var n=this,i=t.segmentInfo,r=t.type,o=t.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([t,e]),void this.logger_("delayed audio append of "+o.length+" until video append");if(Nc({type:r,sourceUpdater:this,action:Oc(o,i||{mediaIndex:-1}),doneFn:e,name:"appendBuffer"}),"video"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(t){n.appendBuffer.apply(n,t)}))}},i.audioBuffered=function(){return Ec(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Qr.createTimeRange()},i.videoBuffered=function(){return Ec(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Qr.createTimeRange()},i.buffered=function(){var t=Ec(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,e=Ec(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return e&&!t?this.audioBuffered():t&&!e?this.videoBuffered():function(t,e){var n=null,i=null,r=0,o=[],a=[];if(!(t&&t.length&&e&&e.length))return Qr.createTimeRange();for(var s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(o.sort((function(t,e){return t.time-e.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++r&&(n=o[s].time):"end"===o[s].type&&1==--r&&(i=o[s].time),null!==n&&null!==i&&(a.push([n,i]),n=null,i=null);return Qr.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(t,e){void 0===e&&(e=vc),Nc({type:"mediaSource",sourceUpdater:this,action:xc(t),name:"duration",doneFn:e})},i.endOfStream=function(t,e){void 0===t&&(t=null),void 0===e&&(e=vc),"string"!=typeof t&&(t=void 0),Nc({type:"mediaSource",sourceUpdater:this,action:Ic(t),name:"endOfStream",doneFn:e})},i.removeAudio=function(t,e,n){void 0===n&&(n=vc),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Nc({type:"audio",sourceUpdater:this,action:Cc(t,e),doneFn:n,name:"remove"}):n()},i.removeVideo=function(t,e,n){void 0===n&&(n=vc),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Nc({type:"video",sourceUpdater:this,action:Cc(t,e),doneFn:n,name:"remove"}):n()},i.updating=function(){return!(!Tc("audio",this)&&!Tc("video",this))},i.audioTimestampOffset=function(t){return void 0!==t&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Nc({type:"audio",sourceUpdater:this,action:Ac(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},i.videoTimestampOffset=function(t){return void 0!==t&&this.videoBuffer&&this.videoTimestampOffset!==t&&(Nc({type:"video",sourceUpdater:this,action:Ac(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},i.audioQueueCallback=function(t){this.audioBuffer&&Nc({type:"audio",sourceUpdater:this,action:Pc(t),name:"callback"})},i.videoQueueCallback=function(t){this.videoBuffer&&Nc({type:"video",sourceUpdater:this,action:Pc(t),name:"callback"})},i.dispose=function(){var t=this;this.trigger("dispose"),bc.forEach((function(e){t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+"QueueCallback"]((function(){return Sc(e,t)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},n}(Qr.EventTarget),Fc=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},jc=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)}))),Uc=function(e){function n(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).handlePartialData_=!1,i.mediaSource_=null,i.subtitlesTrack_=null,i.loaderType_="subtitle",i.featuresNativeTextTracks_=t.featuresNativeTextTracks,i.shouldSaveSegmentTimingInfo_=!1,i}Bt(n,e);var i=n.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Qr.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return Qr.createTimeRanges([[e,n]])},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=ll(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=jc.byteLength+t.bytes.byteLength,o=new Uint8Array(r);o.set(t.bytes),o.set(jc,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:o}}return i||t},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},i.remove=function(t,e){dc(t,e,this.subtitlesTrack_)},i.fillBuffer_=function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline))return this.syncController_.one("timestampoffset",(function(){t.state="READY",t.paused()||t.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(e)}},i.skipEmptySegments_=function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t},i.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(e,n,i){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(n.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Ll&&this.handleTimeout_(),e.code===Vl?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);this.saveBandwidthRelatedStats_(n.stats),this.state="APPENDING",this.trigger("appending");var o=this.pendingSegment_,a=o.segment;if(a.map&&(a.map.bytes=n.map.bytes),o.bytes=n.bytes,"function"!=typeof t.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s,u=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",s),r.stopForError({message:"Error loading vtt.js"})};return s=function(){r.subtitlesTrack_.tech_.off("vttjserror",u),r.segmentRequestFinished_(e,n,i)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),void this.subtitlesTrack_.tech_.one("vttjserror",u)}a.requested=!0;try{this.parseVTTCues_(o)}catch(t){return void this.stopForError({message:t.message})}if(this.updateTimeMapping_(o,this.syncController_.timelines[o.timeline],this.playlist_),o.cues.length?o.timingInfo={start:o.cues[0].startTime,end:o.cues[o.cues.length-1].endTime}:o.timingInfo={start:o.startOfSegment,end:o.startOfSegment+o.duration},o.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");o.byteLength=o.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,o.cues.forEach((function(e){r.remove(e.startTime,e.endTime),r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new t.VTTCue(e.startTime,e.endTime,e.text):e)})),this.handleAppendsDone_()}else this.state="READY"},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(e){var n,i=!1;"function"==typeof t.TextDecoder?n=new t.TextDecoder("utf8"):(n=t.WebVTT.StringDecoder(),i=!0);var r=new t.WebVTT.Parser(t,t.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(t){Qr.log.warn("Error encountered when parsing cues: "+t.message)},e.segment.map){var o=e.segment.map.bytes;i&&(o=Fc(o)),r.parse(o)}var a=e.bytes;i&&(a=Fc(a)),r.parse(a),r.flush()},i.updateTimeMapping_=function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,o=r.MPEGTS/Ys-r.LOCAL+e.mapping;if(t.cues.forEach((function(t){t.startTime+=o,t.endTime+=o})),!n.syncInfo){var a=t.cues[0].startTime,s=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(a,s-i.duration)}}}else i.empty=!0},n}(mc),Bc=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},Hc=[{name:"VOD",run:function(t,e,n,i,r){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,d=Math.abs(r-c);if(null!==s&&(0===d||s<d))break;s=d,a={time:c,segmentIndex:u}}}return a}},{name:"Segment",run:function(t,e,n,i,r){var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===i&&void 0!==l.start){var c=Math.abs(r-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(t,e,n,i,r){var o=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,s=0;s<e.discontinuityStarts.length;s++){var u=e.discontinuityStarts[s],l=e.discontinuitySequence+s+1,c=t.discontinuities[l];if(c){var d=Math.abs(r-c.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],Gc=function(t){function e(e){var n;return(n=t.call(this)||this).timelines=[],n.discontinuities=[],n.datetimeToDisplayTime=null,n.logger_=rc("SyncController"),n}Bt(e,t);var n=e.prototype;return n.getSyncPoint=function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null},n.getExpiredTime=function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+zu(t,i.segmentIndex,0))},n.runStrategies_=function(t,e,n,i){for(var r=[],o=0;o<Hc.length;o++){var a=Hc[o],s=a.run(this,t,e,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r},n.selectSyncPoint_=function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,o=1;o<t.length;o++){var a=Math.abs(t[o].syncPoint[e.key]-e.value);a<i&&(i=a,n=t[o].syncPoint,r=t[o].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n},n.saveExpiredSegmentInfo=function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;n>=0;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMapping=function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}},n.saveSegmentTimingInfo=function(t){var e=t.segmentInfo,n=t.shouldSaveTimelineMapping;this.calculateSegmentTimeMapping_(e,e.timingInfo,n)&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:e.segment.start}))},n.timestampOffsetForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].time},n.mappingForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping},n.calculateSegmentTimeMapping_=function(t,e,n){var i=t.segment,r=this.timelines[t.timeline];if(null!==t.timestampOffset)r={time:t.startOfSegment,mapping:t.startOfSegment-e.start},n&&(this.timelines[t.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]")),i.start=t.startOfSegment,i.end=e.end+r.mapping;else{if(!r)return!1;i.start=e.start+r.mapping,i.end=e.end+r.mapping}return!0},n.saveDiscontinuitySyncInfo_=function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r=e.discontinuityStarts[i],o=e.discontinuitySequence+i+1,a=r-t.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u=void 0;u=a<0?n.start-zu(e,t.mediaIndex,r):n.end+zu(e,t.mediaIndex+1,r),this.discontinuities[o]={time:u,accuracy:s}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(Qr.EventTarget),Wc=function(t){function e(){var e;return(e=t.call(this)||this).pendingTimelineChanges_={},e.lastTimelineChanges_={},e}Bt(e,t);var n=e.prototype;return n.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(t){var e=t.type,n=t.from,i=t.to;return"number"==typeof n&&"number"==typeof i&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]},n.lastTimelineChange=function(t){var e=t.type,n=t.from,i=t.to;return"number"==typeof n&&"number"==typeof i&&(this.lastTimelineChanges_[e]={type:e,from:n,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(Qr.EventTarget),zc=new Kl("./decrypter-worker.worker.js",(function(t,e){var n=this;
/*! @name @videojs/http-streaming @version 2.2.4 @license Apache-2.0 */!function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var e=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e},i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},r=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),o=null,a=function(){function t(t){var e,n,i;o||(o=function(){var t,e,n,i,r,o,a,s,u=[[[],[],[],[],[]],[[],[],[],[],[]]],l=u[0],c=u[1],d=l[4],h=c[4],f=[],p=[];for(t=0;t<256;t++)p[(f[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!d[e];e^=i||1,n=p[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,d[e]=o,h[o]=e,s=16843009*f[r=f[i=f[e]]]^65537*r^257*i^16843008*e,a=257*f[o]^16843008*o,t=0;t<4;t++)l[t][e]=a=a<<24^a>>>8,c[t][o]=s=s<<24^s>>>8;for(t=0;t<5;t++)l[t]=l[t].slice(0),c[t]=c[t].slice(0);return u}()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var r=this._tables[0][4],a=this._tables[1],s=t.length,u=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var l=t.slice(0),c=[];for(this._key=[l,c],e=s;e<4*s+28;e++)i=l[e-1],(e%s==0||8===s&&e%s==4)&&(i=r[i>>>24]<<24^r[i>>16&255]<<16^r[i>>8&255]<<8^r[255&i],e%s==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),l[e]=l[e-s]^i;for(n=0;e;n++,e--)i=l[3&n?e:e-4],c[n]=e<=4||n<4?i:a[0][r[i>>>24]]^a[1][r[i>>16&255]]^a[2][r[i>>8&255]]^a[3][r[255&i]]}return t.prototype.decrypt=function(t,e,n,i,r,o){var a,s,u,l,c=this._key[1],d=t^c[0],h=i^c[1],f=n^c[2],p=e^c[3],g=c.length/4-2,m=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],w=v[4];for(l=0;l<g;l++)a=y[d>>>24]^_[h>>16&255]^b[f>>8&255]^T[255&p]^c[m],s=y[h>>>24]^_[f>>16&255]^b[p>>8&255]^T[255&d]^c[m+1],u=y[f>>>24]^_[p>>16&255]^b[d>>8&255]^T[255&h]^c[m+2],p=y[p>>>24]^_[d>>16&255]^b[h>>8&255]^T[255&f]^c[m+3],m+=4,d=a,h=s,f=u;for(l=0;l<4;l++)r[(3&-l)+o]=w[d>>>24]<<24^w[h>>16&255]<<16^w[f>>8&255]<<8^w[255&p]^c[m++],a=d,d=h,h=f,f=p,p=a},t}(),s=function(t){function e(){var e;return(e=t.call(this,r)||this).jobs=[],e.delay=1,e.timeout_=null,e}i(e,t);var n=e.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(r),u=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},l=function(){function t(e,n,i,r){var o=t.STEP,a=new Int32Array(e.buffer),l=new Uint8Array(e.byteLength),c=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),n,i,l)),c=o;c<a.length;c+=o)i=new Uint32Array([u(a[c-4]),u(a[c-3]),u(a[c-2]),u(a[c-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),n,i,l));this.asyncStream_.push((function(){
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
var t;
/*! @name aes-decrypter @version 3.1.0 @license Apache-2.0 */r(null,(t=l).subarray(0,t.byteLength-t[t.byteLength-1]))}))}return t.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=function(t,e,n){var i,r,o,s,l,c,d,h,f,p=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),g=new a(Array.prototype.slice.call(e)),m=new Uint8Array(t.byteLength),v=new Int32Array(m.buffer);for(i=n[0],r=n[1],o=n[2],s=n[3],f=0;f<p.length;f+=4)l=u(p[f]),c=u(p[f+1]),d=u(p[f+2]),h=u(p[f+3]),g.decrypt(l,c,d,h,v,f),v[f]=u(v[f]^i),v[f+1]=u(v[f+1]^r),v[f+2]=u(v[f+2]^o),v[f+3]=u(v[f+3]^s),i=l,r=c,o=d,s=h;return m}(t,e,n);i.set(r,t.byteOffset)}},e(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}();new function(t){t.onmessage=function(e){var n=e.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new l(i,r,o,(function(e,i){var r,o;t.postMessage((r={source:n.source,decrypted:i},o={},Object.keys(r).forEach((function(t){var e=r[t];ArrayBuffer.isView(e)?o[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:o[t]=e})),o),[i.buffer])}))}}(n)}()})),$c=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Yc=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},qc=function(t,e){e.activePlaylistLoader=t,t.load()},Xc={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;Yc(n,i);var o=i.activeTrack(),a=i.activeGroup(),s=(a.filter((function(t){return t.default}))[0]||a[0]).id,u=i.tracks[s];if(o!==u){for(var l in Qr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[l].enabled=i.tracks[l]===u;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t];Qr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Yc(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},Kc={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),i.paused()||o.load()})),e.on("error",Xc[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[t],a=n.mediaTypes[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),o.track(a.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),i.paused()||o.load()})),e.on("error",Xc[t](t,n))}},Zc={AUDIO:function(t,e){var n=e.vhs,i=e.sourceType,r=e.segmentLoaders[t],o=e.requestOptions,a=e.master,s=a.mediaGroups,u=a.playlists,l=e.mediaTypes[t],c=l.groups,d=l.tracks,h=e.masterPlaylistLoader;s[t]&&0!==Object.keys(s[t]).length||(s[t]={main:{default:{default:!0}}});var f=function(r){c[r]||(c[r]=[]);var a=u.filter((function(e){return e.attributes[t]===r})),l=function(u){var l=s[t][r][u];a.filter((function(t){return t.resolvedUri===l.resolvedUri})).length&&delete l.resolvedUri;var f=void 0;if(f="vhs-json"===i&&l.playlists?new Lu(l.playlists[0],n,o):l.resolvedUri?new Lu(l.resolvedUri,n,o):l.playlists&&"dash"===i?new Sl(l.playlists[0],n,o,h):null,l=Qr.mergeOptions({id:u,playlistLoader:f},l),Kc[t](t,l.playlistLoader,e),c[r].push(l),void 0===d[u]){var p=new Qr.AudioTrack({id:u,kind:$c(l),enabled:!1,language:l.language,default:l.default,label:u});d[u]=p}};for(var f in s[t][r])l(f)};for(var p in s[t])f(p);r.on("error",Xc[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.vhs,r=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions,s=e.master.mediaGroups,u=e.mediaTypes[t],l=u.groups,c=u.tracks,d=e.masterPlaylistLoader;for(var h in s[t])for(var f in l[h]||(l[h]=[]),s[t][h])if(!s[t][h][f].forced){var p=s[t][h][f],g=void 0;if("hls"===r?g=new Lu(p.resolvedUri,i,a):"dash"===r?g=new Sl(p.playlists[0],i,a,d):"vhs-json"===r&&(g=new Lu(p.playlists?p.playlists[0]:p.resolvedUri,i,a)),p=Qr.mergeOptions({id:f,playlistLoader:g},p),Kc[t](t,p.playlistLoader,e),l[h].push(p),void 0===c[f]){var m=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=m}}o.on("error",Xc[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],o=r.groups,a=r.tracks;for(var s in i[t])for(var u in o[s]||(o[s]=[]),i[t][s]){var l=i[t][s][u];if(l.instreamId.match(/CC\d/)&&(o[s].push(Qr.mergeOptions({id:u},l)),void 0===a[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}},Jc={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if("showing"===n[i].mode||"hidden"===n[i].mode)return n[i];return null}}},Qc=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){Zc[e](e,t)}));var e=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,r=t.vhs;["AUDIO","SUBTITLES"].forEach((function(n){e[n].activeGroup=function(t,e){return function(n){var i=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,o=i.media();if(!o)return null;var a=null;return o.attributes[t]&&(a=r[o.attributes[t]]),a=a||r.main,void 0===n?a:null===n?null:a.filter((function(t){return t.id===n.id}))[0]||null}}(n,t),e[n].activeTrack=Jc[n](n,t),e[n].onGroupChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;Yc(i,o),s&&(s.playlistLoader?(i.resyncLoader(),qc(s.playlistLoader,o)):u&&r.resetEverything())}}(n,t),e[n].onGroupChanging=function(t,e){return function(){var n=e.segmentLoaders[t];n.abort(),n.pause()}}(n,t),e[n].onTrackChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(Yc(i,o),s){if("AUDIO"===t){if(!s.playlistLoader)return r.setAudio(!0),void r.resetEverything();i.setAudio(!0),r.setAudio(!1)}u!==s.playlistLoader?(i.track&&i.track(a),i.resetEverything(),qc(s.playlistLoader,o)):qc(s.playlistLoader,o)}}}(n,t)}));var o=e.AUDIO.activeGroup();if(o){var a=(o.filter((function(t){return t.default}))[0]||o[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged()}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanging()}))}));var s=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})};for(var u in i.audioTracks().addEventListener("change",s),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",s),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])},td=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],ed=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},nd=function(e){function n(n){var i;i=e.call(this)||this;var r=n.src,o=n.handleManifestRedirects,a=n.withCredentials,s=n.tech,u=n.bandwidth,l=n.externVhs,c=n.useCueTags,d=n.blacklistDuration,h=n.enableLowInitialPlaylist,f=n.sourceType,p=n.cacheEncryptionKeys,g=n.handlePartialData;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");yc=l,i.withCredentials=a,i.tech_=s,i.vhs_=s.vhs,i.sourceType_=f,i.useCueTags_=c,i.blacklistDuration=d,i.enableLowInitialPlaylist=h,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:a,handleManifestRedirects:o,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:vc,activeTrack:vc,onGroupChanged:vc,onTrackChanged:vc}})),t}(),i.mediaSource=new t.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(jt(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(jt(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(jt(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=Qr.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new Gc(n),i.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new zc,i.sourceUpdater_=new Vc(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new Wc;var m={vhs:i.vhs_,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:u,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:p,handlePartialData:g,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_};return i.masterPlaylistLoader_="dash"===i.sourceType_?new Sl(r,i.vhs_,i.requestOptions_):new Lu(r,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new mc(Qr.mergeOptions(m,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),n),i.audioSegmentLoader_=new mc(Qr.mergeOptions(m,{loaderType:"audio"}),n),i.subtitleSegmentLoader_=new Uc(Qr.mergeOptions(m,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),n),i.setupSegmentLoaderListeners_(),td.forEach((function(t){i[t+"_"]=ed.bind(jt(i),t)})),i.logger_=rc("MPC"),i.triggeredFmp4Usage=!1,i.masterPlaylistLoader_.load(),i}Bt(n,e);var i=n.prototype;return i.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;Ju(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),Qc({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){t.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var e=t.masterPlaylistLoader_.media();if(!e){var n;if(t.excludeUnsupportedVariants_(),t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,t.masterPlaylistLoader_.media(t.initialMedia_),"vhs-json"!==t.sourceType_||!t.initialMedia_.segments)return;e=t.initialMedia_}t.handleUpdatedMediaPlaylist(e)})),this.masterPlaylistLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;Ju(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},i.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o])n.AUDIO[o][a].uri||(i=!1);i&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),yc.Playlist.isAes(e)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),i=t.tech_.buffered();(function(t){var e=t.currentPlaylist,n=t.nextPlaylist,i=t.forwardBuffer,r=t.bufferLowWaterLine,o=t.duration;return t.log,n?!e.endList||o<El.MAX_BUFFER_LOW_WATER_LINE||n.attributes.BANDWIDTH<e.attributes.BANDWIDTH||i>=r:(Qr.log.warn("We received no playlist to switch to. Please check your stream."),!1)})({currentPlaylist:n,nextPlaylist:e,forwardBuffer:i.length?i.end(i.length-1)-t.tech_.currentTime():0,bufferLowWaterLine:t.bufferLowWaterLine(),duration:t.duration(),log:t.logger_})&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){t.logger_("main segment loader ended"),t.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}));var e=function(){if(!t.sourceUpdater_.ready())return t.tryToCreateSourceBuffers_();var e=t.getCodecsOrExclude_();e&&t.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()}))},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(t){void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())},i.fastQualityChange_=function(t){var e=this;void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything((function(){Qr.browser.IE_VERSION||Qr.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())})))},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}},i.setupFirstPlay=function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(Qr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){t.trigger("firstplay"),t.tech_.setCurrentTime(n.end(0)),t.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(function(t){}))}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(t&&t.length){var e=this.duration();t[t.length-1].endTime=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&this.sourceUpdater_.endOfStream()},i.stuckAtPlaylistEnd_=function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.duration());if(null===e)return!1;var n=yc.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=.1;var o=r.end(r.length-1);return o-i<=.1&&n-o<=.1},i.blacklistCurrentPlaylist=function(t,e){void 0===t&&(t={});var n=t.playlist||this.masterPlaylistLoader_.media();if(e=e||t.blacklistDuration||this.blacklistDuration,!n)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var i=this.masterPlaylistLoader_.master.playlists,r=i.filter(Ku),o=1===r.length&&r[0]===n;if(1===i.length&&e!==1/0)return Qr.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o);if(o){var a=!1;i.forEach((function(t){if(t!==n){var e=t.excludeUntil;void 0!==e&&e!==1/0&&(a=!0,delete t.excludeUntil)}})),a&&(Qr.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}n.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var s=this.selectPlaylist();if(!s)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var u=t.internal?this.logger_:Qr.log.warn,l=t.message?" "+t.message:"";return u((t.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+l+" Switching to playlist "+s.id+"."),s.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),s.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),this.masterPlaylistLoader_.media(s,o)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"])},i.delegateLoaders_=function(t,e){var n=this,i=[],r="all"===t;(r||"main"===t)&&i.push(this.masterPlaylistLoader_);var o=[];(r||"audio"===t)&&o.push("AUDIO"),(r||"subtitle"===t)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(t){var e=n.mediaTypes_[t]&&n.mediaTypes_[t].activePlaylistLoader;e&&i.push(e)})),["main","audio","subtitle"].forEach((function(e){var r=n[e+"SegmentLoader_"];!r||t!==e&&"all"!==t||i.push(r)})),i.forEach((function(t){return e.forEach((function(e){"function"==typeof t[e]&&t[e]()}))}))},i.setCurrentTime=function(t){var e=Fu(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:yc.Playlist.duration(t):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var e=this.masterPlaylistLoader_.media();if(e){var n=this.syncController_.getExpiredTime(e,this.duration());if(null!==n){var i=this.masterPlaylistLoader_.master.suggestedPresentationDelay,r=yc.Playlist.seekable(e,n,i);if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(e,this.duration())))return;if(0===(t=yc.Playlist.seekable(e,n,i)).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),t?t.start(0)>r.end(0)||r.start(0)>t.end(0)?this.seekable_=r:this.seekable_=Qr.createTimeRanges([[t.start(0)>r.start(0)?t.start(0):r.start(0),t.end(0)<r.end(0)?t.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Uu(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,t),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(t){var e=this.seekable();if(!e.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1))}else{var n=this.tech_.buffered(),i=yc.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}},i.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(e){var n=t.mediaTypes_[e].groups;for(var i in n)n[i].forEach((function(t){t.playlistLoader&&t.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader;return!(!this.mainSegmentLoader_.currentMediaInfo_||t&&!this.audioSegmentLoader_.currentMediaInfo_)},i.getCodecsOrExclude_=function(){var t=this,e={main:this.mainSegmentLoader_.currentMediaInfo_||{},audio:this.audioSegmentLoader_.currentMediaInfo_||{}};e.video=e.main;var n=ic(this.master(),this.media()),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||pu),e.main.isMuxed&&(i.video+=","+(n.audio||e.main.audioCodec||fu)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||fu,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),i.audio||i.video){var o,a={};if(["video","audio"].forEach((function(t){if(i.hasOwnProperty(t)&&(r=e[t].isFmp4,s=i[t],!(r?gu(s):bu(s)))){var n=e[t].isFmp4?"browser":"muxer";a[n]=a[n]||[],a[n].push(i[t]),"audio"===t&&(o=n)}var r,s})),r&&o&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(e){(e.attributes&&e.attributes.AUDIO)===s&&e!==t.media()&&(e.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+o+' does not support codec(s): "'+i.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.ready()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(e){var n=(Tu(t.sourceUpdater_.codecs[e]||"")[e]||{}).type,r=(Tu(i[e]||"")[e]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&u.push('"'+t.sourceUpdater_.codecs[e]+'" -> "'+i[e]+'"')})),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return i}var l=Object.keys(a).reduce((function(t,e){return t&&(t+=", "),t+=e+' does not support codec(s): "'+a[e].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:l,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.ready()&&this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(t){this.sourceUpdater_.createSourceBuffers(t);var e=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(e)}}},i.excludeUnsupportedVariants_=function(){var t=this;this.master().playlists.forEach((function(e){var n=ic(t.master,e);!n.audio||bu(n.audio)||gu(n.audio)||(e.excludeUntil=1/0),!n.video||bu(n.video)||gu(n.video)||(e.excludeUntil=1/0)}))},i.excludeIncompatibleVariants_=function(t){var e=this,n=Tu(t),i=Object.keys(n).length;this.master().playlists.forEach((function(t){if(t.excludeUntil!==1/0){var r={},o=2,a=[],s=ic(e.masterPlaylistLoader_.master,t);if(s.audio||s.video){var u=[s.video,s.audio].filter(Boolean).join(",");r=Tu(u),o=Object.keys(r).length}o!==i&&(a.push('codec count "'+o+'" !== "'+i+'"'),t.excludeUntil=1/0),e.sourceUpdater_.canChangeType()||(r.video&&n.video&&r.video.type.toLowerCase()!==n.video.type.toLowerCase()&&(a.push('video codec "'+r.video.type+'" !== "'+n.video.type+'"'),t.excludeUntil=1/0),r.audio&&n.audio&&r.audio.type.toLowerCase()!==n.audio.type.toLowerCase()&&(t.excludeUntil=1/0,a.push('audio codec "'+r.audio.type+'" !== "'+n.audio.type+'"'))),a.length&&e.logger_("blacklisting "+t.id+": "+a.join(" && "))}}))},i.updateAdCues_=function(e){var n=0,i=this.seekable();i.length&&(n=i.start(0)),function(e,n,i){if(void 0===i&&(i=0),e.segments)for(var r,o=i,a=0;a<e.segments.length;a++){var s=e.segments[a];if(r||(r=Bc(n,o+s.duration/2)),r){if("cueIn"in s){r.endTime=o,r.adEndTime=o,o+=s.duration,r=null;continue}if(o<r.endTime){o+=s.duration;continue}r.endTime+=s.duration}else if("cueOut"in s&&((r=new t.VTTCue(o,o+s.duration,s.cueOut)).adStartTime=o,r.adEndTime=o+parseFloat(s.cueOut),n.addCue(r)),"cueOutCont"in s){var u=s.cueOutCont.split("/").map(parseFloat),l=u[0],c=u[1];(r=new t.VTTCue(o,o+s.duration,"")).adStartTime=o-l,r.adEndTime=r.adStartTime+c,n.addCue(r)}o+=s.duration}}(e,this.cueTagsTrack_,n)},i.goalBufferLength=function(){var t=this.tech_.currentTime(),e=El.GOAL_BUFFER_LENGTH,n=El.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,El.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)},i.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),e=El.BUFFER_LOW_WATER_LINE,n=El.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,El.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)},n}(Qr.EventTarget),id=function(t,e,n){var i,r,o,a=t.masterPlaylistController_,s=a[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(e.attributes.RESOLUTION){var u=e.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=e.attributes.BANDWIDTH,this.codecs=ic(a.master(),e),this.playlist=e,this.id=n,this.enabled=(i=t.playlists,r=e.id,o=s,function(t){var e=i.master.playlists[r],n=Xu(e),a=Ku(e);return void 0===t?a:(t?delete e.disabled:e.disabled=!0,t===a||n||(o(),t?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),t)})},rd=["seeking","seeked","pause","playing","error"],od=function(){function e(e){var n=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=rc("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},r=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()},s=this.masterPlaylistController_,u=["main","subtitle","audio"],l={};u.forEach((function(t){l[t]={reset:function(){return n.resetSegmentDownloads_(t)},updateend:function(){return n.checkSegmentDownloads_(t)}},s[t+"SegmentLoader_"].on("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].on("playlistupdate",l[t].reset),n.tech_.on(["seeked","seeking"],l[t].reset)})),this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(rd,o),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",r),n.tech_.off(rd,o),n.tech_.off("canplay",i),u.forEach((function(t){s[t+"SegmentLoader_"].off("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].off("playlistupdate",l[t].reset),n.tech_.off(["seeked","seeking"],l[t].reset)})),n.checkCurrentTimeTimeout_&&t.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var n=e.prototype;return n.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&t.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=t.setTimeout(this.monitorCurrentTime_.bind(this),250)},n.resetSegmentDownloads_=function(t){var e=this.masterPlaylistController_[t+"SegmentLoader_"];this[t+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+t+" loader"),this[t+"StalledDownloads_"]=0,this[t+"Buffered_"]=e.buffered_()},n.checkSegmentDownloads_=function(t){var e=this.masterPlaylistController_,n=e[t+"SegmentLoader_"],i=n.buffered_(),r=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t)return!0;if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1}(this[t+"Buffered_"],i);this[t+"Buffered_"]=i,r?this.resetSegmentDownloads_(t):(this[t+"StalledDownloads_"]++,this.logger_("found #"+this[t+"StalledDownloads_"]+" "+t+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:Bu(i)}),this[t+"StalledDownloads_"]<10||(this.logger_(t+" loader stalled download exclusion"),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:"vhs-"+t+"-download-exclusion"}),"subtitle"!==t&&e.blacklistCurrentPlaylist({message:"Excessive "+t+" segment downloading detected."},1/0)))},n.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}},n.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},n.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var t,e=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(t=e.end(e.length-1)),this.beforeSeekableWindow_(e,n)){var i=e.start(0);t=i+(i===e.end(0)?0:.1)}if(void 0!==t)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Uu(e)+". Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0;var r=this.tech_.buffered();return!!function(t){var e=t.buffered,n=t.targetDuration,i=t.currentTime;return!(!e.length||e.end(0)-e.start(0)<2*n||i>e.start(0)||!(e.start(0)-i<n))}({buffered:r,targetDuration:this.media().targetDuration,currentTime:n})&&(t=r.start(0)+.1,this.logger_("Buffered region starts ("+r.start(0)+")  just beyond seek point ("+n+"). Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0)},n.waiting_=function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=Fu(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},n.techWaiting_=function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:e}))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=ju(r,e);if(o.length>0){var a=o.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1},n.afterSeekableWindow_=function(t,e,n,i){if(void 0===i&&(i=!1),!t.length)return!1;var r=t.end(t.length-1)+.1;return!n.endList&&i&&(r=t.end(t.length-1)+3*n.targetDuration),e>r},n.beforeSeekableWindow_=function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)},n.videoUnderflow_=function(t){var e=t.videoBuffered,n=t.audioBuffered,i=t.currentTime;if(e){var r;if(e.length&&n.length){var o=Fu(e,i-3),a=Fu(e,i),s=Fu(n,i);s.length&&!a.length&&o.length&&(r={start:o.end(0),end:s.end(0)})}else ju(e,i).length||(r=this.gapFromVideoUnderflow_(e,i));return!!r&&(this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0)}},n.skipTheGap_=function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=ju(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},n.gapFromVideoUnderflow_=function(t,e){for(var n=function(t){if(t.length<2)return Qr.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return Qr.createTimeRanges(e)}(t),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:o}}return null},e}(),ad={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},sd=function(t){!function t(e,n){var i=0,r=0,o=Qr.mergeOptions(ad,n);e.ready((function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&e.currentTime(r)},s=function(t){null!=t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){return Date.now()-i<1e3*o.errorInterval?(e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void e.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(i=Date.now(),o.getSource.call(e,s)):void Qr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},l=function t(){e.off("loadedmetadata",a),e.off("error",u),e.off("dispose",t)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=function(n){l(),t(e,n)}}(this,t)},ud={PlaylistLoader:Lu,Playlist:Qu,utils:hl,STANDARD_PLAYLIST_SELECTOR:function(){var e=this.useDevicePixelRatio&&t.devicePixelRatio||1;return function(e,n,i,r,o){var a={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:o},s=e.playlists.map((function(e){var n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes.BANDWIDTH||t.Number.MAX_VALUE,width:n,height:i,playlist:e}}));uc(s,(function(t,e){return t.bandwidth-e.bandwidth}));var u=(s=s.filter((function(t){return!Qu.isIncompatible(t.playlist)}))).filter((function(t){return Qu.isEnabled(t.playlist)}));u.length||(u=s.filter((function(t){return!Qu.isDisabled(t.playlist)})));var l=u.filter((function(t){return t.bandwidth*El.BANDWIDTH_VARIANCE<n})),c=l[l.length-1],d=l.filter((function(t){return t.bandwidth===c.bandwidth}))[0];if(!1===o){var h=d||u[0]||s[0];if(h&&h.playlist){var f="sortedPlaylistReps";return d&&(f="bandwidthBestRep"),u[0]&&(f="enabledPlaylistReps"),oc("choosing "+ac(h)+" using "+f+" with options",a),h.playlist}return oc("could not choose a playlist with options",a),null}var p=l.filter((function(t){return t.width&&t.height}));uc(p,(function(t,e){return t.width-e.width}));var g=p.filter((function(t){return t.width===i&&t.height===r}));c=g[g.length-1];var m,v,y,_=g.filter((function(t){return t.bandwidth===c.bandwidth}))[0];_||(v=(m=p.filter((function(t){return t.width>i||t.height>r}))).filter((function(t){return t.width===m[0].width&&t.height===m[0].height})),c=v[v.length-1],y=v.filter((function(t){return t.bandwidth===c.bandwidth}))[0]);var b=y||_||d||u[0]||s[0];if(b&&b.playlist){var T="sortedPlaylistReps";return y?T="resolutionPlusOneRep":_?T="resolutionBestRep":d?T="bandwidthBestRep":u[0]&&(T="enabledPlaylistReps"),oc("choosing "+ac(b)+" using "+T+" with options",a),b.playlist}return oc("could not choose a playlist with options",a),null}(this.playlists.master,this.systemBandwidth,parseInt(sc(this.tech_.el(),"width"),10)*e,parseInt(sc(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this,e=this.playlists.master.playlists.filter(Qu.isEnabled);return uc(e,(function(t,e){return lc(t,e)})),e.filter((function(e){return!!ic(t.playlists.master,e).video}))[0]||null},comparePlaylistBandwidth:lc,comparePlaylistResolution:function(e,n){var i,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||t.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),i===(r=r||t.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-r},xhr:il()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","BACK_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(t){Object.defineProperty(ud,t,{get:function(){return Qr.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),El[t]},set:function(e){Qr.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Qr.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):El[t]=e}})}));var ld=function(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.id){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})};ud.canPlaySource=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var cd=function(t){var e=t.player,n=t.sourceKeySystems,i=t.media,r=t.audioMedia,o=t.mainPlaylists,a=function(t,e,n){if(!t)return t;var i={video:e&&e.attributes&&e.attributes.CODECS,audio:n&&n.attributes&&n.attributes.CODECS};!i.audio&&i.video&&i.video.split(",").length>1&&i.video.split(",").forEach((function(t){t=t.trim(),yu(t)?i.audio=t:_u(t)&&(i.video=t)}));var r=i.video?'video/mp4;codecs="'+i.video+'"':null,o=i.audio?'audio/mp4;codecs="'+i.audio+'"':null,a={};for(var s in t)a[s]={audioContentType:o,videoContentType:r},e.contentProtection&&e.contentProtection[s]&&e.contentProtection[s].pssh&&(a[s].pssh=e.contentProtection[s].pssh),"string"==typeof t[s]&&(a[s].url=t[s]);return Qr.mergeOptions(t,a)}(n,i,r);a&&(e.currentSource().keySystems=a,!a||e.eme?11!==Qr.browser.IE_VERSION&&e.eme.initializeMediaKeys&&function(t,e){return t.reduce((function(t,n){if(!n.contentProtection)return t;var i=e.reduce((function(t,e){var i=n.contentProtection[e];return i&&i.pssh&&(t[e]={pssh:i.pssh}),t}),{});return Object.keys(i).length&&t.push(i),t}),[])}(r?o.concat([r]):o,Object.keys(n)).forEach((function(t){e.eme.initializeMediaKeys({keySystems:t})})):Qr.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"))},dd=function(){if(!t.localStorage)return null;var e=t.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(t){return null}};ud.supportsNativeHls=function(){if(!n||!n.createElement)return!1;var t=n.createElement("video");return!!Qr.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(e){return/maybe|probably/i.test(t.canPlayType(e))}))}(),ud.supportsNativeDash=!!(n&&n.createElement&&Qr.getTech("Html5").isSupported())&&/maybe|probably/i.test(n.createElement("video").canPlayType("application/dash+xml")),ud.supportsTypeNatively=function(t){return"hls"===t?ud.supportsNativeHls:"dash"===t&&ud.supportsNativeDash},ud.isSupported=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var hd=function(e){function i(t,i,r){var o;if(o=e.call(this,i,Qr.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&Qr.log.warn("Using hls options is deprecated. Use vhs instead."),i.options_&&i.options_.playerId){var a=Qr(i.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Qr.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),jt(o)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{get:function(){return Qr.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"vhs-player-access"}),jt(o)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{get:function(){return Qr.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),jt(o)},configurable:!0}),o.player_=a}if(o.tech_=i,o.source_=t,o.stats={},o.ignoreNextSeekingEvent_=!1,o.setOptions_(),o.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(o.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return o.on(n,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var e=n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement;e&&e.contains(o.tech_.el())&&o.masterPlaylistController_.smoothQualityChange_()})),o.on(o.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),o.on(o.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),o.on(o.tech_,"play",o.play),o}Bt(i,e);var r=i.prototype;return r.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.handlePartialData=this.options_.handlePartialData||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=dd();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=El.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===El.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","handlePartialData"].forEach((function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(e,n){var i,r=this;e&&(this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=ud,this.options_.sourceType=mo(n),this.options_.seekTo=function(t){r.tech_.setCurrentTime(t)},this.masterPlaylistController_=new nd(this.options_),this.playbackWatcher_=new od(Qr.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_})),this.masterPlaylistController_.on("error",(function(){var t=Qr.players[r.tech_.options_.playerId],e=r.masterPlaylistController_.error;"object"!=typeof e||e.code?"string"==typeof e&&(e={message:e,code:3}):e.code=3,t.error(e)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ud.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ud.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t,e=1/(this.bandwidth||1);return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){Qr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Bu(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Bu(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){r.options_.useBandwidthFromLocalStorage&&function(e){if(!t.localStorage)return!1;var n=dd();n=n?Qr.mergeOptions(n,e):e;try{t.localStorage.setItem("videojs-vhs",JSON.stringify(n))}catch(t){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,e;e=(t=r).playlists,t.representations=function(){return e&&e.master&&e.master.playlists?e.master.playlists.filter((function(t){return!Xu(t)})).map((function(e,n){return new id(t,e,e.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("ready",(function(){var t=r.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;cd({player:r.player_,sourceKeySystems:r.source_.keySystems,media:r.playlists.media(),audioMedia:t&&t.media(),mainPlaylists:r.playlists.master.playlists})})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=t.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},r.setupQualityLevels_=function(){var t=this,e=Qr.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,n;e=t.qualityLevels_,(n=t).representations().forEach((function(t){e.addQualityLevel(t)})),ld(e,n.playlists)})),this.playlists.on("mediachange",(function(){ld(t.qualityLevels_,t.playlists)})))},i.version=function(){return{"@videojs/http-streaming":"2.2.4","mux.js":"5.6.7","mpd-parser":"0.14.0","m3u8-parser":"4.5.0","aes-decrypter":"3.1.0"}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return Vc.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&t.URL.revokeObjectURL&&(t.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),e.prototype.dispose.call(this)},r.convertToProgramTime=function(t,e){return fl({playlist:this.masterPlaylistController_.media(),time:t,callback:e})},r.seekToProgramTime=function(t,e,n,i){return void 0===n&&(n=!0),void 0===i&&(i=2),pl({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})},i}(Qr.getComponent("Component")),fd={name:"videojs-http-streaming",VERSION:"2.2.4",canHandleSource:function(t,e){void 0===e&&(e={});var n=Qr.mergeOptions(Qr.options,e);return fd.canPlayType(t.type,n)},handleSource:function(t,e,n){void 0===n&&(n={});var i=Qr.mergeOptions(Qr.options,n);return e.vhs=new hd(t,e,i),Qr.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return Qr.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),e.vhs},configurable:!0}),e.vhs.xhr=il(),e.vhs.src(t.src,t.type),e.vhs},canPlayType:function(t,e){void 0===e&&(e={});var n=Qr.mergeOptions(Qr.options,e).vhs.overrideNative,i=void 0===n?!Qr.browser.IS_ANY_SAFARI:n,r=mo(t);return!r||ud.supportsTypeNatively(r)&&!i?"":"maybe"}};return gu("avc1.4d400d,mp4a.40.2")&&Qr.getTech("Html5").registerSourceHandler(fd,0),Qr.VhsHandler=hd,Object.defineProperty(Qr,"HlsHandler",{get:function(){return Qr.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),hd},configurable:!0}),Qr.VhsSourceHandler=fd,Object.defineProperty(Qr,"HlsSourceHandler",{get:function(){return Qr.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),fd},configurable:!0}),Qr.Vhs=ud,Object.defineProperty(Qr,"Hls",{get:function(){return Qr.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),ud},configurable:!0}),Qr.use||(Qr.registerComponent("Hls",ud),Qr.registerComponent("Vhs",ud)),Qr.options.vhs=Qr.options.vhs||{},Qr.options.hls=Qr.options.hls||{},Qr.registerPlugin?Qr.registerPlugin("reloadSourceOnError",sd):Qr.plugin("reloadSourceOnError",sd),Qr}(window,document)}).call(this,n(308).Buffer)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a={getExtentsFromDimensions:function(t,e,n,i,r,o){var a=this.getExtentsPointsFromDimensions(t,e,n,i,r,o);return{x1:Math.round(Math.min(a[0].x,a[1].x,a[2].x,a[3].x)),y1:Math.round(Math.min(a[0].y,a[1].y,a[2].y,a[3].y)),x2:Math.round(Math.max(a[0].x,a[1].x,a[2].x,a[3].x)),y2:Math.round(Math.max(a[0].y,a[1].y,a[2].y,a[3].y))}},getExtentsPointsFromDimensions:function(t,e,n,i,r,o){if(t-=o,e-=o,n+=2*o,i+=2*o,0!==r){var a=t+n/2,s=e+i/2;return[Math.rotateCoord(t,e,a,s,r),Math.rotateCoord(t+n,e,a,s,r),Math.rotateCoord(t+n,e+i,a,s,r),Math.rotateCoord(t,e+i,a,s,r)]}return[new window.CerosMath.Point(t,e),new window.CerosMath.Point(t+n,e),new window.CerosMath.Point(t+n,e+i),new window.CerosMath.Point(t,e+i)]},getExtentsFromObjectExtentsInsideSmartGroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2));return{x1:n.x,y1:n.y,xMidpoint:0,yMidpoint:0,x2:i.x,y2:i.y}},getBoundingExtentsFromObjectExtentsInsideSmartgroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2)),r=Math.min(n.x,i.x),o=Math.max(n.x,i.x),a=Math.min(n.y,i.y),s=Math.max(n.y,i.y);return{x1:r,y1:a,xMidpoint:o-(o-r)/2,yMidpoint:s-(s-a)/2,x2:o,y2:s}},createExtentsFromCoordinates:function(t,e,n,i){return{x1:t,y1:e,xMidpoint:t+(n-t)/2,yMidpoint:e+(i-e)/2,x2:n,y2:i}},createExtentsFromSelectedComponentCollection:function(t){var e=t.getLeftmostX(!0),n=t.getTopmostY(!0),i=t.getRightmostX(!0),r=t.getBottommostY(!0);return this.createExtentsFromCoordinates(e,n,i,r)},getSmallestContainingRectangle:function(){var t,e,n,i,a;return o.default.each(arguments,(function(s){a=s instanceof r.default.Model&&o.default.isFunction(s.getExtents)?s.getExtents():s,void 0===t?(t=a.x1,e=a.y1,n=a.x2,i=a.y2):(t=Math.min(t,a.x1),e=Math.min(e,a.y1),n=Math.max(n,a.x2),i=Math.max(i,a.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},getSmallestContainingRectangleInPageCoords:function(){var t,e,n,i,r;return o.default.each(arguments,(function(o){r=o.getExtentsInPageCoords(),void 0===t?(t=r.x1,e=r.y1,n=r.x2,i=r.y2):(t=Math.min(t,r.x1),e=Math.min(e,r.y1),n=Math.max(n,r.x2),i=Math.max(i,r.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},createHoverArea:function(t,e,n){var i,r,o,a,s=[],u=n?1:0;return i=t.y1<e.y1?t:e,s.push({x:i.x1,y:i.y1}),s.push({x:i.x2+u,y:i.y1}),(a=t.x2>e.x2?t:e)!==i&&s.push({x:a.x2+u,y:a.y1}),s.push({x:a.x2+u,y:a.y2+u}),(r=t.y2>e.y2?t:e)!==a&&s.push({x:r.x2+u,y:r.y2+u}),s.push({x:r.x1,y:r.y2+u}),(o=t.x1<e.x1?t:e)!==r&&s.push({x:o.x1,y:o.y2+u}),o!==i&&s.push({x:o.x1,y:o.y1}),s}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateInvoker=void 0;var r=function(){function t(){}return t.invokeObjectState=function(t,e,n,i){void 0===i&&(i={});var r=e.hasChangesComparedTo(n);t.applyTransition(e.config.transition,e.getChangedPropertiesToTransition(r)),i.position||!r.position&&!r.border||t._applyPosition(e.config.x,e.config.y,e.config.border),!i.dimensions&&r.dimension&&t._applyDimensions(e.config.width,e.config.height),r.opacity&&t._applyOpacity(e.config.opacity),r.rotation&&t._applyRotation(e.config.rotation),r.border&&t._applyBorder(e.config.border),i.shadow||!r.shadow&&!r.rotation||t._applyShadow(e.config.shadow,e.config.rotation),!i.background&&r.background&&t._applyBackground(e.config.background,e.config.transition)},t.invokeAbstractImageObjectState=function(e,n,i,r){var o=n.hasChangesComparedTo(i);(o.effects||o.shadow)&&e._applyImageEffects(n.config.effects,n.config.shadow,!0),o.flip&&e._applyImageFlip({flipHorizontal:n.config.flipHorizontal,flipVertical:n.config.flipVertical}),o.blendingMode&&e._applyBlendingMode(n.config.blendingMode),(r?t.invokeScaleableObjectState:t.invokeObjectState)(e,n,i,{border:!0,shadow:!0})},t.invokeTextObjectState=function(e,n,i){var r=n.hasChangesComparedTo(i);if(!e.isParagraphMode())return r.font&&e.setFontColor(n.config.defaultSpan),void t.invokeObjectState(e,n,i);r.font&&(e.setDefaultTextStyle(n.config.defaultSpan),e.applyDefaultFont(n.config.defaultSpan),e.applyLineHeight(n.config.leading,n.config.defaultSpan)),r.justify&&e.applyJustification(n.config.justify),r.lineHeight&&!r.font&&e.applyLineHeight(n.config.leading),t.invokeObjectState(e,n,i)},t.invokeScaleableObjectState=function(e,n,r,o){void 0===o&&(o={});var a=n.hasChangesComparedTo(r);a.dimension&&e.applyScale(n.config.width,n.config.height,n.config.x,n.config.y),a.position&&!a.dimension&&e.applyPositionToScaledObject(n.config.x,n.config.y,n.config.width,n.config.height),t.invokeObjectState(e,n,r,i(i({},o),{position:!0,dimensions:!0}))},t.invokeSVGShapeObjectState=function(e,n,i,r){void 0===r&&(r={});var o=n.hasChangesComparedTo(i);r.shadow=!0,(o.shadow||o.rotation)&&e._applyShadow(n.config.shadow,n.config.rotation),o.stroke&&(e._applyBorder({width:n.config.lineWidth,color:n.config.color}),r.border=!0),o.linePosition&&e.applyPoints([{x:n.config.x,y:n.config.y},{x:n.config.x2,y:n.config.y2}],n.config.transition),o.path&&e.applyPath(n.config.path,n.config.isClosedPath,n.config.transition),t.invokeObjectState(e,n,i,r)},t}();e.ObjectStateInvoker=r},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(4)),s=i(n(106)),u=i(n(8));e.default=a.default.Model.extend({idAttribute:"slug",restBaseUrl:"/rest",etag:null,subRequestsPending:0,defaults:{},dateFields:[],parse:function(t,e){if(e&&!r.default.isUndefined(e.xhr)){var n=e.xhr.getResponseHeader("ETag");r.default.isString(n)&&n.length>0&&(this.etag=n)}return r.default.each(this.dateFields,(function(e){r.default.has(t,e)&&(t[e]=new s.default(t[e]))})),a.default.Model.prototype.parse.call(this,t,e)},save:function(t,e,n){var i;if(i=r.default.isObject(t)||r.default.isEmpty(t)?e||{}:n||{},!r.default.isUndefined(i.enforcePersistence)&&i.enforcePersistence){var s=i.persistenceErrorTrigger||"error:pre-condition-failed",u=i.error||o.default.noop;i.error=r.default.bind((function(t,e){412==e.status?t.trigger(s,t,e):u(t,e)}),this),r.default.isString(this.etag)&&(r.default.isObject(i.headers)||(i.headers={}),i.headers["If-Match"]=this.etag)}return r.default.isObject(t)||r.default.isEmpty(t)?e=i:n=i,a.default.Model.prototype.save.call(this,t,e,n)},getFieldValidationErrors:function(){return this.validationError},updateAndPersistFields:function(t,e){return(e=e||{}).patch=!0,this.save(t,e)},sync:function(t,e,n){return"patch"===t&&(t="update"),a.default.Model.prototype.sync.call(this,t,e,n)},url:function(t){return(t&&t.core?"":this.restBaseUrl)+this.replaceUrlContextVariables(a.default.Model.prototype.url.call(this))},replaceUrlContextVariables:function(t){return u.default.replaceUrlContextVariables(t)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(58)),u=i(n(233)),l=i(n(234)),c=i(n(77)),d=i(n(235)),h=i(n(62));var f=new Set;function p(t,e,n){if(l.default.has(e))return l.default.get(e);o.default.isArray(t)||(t=[t]),o.default.isArray(e)||(e=[e]);var i={families:t,urls:e};o.default.isUndefined(n)||(i.testStrings={},o.default.isObject(n)?o.default.each(t,(function(t){o.default.isUndefined(n[t])||(i.testStrings[t]=n[t])})):o.default.each(t,(function(t){i.testStrings[t]=n})));return l.default.add(e,(function(){var e=[],n={};return o.default.each(t,(function(t){var i=new r.default.Deferred;e.push(i),n[t]=i})),d.default.load({custom:i,async:!0,fontactive:function(t){n[t].resolve()},fontinactive:function(t){n[t].reject()}}),r.default.when.apply(r.default,e).promise()}))}e.default={get:function(t){return l.default.get(t)},addRasterImage:function(t,e,n){var i=function(t,e,n){o.default.isNull(e)&&(e="full");var i=t+"|"+e;h.default.isValidCropObject(n)&&(i+="|"+h.default.createCropDimensionsString(n));return i}(t,e,n);return l.default.add(i,(function(){return s.default.getOrCreateRasterImageResource(t,e,n)}))},addVectorImage:function(t,e){return void 0===e&&(e=!0),l.default.add(t,(function(){return f.has(t)?e=!0:f.add(t),new c.default(t,void 0,e,void 0,!0).getPromise()}))},addCss:function(t){return l.default.has(t)?l.default.get(t):l.default.add(t,(function(){return new u.default(t).deferred.promise()}))},addGoogleWebFont:function(t){return a.default.googleFontUrl?function(t){return p(t=t.split(":")[0],a.default.googleFontUrl+"/"+t+".css",void 0)}(t):l.default.has(t)?l.default.get(t):l.default.add(t,(function(){var e=new r.default.Deferred;return d.default.load({google:{families:[t]},async:!0,fontactive:function(){e.resolve()},fontinactive:function(){e.reject()}}),e.promise()}))},addCustomWebFont:p,has:function(t){return l.default.has(t)},cancelPending:function(){return l.default.cancelPending()},pause:l.default.pause,resume:l.default.resume,onPriorityQueueCompletion:l.default.onPriorityQueueCompletion,onAllResourcesLoaded:l.default.onAllResourcesLoaded}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s,u=a(n(0)),l=a(n(4)),c=a(n(1)),d=a(n(6)),h=a(n(2)),f=o(n(16)),p=a(n(18)),g={tablet:{height:4,width:3},mobile:{height:16,width:9}},m={tablet:{height:1.2,width:1.11},mobile:{height:1.2,width:1.11},desktop:{height:1,width:1}},v={tablet:110,mobile:90,desktop:70},y={tablet:50,mobile:50,desktop:0},_=["desktop","tablet","mobile"],b={CHANGE_PREVIEWER_FRAME_SIZE:"changePreviewerFrameSize",UPDATE_URL:"updateUrl",RELOAD_TRIGGERED:"reloadTriggered"};e.default=u.default.extend({},l.default.Events,{fullScreenMode:!1,previewerFrameSize:"desktop",triggerReload:function(){s.trigger("reload"),this.trigger(b.RELOAD_TRIGGERED)},setPreviewerFrameSize:function(t){this.previewerFrameSize=t,this.triggerFrameSizeUrlUpdate(t),this.trigger(this.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,{variant:t})},getPreviewerFrameSize:function(){return this.previewerFrameSize},setDocVersion:function(t){s=t},isDocVersionSet:function(){return!u.default.isUndefined(s)},doesVariantExist:function(t){return u.default.includes(u.default.keys(s.get("overrides")),t)||"desktop"===t},hasVariants:function(){return h.default.allowAdaptiveLayouts&&this.getNumberOfExistingVariants()>0},getNumberOfExistingVariants:function(){return u.default.keys(s.get("overrides")).length},getExistingVariants:function(){return u.default.keys(s.get("overrides"))},getLayoutSettings:function(){return s.get("layoutSettings")},isViewportWidthDetection:function(){return"viewport-width"===this.getLayoutSettings().layoutPrimarySetting},getExperienceContainerDimensions:function(t){var e=this.fullScreenMode;if(h.default.previewMode&&h.default.allowAdaptiveLayouts&&!e){var n=this.getPreviewerFrameSize(),i=t.height()-(v[n]+y[n]),r=Math.max(i/m[n].height,300),o="desktop"===n?t.width():r*(g[n].width/g[n].height);return{width:f.toNextMultiple(o,2),height:f.toNextMultiple(r,2)}}return{width:t.width(),height:t.height()}},getExperienceContainerWidth:function(t){return this.getExperienceContainerDimensions(t).width},getExperienceContainerHeight:function(t){return this.getExperienceContainerDimensions(t).height},detectPreviewerFrameSizeFromUrl:function(){if(h.default.previewMode&&h.default.allowAdaptiveLayouts){var t=this.getPreviewerFrameSize(),e=this.getFrameSizeFromUrl();d.default.debug("Previewer frame size based on URL: "+e),this.isValidFrameSize(e)?e!==t&&this.setPreviewerFrameSize(e):(d.default.debug("Frame size from URL is invalid, updating URL to default frame size"),this.triggerFrameSizeUrlUpdate("desktop"))}},triggerFrameSizeUrlUpdate:function(t){this.trigger(this.EVENTS.UPDATE_URL,t)},getFrameSizeFromUrl:function(){return this.hasFrameSizeOnUrl()?p.default.parseLayoutFromLocation():"desktop"},getLayoutFromQueryParam:function(){return p.default.getLayoutFromQueryParam()},hasFrameSizeOnUrl:function(){return!!p.default.parseLayoutFromLocation()},isValidVariantName:function(t){return u.default.includes(_,t)},isValidFrameSize:function(t){return this.isValidVariantName(t)},getLeftRightBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).width)*(m[e].width-1)/2},getTopBottomBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).height)*(m[e].height-1)/2},setFullScreenMode:function(t){this.fullScreenMode=t;var e=c.default(".adaptive-layouts-frame");this.fullScreenMode?(c.default(".previewer-selection-header").hide(),e.addClass("-full-screen-mode"),e.css({width:c.default(window).width(),height:c.default(window).height()}),c.default(window).trigger("resize")):(c.default(".previewer-selection-header").show(),e.removeClass("-full-screen-mode"),c.default(window).trigger("resize"))},VALID_VARIANT_NAMES:_,PREVIEWER_TOP_PADDING_BY_VARIANT:v,PREVIEWER_FRAME_PROPORTION_FACTORS_BY_VARIANT:m,EVENTS:b})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(8));e.default={getExperienceTitle:function(){return window.document.title},getOpenGraphTitle:function(){return window.cerosContext.docVersion.ogTitle},getOpenGraphDescription:function(){return window.cerosContext.docVersion.ogDescription},getTwitterTitle:function(){return window.cerosContext.docVersion.twitterTitle},urlForTwitter:function(t){var e={text:this.getTwitterTitle()||this.getExperienceTitle(),url:t};return o.default.appendQueryParams("https://twitter.com/share",e)},urlForLinkedIn:function(t){var e={url:t,mini:"true",title:this.getOpenGraphTitle()||this.getExperienceTitle()};return o.default.appendQueryParams("https://www.linkedin.com/shareArticle",e)},urlForPinterest:function(t,e){var n={url:t,media:e},i=this.getOpenGraphDescription()||this.getOpenGraphTitle()||this.getExperienceTitle();return i&&(n.description=i),o.default.appendQueryParams("https://pinterest.com/pin/create/button/",n)},urlForFacebook:function(t){var e={u:t};return o.default.appendQueryParams("https://www.facebook.com/sharer.php",e)},urlForEmail:function(t){var e={subject:this.getExperienceTitle(),body:"I thought you might like this. Here's a link to it on the web: "+t};return o.default.appendQueryParams("mailto:",e)},shareOnTwitter:function(t){window.open(this.urlForTwitter(t),"_blank","width=450,height=300")},shareOnLinkedIn:function(t){window.open(this.urlForLinkedIn(t),"_blank","width=520,height=570")},shareOnPinterest:function(t,e){window.open(this.urlForPinterest(t,e),"_blank","width=810,height=530")},shareOnFacebook:function(t){window.open(this.urlForFacebook(t),"_blank","width=450,height=300")},shareViaEmail:function(t){var e=document.createElement("a");e.href=this.urlForEmail(t),r.default("body").append(e),e.click(),r.default(e).remove()}}},function(t,e,n){"use strict";var i,r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MODEL_DEFAULTS=e.TextRenderMode=e.properties=e.HTML_TAG_OPTIONS=e.COLUMN_OVERRUN_PADDING_PERCENTAGE=e.DEFAULT_HTML_TAG_NAME=e.DEFAULT_HTML_TAG=void 0;var a=o(n(0));e.DEFAULT_HTML_TAG="p",e.DEFAULT_HTML_TAG_NAME="Paragraph",e.COLUMN_OVERRUN_PADDING_PERCENTAGE=2;var s,u=a.default.range(1,7).map((function(t){return{tag:"h"+t,title:"Header "+t+" <h"+t+">"}}));e.HTML_TAG_OPTIONS=r(u,[{tag:e.DEFAULT_HTML_TAG,title:e.DEFAULT_HTML_TAG_NAME+" <"+e.DEFAULT_HTML_TAG+">"}]),function(t){t.TITLE="title",t.TEXT_CONTENT="textContent",t.TEXT_SPANS="textSpans",t.DEFAULT_SPAN="defaultSpan",t.INDENT="indent",t.VARIANT_GUID="variantGuid",t.VARIANT_NAME="variantName",t.FAMILY_GUID="familyGuid",t.UNDERLINE="underline",t.FONT_COLOR="fontColor",t.FONT_SIZE="fontSize",t.LETTER_SPACING="letterSpacing",t.LEADING="leading",t.TEXT_SHADOW="textShadow",t.AUTO_LEADING="autoLeading",t.JUSTIFY="justify",t.TEXT_TRANSFORM="textTransform",t.COLUMNS="columns",t.COLUMN_GAP="columnGap",t.PADDING_TOP="paddingTop",t.PADDING_RIGHT="paddingRight",t.PADDING_BOTTOM="paddingBottom",t.PADDING_LEFT="paddingLeft",t.SHOW_OVERFLOW="showOverflow",t.SYNCED="synced",t.HTML_TAG="htmlTag",t.HIDDEN_FROM_SCREEN_READERS="hiddenFromScreenReaders",t.HYPERLINK="hyperlink"}(s=e.properties||(e.properties={})),function(t){t.PARAGRAPH="paragraph",t.LINE="line",t.CHAR="char"}(e.TextRenderMode||(e.TextRenderMode={})),e.MODEL_DEFAULTS=((i={})[s.HTML_TAG]=e.DEFAULT_HTML_TAG,i[s.TITLE]="Text",i[s.TEXT_CONTENT]="",i[s.TEXT_SPANS]=[],i[s.DEFAULT_SPAN]=void 0,i[s.INDENT]=0,i[s.JUSTIFY]="left",i[s.COLUMNS]=1,i[s.COLUMN_GAP]=0,i[s.LEADING]=38,i[s.TEXT_SHADOW]={},i[s.AUTO_LEADING]=!0,i[s.TEXT_TRANSFORM]="none",i[s.PADDING_TOP]=0,i[s.PADDING_BOTTOM]=0,i[s.PADDING_RIGHT]=0,i[s.PADDING_LEFT]=0,i[s.SHOW_OVERFLOW]=!0,i[s.SYNCED]=!1,i)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.layerTargets=e.layerTargets,i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY},e.prototype.getHoverTargets=function(){return this.layerTargets},e}(n(25).BaseInteraction);e.BaseVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractView=void 0;var a=o(n(0)),s=o(n(4)),u=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return r(e,t),e.prototype.initialize=function(t){t&&t.preventAutoBind||(this._bindModel(),this._bindCollection())},e.prototype.onClose=function(){},e.prototype.beforeClose=function(){},e.prototype.close=function(){this.beforeClose(),this.closeAllSubViews(),this.remove(),this.stopListening(),this._unbindCollection(),this.onClose(),this.trigger("close"),this.unbind()},e.prototype.registerSubView=function(t,e){return void 0===this.subViews&&(this.subViews=[]),-1===this.subViews.indexOf(t)&&(t.parentView=this,a.default.isNumber(e)?this.subViews.splice(e,0,t):this.subViews.push(t)),t},e.prototype.unregisterSubView=function(t){this.subViews=a.default.reject(this.subViews,(function(e){return e===t}))},e.prototype.closeAndCleanUpSubView=function(t){this.stopListening(t),this.unregisterSubView(t),t.close()},e.prototype.closeAllSubViews=function(){if(this.subViews)for(var t=void 0;t=this.subViews.pop();)t.close()},e.prototype.getSubViews=function(){return this.subViews||[]},e.prototype.getAllSubViews=function(){var t=[];return a.default.each(this.subViews,(function(e){t.push(e),t=t.concat(e.getAllSubViews())})),t},e.prototype.forSomeSubView=function(t){return a.default.some(this.subViews,(function(e){return t(e)||e.forSomeSubView(t)}))},e.prototype.renderSubViews=function(){a.default.each(this.getSubViews(),(function(t){t.render()}))},e.prototype.setModel=function(t,e){this._unbindModel(),this.model=t,e||this._bindModel()},e.prototype.bindModelEvents=function(){this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this)},e.prototype._bindModel=function(){this.model&&(this.bindModelEvents(),this.render())},e.prototype._unbindModel=function(){this.model&&(this.model.unbind("change",this._change,this),this.model.unbind("sync",this._sync,this),this.model.unbind("destroy",this._destroy,this),this.model.unbind("invalid",this._invalid,this))},e.prototype.setCollection=function(t,e){this._unbindCollection(),this.collection=t,e||this._bindCollection()},e.prototype.bindCollectionEvents=function(){this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this)},e.prototype._bindCollection=function(){this.collection&&(this._unbindCollection(),this.bindCollectionEvents(),this.render())},e.prototype._unbindCollection=function(){this.collection&&(this.collection.unbind("add",this._add,this),this.collection.unbind("remove",this._remove,this),this.collection.unbind("reset",this._reset,this))},e.prototype._bindEventHandler=function(t,e,n){a.default.isFunction(n)?this.listenTo(t,e,n.bind(this)):this.listenTo(t,e,this[n].bind(this))},e.prototype._change=function(){this.render()},e.prototype._sync=function(){this.render()},e.prototype._destroy=function(){this.render()},e.prototype._invalid=function(){this.render()},e.prototype._add=function(){this.render()},e.prototype._remove=function(){this.render()},e.prototype._reset=function(){this.render()},e.prototype.height=function(){return this.$el.outerHeight()},e.prototype.show=function(){this.$el.show()},e.prototype.hide=function(){this.$el.hide()},e.prototype.registerRadioHandler=function(t){s.default.Syphon.InputWriters.register("radio",t)},e.prototype.registerCheckboxHandler=function(t){s.default.Syphon.InputWriters.register("checkbox",t)},e.prototype.customRadioHandler=function(t,e){"1"===e?e=!0:"0"===e&&(e=!1);var n=parseInt(t.val());(e&&1===n||!e&&0===n)&&t.prop("checked",!0).trigger("change")},e.prototype.customCheckboxHandler=function(t,e){t.prop("checked",e).trigger("change")},e}(n(84).JsTsViewGlue);e.AbstractView=u,e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(387)),o=i(n(32)),a=i(n(3)),s={CANVAS_BACKGROUND_TAB_HEIGHT:20,CANVAS_BACKGROUND_TAB_WIDTH:50,CANVAS_BACKGROUND_TAB_INACTIVE_COLOR:r.default.COLORS.ASH,CANVAS_BACKGROUND_TAB_ACTIVE_COLOR:r.default.COLORS.CEROS_BLUE,CANVAS_BACKGROUND_TAB_FONT_COLOR:"#9ca2a3",CANVAS_BACKGROUND_TAB_FONT:"11px Montserrat",RULER_SIZE:16,RULER_INCREMENT:10,RULER_MOUSE_THRESHOLD:3,RULER_FG_COLOR:r.default.COLORS.ASH,RULER_BG_COLOR:r.default.COLORS.PEBBLE,RULER_ALPHA:1,RULER_FONT:"10px Helvetica",RULER_FONT_SIZE:10,RULER_RESET_ICON_COLOR:r.default.COLORS.PEWTER,RULER_RESET_ICON_DASH:[1,1],RULER_ORIGIN_DASH:[3,3],RULER_ORIGIN_COLOR_1:"black",RULER_ORIGIN_COLOR_2:"white",RULER_HORIZONTAL_LABEL_OFFSET:2,RULER_VERTICAL_LABEL_OFFSET:3,RULER_NUMBER_LABEL_OFFSET:2,GUIDE_COLOR:r.default.COLORS.MAGENTA,GUIDE_HOVER_COLOR:r.default.COLORS.PINK,GUIDE_COLOR_DEL:r.default.COLORS.RED,GUIDE_LABEL_SIZE:12,GUIDE_LABEL_FONT:"10px Helvetica",GUIDE_LABEL_PADDING:2,GUIDE_LABEL_WEBKIT_OFFSET:a.default.webkit?-2:0,GUIDE_LABEL_RULER_OFFSET:3,GUIDE_LABEL_COLOR:"black",GUIDE_LABEL_TEXT_COLOR:"white",GUIDE_VERTICAL_DIRECTION:"vertical",GUIDE_HORIZONTAL_DIRECTION:"horizontal",GUIDE_HIT_THRESHOLD:10,GUIDE_SELECT_OPACITY:.3,GUIDE_INDICATOR_WIDTH:95,GUIDE_INDICATOR_HEIGHT:25,GUIDE_INDICATOR_COLOR:r.default.COLORS.PEBBLE,GUIDE_INDICATOR_FONT:"11px Montserrat",GUIDE_INDICATOR_FONT_COLOR:r.default.COLORS.WHITE,GUIDE_INPUT_BOX_EXTRA_WIDTH:12,GUIDE_INPUT_BOX_MIN_CHARS:3,GUIDE_INPUT_BOX_MAX_CHARS:5,GUIDE_INPUT_BOX_Y_MARGIN:-5,GUIDE_INPUT_BOX_HEIGHT:25,GUIDES_INPUT_BOUNDARY:5e4,GUIDES_INPUT_WRAPPER:"guide-input-wrapper",GUIDES_MOVE_CURSOR_DELAY:100,GUIDES_INPUT_SCROLL_DEBOUNCE_DELAY:500,CANVAS_LAYOUTS_COLUMN_GUTTER:20,CANVAS_LAYOUTS_ROW_GUTTER:20,SNAP_THRESHOLD:8,SMARTGUIDE_COLOR:r.default.COLORS.MAGENTA,SMARTGUIDE_WIDTH:1,SMARTGUIDE_AXIS_X:"x",SMARTGUIDE_AXIS_Y:"y",DISTANCE_GUIDE_BRACKET_LENGTH:10,DISTANCE_GUIDE_LABEL_FONT_SIZE:11,DISTANCE_GUIDE_TEXT_OFFSET:4,DISTANCE_GUIDE_TEXT_UNIT:"px",DISTANCE_GUIDE_FONT_FAMILY:"Montserrat",DISTANCE_GUIDE_VERTICAL_TEXT_ALIGNMENT:"right",DISTANCE_GUIDE_HORIZONTAL_TEXT_ALIGNMENT:"center",DISTANCE_GUIDE_TEXT_BASELINE:"middle",MASK_ITEM_DEFAULT_FILL_COLOR:"#D1D1D1",COMPONENT_FOCUS_COLOR:"rgb(0,170,210)",ISOLATION_MODE_COMPONENT_FOCUS_COLOR:r.default.COLORS.ALIEN,COMPONENT_FOCUS_DASH:[2,2],COMPONENT_FOCUS_ALPHA:.7,COMPONENT_FOCUS_LINE_WIDTH:1,COMPONENT_SELECTION_LINE_WIDTH:1,GROUP_SELECTION_COLOR:"rgb(0,170,210)",ISOLATION_MODE_GROUP_SELECTION_COLOR:r.default.COLORS.ALIEN,GUIDE_SELECTION_COLOR:r.default.COLORS.CEROS_BLUE,GROUP_SELECTION_ALPHA:.5,GROUP_SELECTION_DASH:[3,3],GENERATE_THUMBNAIL_DEBOUNCE:1e3,PIXEL_GRID_THRESHOLD:10,BROWSER_IDLE_FPS:1,BLUE_FILL_PATTERN_COLOR:[153,186,209,128],ALIEN_FILL_PATTERN_COLOR:[0,255,180,128],GREY_FILL_PATTERN_COLOR:[200,200,200,128],FILL_PATTERN_SIZE:5,KEYPRESS_TIMEOUT:200,DROPDOWN_OPTION_DIVIDER:"────────────────────",RUBBER_BAND_DASH:[3,3],RUBBER_BAND_ALPHA:.75,RUBBER_BAND_COLOR:"black",RUBBER_BAND_LINE_WIDTH:1,TEXT_EDITOR_NOCURSOR_COLOR:"rgb(0,170,210)",TEXT_EDITOR_NOCURSOR_LINE_WIDTH:1,TEXT_EDITOR_SELECTION_HIGHLIGHT_COLOR:"rgb(182,214,253)",TEXT_EDITOR_CURSOR_BLINK_SPEED:500,TEXT_EDITOR_CURSOR_RESUME_BLINK_DELAY:250,TEXT_EDITOR_CURSOR_COLOR:"#747474",TEXT_EDITOR_GUIDES_COLOR:"rgb(182,229,237)",ISOLATION_MODE_TEXT_EDITOR_NOCURSOR_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_TEXT_EDITOR_GUIDES_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_TEXT_EDITOR_SELECTION_HIGHLIGHT_COLOR:r.default.COLORS.ALIEN,MODE_SELECT:"select",MODE_GUIDE_SELECT:"guide-select",MODE_PAN:"pan",MODE_PAN_IN_GUIDE_SELECT:"pan-in-guide-select",MODE_RESIZE:"resize",MODE_ROTATE:"rotate",MODE_MOVE:"move",MODE_WAIT_MOVE:"wait-move",MODE_LINE:"line",MODE_SHAPE:"shape",MODE_CUSTOM_SHAPE:"custom-shape",MODE_HTML:"html",MODE_HOTSPOT:"hotspot",MODE_HOTSPOT_PATH:"hotspot-path",MODE_TEXT:"text",MODE_SCRANCHOR:"anchor",MODE_CANVAS_ADJUSTMENT:"canvas-adjustment",MODE_ICONS:"icons",MODE_COLOR_SELECT:"color-select",MODE_VGUIDE_MOVE:"vguide-move",MODE_HGUIDE_MOVE:"hguide-move",MODE_RULERS_MOVE:"rulers-move",MODE_TEXT_PLUS:"text-plus",AUTOPAN_ZONE:50,AUTOPAN_RATE:14,MOVE_TIMEOUT_MS:75,PAN_RATE:10,PAN_TO_EDGE_PADDING:10,PAN_TO_SELECTION_ZOOM_BUFFER:100,PAN_TO_SELECTION_EDGE_PADDING:100,FOLD_COLOR:r.default.COLORS.DUSTY_GRAY,FOLD_DASH:[3,3],FOLD_LABEL_FONT:"10px Helvetica",FOLD_LABEL:"   FOLD   ",HOVER_ZONE_COLOR:r.default.COLORS.CEROS_BLUE,HOVER_ZONE_OPACITY:.2,HOVER_ZONE_LINE_DASH:[4,4],DEFAULT_CANVAS_FILL_COLOR:"#FFFFFF",DEFAULT_FILL_COLOR:"#D1D1D1",DEFAULT_BORDER_COLOR:"#838383",DEFAULT_SHADOW_COLOR:"rgba(0, 0, 0, 0.5)",SCRANCHOR_BAR_COLOR:r.default.COLORS.CEROS_BLUE,SCRANCHOR_DRAG_BAR_WIDTH:2,SCRANCHOR_REST_BAR_WIDTH:1,SCRANCHOR_REST_BAR_DASH:[2],SCRANCHOR_MARKER_BG_COLOR:r.default.COLORS.LAVA_STONE,SCRANCHOR_MARKER_HIGHLIGHT_COLOR:r.default.COLORS.WHITE,SCRANCHOR_MARKER_BORDER_COLOR:r.default.COLORS.CEROS_BLUE,SCRANCHOR_MARKER_HEIGHT:17,SCRANCHOR_MARKER_TAPER:7,SCRANCHOR_MARKER_FONT_SIZE:10,SCRANCHOR_MARKER_TEXT_POSITION:10,SCRANCHOR_MARKER_TYPEFACE:"Helvetica",SCRANCHOR_MARKER_TEXT_COLOR:r.default.COLORS.CEROS_BLUE,SCRANCHOR_ANCHOR_ICON_FONT:"10px CerosIcons-Regular",SCRANCHOR_ANCHOR_ICON_GLYPH:"",SCRANCHOR_ANCHOR_ICON_RIGHT_PADDING:1,SCRANCHOR_DRAG_MARGIN:60,SCRANCHOR_LINE_GRAB_MARGIN:2,SCRANCHOR_RULER_SHADING_COLOR:o.default.fromHex(r.default.COLORS.CEROS_BLUE).set({a:.2}).toString(),SCRANCHOR_TOOLTIP_HEIGHT:12,SCRANCHOR_TOOLTIP_PADDING:4,SCRANCHOR_TOOLTIP_BG_COLOR:"#000000",SCRANCHOR_TOOLTIP_TYPEFACE:"Helvetica",SCRANCHOR_TOOLTIP_FONT_SIZE:9,SCRANCHOR_TOOLTIP_POSITION_COLOR:r.default.COLORS.WHITE,CANVAS_ADJUSTMENT_BAR_COLOR:r.default.COLORS.ALIEN,CANVAS_ADJUSTMENT_INVALID_COLOR:"#9CA2A3",CANVAS_ADJUSTMENT_DRAG_BAR_WIDTH:2,CANVAS_ADJUSTMENT_REST_BAR_WIDTH:1,CANVAS_ADJUSTMENT_REST_BAR_DASH:[2],CANVAS_ADJUSTMENT_AREA_ALPHA:.75,CANVAS_ADJUSTMENT_MARKER_LINE_WIDTH:3,CANVAS_ADJUSTMENT_MARKER_COLOR:r.default.COLORS.ALIEN,CANVAS_ADJUSTMENT_LINE_DASH:[4,4],CANVAS_ADJUSTMENT_TOOLTIP_TEXT_PADDING:2,CANVAS_ADJUSTMENT_TOOLTIP_COLOR:"black",CANVAS_ADJUSTMENT_TOOLTIP_WEBKIT_OFFSET:a.default.webkit?-2:0,CANVAS_ADJUSTMENT_TOOLTIP_SIZE:12,CANVAS_ADJUSTMENT_TOOLTIP_TEXT_COLOR:"white",CANVAS_ADJUSTMENT_INVALID_FILL_PATTERN_COLOR:[156,162,163,128],SMARTGROUPS_BREADCRUMB_HEIGHT:25,SMARTGROUPS_BREADCRUMB_FOREGROUND_COLOR:r.default.COLORS.ALIEN,SMARTGROUPS_BREADCRUMB_BACKGROUND_COLOR:r.default.COLORS.CASTLE_ROCK,SMARTGROUPS_BREADCRUMB_SEPARATOR_COLOR:r.default.COLORS.PEBBLE,SMARTGROUPS_BREADCRUMB_SEPARATOR_WIDTH:3,SMARTGROUPS_BREADCRUMB_FONT:"11px Montserrat",SMARTGROUPS_BREADCRUMB_PADDING:20,SMARTGROUPS_BREADCRUMB_STUDIO_TEXT:"Studio",ISOLATION_MODE_PROGRESS_BAR_FG_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_PROGRESS_BAR_PROCESSING_FG_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_PROGRESS_BAR_PROCESSING_BG_COLOR:r.default.COLORS.DUSTY_GRAY,LINE_COLOR:"rgb(0,170,210)",ISOLATION_MODE_LINE_COLOR:r.default.COLORS.ALIEN,PINNED_GROUP_BOTTOM_OFFSET:10,PINNED_ANCHOR_SIZE:20,DEFAULT_ICON_SVG_FILL_COLOR:"#D1D1D1",EMBEDDED_OBJECT_PADDING:10,EMBEDDED_OBJECT_FILL_COLOR:"#9CA2A3",EMBEDDED_OBJECT_FILL_ALPHA:1,EMBEDDED_OBJECT_OUTLINE_ALPHA:.75,EMBEDDED_OBJECT_OUTLINE_OFFSET:.5,EMBEDDED_OBJECT_STROKE_STYLE:"rgb(128,128,128)",EMBEDDED_OBJECT_LINE_WIDTH:1.0001,EMBEDDED_OBJECT_ICON_SIDE_LENGTH:45,EMBEDDED_OBJECT_FONT_SIZE_AND_FAMILY:"11px Montserrat",EMBEDDED_OBJECT_FONT_FILL_COLOR:"#FFFFFF",EMBEDDED_OBJECT_LABEL_X_ADJUSTMENT:-35,EMBEDDED_OBJECT_LABEL_Y_ADJUSTMENT:75,EMBEDDED_OBJECT_LINE_DASH_STYLE:[4,4],IMAGE_CROPPING_MASK_COLOR:"rgba(226, 227, 228, 0.6)",IMAGE_CROPPING_HANDLE_COLOR:"rgb(0,0,0)",ISOLATION_MODE_IMAGE_CROPPING_HANDLE_COLOR:r.default.COLORS.ALIEN,IMAGE_CROPPING_HANDLE_THICKNESS:5,IMAGE_CROPPING_HANDLE_THICKNESS_SMALL:3,IMAGE_CROPPING_HANDLE_LENGTH:8,IMAGE_CROPPING_SMALL_SELECTION_THRESHOLD:18,INTEGRATION_FORM_FILL_COLOR:"rgba(156, 162, 163, 0.75)",INTEGRATION_FORM_LINE_HEIGHT:20,PROGRESS_BAR_HEIGHT:6,CUSTOM_PATH_MOUSE_DISTANCE_TO_EDGE_THRESHOLD:10,CUSTOM_PATH_ENDPOINT_POINT_SIZE:8,CUSTOM_PATH_CONTROL_POINT_SIZE:5,CUSTOM_PATH_CONTROL_HANDLE_WIDTH:1,CUSTOM_PATH_ANCHOR_POINT_MOUSEOVER_TOLERANCE:15,CUSTOM_PATH_INACTIVE_ANCHOR_POINT_FILL_STYLE:"rgb(255, 255, 255)",CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT:50,HOTSPOT_PATH_WITH_INTERACTIONS_STROKE_STYLE:"rgb(69,151,209)",HOTSPOT_PATH_WITHOUT_INTERACTIONS_STROKE_STYLE:"rgb(128,128,128)",HOTSPOT_PATH_GLOBAL_ALPHA:.75,TEXT_OVER_COMPONENT_DEFAULT_TEXT_SIZE:12,TEXT_OVER_COMPONENT_BACKGROUND_COLOR:"#192024",TEXT_OVER_COMPONENT_DEFAULT_TEXT_COLOR:"white",LOADING_TRANSITION_DEFAULT_TEXT:"Loading Media",LOADING_TRANSITION_DEFAULT_OPACITY:1,LOADING_TRANSITION_DEFAULT_REVERSE:!1,LOADING_TRANSITION_OPACITY_INCREMENT:.0025,LOADING_TRANSITION_DEFAULT_SHOULD_RENDER:!0,LOADING_TRANSITION_DEFAULT_SHOULD_ANIMATE:!1,LOADING_TRANSITION_WAIT_FRAMES:50,DOUBLE_CLICK_WAIT_TIME_MS:300,DOUBLE_CLICK_DETAIL:2,VERIFICATION_THAT_COPY_WAS_FROM_CEROS:"[CEROS OBJECT]",OBJECT_STATES_DEFAULT:"default",OBJECT_STATES_HOVER:"hover",OBJECT_STATES_CLICK:"click",OBJECT_STATES_COMPONENT_AFFORDANCE_OFFSET:7,DEFAULT_PAGE_NAME:"Untitled Page"};s.PAGE_TOP_OFFSET=20+s.CANVAS_BACKGROUND_TAB_HEIGHT+20,s.RULER_MAJOR=10*s.RULER_INCREMENT,s.RULER_MINOR=5*s.RULER_INCREMENT,s.AUTOPAN_MODES=[s.MODE_SELECT,s.MODE_RESIZE,s.MODE_MOVE,s.MODE_LINE,s.MODE_SHAPE,s.MODE_HTML,s.MODE_HOTSPOT,s.MODE_TEXT,s.MODE_SCRANCHOR],s.HANDLES={NORTH:"n",NORTH_WEST:"nw",NORTH_EAST:"ne",WEST:"w",EAST:"e",SOUTH:"s",SOUTH_WEST:"sw",SOUTH_EAST:"se"},s.LINE_HANDLES={ONE:1,TWO:2},s.RESIZE_MODE={BOTH:0,HORIZONTAL:1,VERTICAL:2},s.ROTATION_HANDLES=[s.HANDLES.NORTH_WEST,s.HANDLES.NORTH_EAST,s.HANDLES.SOUTH_WEST,s.HANDLES.SOUTH_EAST],e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.moduleOptions=void 0;var r=i(n(1)),o=i(n(0)),a=i(n(6)),s=i(n(21)),u=i(n(2)),l=i(n(267)),c=i(n(41)),d=i(n(3)),h=i(n(18)),f=n(14),p=i(n(127)),g=i(n(87)),m=i(n(380)),v=i(n(30)),y=i(n(8)),_=i(n(11)),b=i(n(12)),T=n(91),w="top",S="bottom",E="scranchor",O="component",C=null,A=null,P=null,I=null,x=null,M=null,k=null,D={id:"viewport",description:"",version:"1.0",dependencies:{page:"1.0"},firstPageShown:new r.default.Deferred,publishedEvents:{LONGPRESS:"viewport.longpress",SCALE:"viewport.scale",PAGE_CHANGE:"viewport.page_change",PAGE_CHANGING:"viewport.page_changing",PAGE_BATCH_LOAD_START:"viewport.page_batch_load_start",PAGE_UPDATE:"viewport.page_update",PAGE_ENABLED_CHANGE:"viewport.page_enabled_change",CURRENT_PAGE_DELETED:"viewport.current_page_deleted",TIMED_LIGHTBOX:"viewport.timed.lightbox",TIMED_PRODUCT_PANEL:"viewport.timed.product_panel",TIMED_SHOPPING_CART:"viewport.timed.shopping_cart"},delegate:{init:function(t,e){P=t,k=e.performanceTracker;var n=this.createScaleContextOptions(P,e);A=new m.default(n);var i=this.createViewportViewOptions(P,A,e);(C=new l.default(i)).preloadMedia();var r=new p.default(P.getEnabledPageIndexes(),P.isCarousel()),o=h.default.parsePageFromLocation();x=P.getPageInfoByNumberOrSlug(o).number;var s=P.getNearestEnabledPage(x);x===s||u.default.previewMode||(a.default.info("Requesting disabled page",x),x=s),M=r.getPageIndexesToLoad(x-1),this.registerEvents()},createScaleContextOptions:function(e,n){return o.default.extend({module:t,marginTopCallback:function(){return 0},documentVersion:e},n||{})},createViewportViewOptions:function(e,n,i){return o.default.extend({module:t,documentVersion:e,scaleContext:n},i||{})},triggerExperienceLevelInteractions:function(e){e.get("interactions")&&o.default.each(e.get("interactions"),(function(e){switch(e.action){case"lightbox":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_LIGHTBOX,e)}),1e3*e.delay);break;case"product":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_PRODUCT_PANEL,e)}),1e3*e.delay);break;case"shopping-cart":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_SHOPPING_CART,e)}),1e3*e.delay)}}))},registerEvents:function(){v.default.on("sdk.experience.page.goto",o.default.bind((function(t){this.jumpToPage(t.pageNum,!0)}),this)),v.default.on("sdk.experience.page.next",o.default.bind((function(t){this.nextPage()}),this)),v.default.on("sdk.experience.page.previous",o.default.bind((function(t){this.previousPage()}),this)),v.default.on("sdk.component.video.start",o.default.bind((function(t){this.startVideo(t.componentId)}),this)),v.default.on("sdk.component.video.stop",o.default.bind((function(t){this.stopVideo(t.componentId)}),this)),v.default.on("sdk.component.text.settext",o.default.bind((function(t){this.setComponentText(t.componentId,t.textContent)}),this)),v.default.on("sdk.component.image.seturl",o.default.bind((function(t){this.setImageUrl(t.componentId,t.url,t.useNewImageSize)}),this)),v.default.on("sdk.component.image.reset",o.default.bind((function(t){this.resetImage(t.componentId)}),this)),v.default.on("sdk.component.click",o.default.bind((function(t){this.clickComponent(t.componentId)}),this)),v.default.on("sdk.component.show",o.default.bind((function(t){this.showComponent(t.componentId)}),this)),v.default.on("sdk.component.hide",o.default.bind((function(t){this.hideComponent(t.componentId)}),this)),v.default.on("sdk.layer.show",o.default.bind((function(t){this.showLayer(t.layerId)}),this)),v.default.on("sdk.layer.hide",o.default.bind((function(t){this.hideLayer(t.layerId)}),this)),v.default.on("sdk.page.animations.start",o.default.bind((function(t){this.startPageAnimations(t.pageSlug)}),this)),v.default.on("sdk.page.animations.pause",o.default.bind((function(t){this.pausePageAnimations(t.pageSlug)}),this)),v.default.on("sdk.page.disable",o.default.bind((function(t){this.disablePage(t.pageNum)}),this)),v.default.on("sdk.page.enable",o.default.bind((function(t){this.enablePage(t.pageNum)}),this))},createPageViews:function(){var t=[];g.default.on(g.default.publishedEvents.PAGE_RELOAD,(function(){C.scale()})),(I=P.editorPagesManifest).each(o.default.bind((function(e,n){var i=this.createSinglePageView(e,n);t.push(i)}),this)),this.pageViews=t},createSinglePageView:function(t,e){var n=P.getPages()[e],i=g.default.createPageView(n,{physicalPageNumber:e,enableLoadingThumbnail:!1,enableLoadingSpinner:!0,thumbnail:t.get("thumbnail"),documentVersion:P,scaleContext:A,isRequestedPage:e===x-1});return u.default.previewMode&&n.on("remote",function(){e===C.getCurrentPage().getPageIndex()&&C.mainContentLink.render()}.bind(this)),i},getPageViews:function(){return this.pageViews},scale:function(){C.scalePageComponents()},preloadPageMedia:function(){var t=o.default.map(P.getPages(),(function(t){return A.getPageScaleContext(t)}));P.shouldLazyLoad()?(o.default.each(M,o.default.bind((function(e,n){var i=P.getPages()[e];0===n?k.mark(k.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING):1===n&&k.mark(k.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),a.default.debug("Lazy preloading media for page: "+(e+1));var r=0===n;i.lazyPreloadAllMedia(t[e],r)}),this)),1===M.length&&k.mark(k.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),o.default.each(P.getPages(),(function(e,n){o.default.includes(M,n)||(a.default.debug("Lazy preloading media for page: "+(n+1)),e.lazyPreloadAllMedia(t[n],!1))}))):(k.mark(k.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING),o.default.each(M,o.default.bind((function(e,n){var i=P.getPages()[e],r=t[e];a.default.debug("Preloading visible media for page: "+(e+1)),i.preloadVisibleMedia(r,!0)}),this)),k.mark(k.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),o.default.each(P.getPages(),(function(e,n){o.default.includes(M,n)||(a.default.debug("Preloading visible media for page: "+(n+1)),e.preloadVisibleMedia(t[n],!1))})),o.default.each(P.getPages(),(function(e,n){a.default.debug("Preloading hidden media for page: "+(n+1)),e.preloadHiddenMedia(t[n])})))},renderPages:function(){this.createPageViews(),C.reset(this.pageViews,x),this.preRenderPages(),a.default.debug("Setting up the lazy preRender Defer"),o.default.defer(o.default.bind(t.startLazyPrerender,this));var e=C.showPage(x);return e.done(t.firstPageShown.resolve),e},activateFirstPage:function(){C.getBackgroundImagePromise().done(o.default.bind(C.showBackground,C));var e=C.getCurrentPage();if(C.activatePage(e),t.triggerExperienceLevelInteractions(P),window.location.hash)e.triggerScrollTo(window.location.hash);else if(!u.default.isEmbedded&&d.default.isWindows()){var n="page-"+this.getCurrentPageNumber()+"-top";e.focusArbiter.moveFocusToElement(n)}},preRenderPages:function(){k.mark(k.MARKS.PLAYER.BEGIN_PRERENDERING_PAGES);var t=this.pageViews;t=P.shouldLazyLoad()?[this.pageViews[M[0]]]:o.default.map(M,o.default.bind((function(t){return this.pageViews[t]}),this));var e=[];o.default.each(t,o.default.bind((function(t){t.prerender(),e.push(t.getPrerenderDeferred())}),this)),r.default.when.apply(r.default,e).done(o.default.bind((function(){k.mark(k.MARKS.PLAYER.ALL_PAGES_PRERENDERED)}),this))},isFirstPageReadyToShow:function(){return"resolved"===t.firstPageShown.state()},getFirstPageReadyPromise:function(){return t.firstPageShown},nextPage:function(){C&&C.nextPage()},previousPage:function(){C&&C.previousPage()},jumpToPage:function(t,e){C&&C.jumpToPage(t,e)},show:function(){C&&C.show()},hide:function(){C&&C.hide()},el:function(){return C?C.$el:null},getCurrentPageHeight:function(){if(C){var t=C.getCurrentPage();if(t)return t.getPageHeight()}return null},getCurrentPageSlug:function(){return C?C.currentPageSlug:null},getCurrentPageNumber:function(){return C?C.currentPage:null},getTotalPagesNumber:function(){return I.length},getPageNameBySlug:function(t){return C?C.getPageNameBySlug(t):null},isLastPage:function(t){var e=I.length,n=I.at(e-1);return o.default.last(n.uri.split("/"))===t},isFirstPage:function(t){var e=I.at(0);return o.default.last(e.uri.split("/"))===t},scrollTo:function(t,e){var n=C.getCurrentPage(),i=this.getScrollPositionForInteraction(t,e),r=u.default.shouldReduceMotion?0:300;return _.default.hasFeature(b.default.ACCESSIBILITY)&&t===w?e=f.VIEWPORT_TOP_ID:t!==w&&t!==S||(e="page-"+(n.model.pageIndex+1)+"-"+t),n.$pageContainer.animate({scrollTop:i},r,"easeOutCubic",(function(){n.focusArbiter.moveFocusToElement(e)})),{scrollPosition:i,pageHeight:n.model.getPageHeight(P),visibleHeight:n.$pageContainer.height()}},getScrollPositionForInteraction:function(t,e){switch(t){case w:return 0;case S:return C.getCurrentPage().model.getPageHeight(P);case E:var n=C.getCurrentPage().model.getScranchorsForCurrentVariant();return n&&o.default.has(n,e)?n[e]:(a.default.warn("Could not find scranchor for id: "+e),null);case O:var i=C.getCurrentPage().model,r=i.findLayerById(e);return r?"folder"!==r.type||(r=i.constructor.findTopmostFolderContent(r))?r.parentSmartgroup?r.y+r.parentSmartgroup.options.y:r.absoluteY:(a.default.warn("Attempted to scroll to empty folder component: "+e),null):(a.default.warn("Could not find component to scroll to: "+e),null);default:return a.default.warn("Scroll interaction target type is invalid: "+t),null}},shareCurrentPageOnSocial:function(t,e){if(u.default.previewMode)alert("Pages can not be shared as a preview.  Social sharing will be enabled in the published experience.");else if(C){var n=h.default.buildUriForPageNumber(C.currentPage),i=C.getCurrentPage().getThumbnail();this.shareOnSocial(t,window.location.protocol+"//"+window.location.host+n,i)}},shareOnSocial:function(t,e,n){e=y.default.removeEmbedParams(e);var i=o.default.isEmpty(u.default.openGraphUrl)?e:u.default.openGraphUrl;switch(t){case"share-twitter":c.default.shareOnTwitter(i);break;case"share-linkedin":c.default.shareOnLinkedIn(i);break;case"share-pinterest":c.default.shareOnPinterest(i,n);break;case"share-facebook":c.default.shareOnFacebook(e);break;case"share-email":c.default.shareViaEmail(e)}},addClickShield:function(){C&&C.addClickShield()},removeClickShield:function(){C&&C.removeClickShield()},disableGestures:function(){o.default.isFunction(C.disableGestures)&&C.disableGestures()},enableGestures:function(){o.default.isFunction(C.enableGestures)&&C.enableGestures()},getExperienceWidth:function(){return C.getExperienceWidth()},getExperienceHeight:function(){return C.getExperienceHeight()},startVideo:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=C.getCurrentPage().findVideo(t);e&&e.play()}))},stopVideo:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=C.getCurrentPage().findVideo(t);e&&e.manuallyPause()}))},setComponentText:function(t,e){var n=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);o.default.each(i,(function(t){var n=C.getCurrentPage().findChildView(t);n&&"text"===n.type&&n.setTextFromSDK(o.default.isNil(e)?"":String(e))}))},setImageUrl:function(t,e,n){var i=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),a=[t].concat(i);o.default.each(a,(function(t){var i=C.getCurrentPage().findChildView(t);if(i&&"image"===i.type)if(i.srcOverride=e,i.dimensionsOverride=n,n){var o=new Image;o.onload=function(){var t=i.$innerElement.attr("style"),e=i.$innerElement.attr("alt");i.$innerElement.remove();var n=r.default(o);n.attr("style",t).attr("alt",e),i.$innerElement=r.default(n),i.$el.append(i.$innerElement)},o.src=e}else i.$innerElement.attr("src",e)}))},resetImage:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=C.getCurrentPage().findChildView(t);e&&"image"===e.type&&(e.srcOverride=null,e.dimensionsOverride=null,e.render())}))},showLayer:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceLayerIds(t),n=[t].concat(e);C.getCurrentPage().invokeShowAction(n)},hideLayer:function(t){var e=C.getCurrentPage(),n=e.model.getAllSmartgroupInstanceLayerIds(t),i=[t].concat(n);e.invokeHideAction(i)},clickComponent:function(t){var e=C.getCurrentPage(),n=e.model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);o.default.each(i,(function(t){var n=e.findChildView(t);n&&n.simulateClick()}))},showComponent:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=C.getCurrentPage().findChildView(t);e&&(e.reset(),e._applyVisibility(!0),e.activateAndRunEntryAnimations())}))},hideComponent:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);o.default.each(n,(function(t){var e=C.getCurrentPage().findChildView(t);e&&e._applyVisibility(!1)}))},startPageAnimations:function(t){var e=C.getCurrentPage();e.model.get("slug")===t&&(e.reset(),e.activateAndRunEntryAnimationsForAllVisible())},pausePageAnimations:function(t){var e=C.getCurrentPage();e.model.get("slug")===t&&e.pauseAnimations()},toggleReducedMotion:function(){u.default.shouldReduceMotion=!u.default.shouldReduceMotion,r.default("#main").toggleClass("ceros-no-animate");var t=C.getCurrentPage();this.toggleAutoPlayVideos(t.childViews),u.default.shouldReduceMotion||t.restartRepeatEntryAnimationsForAllVisibleOrViewed()},disablePage:function(t){C.disablePage(t)},enablePage:function(t){C.enablePage(t)},isLayerVisible:function(t){return o.default.some(this.pageViews,(function(e){return e.isChildVisible(t)}))},handleAutoVideoToggle:function(t){!t.options.videoAutoPlay||!t.options.videoLoop&&t.videoHandle.ended()||(u.default.shouldReduceMotion?t.autoPause():!t.wasInsideVisibleBoundaries||!t.isAutoPaused&&t.playedOnce||t.play())},toggleAutoPlayVideos:function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];i instanceof T.VideoComponentView?this.handleAutoVideoToggle(i):i.childViews&&this.toggleAutoPlayVideos(i.childViews)}}},startLazyPrerender:function(){a.default.debug("Lazy prerender process starting...");var t=Date.now(),e=[],n=this.getPageViews();o.default.each(M,(function(t){e.push(n[t])})),o.default.each(n,(function(t,n){o.default.includes(M,n)||e.push(t)}));var i=r.default.Deferred().resolve();return o.default.each(e,(function(t){t.isPrerendered()||(i=i.then(o.default.bind(t.startLazyPrerender,t)))})),i.then((function(){a.default.debug("Lazy prerender process complete. Total elapsed time: "+(Date.now()-t)+" ms")})),i.promise()},currentPageNumber:function(){return C.currentPage||1}};e.moduleOptions=D;t=new s.default.Module(D);e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(52)),a=function(t){this.fontFamilies=[],this.fontFamiliesByFamilyGuid={},this.fontFamiliesByVariantGuid={},this.fontFamiliesByApi={},t&&this.add(t)};a.prototype={add:function(t){var e=this;if(t instanceof a)r.default.each(t.fontFamilies,(function(t){t instanceof o.default&&e.addFontFamily(t)}));else if(t instanceof Array)r.default.each(t,(function(t){t instanceof o.default&&e.addFontFamily(t)}));else{if(!(t instanceof o.default))throw new Error("Attempt to add an object to a FontCollection that is not a FontFamily.");e.addFontFamily(t)}},addFontFamily:function(t){if(!(t instanceof o.default))throw new Error("Attempt to add an object to a FontCollection that is not a FontFamily.");var e=this.fontFamiliesByFamilyGuid[t.guid];e?r.default.each(t.variants,r.default.bind((function(t){e.updateVariant(t),this.fontFamiliesByVariantGuid[t.guid]=e}),this)):(this.fontFamilies.push(t),this.fontFamiliesByFamilyGuid[t.guid]=t,this.fontFamiliesByApi[t.api]||(this.fontFamiliesByApi[t.api]=[]),this.fontFamiliesByApi[t.api].push(t),r.default.each(t.variants,r.default.bind((function(e){this.fontFamiliesByVariantGuid[e.guid]=t}),this)))},getTotalCount:function(){return this.fontFamilies.length},getTotalCountByApi:function(t){return this.fontFamiliesByApi[t]?this.fontFamiliesByApi[t].length:0},removeFontFamily:function(t){var e=t;return t instanceof o.default&&(e=t.guid),this.removeFontFamilyByFamilyGuid(e)},removeFontFamilyByFamilyGuid:function(t){var e=this.getFontFamilyByFamilyGuid(t);if(e)return this.fontFamilies=r.default.reject(this.fontFamilies,(function(e){return e.guid===t})),delete this.fontFamiliesByFamilyGuid[t],r.default.each(e.getVariants(),r.default.bind((function(t){delete this.fontFamiliesByVariantGuid[t.guid]}),this)),e},getFontFamilies:function(){return this.fontFamilies},getFontFamilyGuids:function(){return r.default.keys(this.fontFamiliesByFamilyGuid)},hasFontFamily:function(t){return!!this.getFontFamilyByFamilyGuid(t)},getFontFamiliesByAPI:function(t){return this.fontFamiliesByApi[t]||[]},getFontFamiliesByAPIMap:function(){return this.fontFamiliesByApi},getFontFamilyByFamilyGuid:function(t){return this.fontFamiliesByFamilyGuid[t]},getFontFamilyByVariantGuid:function(t){return this.fontFamiliesByVariantGuid[t]},getFontVariantByVariantGuid:function(t){var e=this.getFontFamilyByVariantGuid(t);return e?e.getVariant(t):null},getFontFamiliesByVariantGuids:function(t){var e=new a;return r.default.each(t,r.default.bind((function(t){var n=this.getFontFamilyByVariantGuid(t);n&&e.add(n)}),this)),e},getSlice:function(t,e){return new a(this.fontFamilies.slice(t,e))},multiFilter:function(t){r.default.each(t,r.default.bind(this.filter,this))},setAllWebFontStylesLoaded:function(){r.default.each(this.fontFamilies,(function(t){t.setAllWebFontStylesLoaded()}))},filter:function(t){var e=new a;r.default.each(this.fontFamilies,r.default.bind((function(n){if("boolean"==typeof t.propertyValue){!!n[t.propertyName]===t.propertyValue&&e.addFontFamily(n)}else{var i=n[t.propertyName].toLowerCase(),r=t.propertyValue.toLowerCase();(t.exactMatch&&i===r||!t.exactMatch&&i.indexOf(r)>=0)&&e.addFontFamily(n)}}),this)),this.resetToCollection(e)},sort:function(t,e){var n=this;this.fontFamilies=r.default.sortBy(this.fontFamilies,(function(e){return e[t]})),r.default.each(this.fontFamiliesByApi,(function(e,i){n.fontFamiliesByApi[i]=r.default.sortBy(e,(function(e){return e[t]}))})),e&&this.fontFamilies.reverse()},resetToCollection:function(t){this.fontFamilies=t.fontFamilies,this.fontFamiliesByFamilyGuid=t.fontFamiliesByFamilyGuid,this.fontFamiliesByVariantGuid=t.fontFamiliesByVariantGuid,this.fontFamiliesByApi=t.fontFamiliesByApi}},e.default=a},function(t,e,n){"use strict";
/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.2.6
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */t.exports=function(){return n={},t.m=e=[function(t,e){t.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,e=null,n="initial",i=n,r=Date.now(),o="false",a=["button","input","select","textarea"],s=[],u=[16,17,18,91,93],l=[],c={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},d=!1,h={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},p=!1;try{var g=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,g)}catch(g){}var m=function(){if(o=!(t.getAttribute("data-whatpersist")||"false"===document.body.getAttribute("data-whatpersist")))try{window.sessionStorage.getItem("what-input")&&(n=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(i=window.sessionStorage.getItem("what-intent"))}catch(t){}y("input"),y("intent")},v=function(t){var e=t.which,r=c[t.type];"pointer"===r&&(r=S(t));var o=!l.length&&-1===u.indexOf(e),s=l.length&&-1!==l.indexOf(e),d="keyboard"===r&&e&&(o||s)||"mouse"===r||"touch"===r;if(E(r)&&(d=!1),d&&n!==r&&(w("input",n=r),y("input")),d&&i!==r){var h=document.activeElement;h&&h.nodeName&&(-1===a.indexOf(h.nodeName.toLowerCase())||"button"===h.nodeName.toLowerCase()&&!P(h,"form"))&&(w("intent",i=r),y("intent"))}},y=function(e){t.setAttribute("data-what"+e,"input"===e?n:i),C(e)},_=function(t){var e=c[t.type];"pointer"===e&&(e=S(t)),A(t),(!d&&!E(e)||d&&"wheel"===t.type||"mousewheel"===t.type||"DOMMouseScroll"===t.type)&&i!==e&&(w("intent",i=e),y("intent"))},b=function(n){n.target.nodeName?(e=n.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",e),n.target.classList&&n.target.classList.length&&t.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))):T()},T=function(){e=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},w=function(t,e){if(o)try{window.sessionStorage.setItem("what-"+t,e)}catch(t){}},S=function(t){return"number"==typeof t.pointerType?f[t.pointerType]:"pen"===t.pointerType?"touch":t.pointerType},E=function(t){var e=Date.now(),i="mouse"===t&&"touch"===n&&e-r<200;return r=e,i},O=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},C=function(t){for(var e=0,r=s.length;e<r;e++)s[e].type===t&&s[e].fn.call(void 0,"input"===t?n:i)},A=function(t){h.x!==t.screenX||h.y!==t.screenY?(d=!1,h.x=t.screenX,h.y=t.screenY):d=!0},P=function(t,e){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return t.closest(e);do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(c[O()]="mouse",function(){var t=!!p&&{passive:!0};document.addEventListener("DOMContentLoaded",m),window.PointerEvent?(window.addEventListener("pointerdown",v),window.addEventListener("pointermove",_)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",v),window.addEventListener("MSPointerMove",_)):(window.addEventListener("mousedown",v),window.addEventListener("mousemove",_),"ontouchstart"in window&&(window.addEventListener("touchstart",v,t),window.addEventListener("touchend",v))),window.addEventListener(O(),_,t),window.addEventListener("keydown",v),window.addEventListener("keyup",v),window.addEventListener("focusin",b),window.addEventListener("focusout",T)}()),{ask:function(t){return"intent"===t?i:n},element:function(){return e},ignoreKeys:function(t){u=t},specificKeys:function(t){l=t},registerOnChange:function(t,e){s.push({fn:t,type:e||"input"})},unRegisterOnChange:function(t){var e=function(t){for(var e=0,n=s.length;e<n;e++)if(s[e].fn===t)return e}(t);!e&&0!==e||s.splice(e,1)},clearStorage:function(){window.sessionStorage.clear()}}}()}],t.c=n,t.p="",t(0);function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e,n}()},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(0)),s=o(n(121)),u=o(n(115)),l=["player","previewer"],c=function(t){function e(e){var n=t.call(this,e)||this;return n.eventHandlerMap={},n.scrollProxyHandle=u.default,n}return r(e,t),e.prototype.sendEvent=function(t,e){this.isEnabled()&&this.eventHandlerMap[t]&&this.eventHandlerMap[t].call(this,e)},e.prototype.invokeOnParentPage=function(t){var e;t=a.default.isArray(t)?t:[t];var n=a.default.map(t,(function(t){return t.toJSON()}));null===(e=this.scrollProxyHandle)||void 0===e||e.invokeGlobalFunctions(n)},e.prototype.registerEventHandler=function(t,e){if(this.containsAppName(t))this.eventHandlerMap[t]=e;else for(var n=0,i=l;n<i.length;n++){var r=i[n];this.eventHandlerMap[r+"."+t]=e}},e.prototype.containsAppName=function(t){var e=t.split(".");return a.default.includes(l,e[0])},e}(s.default);e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BlendingModes=e.BlendingModeDisplayName=e.BlendingModeName=void 0;var r,o,a=i(n(0));!function(t){t.NORMAL="normal",t.MULTIPLY="multiply",t.SCREEN="screen",t.OVERLAY="overlay",t.DARKEN="darken",t.LIGHTEN="lighten",t.COLOR_DODGE="color-dodge",t.COLOR_BURN="color-burn",t.HARD_LIGHT="hard-light",t.SOFT_LIGHT="soft-light",t.DIFFERENCE="difference",t.EXCLUSION="exclusion",t.HUE="hue",t.SATURATION="saturation",t.COLOR="color",t.LUMINOSITY="luminosity"}(r=e.BlendingModeName||(e.BlendingModeName={})),function(t){t.NORMAL="Normal",t.MULTIPLY="Multiply",t.SCREEN="Screen",t.OVERLAY="Overlay",t.DARKEN="Darken",t.LIGHTEN="Lighten",t.COLOR_DODGE="Color Dodge",t.COLOR_BURN="Color Burn",t.HARD_LIGHT="Hard Light",t.SOFT_LIGHT="Soft Light",t.DIFFERENCE="Difference",t.EXCLUSION="Exclusion",t.HUE="Hue",t.SATURATION="Saturation",t.COLOR="Color",t.LUMINOSITY="Luminosity"}(o=e.BlendingModeDisplayName||(e.BlendingModeDisplayName={}));var s,u=["image/jpeg","image/jpg","image/png","image/gif"],l=["jpeg","jpg","png","gif"];!function(t){t.PREVIOUS="previous",t.NEXT="next"}(s||(s={}));var c=function(){function t(){}return t.getBlendingModeChoices=function(){return[this.NORMAL,this.DARKEN,this.MULTIPLY,this.COLOR_BURN,this.LIGHTEN,this.SCREEN,this.COLOR_DODGE,this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT,this.DIFFERENCE,this.EXCLUSION]},t.getGroupedBlendingModeChoices=function(){return[[this.NORMAL],[this.DARKEN,this.MULTIPLY,this.COLOR_BURN],[this.LIGHTEN,this.SCREEN,this.COLOR_DODGE],[this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT],[this.DIFFERENCE,this.EXCLUSION]]},t.getDefault=function(){return this.NORMAL.value},t.isDefaultBlendingMode=function(t){return this.getDefault()===t},t.getAdjacentMode=function(t,e){var n=this.getBlendingModeChoices(),i=a.default.findIndex(n,{value:t}),r=0===i,o=i===n.length-1,u=-1===i;return e===s.PREVIOUS?u||r?null:n[i-1].value:u||o?null:n[i+1].value},t.getPreviousMode=function(t){return this.getAdjacentMode(t,s.PREVIOUS)},t.getNextMode=function(t){return this.getAdjacentMode(t,s.NEXT)},t.getTotalModes=function(){return this.getBlendingModeChoices().length},t.isSupportedImageType=function(t,e){if("string"==typeof t)return u.indexOf(t.toLowerCase())>-1;var n=e.split("."),i=n[n.length-1].toLowerCase();return l.indexOf(i)>-1},t.NORMAL={value:r.NORMAL,title:o.NORMAL},t.MULTIPLY={value:r.MULTIPLY,title:o.MULTIPLY},t.SCREEN={value:r.SCREEN,title:o.SCREEN},t.OVERLAY={value:r.OVERLAY,title:o.OVERLAY},t.DARKEN={value:r.DARKEN,title:o.DARKEN},t.LIGHTEN={value:r.LIGHTEN,title:o.LIGHTEN},t.COLOR_DODGE={value:r.COLOR_DODGE,title:o.COLOR_DODGE},t.COLOR_BURN={value:r.COLOR_BURN,title:o.COLOR_BURN},t.HARD_LIGHT={value:r.HARD_LIGHT,title:o.HARD_LIGHT},t.SOFT_LIGHT={value:r.SOFT_LIGHT,title:o.SOFT_LIGHT},t.DIFFERENCE={value:r.DIFFERENCE,title:o.DIFFERENCE},t.EXCLUSION={value:r.EXCLUSION,title:o.EXCLUSION},t.HUE={value:r.HUE,title:o.HUE},t.SATURATION={value:r.SATURATION,title:o.SATURATION},t.COLOR={value:r.COLOR,title:o.COLOR},t.LUMINOSITY={value:r.LUMINOSITY,title:o.LUMINOSITY},t}();e.BlendingModes=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPathSVGUtil=void 0;var r=i(n(0)),o=function(){function t(){}return t.generateCurveCoords=function(t,e){void 0===e&&(e=!0);for(var n=t,i=this.moveToStartingPoint(n[0]),r=1;r<n.length;r++)i+=this.generateCurveSection(n[r-1],n[r]);return e&&(i+=this.generateCurveSection(n[n.length-1],n[0]),i+=this.closePath()),i},t.generateCurveCoordFromPathSegList=function(t){for(var e=t,n=this.moveToStartingPoint(e.getItem(0)),i=!1,r=1;r<e.numberOfItems;r++){var o=e.getItem(r);"C"===o.pathSegTypeAsLetter&&(n+=this.generateCurveSectionFromPathItem(o)),"z"===o.pathSegTypeAsLetter&&(i=!0)}return i&&(n+=this.closePath()),n},t.moveToStartingPoint=function(t){return"M "+t.x+" "+t.y+" "},t.generateCurveSection=function(t,e){return"C "+(r.default.isUndefined(t.cx2)?t.x:t.cx2)+" "+(r.default.isUndefined(t.cy2)?t.y:t.cy2)+", "+(r.default.isUndefined(e.cx1)?e.x:e.cx1)+" "+(r.default.isUndefined(e.cy1)?e.y:e.cy1)+", "+e.x+" "+e.y+" "},t.generateCurveSectionFromPathItem=function(t){return"C "+t.x1+" "+t.y1+", "+t.x2+" "+t.y2+", "+t.x+" "+t.y+" "},t.closePath=function(){return" Z"},t}();e.CustomPathSVGUtil=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(151)),a=i(n(28)),s=function(t){t=t||{},this.api=t.api,this.family=t.family,this.guid=t.guid,this.crossAccount=!!t.crossAccount,this.category=t.category,this.version=t.version,this.lastModified=t.lastModified,this.files=t.files,this.variants=[]};s.prototype={isBuiltIn:function(){return this.api===a.default.BUILTIN_API_ID},isUploaded:function(){return this.api===a.default.UPLOADED_API_ID},isCrossAccount:function(){return this.crossAccount},getFamilyName:function(){return this.family},getVariants:function(){return this.variants},addVariant:function(t,e){var n=new o.default(t,r.default.extend({},e||{},{fontFamily:this}));return this.updateVariant(n),n},updateVariant:function(t){var e=r.default.findIndex(this.variants,(function(e){return t.guid===e.guid}));-1===e?this.variants.push(t):this.variants[e]=t},getVariantsCount:function(){return this.variants.length},getVariantNames:function(){return r.default.map(this.variants,(function(t){return t.getName()}))},getCssFamilyName:function(){return this.isUploaded()?this.variants[0].getCssFamilyName():this.getFamilyName()},getGuid:function(){return this.guid},getVariant:function(t){return r.default.find(this.variants,(function(e){return e.guid===t}))},getVariantByName:function(t){return r.default.find(this.variants,(function(e){return e.getName()===t.toString()}))},getWebFontStylesLoaded:function(){return r.default.every(this.variants,"webFontStylesLoaded")},setAllWebFontStylesLoaded:function(){r.default.each(this.variants,r.default.bind((function(t){t.setWebFontStylesLoaded()}),this))},sortVariantsByName:function(){this.variants=r.default.sortBy(this.variants,["name"])},findVariantByWeightAndStyle:function(t,e){return r.default.find(this.variants,(function(n){return n.getFontWeight()===t&&n.getFontStyle()===e}))},findBestMatchVariant:function(t){var e=this.getVariantByName(t.getName());return e||(e=this.findVariantByWeightAndStyle(t.getFontWeight(),t.getFontStyle())),e||(e=this.findVariantByWeightAndStyle(a.default.DEFAULT_FONT_WEIGHT,a.default.DEFAULT_FONT_STYLE)),e||(e=this.variants[0]),e}},e.default=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SocialMediaInteraction=void 0;var a=n(68),s=o(n(0)),u=o(n(18)),l=o(n(8)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SHARE_PAGE},e.prototype.urlForCurrentPage=function(){var t=s.default.get(this.pageView,"model.pageIndex",0)+1,e=l.default.removeEmbedParams(u.default.buildUri("page_number",t));return window.location.protocol+"//"+window.location.host+e},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(a.BaseURLInteraction);e.SocialMediaInteraction=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(45)),s=i(n(388)),u=i(n(10)),l=i(n(150)),c={CHANGE:"change",CHANGE_SELECTED:"change:selected",CHANGE_VISIBLE:"change:visible",CHANGE_LOCKED:"change:locked",CHANGE_EDITABLE:"change:editable",CHANGE_TITLE:"change:title",SELECT_ITEM:"selectItem",REFRESH_WARNINGS:"refresh:warnings",OPENED:"opened",SAVE:"save"};e.default=o.default.Model.extend({defaults:u.default.AbstractPageSubModel.defaults,view:null,includeInLayerPanel:!0,inSmartgroup:!1,selectedState:a.default.OBJECT_STATES_DEFAULT,constructor:function(t,e){(e=e||{}).inSmartgroup&&(this.inSmartgroup=!0),o.default.Model.prototype.constructor.call(this,t,e)},initialize:function(t,e){this.selected=!1,this.options=e||{},this.modelChanges=null,this.saveHandler=null,this.oldVersion={},this.changedIPAttributes={},r.default.each(r.default.keys(t),r.default.bind((function(e){this.oldVersion[e]=t[e]}),this)),this.on("change",this.handleModelChange,this),this.on("remove",this.onRemove,this)},handleModelChange:function(t,e){if(!(e&&e.remote||this!==t)){var n=t.changedAttributes(null,{nonVariant:!0}),i=t.getPendingChanges();e&&e.doNotBuffer&&i.setDoNotBuffer(),i.add(n)}},buildOverridesWithEmptySyncedProperties:function(){throw"Models with Synced Attributes should implement this method"},getView:function(){return this.view},setView:function(t){this.view=t},getParent:function(){return this.parent},hasParent:function(){return!!this.parent},hasGroupParent:function(){return this.hasParent()&&this.getParent().isGroup()},isIncludedInLayerPanel:function(){return this.includeInLayerPanel},isLockable:function(){return!0},getAllParents:function(){for(var t=[],e=this;e.hasParent();){var n=e.getParent();t.push(n),e=n}return r.default.reverse(t)},getSelfAndAllParents:function(){return this.getAllParents().concat(this)},getAllGroupParents:function(){for(var t=[],e=this;e.hasParent();){var n=e.getParent();n.isGroup()&&t.push(n),e=n}return r.default.reverse(t)},getClosestParentFolder:function(){for(var t=this;t.hasParent();){var e=t.getParent();if(e.isFolder())return e;t=e}return null},getClosestParentGroup:function(){for(var t=this;t.hasParent();){var e=t.getParent();if(e.isGroup())return e;t=e}return null},openClosestParentGroup:function(){var t=this.getClosestParentGroup();t&&t.open()},getId:function(){return this.id},save:function(){var t=this.flushPendingChanges();if(0!==t.total())if(r.default.isFunction(this.saveHandler)){this.saveHandler(this,t);var e=t.getChanges();this.trigger(c.SAVE,this,e)}else{var n=new Error("no save handler registered!");n.stack&&console.warn(n.stack)}},onSave:function(t,e){this.on(c.SAVE,t,e)},offSave:function(t,e){this.off(c.SAVE,t,e)},onRemove:function(t,e,n){!n.moving&&this.view&&(this.stopListening(),this.view.close(),this.view=null)},destroy:function(t){if(r.default.isFunction(this.destroyHandler))this.destroyHandler(this,t),this.trigger("destroy",this,t);else{var e=new Error("no destroy handler registered!");console.warn(e.stack)}},getPendingChanges:function(){return null===this.modelChanges&&(this.modelChanges=new s.default(this)),this.modelChanges},clearPendingChanges:function(){return this.modelChanges=null,this},flushPendingChanges:function(){var t=this.getPendingChanges();return this.clearPendingChanges(),t},registerSaveHandler:function(t,e){this.saveHandler=r.default.isFunction(t)?r.default.bind(t,e||this):null},removeSaveHandler:function(){this.registerSaveHandler(null)},registerDestroyHandler:function(t,e){this.destroyHandler=r.default.isFunction(t)?r.default.bind(t,e||this):null},validate:function(t){if(r.default.isUndefined(t.id))return"invalid id"},isCopiable:function(){return!0},isSelected:function(){return this.selected},isLocked:function(){return this.get("locked")},isVisible:function(){return this.get("visible")},isEditableComponent:function(){return!1},isEditable:function(){return this.get("editable")},setVisible:function(t,e){return this.set("visible",t,e),this.trigger(c.CHANGE_VISIBLE),this},setLocked:function(t,e){return this.set("locked",t,e),this.trigger(c.CHANGE_LOCKED),this},setEditable:function(t){return this.set("editable",t),this},deselect:function(t){return this.selected?(this.selected=!1,t&&!0===t.silent||this.trigger(c.CHANGE_SELECTED),this):this},setSelectedObjectState:function(t){this.selectedState=t,this.trigger("change-selected-state"),this.isGroup()||this.isSmartgroup()||this.isFolder()?this.getCollection().each((function(e){e.isBaseMaskObject()&&(e.view.forceRedraw=!0),e.setSelectedObjectState(t)})):this.isBaseMaskObject()&&this.forceRedraw(),this.view&&this.view.broadcast.trigger("designer:change-selected-state")},select:function(t){var e=t&&t.forceReselect;return this.selected&&!e?this:(this.selected=!0,this.trigger(c.SELECT_ITEM,this,t),t&&!0===t.silent||this.trigger(c.CHANGE_SELECTED,t),this)},isShapeComponent:function(){return!1},isAnyShapeComponent:function(){return this.isShapeComponent()||this.isCustomShapeComponent()},isFolder:function(){return!1},isImageModel:function(){return!1},isVideoModel:function(){return!1},isMediaModel:function(){return this.isVideoModel()||this.isImageModel()},isGroup:function(){return!1},isMaskGroup:function(){return!1},isInMaskGroup:function(){var t=this.getParent();return!!t&&"mask-group"===t.get("type")},isInAlphaMaskGroup:function(){var t=this.getParent();return!!t&&t.isMaskGroup()&&t.isAlphaMask()},isBaseMaskObject:function(){return!1},isMask:function(){return!1},getValidClickInteractions:function(){return{}},getValidHoverInteractions:function(){return[]},getValidViewInteractions:function(){return[]},isFolderOrGroup:function(){return this.isGroup()||this.isFolder()},isSmartgroup:function(){return!1},isObject:function(){return!1},isSyncedObject:function(){return this.inSmartgroup},isForSyncedObject:function(t){return!(!t||!t.syncedObject)||this.isSyncedObject()},hasInteractions:function(){return!1},hasInteractionsBesidesChangeState:function(){return!1},isInteractable:function(){return!this.isMask()},hasChildren:function(){return!1},hasSelectedChild:function(){return!1},isResizable:function(){return!0},isDeletable:function(){return!0},isGroupable:function(){return!0},isMoveable:function(){return!0},isUserSelectable:function(){return!0},getChildren:function(){return[]},getAllDescendants:function(){return[]},getPathPart:function(){return""},getCollection:function(){return null},changedInspectorPanelAttributes:function(){return this.changedIPAttributes},getDisplayLabel:function(){return this.type?this.type:"Object"},isCustomShapeComponent:function(){return!1},getSyncedProperties:function(){return l.default.get(o.default.Model.prototype.get.call(this,"type"))},isUploading:function(){return!1},isSyncedTextComponent:function(){return!1},isTextComponent:function(){return!1},isImageComponent:function(){return!1},getSupported:function(){return u.default.AbstractPageSubModel.supported},supportsProperty:function(t){return-1!==this.getSupported().indexOf(t)},isCanvasBackgroundModel:function(){return!1},supportsObjectStates:function(){return!!this.objectStatesEnabled},canCopyPasteAnimations:function(){return!(this.isGroup()&&this.hasActiveBlendingMode())&&!this.isFolder()&&!this.isSmartgroup()},hasActiveBlendingMode:function(){return!1},getExistingObjectStates:function(){return[]}},{EVENTS:c})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditableAreaViewType=void 0,function(t){t.DEFAULT="default",t.TEXT="text",t.IMAGE="image",t.GROUP="group",t.STACK="stack"}(e.EditableAreaViewType||(e.EditableAreaViewType={}))},function(t,e,n){"use strict";var i,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r),!0,t.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=e(s[0]);if(u=(i.read||i)(u,l)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(r[l]=u,t===l)break}catch(t){}}return t?r[t]:r}}return r.set=o,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,n){o(e,"",t(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={setDimensions:function(t,e){window.cerosScreenDimensions={width:t,height:e}},getDimensions:function(){return window.cerosScreenDimensions}};window.cerosScreenDimensions||i.setDimensions(window.screen.width,window.screen.height),e.default=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(3)),s=i(n(2)),u=i(n(230)),l=i(n(8)),c=i(n(59)),d=i(n(60)),h=i(n(61)),f=i(n(76)),p=i(n(231)),g=i(n(77)),m=i(n(62)),v=new p.default,y=new c.default,_={getOrCreateRasterImageResource:function(t,e,n){var i=o.default.Deferred();return h.default.getOriginalDimensions(t).then((function(r){if(!r)return window.console.warn("No info was found for image: "+t),void i.resolve(null);m.default.isValidCropObject(n)?r=m.default.createOriginalDimensionsFromCropDimensions(r,n):n=null;var o=_.getRasterImage(t,n),a=_.isUriForGif(t),s=_.calculateVariantDimensions(r,e,a);o?o.getPromise().then((function(){_.shouldRequestHigherResolution(r.width,o.getWidth(),s)?i.resolve(_.createRasterImageResource(t,s,n)):i.resolve(o)})).fail(i.reject):i.resolve(_.createRasterImageResource(t,s,n))})),i.promise().then((function(t){return t?t.getPromise():null}))},getOrCreateRasterImageResourceSync:function(t,e){var n=v.get(t),i=_.isUriForGif(t),r=d.default.getOriginalDimensions(t);if(!r)return n&&(!n.ready()||n.getWidth()>=e)?n:_.createRasterImageResource(t,e);var o=_.calculateVariantDimensions(r,e,i);return n?n.ready()&&_.shouldRequestHigherResolution(r.width,n.getWidth(),o)?_.createRasterImageResource(t,o):n:_.createRasterImageResource(t,o)},getRasterImage:function(t,e){var n=v.createCacheKey(t,e);return v.get(n)},getOrCreateVectorImageResourceFactory:function(t,e,n,i,r){return r?this.createVectorImageResourceFactory(t,e,n,i,!0):y.has(t)?y.get(t):this.createVectorImageResourceFactory(t,e,n,i,!1)},createVectorImageResourceFactory:function(t,e,n,i,r){var o=_.createImageProxyUri(t),a=new g.default(o,e,n,i);return r&&y.has(t)||y.put(t,a),a},getVectorImageResourceFactory:function(t){return y.get(t)},createRasterImageResource:function(t,e,n){var i=_.createImageResourceUrl(t,e,n),r=new f.default(i),o=v.createCacheKey(t,n);return v.put(o,r),r},calculateOptimizedGifWidth:function(t,e){return t<=e/8?e/8:t<=e/4?e/4:t<=e/2?e/2:e},calculateOptimizedNonGifWidth:function(t,e){if(t>e)return e;var n=.05*Math.ceil(t/e/.05);return e*(n=Math.max(n,.05))},calculateVariantDimensions:function(t,e,n){if(s.default.isExported||(n?e=this.calculateOptimizedGifWidth(e,t.width):a.default.desktop()&&(e=this.calculateOptimizedNonGifWidth(e,t.width))),e>=t.width)return null;var i=Math.round(e),r=this._calculateMinimumValidWidth(t);return Math.max(r,i)},_calculateMinimumValidWidth:function(t){return t.height>=t.width?1:Math.ceil(t.width/t.height)},isUriForGif:function(t){return"gif"===t.substr(-"gif".length)},shouldRequestHigherResolution:function(t,e,n){return r.default.isNull(n)||n>=t?e<t:(n-e)/e>=.25},primeCachesWithOriginalImageResource:function(t,e){r.default.isNull(e)||(v.put(t,e),d.default.putImageResource(t,e))},primeCacheWithImageInfo:function(t,e,n,i){d.default.putImageInfo(t,e,n,i)},primeCacheWithVectorImageResourceFactory:function(t,e){y.put(t,e)},loadImageInfoForPage:function(t){return h.default.loadImagesForUri(t)},loadImageInfoForDocVersion:function(t){return h.default.loadImagesForRestUri(t)},createImageUri:function(t,e){return"/v1/account/"+s.default.accountSlug+"/"+t+"/"+e},createImageResourceUrl:function(t,e,n){return s.default.isStudio?_.createImageProxyUri(t,e,n):s.default.isExported?_.createExportUrl(t,e):_.createMediaUrl(t,e,n)},createImageProxyUri:function(t,e,n){t+="/proxy";var i={};return r.default.isNumber(e)&&(i.width=e),r.default.isObject(n)&&(i.crop=m.default.createCropDimensionsString(n)),l.default.appendQueryParams(t,i,!0)},createMediaUrl:function(t,e,n){var i=d.default.get(t),o=r.default.get(i,"url");if(!r.default.isString(o))return"";var a={imageOpt:1};return r.default.isNumber(e)&&(a.fit="bounds",a.width=e),r.default.isObject(n)&&(a.crop=m.default.createCropDimensionsString(n)),o=l.default.appendQueryParams(o,a,!0),l.default.replaceProtocolIfHttpsRequest(o)},createExportUrl:function(t,e){var n=d.default.get(t),i=r.default.get(n,"thumbnails");if(!r.default.isObject(i))return"";var o=u.default.getComponentImageThumbnail(i,e);return r.default.get(o,"url","")},getRasterImageResourceCache:function(){return v},getVectorImageResourceFactoryCache:function(){return y}};e.default=_},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));function o(){this.cache={}}r.default.extend(o.prototype,{get:function(t){return r.default.get(this.cache,t,null)},put:function(t,e){this.cache[t]=e},has:function(t){return r.default.has(this.cache,t)},purgeAll:function(){this.cache={}}}),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=new(i(n(59)).default),a=function(t,e,n,i){return{id:t,url:e,original:{width:n,height:i}}},s={get:function(t){return o.get(t)},getOriginalWidth:function(t){var e=s.get(t);return r.default.get(e,["original","width"],null)},getOriginalDimensions:function(t){var e=s.get(t),n=r.default.get(e,["original","width"],null),i=r.default.get(e,["original","height"],null);return n&&i?{width:n,height:i}:null},put:function(t,e){o.put(t,e)},putMediaArray:function(t){r.default.each(r.default.keyBy(t,"id"),(function(t,e){o.put(e,t)}))},putImageResource:function(t,e){e.ready()?s.putImageInfo(t,e.getSrc(),e.getWidth(),e.getHeight()):window.console.warn("Tried to put image info into cache from an image resource that was not ready")},putImageInfo:function(t,e,n,i){var r=a(t,e,n,i);return o.put(t,r),r},putVideoInfo:function(t,e,n,i,r){var s=a(t,e,n,i);return s.posterFrameUri=r,o.put(t,s),s},purgeAll:function(){o.purgeAll()},has:function(t){return o.has(t)}};e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(60)),u=[],l={loadImagesForUri:function(t){return l.loadImagesForRestUri("/rest"+t)},loadImagesForRestUri:function(t){return l.loadMediaForRestUri(t,!0)},loadMediaForUri:function(t,e){return l.loadMediaForRestUri("/rest"+t,e)},loadMediaForRestUri:function(t,e){var n=t+"/media";e&&(n+="?imagesOnly=true");var i=r.default.ajax({url:n,type:"GET",dataType:"json"}).then((function(t){s.default.putMediaArray(t)})).fail((function(e,n,i){window.console.warn("Unable to load image info for uri: "+t+" due to error: "+i)}));return u.push(i),i},loadMedia:function(t){return r.default.ajax({url:"/rest"+t+"/metadata",type:"GET",dataType:"json"}).then((function(e){if(o.default.isObject(e)){var n=o.default.get(e,"url",null),i=o.default.get(e,["meta","width"],null),r=o.default.get(e,["meta","height"],null),a=o.default.get(e,"posterFrameUri",null);return a?s.default.putVideoInfo(t,n,i,r,a):s.default.putImageInfo(t,n,i,r)}window.console.warn("Unexpected image metadata format")})).fail((function(){window.console.warn("Unable to load info for image: "+t)}))},getMediaInfo:function(t){var e=r.default.Deferred();return t?s.default.has(t)||!a.default.isStudio&&!a.default.editMode?(e.resolve(s.default.get(t)),e.promise()):(r.default.when.apply(r.default,u).always((function(){s.default.has(t)?e.resolve(s.default.get(t)):l.loadMedia(t).always((function(){e.resolve(s.default.get(t))}))})),e.promise()):(e.resolve(),e.promise())},getOriginalWidth:function(t){return l.getMediaInfo(t).then((function(t){return o.default.get(t,["original","width"],null)}))},getOriginalDimensions:function(t){return l.getMediaInfo(t).then((function(t){var e=o.default.get(t,["original","width"]),n=o.default.get(t,["original","height"]);return e&&n?{width:e,height:n}:null}))}};e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=["width","height","x","y"],a={isValidCropObject:function(t){if(!r.default.isObject(t))return!1;var e=r.default.keys(t);return 0===r.default.xor(e,o).length},createCropDimensionsString:function(t){return a.isValidCropObject(t)?[t.width,t.height,"x"+t.x,"y"+t.y].join(","):""},createOriginalDimensionsFromCropDimensions:function(t,e){return{width:Math.clamp(e.width,1,t.width),height:Math.clamp(e.height,1,t.height)}}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={NIL:0,ESC:27,SHIFT:16,CTRL:17,LEFT_CMD:91,RIGHT_CMD:93,CMD_FIREFOX:224,ALT:18,RETURN:13,ENTER:13,BACKSPACE:8,DELETE:46,SPACE:32,TAB:9,HOME:36,END:35,RIGHT_ARROW:39,LEFT_ARROW:37,UP_ARROW:38,DOWN_ARROW:40,EQUALS_FF:61,EQUALS_WEBKIT:187,MINUS_FF:173,MINUS_WEBKIT:189,ZERO:48,ONE:49,SEMICOLON:186,SEMICOLON_FIREFOX:59,BRACKET_OPEN:219,BRACKET_CLOSE:221,SINGLE_QUOTE:222,A:65,C:67,D:68,E:69,G:71,H:72,I:73,J:74,K:75,L:76,M:77,P:80,R:82,V:86,X:88,Y:89,Z:90,COMMA:188,PERIOD:190}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(21)),a=i(n(2)),s=i(n(515)),u=i(n(517)),l=i(n(520)),c=i(n(32));t=new o.default.Module({id:"splashScreen",description:"Loading experience including spinner animation",version:"1.0",publishedEvents:{EMBED_WARNING_DISMISSED:"embed_warning_dismissed"},delegate:{loadingViews:[],showLoading:function(t,e){var n,i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj},o=r.default.extend({startImmediately:!0,whiteLabeling:!0,showPreviewLabel:!1,showEditorLabel:!1,overlayed:!0},i,e),u=(n=o.theme,c.default.getMostContrasting(n.backgroundColor,n.menuFgColor,n.menuBgColor).toHex()),l=o.theme.backgroundColor;o.overlayed&&(u=o.theme.menuFgColor,l=o.theme.menuBgColor);var d=new s.default({autoContrastForegroundColor:u,foregroundColor:o.theme.menuFgColor,backgroundColor:l,previewLabelBackgroundColor:o.theme.menuBgColor,whiteLabeling:o.whiteLabeling,showPreviewLabel:o.showPreviewLabel,showEditorLabel:o.showEditorLabel,overlayed:o.overlayed});return this.loadingViews.push(d),t.prepend(d.$el),d.render(),o.startImmediately&&d.start(),{destroy:function(){d.destroy()},start:function(){d.start()},stop:function(){d.stop()}}},scale:function(){r.default.each(this.loadingViews,(function(t,e){t.scale()}))},showUnavailableScreen:function(t,e){var n=new u.default;t.append(n.$el)},showDeletedPageWarning:function(e){var n=new l.default({module:t});n.render(),e.append(n.$el)},hideEmbeddedPreviewerWarning:function(t){t.find(".embedded-previewer-warning").hide()}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AnalyticsLocalStorage=void 0;var r=i(n(120)),o=i(n(8)),a=n(248).storageFactory((function(){return window.localStorage})),s=function(){function t(){}return t.setUserConsent=function(t,e){var n=this.generateUserConsentKey(e);a.setItem(n,t.toString())},t.getUserConsent=function(t){var e=this.generateUserConsentKey(t);switch(a.getItem(e)){case"true":return!0;case"false":return!1;default:return null}},t.deleteUserConsent=function(t){var e=this.generateUserConsentKey(t);a.removeItem(e)},t.setExperienceTracker=function(t,e){var n=this.generateExperienceTrackerKey(e);a.setItem(n,JSON.stringify(t))},t.getExperienceTracker=function(t){var e=r.default.getExperienceTrackingCookieData();if((null==e?void 0:e.initial_referrer)||(null==e?void 0:e.initial_referring_domain)){this.setExperienceTracker(e,t);var n=o.default.getRootDomain();r.default.deleteExperienceTrackingCookie(t,n)}var i=this.generateExperienceTrackerKey(t),s=a.getItem(i);return s?JSON.parse(s):null},t.deleteExperienceTracker=function(t){var e=o.default.getRootDomain();r.default.deleteExperienceTrackingCookie(t,e);var n=this.generateExperienceTrackerKey(t);a.removeItem(n)},t.setDomainTracker=function(t,e){var n=this.generateDomainTrackerKey(e);a.setItem(n,JSON.stringify(t))},t.getDomainTracker=function(t){var e=r.default.getDomainTrackingCookieData();if(null==e?void 0:e.user_token){this.setDomainTracker(e,t);var n=o.default.getRootDomain();r.default.deleteDomainTrackingCookie(t,n)}var i=this.generateDomainTrackerKey(t),s=a.getItem(i);return s?JSON.parse(s):null},t.deleteDomainTracker=function(t){var e=o.default.getRootDomain();r.default.deleteDomainTrackingCookie(t,e),r.default.deleteDomainTrackingCookie("/",e);var n=this.generateDomainTrackerKey(t);a.removeItem(n)},t.generateUserConsentKey=function(t){return""+this.USER_CONSENT_KEY_PREFIX+t},t.generateExperienceTrackerKey=function(t){return""+this.EXPERIENCE_TRACKER_KEY_PREFIX+t},t.generateDomainTrackerKey=function(t){return""+this.DOMAIN_TRACKER_KEY_PREFIX+t},t.USER_CONSENT_KEY_PREFIX="user_consent",t.EXPERIENCE_TRACKER_KEY_PREFIX="experience_tracker",t.DOMAIN_TRACKER_KEY_PREFIX="domain_tracker",t}();e.AnalyticsLocalStorage=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(t,e){this.functionPath=t,this.args=r.default.isArray(e)?e:[e]}return t.prototype.invoke=function(){var t=window,e=r.default.get(window,this.functionPath),n=this.functionPath.split(".").slice(0,-1).join(".");if(n&&(t=r.default.get(t,n)),t&&e&&"function"==typeof e)return e.apply(t,this.args)},t.prototype.toJSON=function(){return{functionPath:this.functionPath,args:this.args}},t.prototype.toString=function(){return JSON.stringify(this.toJSON())},t}();e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(21)),a=i(n(2)),s=i(n(32)),u=i(n(31)),l=i(n(266));t=new o.default.Module({id:"flippers",description:"Provides left/right (previous/next) arrows for navigation between pages",version:"1.0",flippersView:null,publishedEvents:{NEXT_PAGE:"flippers.next_page",PREVIOUS_PAGE:"flippers.previous_page"},dependencies:{viewport:"1.0"},delegate:{load:function(e){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},n,e);var i=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,u=s.default.fromHex(i);u.a=.1,this.flippersView=new l.default({arrowsEnabled:this.options.theme.arrowsEnabled,menuBackgroundColor:o,menuBorderColor:u,menuForegroundColor:i,menuHoverOpacity:this.options.theme.menuHoverOpacity,module:t}),this.registerEvents()},el:function(){if(this.flippersView)return this.flippersView.$el;throw new Error("FlippersView is missing")},show:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.show()},hide:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.hide()},updateScale:function(t){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.scale(t)},determineFlipperState:function(t,e,n){var i=!n||t,r=!n||e;this.updateFlippers(i,r)},updateFlippers:function(t,e){if(!this.flippersView)throw new Error("FlippersView is missing");t?this.flippersView.disablePrevious():this.flippersView.enablePrevious(),e?this.flippersView.disableNext():this.flippersView.enableNext()},updateFlipperHrefs:function(){this.flippersView.replaceHrefs()},registerEvents:function(){u.default.getInstance().on("change",r.default.bind((function(){this.flippersView.scale(null)}),this))}}});e.default=t},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseURLInteraction=void 0;var s=a(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"domTagOverride",{get:function(){if("click"===this.trigger&&this.isValid()){var t=s.default.escape(this.constructUrl());return t?{tagName:"a",priority:2,attributes:o(o({},this.customAttributes()),{href:t})}:{tagName:"button",priority:1,attributes:this.customAttributes()}}},enumerable:!1,configurable:!0}),e.prototype.customAttributes=function(){return{}},e}(n(25).BaseInteraction);e.BaseURLInteraction=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(5);e.default={isHoverInteractionShowingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isShowLayersOnHoverInteraction:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover},isShowLayersInteraction:function(t){return r.default.includes([o.ActionTypes.showCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isHideLayersInteraction:function(t){return t.action===o.ActionTypes.hideCanvasTargets},isTemporaryHoverInteractionShowingOrHidingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.hideCanvasTargets],t.action)},shouldDrawHoverArea:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover&&t.createHoverArea},hasCustomFiringHoverAction:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.showCanvasTargets,o.ActionTypes.hideCanvasTargets],t.action)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidSelector=e.escapeComponentId=void 0;e.escapeComponentId=function(t){return void 0===t&&(t=""),t.replace(/([^\\])\|/g,"$1\\|")};e.isValidSelector=function(t){return void 0===t&&(t=""),-1===t.indexOf("=")}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathComponentView=void 0;var c=l(n(9)),d=l(n(323)),h=u(n(16)),f=n(23),p=n(93),g=n(26),m=n(37),v=l(n(33)),y=l(n(32)),_=n(149),b=l(n(48)),T=function(t){function e(e){var n=t.call(this,e)||this;return n.hasRenderedGradient=!1,n.options=e,n}return r(e,t),e.prototype.callObjectStateInvoker=function(t,e){m.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)},e.prototype._applyRotation=function(e){this.isMaskImage()||t.prototype._applyRotation.call(this,e)},e.prototype._applyBorder=function(t){void 0===t&&(t=this.options.border||{}),this.getShapeElement().css("stroke",t.color||""),this.getShapeElement().css("stroke-width",t.width||0),this.getShapeElement().css("miter-limit",10)},e.prototype.applyMaskProperties=function(){var t,e=this.$el,n=this.options.background;if((null==n?void 0:n.color)&&e.css("background",n.color),(null==n?void 0:n.gradient)&&(null===(t=null==n?void 0:n.gradient)||void 0===t?void 0:t.stops)){var i=n.gradient.angle;e.css("backgroundImage","linear-gradient("+i+"deg,"+y.default.buildStops(n.gradient.stops)+")")}},e.prototype._applyBackground=function(t,e){void 0===t&&(t=this.options.background||{}),void 0===e&&(e=this.options.transition);var n=this.getStopElements(),i=0;this.isMaskImage()&&this.applyMaskProperties(),t.color&&n.css("stop-color",t.color),t.gradient&&(n.first().css("stop-color",t.gradient.stops[0].color),n.last().css("stop-color",t.gradient.stops[1].color),i=t.gradient.angle||0),t.color||t.gradient||n.css("stop-color","transparent"),p.AnimateSVGUtil.renderGradientAnimation(this.getSVGElement(),this.getGradientElement(),i,this.hasRenderedGradient?e:null),this.hasRenderedGradient=!0},e.prototype._applyShadow=function(t,e){return void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation),this.applyDropShadow(t,e)},e.prototype._applyOpacity=function(t){void 0===t&&(t=this.getOpacity()),this.$el.css("opacity",t)},e.prototype.getHoverTarget=function(){return this.getPointerEventsTarget()},e.prototype.render=function(){var e=this.options.width,n=this.options.height,i=this.id+"-"+this.type+"-svg",r=this.id+"-"+this.type+"-svg",o=i+"-gradient",a=o+"-stop0",s=o+"-stop1",u=i+"-custom-path-shadow-filter",l="url(#"+o+")",h=this.calculateTransform(),f=this.renderShape({fill:l,shadow:"",transform:h}),p=c.default.render(d.default,{svgName:i,componentId:r,gradientName:o,gradientStop0Name:a,gradientStop1Name:s,width:e,height:n,subview:f,fill:l,shadowName:u});if(this.isMaskImage()){var g=v.default.encodedSvgStringAsBase64(p);this.renderAsMask(g)}else this.$el.empty().html(p);t.prototype.render.call(this),this.options.ariaLabel||this.hasClickInteraction()||this.hasHoverInteraction()||this.$el.attr("aria-hidden","true"),this.isMaskImage()||this.createAnimationWithTransition(this.getSVGElement(),{placeholder:"0"},{placeholder:"0"},{duration:0,easing:_.Easing.linear,delay:0});var m=this.getShapeElement();return this.shouldTriggerClickOnKeyDown()&&(m.addClass("focusable outline-hidden"),this.hasAccessibilityFeature&&m.attr("role","button")),m.on("focus",(function(){"keyboard"===b.default.ask()&&m.removeClass("outline-hidden")})),m.on("blur",(function(){m.addClass("outline-hidden")})),this},e.prototype.renderAsMask=function(t){var e={"-webkit-mask-image":t,"mask-image":t,"-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"0px 0px"};this.$el.css(e)},e.prototype.isMaskImage=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.calculateTransform=function(){if(this.isMaskImage()){this._configureAllWidthAllHeight();var t=this.options,e=t.x,n=t.y,i=t.rotation,r=t.allWidth,o=t.allHeight;if(void 0!==o&&void 0!==r)return"rotate("+i+", "+r/2+", "+o/2+") translate("+e+", "+n+")"}return null},e.prototype.getStop=function(t,e){if(t&&t.gradient&&t.gradient.stops)return t.gradient.stops.find((function(t){return t.stop===e}))},e.prototype.gradientExists=function(t){return!!t&&!!t.gradient},e.prototype.shadowFilterExists=function(t){return t&&void 0!==t.x&&void 0!==t.y&&void 0!==t.color&&void 0!==t.blur},e.prototype._applyPosition=function(e,n){if(void 0===e&&(e=this.options.x),void 0===n&&(n=this.options.y),this.isMaskImage())t.prototype._applyPosition.call(this,0,0);else{var i=this.getApplyPositionTarget();i.css("left",e+"px"),i.css("top",n+"px")}},e.prototype._applyDimensions=function(e,n){this.isMaskImage()?t.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):t.prototype._applyDimensions.call(this,e,n)},e.prototype.getStopElements=function(){return this.$el.find("stop")},e.prototype.applyTransitionToTarget=function(e,n){t.prototype.applyTransitionToTarget.call(this,e,n),this.getShapeElement().css("transition",e),this.getShapeElement().css("transition-property",n||"none"),this.getSVGElement().css("transition",e),this.getSVGElement().css("transition-property",n||"none"),this.getStopElements().css("transition",e),this.getStopElements().css("transition-property",n||"none")},e.prototype.getSVGElement=function(){return this.$el.find(".custom-path-component")},e.prototype.getApplyShadowTarget=function(){return this.isMaskImage()&&this.parentViews.length>0?this.parentViews[0].$el:this.getSVGElement()},e.prototype.getGradientElement=function(){return this.$el.find("linearGradient")},e.prototype.shouldTriggerClickOnKeyDown=function(){return this.hasClickInteraction()&&!this.isMaskImage()},e.prototype.applyTabindex=function(){this.hasClickInteraction()&&!this.isMaskImage()?this.getShapeElement().attr("tabindex",0):this.hasClickInteraction()||this.getShapeElement().removeAttr("tabindex"),this.hasAccessibilityFeature&&this.shouldTriggerClickOnKeyDown()&&this.getSVGElement().removeAttr("aria-hidden"),t.prototype.applyTabindex.call(this)},e.prototype.getPointerEventsTarget=function(){return this.isMaskImage()?this.$el:this.getShapeElement()},e.prototype.applyTagOverride=function(){this.isMaskImage()&&t.prototype.applyTagOverride.call(this)},e.prototype.getShadowParams=function(t,e,n,i){void 0===e&&(e=this.options.width),void 0===n&&(n=this.options.height),void 0===i&&(i=this.options.rotation),i=i||0;var r=h.maintainOffsetWhenRotated(i,{x:t.x||0,y:t.y||0}),o=r.x||0,a=r.y||0,s=(t.blur||0)/2,u=t.color||"",l=2*s,c=100*Math.abs(o/e)*-1-20-l,d=100*Math.abs(a/n)*-1-20-l;return{shadowX:o,shadowY:a,shadowBlur:s,shadowColor:u,filterX:c,filterY:d,filterWidth:2*Math.abs(c)+100,filterHeight:2*Math.abs(d)+100}},e.prototype.createAnimationWithTransition=function(t,e,n,i){if(i){var r={};Object.keys(e).forEach((function(t){r[t]={from:n[t],to:e[t]}}));var o=p.AnimateSVGUtil.animatePointsForMultiple(r),a=p.AnimateSVGUtil.getSplineStringFromEasing(i.easing),s=Object.keys(o).map((function(t){return p.AnimateSVGUtil.createAnimationElement(t,!1,o[t],a)}));t.find("animate").remove(),p.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),t,s,i)}else Object.keys(e).forEach((function(n){t.attr(n,e[n])}))},e.prototype.applyPoints=function(t,e){},e.prototype.applyPath=function(t,e,n){void 0===t&&(t=this.options.path)},e=s([g.BackboneShim({className:"custom-path-container shape"})],e)}(f.AbstractComponentView);e.AbstractCustomPathComponentView=T},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(28));e.default={loadMetrics:function(t){return o.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:t}})},buildGoogleVariantDisplayName:function(t,e){var n={100:"Thin",200:"Extra-Light",300:"Light",400:"Normal",500:"Medium",600:"Semi-Bold",700:"Bold",800:"Extra-Bold",900:"Ultra-Bold"}[t];return"normal"!==e&&(n+=" "+e),n},parseGoogleVariantName:function(t){var e,n;if("regular"===(t=t.toLowerCase()))e=400,n="normal";else if("italic"===t)e=400,n="italic";else if("oblique"===t)e=400,n="oblique";else{var i=t.match(/(\d+)(italic|regular|oblique)?/i);if(!i||3!==i.length)throw"Could not parse google variant: "+t;e=parseInt(i[1],10),n=i[2]&&"regular"!==i[2]?i[2]:"normal"}return{fontWeight:e,fontStyle:n,variantName:this.buildGoogleVariantDisplayName(e,n)}},buildGoogleVariantName:function(t,e){var n=null;return 400===t?n="italic"===e?"italic":"oblique"===e?"oblique":"regular":(n=""+t,"italic"===e?n+="Italic":"oblique"===e&&(n+="Oblique")),n},getFontAPI:function(t){return r.default.startsWith(t,a.default.GOOGLE_API_ID)?a.default.GOOGLE_API_ID:r.default.startsWith(t,a.default.UPLOADED_API_ID)?a.default.UPLOADED_API_ID:r.default.startsWith(t,a.default.BUILTIN_API_ID)?a.default.BUILTIN_API_ID:void 0}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this);var e=this.renderShapeHoverArea();e.setAttributeNS(null,"fill","none");var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttributeNS(null,"overflow","visible"),n.append(e),n.style.width="100%",n.style.height="100%",n.style.display="block",this.$el.append(n),this.renderStroke(),this},e.prototype.renderBorder=function(){},e.prototype.renderStroke=function(){var t=this.options.component.options.border;this.getHoverAreaTarget().css("stroke","transparent"),this.getHoverAreaTarget().css("stroke-width",t.width||0),this.getHoverAreaTarget().css("miter-limit",10)},e.prototype.getHoverAreaTarget=function(){return this.$el.find("svg >")},e}(n(158).HoverAreaComponentView);e.AbstractCustomPathHoverAreaComponentView=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditableAreaView=void 0;var a=o(n(44)),s=n(27),u=o(n(80)),l=n(55),c=o(n(1)),d=function(t){function e(e){var n=t.call(this)||this;n.selected=!1,n.enabled=!1,n.nodeSize=32,n.defaultNodeProps={position:{x:0,y:0},center:{x:0,y:0},dimensions:{width:n.nodeSize,height:n.nodeSize},size:n.nodeSize,topLeft:{x:0,y:0},topRight:{x:0,y:0},bottomLeft:{x:0,y:0},bottomRight:{x:0,y:0}},n.node=n.defaultNodeProps,n.defaultBorder={position:{x:0,y:0},dimensions:{width:0,height:0},thickness:2},n.border=n.defaultBorder,n.position={x:0,y:0},n.dimensions={width:0,height:0},n.defaultOffset={total:0,x:0,y:0,onEdge:{top:!1,left:!1,bottom:!1,right:!1},node:0,border:0},n.offset=n.defaultOffset,n.componentView=e,n.id="editable-"+n.componentView.id,n.playerViewType=n.componentView.playerView.type,n.editAreaType=l.EditableAreaViewType.DEFAULT;var i=n.componentView.playerView.options.title;return n.title=i,n}return r(e,t),e.prototype.events=function(){return{"click .editable-area-node":"triggerEditInteraction","mouseover .editable-area-node":"onNodeHover","mouseout .editable-area-node":"onNodeOut"}},e.prototype.triggerEditInteraction=function(){this.enabled&&(this.select(),this.componentView.handleEdit())},e.prototype.onNodeHover=function(){this.getBorder().removeClass("featured").addClass("featured")},e.prototype.onNodeOut=function(){this.selected||this.getBorder().removeClass("featured")},e.prototype.render=function(){return t.prototype.render.call(this),this.calculateProps(),this.$el.html(this.getTemplate()),this.configureEditAreaElement(),this.configureBorder(),this.configureNode(),this},e.prototype.show=function(){t.prototype.show.call(this),this.getNode().show(),this.getBorder().show()},e.prototype.hide=function(){t.prototype.hide.call(this),this.getNode().hide(),this.getBorder().hide()},e.prototype.setInitialZIndex=function(t){this.setCssZIndex(t),this.zIndex=t},e.prototype.setZIndex=function(t){var e=t+1;this.currentZIndex=e,this.setCssZIndex(e),this.componentView.setZIndex(t),this.setParentViewsZIndex(t)},e.prototype.resetZIndex=function(){this.currentZIndex=this.zIndex,this.setCssZIndex(this.zIndex),this.componentView.resetZIndex(),this.resetParentViewsZIndex()},e.prototype.enable=function(){this.enabled||(this.enabled=!0,this.getNode().removeClass("disabled").addClass("enabled"))},e.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.getNode().removeClass("enabled").addClass("disabled"))},e.prototype.select=function(){this.selected||(this.selected=!0,this.getNode().show(),this.getNode().addClass("selected"),this.getBorder().addClass("featured"),this.bringToFront(),this.moveIntoViewport(),this.componentView.pageEditView.hideNonSelectedNodes(),this.enableEditableAreaDeselection())},e.prototype.deselect=function(){var t;this.selected&&(this.selected=!1,this.getNode().removeClass("selected"),this.getBorder().removeClass("featured"),this.undoBringToFront(),this.moveToOriginalPosition(),(null===(t=this.parentEditableArea)||void 0===t?void 0:t.getType())===l.EditableAreaViewType.STACK&&this.getNode().hide(),this.componentView.pageEditView.showNonSelectedNodes())},e.prototype.featured=function(){this.show(),this.getNode().hide(),this.getBorder().addClass("featured")},e.prototype.unFeatured=function(){this.selected||this.getBorder().removeClass("featured")},e.prototype.isSelected=function(){return this.selected},e.prototype.getType=function(){return this.editAreaType},e.prototype.getComponentView=function(){return this.componentView},e.prototype.getTemplate=function(){return'\n      <div class="editable-area-node icon '+this.editAreaType+'"></div>\n      <div class="editable-area-border '+this.editAreaType+'"></div>\n    '},e.prototype.calculateProps=function(){this.resetCalculatedValues(),this.calculateTotalOffset(),this.calculateEditableAreaPosition(),this.calculateEditableAreaDimensions(),this.calculateNodePosition(),this.calculateNodeDimensions(),this.calculateNodeCenter(),this.calculateNodeFourPoints(),this.calculatePositionWithOffset(),this.calculateBorderPosition(),this.calculateBorderDimensions()},e.prototype.resetCalculatedValues=function(){this.node=JSON.parse(JSON.stringify(this.defaultNodeProps)),this.border=JSON.parse(JSON.stringify(this.defaultBorder)),this.offset=JSON.parse(JSON.stringify(this.defaultOffset))},e.prototype.calculateTotalOffset=function(){this.offset.total=this.offset.border+this.offset.node;var t=this.componentView.playerView.options.border;t&&t.width&&(this.offset.total+=t.width)},e.prototype.calculateEditableAreaPosition=function(){var t=this.componentView.playerView.getComponentAbsolutePosition();this.position.x=t.componentLeft-this.offset.total,this.position.y=t.componentTop-this.offset.total},e.prototype.calculatePositionWithOffset=function(){this.position.x<0&&(this.offset.onEdge.left=!0,this.offset.x=this.position.x-0,this.position.x=0);var t=this.node.dimensions.height;this.position.y<=t&&(this.offset.onEdge.top=!0,this.offset.y=this.position.y-t,this.position.y=t);var e=this.getPageWidth()-this.node.dimensions.width,n=e-this.calculateXFlipThreshold();this.position.x>n&&(this.offset.onEdge.right=!0),this.position.x>e&&(this.offset.x=this.position.x-e,this.position.x=e);var i=this.getPageHeight(),r=i-this.calculateYFlipThreshold();this.position.y>r&&(this.offset.onEdge.bottom=!0),this.position.y>=i&&(this.offset.onEdge.bottom=!0,this.offset.y=this.position.y-i,this.position.y=i)},e.prototype.calculateXFlipThreshold=function(){return 0},e.prototype.calculateYFlipThreshold=function(){return 0},e.prototype.calculateEditableAreaDimensions=function(){var t=this.componentView.playerView.options;this.dimensions.width=t.width+2*this.offset.total,this.dimensions.height=t.height+2*this.offset.total},e.prototype.calculateNodePosition=function(){this.node.position.x=this.position.x-(this.offset.onEdge.right?0:this.border.thickness),this.node.position.y=this.position.y-this.node.size+(this.offset.onEdge.top?0:this.border.thickness)},e.prototype.calculateNodeDimensions=function(){this.node.dimensions.width=this.node.size,this.node.dimensions.height=this.node.size},e.prototype.calculateNodeCenter=function(){this.node.center.x=this.node.position.x+this.node.dimensions.width/2,this.node.center.y=this.node.position.y+this.node.dimensions.height/2},e.prototype.calculateNodeFourPoints=function(){this.node.topLeft={x:this.node.position.x,y:this.node.position.y},this.node.topRight={x:this.node.position.x+this.node.dimensions.width,y:this.node.topLeft.y},this.node.bottomLeft={x:this.node.position.x,y:this.node.position.y+this.node.dimensions.height},this.node.bottomRight={x:this.node.position.x+this.node.dimensions.width,y:this.node.position.y+this.node.dimensions.height}},e.prototype.calculateBorderPosition=function(){this.border.position.x=this.offset.node+this.offset.x,this.border.position.y=this.offset.node+this.offset.y},e.prototype.calculateBorderDimensions=function(){var t=2*this.offset.border+this.componentView.playerView.options.width,e=2*this.offset.border+this.componentView.playerView.options.height;this.border.dimensions={width:t,height:e}},e.prototype.configureEditAreaElement=function(){this.$el.addClass("editable-area"),this.$el.attr("id",this.id),this.$el.css({left:this.position.x+"px",top:this.position.y+"px",width:this.dimensions.width+"px",height:this.dimensions.height+"px"});var t=this.componentView.playerView.options.rotation;s.CssUtils.setTransformToElement(this.$el,{rotate:t})},e.prototype.configureBorder=function(){this.getBorder().css({left:this.border.position.x+"px",top:this.border.position.y+"px",width:this.border.dimensions.width-2*this.border.thickness+"px",height:this.border.dimensions.height-2*this.border.thickness+"px"})},e.prototype.configureNode=function(){this.offset.onEdge.top&&this.getNode().css({top:-this.nodeSize+"px"}),this.enable()},e.prototype.getNode=function(){return this.$el.find("div.editable-area-node")},e.prototype.getBorder=function(){return this.$el.find("div.editable-area-border")},e.prototype.setParentViewsZIndex=function(t){var e=this.componentView.playerView.parentViews;e&&e.length>0&&this.componentView.playerView.parentViews.forEach((function(e){return e.setZIndex(t)}))},e.prototype.resetParentViewsZIndex=function(){var t=this.componentView.playerView.parentViews;t&&t.length>0&&this.componentView.playerView.parentViews.forEach((function(t){return t.resetZIndex()}))},e.prototype.bringToFront=function(){this.setZIndex(this.getNextHighestZIndex())},e.prototype.undoBringToFront=function(){this.resetZIndex()},e.prototype.getNextHighestZIndex=function(){return this.componentView.playerView.options.pageView.getHighestIndex()+1},e.prototype.enableEditableAreaDeselection=function(){var t=this;c.default(document).off("keyup").one("keyup",(function(e){u.default.isEscKeyPressed(e)&&(t.deselect(),e.stopPropagation())}))},e.prototype.setCssZIndex=function(t){this.$el.css("z-index",t)},e.prototype.moveIntoViewport=function(){if(this.isOnEdge()){var t,e;if(this.offset.onEdge.left&&(t=0,this.getBorder().css({left:"0px"})),this.offset.onEdge.top&&(e=0,this.getBorder().css({top:-this.nodeSize+"px"})),this.offset.onEdge.right)t=this.getPageWidth()-this.componentView.playerView.getCurrentValue("width"),this.$el.css("left",t+"px"),this.getBorder().css({left:"0px"}),this.getNode().css({left:"0px"});if(this.offset.onEdge.bottom){var n=this.getPageHeight(),i=this.componentView.playerView.getCurrentValue("height");e=n-i,this.getBorder().css({top:-i+"px"})}if(!!this.componentView.playerView.parentViews.length){var r=this.componentView.playerView.getComponentAbsolutePosition(),o={x:this.componentView.playerView.getCurrentValue("x"),y:this.componentView.playerView.getCurrentValue("y")};void 0!==t&&(t=o.x+t-r.componentLeft),void 0!==e&&(e=o.y+e-r.componentTop)}this.componentView.playerView._applyPosition(t,e)}},e.prototype.moveToOriginalPosition=function(){if(this.isOnEdge()){var t=this.componentView.playerView.getCurrentValue("x"),e=this.componentView.playerView.getCurrentValue("y");this.componentView.playerView._applyPosition(t,e),this.getBorder().css({left:this.border.position.x+"px",top:this.border.position.y+"px"}),this.$el.css("left",this.position.x+"px")}},e.prototype.getPageWidth=function(){return this.componentView.pageEditView.playerView.getPageWidth()},e.prototype.getPageHeight=function(){return this.componentView.pageEditView.playerView.getPageHeight()},e.prototype.isOnEdge=function(){return!!Object.values(this.offset.onEdge).find((function(t){return t}))},e}(a.default);e.EditableAreaView=d},function(t,e,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateManager=void 0;var o=r(n(45)),a=r(n(24)),s=function(){function t(){this.collection=null,this.isInInteractionPreviewMode=!1}return t.getInstance=function(){return t.instance=t.instance||new t,t.instance},t.setSelectedComponentCollection=function(e){t.getInstance().collection=e},t.setInteractionPreviewMode=function(e){t.getInstance().isInInteractionPreviewMode=e},t.getInteractionPreviewMode=function(){return!(!t.instance||!t.instance.collection)&&t.instance.isInInteractionPreviewMode},t.getSelectedState=function(){var e=t.getCollection();return e&&e.models.length>0?e.models[0].selectedState:o.default.OBJECT_STATES_DEFAULT},t.getSelectedStateName=function(){return t.getStateName(t.getSelectedState())},t.selectionHasGroupWithMixedStates=function(){var e=t.getCollection();return!!e&&e.hasGroupWithMixedStates()},t.getCollection=function(){return t.instance&&t.instance.collection?t.instance.collection:null},t.isDefaultState=function(t){return t===o.default.OBJECT_STATES_DEFAULT},t.isNonDefaultState=function(t){return!!t&&t!==o.default.OBJECT_STATES_DEFAULT},t.isInteractionState=function(t){return t===o.default.OBJECT_STATES_CLICK||t===o.default.OBJECT_STATES_HOVER},t.isUserDefinedState=function(e){return t.isNonDefaultState(e)&&!t.isInteractionState(e)},t.isDefaultStateSelected=function(){return t.isDefaultState(t.getSelectedState())},t.isNonDefaultStateSelected=function(){return t.isNonDefaultState(t.getSelectedState())},t.isInteractionStateSelected=function(){return t.isInteractionState(t.getSelectedState())},t.isUserDefinedStateSelected=function(){return t.isUserDefinedState(t.getSelectedState())},t.selectionSupportsObjectStates=function(){var e=t.getCollection();return!!e&&e.supportsObjectStates()},t.targetSupportsPreviewOnlyMode=function(t){return t.isGroup()||t.isSmartgroup()||t.isMaskGroup()},t.selectionSupportsPreviewOnlyMode=function(){if(this.getInteractionPreviewMode())return!0;var e=t.getCollection();return!!e&&(!!e.onlyOneComponentSelected()&&t.targetSupportsPreviewOnlyMode(e.models[0]))},t.targetSupportsLinkInteraction=function(t){return t.isGroup()},t.selectionSupportsLinkInteraction=function(){var e=t.getCollection();return!!e&&(!!e.onlyOneComponentSelected()&&t.targetSupportsLinkInteraction(e.models[0]))},t.getChangedAttributes=function(e){return e&&e.states&&t.isNonDefaultStateSelected()?e.states[t.getSelectedState()]:e},t.getStates=function(e){return i(t.getDefaultState(),t.getInteractionStates(e),t.getUserDefinedStates(e))},t.getDefaultState=function(){return[{title:"Default",value:o.default.OBJECT_STATES_DEFAULT}]},t.getInteractionStates=function(e){if(null===e)return[];var n=e||t.getCollection(),r=n?n.getExistingObjectStates():[],s=[{title:"Click",value:o.default.OBJECT_STATES_CLICK,stateExists:-1!==r.indexOf(o.default.OBJECT_STATES_CLICK),hasActiveProperties:!!n&&n.hasActiveStateProperties(o.default.OBJECT_STATES_CLICK)}];return"desktop"===a.default.getCurrentVariant()&&(s=i([{title:"Hover",value:o.default.OBJECT_STATES_HOVER,stateExists:-1!==r.indexOf(o.default.OBJECT_STATES_HOVER),hasActiveProperties:!!n&&n.hasActiveStateProperties(o.default.OBJECT_STATES_HOVER)}],s)),s},t.hasActiveStateProperties=function(e,n,i){var r=e||t.getCollection();return!!r&&r.hasActiveStateProperties(i,n)},t.getUserDefinedStates=function(e){if(null===e)return[];var n,i=t.getCollection();if(e&&(e.isFolderOrGroup()||e.isSmartgroup())){var r=e.getCollection().models;return t.getUserDefinedStatesForCollection(r)}if(e)n=e;else{if(!i||!i.isSingleComponentThatSupportsObjectStates()){if(i&&1===i.length&&(i.models[0].isGroup()||i.models[0].isSmartgroup())){r=i.models[0].getCollection().models;return t.getUserDefinedStatesForCollection(r)}return i&&i.length?t.getUserDefinedStatesForCollection():[]}n=i.models[0]}return n.getUserDefinedStates().map((function(t){return{title:t.title,value:t.id,hasActiveProperties:n.hasActiveStateProperties(t.id),stateExistsForAllSelections:!0}}))},t.getUserDefinedStatesForCollection=function(e){if(!e){var n=t.getCollection();if(!n)return[];e=n.models}if(!e.length)return[];var i=e.filter((function(t){return t.supportsObjectStates()||t.isMaskGroup()})).map(t.getUserDefinedStates);if(!i.length)return[];var r=[];return i.forEach((function(t){r.push.apply(r,t.filter((function(t){return!r.find((function(e){return e.title===t.title}))})))})),r.map((function(t){return{title:t.title,value:t.value,hasActiveProperties:e.some((function(e){return e.hasActiveStateProperties(t.value)})),stateExistsForAllSelections:e.every((function(e){return e.stateExists(t.value)}))}})).sort((function(t,e){return t.title>e.title?1:t.title<e.title?-1:0}))},t.createUserDefinedState=function(){var e=t.getCollection();return e&&this.selectionSupportsObjectStates()?e.addUserDefinedState():null},t.getStateName=function(e){var n=t.getUserDefinedStates();switch(e){case o.default.OBJECT_STATES_DEFAULT:return"Default";case o.default.OBJECT_STATES_HOVER:return"Hover";case o.default.OBJECT_STATES_CLICK:return"Click";default:var i=n.filter((function(t){return t.value===e}))[0];return i?i.title:""}},t}();e.ObjectStateManager=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(113)),a=function(t,e){var n=this;o.default.call(this,e),this.url=t;var i=!0;return e&&e.makeCORSCompatible&&this.image.setAttribute("crossOrigin","anonymous"),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.onerror=r.default.bind((function(){i?(!function(){try{var t=new URL(n.url);"0"!==t.searchParams.get("imageOpt")?(t.searchParams.set("imageOpt","0"),n.url=t.toString(),n.image.src=n.url):n.resourceReady.reject()}catch(t){n.resourceReady.reject()}}(),i=!1):this.resourceReady.reject()}),this),this.image.src=t,this};(a.prototype=Object.create(o.default.prototype)).constructor=a,e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(232)),s=i(n(29)),u=i(n(59)),l=i(n(114)),c=function(t,e,n,i,a){void 0===i&&(i=l.default.randomId()),void 0===a&&(a=!1),this.url=t,this.isPlayerOrPreviewer=a,this.shouldRenameCssClassesAndIds=n,this.queue=e,this.vectorImageResourceCache=new u.default,this.objectUrlPromiseCache=new u.default,this.xmlString=null,this.resourceReady=r.default.Deferred(),this.originalAspectRatio=null,this.loadImageXML(t).done(o.default.bind((function(t){this.xmlString=n&&!a?s.default.renameCssClassesAndIds(t,i):t,this.resourceReady.resolve(this)}),this)).fail(o.default.bind((function(){this.resourceReady.reject()}),this))};o.default.extend(c.prototype,{vectorImageResourceCache:null,objectUrlPromiseCache:null,getPromise:function(){return this.resourceReady.promise()},getOrCreateImageResource:function(t){var e=this.getCacheKey(t);if(this.imageResourceCacheHas(e))return this.getFromImageResourceCache(e);var n=this.createObjectURL(t),i=new a.default(n);return this.putInImageResourceCache(e,i),i},getImageResource:function(t){var e=this.getCacheKey(t);return this.getFromImageResourceCache(e)},imageResourceCacheHas:function(t){return this.vectorImageResourceCache.has(t)},getFromImageResourceCache:function(t){return this.vectorImageResourceCache.get(t)},putInImageResourceCache:function(t,e){this.vectorImageResourceCache.put(t,e)},objectUrlPromiseCacheHas:function(t){return this.objectUrlPromiseCache.has(t)},getFromObjectUrlPromiseCache:function(t){return this.objectUrlPromiseCache.get(t)},putInObjectUrlPromiseCache:function(t,e){this.objectUrlPromiseCache.put(t,e)},getCacheKey:function(t){return o.default.has(t,"gradient")?"gradient|"+o.default.get(t,"gradient.angle",null)+"|"+o.default.get(t,"gradient.stops[0].color",null)+"|"+o.default.get(t,"gradient.stops[1].color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",null):"solid|"+o.default.get(t,"color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",!1)},createObjectURL:function(t){var e=this.getCacheKey(t);if(this.objectUrlPromiseCacheHas(e))return this.getFromObjectUrlPromiseCache(e);var n=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var e=this.createXMLDoc(t);if(e){var i=s.default.createObjectURL(e);n.resolve(i)}else n.reject()}),this)),this.resourceReady.fail(n.reject),this.putInObjectUrlPromiseCache(e,n),n},createBlob:function(t){var e=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var n=this.createXMLDoc(t);if(n){var i=s.default.createBlob(n);e.resolve(i)}else e.reject()}),this)),this.resourceReady.fail(e.reject),e},createImageElement:function(t,e){return this.createObjectURL(t).then((function(t){return s.default.createImageElement(t,e)}))},createXMLDoc:function(t,e,n){var i,o=l.default.randomId();this.shouldRenameCssClassesAndIds&&this.isPlayerOrPreviewer&&(this.xmlString=s.default.renameCssClassesAndIds(this.xmlString,o));try{i=r.default.parseXML(this.xmlString)}catch(t){}if(!i||!r.default.isXMLDoc(i))return null;s.default.handleTitle(i,e,n);var a="CerosGradient_"+o,u={angle:0,stops:[{color:"#d1d1d1"},{color:"#d1d1d1"}]};t&&(t.color?(u=s.default.colorToGradient(t.color),s.default.updateSVGColorStyle(i,"url(#"+a+")")):t.gradient?(u=t.gradient,s.default.updateSVGColorStyle(i,"url(#"+a+")")):t.backgroundHasBeenSet&&s.default.updateSVGColorStyle(i,"rgba(0,0,0,0)")),s.default.addLinearGradient(i,a,u),s.default.removeIllegalNodes(i);var c=s.default.getImageAspectRatio(i);return this.originalAspectRatio=c,c&&c.width>0&&c.height>0&&s.default.setViewportDimensions(i,c.width,c.height),i},getOriginalAspectRatio:function(){return this.originalAspectRatio},loadImageXML:function(t){var e=r.default.Deferred();if(s.default.isDataURL(t))if(s.default.isVectorDataURL(t)){var n=s.default.convertToXMLString(t);e.resolve(n)}else e.reject();else this.queue?this.queue.add(t,e):s.default.fetchSvg(t,e);return e},getVectorImageResourceCache:function(){return this.vectorImageResourceCache},getObjectUrlPromiseCache:function(){return this.objectUrlPromiseCache}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(79)),u=!1,l={initialize:function(){!function(){if(!1!==u)return u;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(u=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",o.default.bind(l._showErrorInternal,l)),r.default(window).on("unload",(function(){u&&u.disconnect()}))}()},getConnection:function(){return u},_showErrorInternal:function(t){if("Unknown session ID"===t)return!1;var e="There was a problem connecting to the server.";return t&&(e=t).match(/\bOp apply failed/gi)&&(e="Your changes were unable to be saved."),this.showError(e)},showError:function(t){return this.readOnlyConnectionLimitExceededError||window.onerror(t,null,null),u&&(u.disconnect(),u=!1),!0},listenForReadOnlyConnectionLimitError:function(t){t.on("shout",o.default.bind((function(t){if(t){try{t=JSON.parse(t)}catch(t){return}"READONLY_CONNECTION_LIMIT_EXCEEDED"===t.name&&(this.readOnlyConnectionLimitExceededError=!0,s.default.show503())}}),this))}};e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(1)),s=i(n(3)),u=i(n(2)),l=i(n(4)),c=i(n(40)),d=i(n(238)),h=i(n(116)),f=i(n(64)),p=i(n(82)),g=i(n(81)),m=i(n(67)),v=i(n(46)),y=i(n(103)),_=i(n(83)),b=n(99);v.default=u.default.editMode?b.EditorViewportModule:v.default;var T=null,w=o.default.extend({},l.default.Events,{publishedEvents:{PLAYER_DOCUMENT_SHOWN:"player.document.shown"},setupInitialDom:function(){var t=a.default("html");s.default.mobile()?t.addClass("mobile"):t.addClass("desktop"),t.addClass(s.default.renderingEngine()),t.addClass(s.default.orientation()),s.default.retina()&&t.addClass("retina"),a.default(window).on(s.default.supportsOrientationChange()?"orientationchange":"resize",o.default.debounce(o.default.bind((function(){t.removeClass("portrait landscape"),t.addClass(s.default.orientation())}),this),100)),this.appendAccessibilityStyleOverrides();var e=a.default("body"),n=a.default("#main");p.default.shouldShow()&&n.append('<div id="chrome"></div>'),n.append('<div id="viewport"></div>'),n.append('<div id="flippers"></div>'),e.append('<div id="lightbox"></div>')},appendAccessibilityStyleOverrides:function(){u.default.shouldReduceMotion&&a.default("#main").addClass("ceros-no-animate")},attachModuleViews:function(t){a.default("#viewport").replaceWith(v.default.el()),a.default("#flippers").replaceWith(m.default.el()),a.default("#lightbox").replaceWith(y.default.el()),a.default("#main").append(g.default.el()),u.default.isEmbedded||(a.default("#chrome").replaceWith(p.default.el()),p.default.setTitle(t.get("title")))},setupAdaptiveLayoutsPreviewerSelectionView:function(){this.isUsingNativeTouchDevice()||this.initPreviewerSelectionView()},setupAdaptiveLayoutsPreviewerFrameView:function(){this.previewerFrame=this.initPreviewerFrameView()},setupAdaptiveLayoutsPreviewerTouchDeviceView:function(){this.isUsingNativeTouchDevice()&&!c.default.fullScreenMode&&c.default.setFullScreenMode(!0)},isUsingNativeTouchDevice:function(){return s.default.deviceType()!==s.default.DEVICE_TYPE_DESKTOP},showPreviewerFadingMessage:function(){var t=this.isUsingNativeTouchDevice();u.default.previewMode&&u.default.allowAdaptiveLayouts&&!t&&this.previewerFrame.showFadingHelpMessage()},initPreviewerSelectionView:function(){return new d.default({el:".previewer-selection-header"})},initPreviewerFrameView:function(){return new h.default({el:".adaptive-layouts-frame"})},showDocument:function(){p.default.shouldShow()&&(p.default.show(),p.default.initiallyHidden()&&p.default.hide()),g.default.shouldShow()&&g.default.show(),a.default("#main").addClass("document"),v.default.show(),m.default.show(),this.hideLoadingExperience(),this.trigger(this.publishedEvents.PLAYER_DOCUMENT_SHOWN)},showLoadingExperience:function(){T=f.default.showLoading(a.default("#main"),{whiteLabeling:u.default.whiteLabeling,showPreviewLabel:u.default.previewMode&&!u.default.editMode,showEditorLabel:u.default.editMode,overlayed:!1})},hideLoadingExperience:function(){T?T.destroy():r.default.warn("Showing document but never showed the loading experience")},show404:function(){this.showError({title:"Sorry, page not found",message:"Please check the url and<br/>try again"})},show503:function(){this.showError({title:"Previewer for this experience is currently unavailable due to an excessive number of requests",message:"Please try again later",imageCssClass:"error503"})},showError:function(t){this.hideLoadingExperience(),_.default.load(t),a.default("html").css({height:"100%"}),a.default("body").empty().css({display:"block",height:"100%"}).append(_.default.el())}});e.default=w},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(63)),a={isMetaKeyPressed:function(t){return r.default.isMac()?t.metaKey:t.ctrlKey},isAltKeyPressed:function(t){return t.altKey||t.which===o.default.ALT&&"keydown"===t.type},isCtrlKeyPressed:function(t){return t.ctrlKey},isCtrlOnWindowsOrAltOnMacsPressed:function(t){return r.default.isWindows()?t.ctrlKey:this.isAltKeyPressed(t)},isSemicolonKeyPressed:function(t){var e=r.default.mozilla?o.default.SEMICOLON_FIREFOX:o.default.SEMICOLON;return t.which===e},isMacCtrlKeyPressed:function(t){return!!r.default.isMac()&&t.ctrlKey},isDeleteKeyPressed:function(t){return t.which===o.default.DELETE},isBackspaceKeyPressed:function(t){return t.which===o.default.BACKSPACE},isEscKeyPressed:function(t){return t.which===o.default.ESC},isEnterKeyPressed:function(t){return t.which===o.default.ENTER},isArrowKey:function(t){return t==o.default.RIGHT_ARROW||t==o.default.LEFT_ARROW||t==o.default.UP_ARROW||t==o.default.DOWN_ARROW},isShiftKeyPressed:function(t){return t.shiftKey||t.which===o.default.SHIFT},isAKeyPressed:function(t){return t.which===o.default.A},isEKeyPressed:function(t){return t.which===o.default.E},isGKeyPressed:function(t){return t.which===o.default.G},isRKeyPressed:function(t){return t.which===o.default.R},isOptionRPressed:function(t){return a.isAltKeyPressed(t)&&a.isRKeyPressed(t)},isCommandZPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Z},isUndoCombinationPressed:function(t){return a.isCommandZPressed(t)&&!t.shiftKey},isCommandYPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Y},isCommandShiftQuotePressed:function(t){return a.isMetaKeyPressed(t)&&a.isShiftKeyPressed(t)&&t.which===o.default.SINGLE_QUOTE},isAltLPressed:function(t){return a.isAltKeyPressed(t)&&t.which===o.default.L},isCommandShiftZPressed:function(t){return a.isCommandZPressed(t)&&t.shiftKey},isRedoCombinationPressed:function(t){return a.isCommandYPressed(t)||a.isCommandShiftZPressed(t)},isHKeyPressed:function(t){return t.which===o.default.H},isPKeyPressed:function(t){return t.which===o.default.P},isInputNavigation:function(t){return-1!==[o.default.DELETE,o.default.BACKSPACE,o.default.TAB,o.default.ESCAPE,o.default.ENTER,o.default.SHIFT,o.default.CTRL,o.default.LEFT_CMD].indexOf(t.which)||-1!==[o.default.A,o.default.C,o.default.R,o.default.X,o.default.Z].indexOf(t.which)&&this.isMetaKeyPressed(t)||-1!==[o.default.HOME,o.default.END,o.default.LEFT_ARROW,o.default.RIGHT_ARROW].indexOf(t.which)},isZoomCommand:function(t){return this.isMetaKeyPressed(t)&&(t.which===o.default.EQUALS_WEBKIT||t.which===o.default.EQUALS_FF||t.which===o.default.MINUS_WEBKIT||t.which===o.default.MINUS_FF||t.which===o.default.ONE||t.which===o.default.ZERO)},isInteger:function(t){return t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105},isLetter:function(t){return t.keyCode>=65&&t.keyCode<=90},isSpace:function(t){return t.which===o.default.SPACE},isCharOrNumber:function(t){return a.isInteger(t)||a.isLetter(t)||a.isSpace(t)}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(21)),o=i(n(2)),a=i(n(260));t=new r.default.Module({id:"branding",version:"1.0",brandingView:null,publishedEvents:{BRANDING_CEROS_BRANDING_CLICK:"branding.ceros_branding.click"},delegate:{load:function(e){var n=o.default.themeObj.menuFgColor,i=o.default.themeObj.menuBgColor;return this.brandingView=new a.default({module:t,menuBackgroundColor:i,menuForegroundColor:n,menuHoverOpacity:o.default.themeObj.menuHoverOpacity,whiteLabeling:o.default.whiteLabeling}),this},shouldShow:function(){return!o.default.whiteLabeling},el:function(){return this.brandingView.$el},show:function(){this.brandingView&&this.brandingView.show()},getBrandingUrl:function(){return this.brandingView.poweredByUrl}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(21)),a=i(n(2)),s=i(n(3)),u=i(n(32)),l=i(n(262));t=new o.default.Module({id:"chrome",description:"Provides a menu bar user interface for the web player",version:"2.0",chromeView:null,publishedEvents:{CHROME_SHARE:"chrome.share",CHROME_SHARE_PAGE:"chrome.share.page",CHROME_SHOPPING_CART:"chrome.shopping_cart",CHROME_TITLE_CLICK:"chrome.title.click"},delegate:{load:function(e){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},n,e);var i=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,s=u.default.fromHex(i);return s.a=.1,this.chromeView=new l.default({module:t,menuBackgroundColor:o,menuBorderColor:s,menuForegroundColor:i,menuHoverOpacity:this.options.theme.menuHoverOpacity,allowCommerceIntegration:a.default.allowCommerceIntegration,commerceSettings:a.default.commerceSettings,showChromeMenu:this.options.theme.menuEnabled}),this},shouldShow:function(){return!a.default.isEmbedded&&a.default.themeObj.menuEnabled},initiallyHidden:function(){return s.default.mobile()},getHeight:function(){return this.chromeView.getHeight()},el:function(){return this.chromeView.$el},show:function(t){this.chromeView&&this.chromeView.show(t)},hide:function(t){this.chromeView&&this.chromeView.hide(t)},toggle:function(){this.chromeView&&this.chromeView.toggle()},setTitle:function(t){this.chromeView.setTitle(t)},setMenuLinkHrefs:function(t){this.chromeView.setMenuLinkHrefs(t)}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(21)),o=i(n(264));t=new r.default.Module({id:"Error",description:"Provides an error display module",version:"1.0",publishedEvents:{},dependencies:{},delegate:{load:function(t){this.errorView=new o.default({title:t.title,message:t.message,imageCssClass:t.imageCssClass})},el:function(){return this.errorView.$el}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsTsViewGlue=void 0;var r=i(n(0)),o=i(n(4));e.JsTsViewGlue=o.default.View.extend({constructor:function(t){this.options=t||{},this.subViews=[],o.default.View.call(this,t)},broadcast:r.default.clone(o.default.Events)})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZOOM_LEVELS=e.DEFAULT_ZOOM_LEVEL_INDEX=void 0;var a=o(n(272));e.DEFAULT_ZOOM_LEVEL_INDEX=0,e.ZOOM_LEVELS=[1,1.1,1.25,1.5,1.75,2,2.5,3,4];var s=function(t){function n(){var n=t.call(this)||this;return n.currentZoomLevelPosition=e.DEFAULT_ZOOM_LEVEL_INDEX,n}return r(n,t),n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.hasZoom=function(){return this.currentZoomLevelPosition!==e.DEFAULT_ZOOM_LEVEL_INDEX},n.prototype.canIncrementZoom=function(){return this.currentZoomLevelPosition!==e.ZOOM_LEVELS.length-1},n.prototype.canDecrementZoom=function(){return this.hasZoom()},n.prototype.getCurrentZoom=function(){return e.ZOOM_LEVELS[this.currentZoomLevelPosition]},n.prototype.resetZoom=function(){this.adjustZoom(e.ZOOM_LEVELS[e.DEFAULT_ZOOM_LEVEL_INDEX])},n.prototype.incrementZoom=function(){var t=this.currentZoomLevelPosition+1;t<e.ZOOM_LEVELS.length&&this.adjustZoom(e.ZOOM_LEVELS[t])},n.prototype.decrementZoom=function(){var t=this.currentZoomLevelPosition-1;t>=e.DEFAULT_ZOOM_LEVEL_INDEX&&this.adjustZoom(e.ZOOM_LEVELS[t])},n.prototype.adjustZoom=function(t){var n=e.ZOOM_LEVELS.indexOf(t);n!=this.currentZoomLevelPosition&&(this.currentZoomLevelPosition=n,this.trigger("zoom",t))},n}(a.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SCALE_EXPERIENCE_TYPE:{SCALE_TO_FOLD:"scale_to_fold",FULL_WIDTH:"full_width",NO_SCALING:"no_scaling"}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(21)),a=i(n(2)),s=n(275);t=new o.default.Module({id:"page",description:"",version:"1.0",dependencies:{splashScreen:"1.0"},publishedEvents:{PAGE_COMPONENT_INTERACTION:"page.component.interaction",PAGE_COMPONENT_HOVER_INTERACTION:"page.component.hover.interaction",PAGE_COMPONENT_CLICKED:"page.component.clicked",PAGE_COMPONENT_FORM_SUBMITTED:"page.component.form_submitted",PAGE_PRELOAD_READY:"page.preload_ready",PAGE_ACTIVATED:"page.activated",PAGE_SCROLL:"page.scroll",PAGE_ACTION_SCROLL_TO:"page.action.scroll_to",PAGE_ACTION_TOGGLE_REDUCED_MOTION:"page.action.toggle_reduced_motion",PAGE_ACTION_GO_TO_PREV_PAGE:"page.action.go_to_prev_page",PAGE_ACTION_GO_TO_NEXT_PAGE:"page.action.go_to_next_page",PAGE_ACTION_GO_TO_PAGE:"page.action.go_to_page",PAGE_ACTION_ENABLE_DISABLE_PAGES:"page.action.enable_disable_pages",PAGE_ACTION_GO_TO_URL:"page.action.go_to_url",PAGE_ACTION_OPEN_LIGHTBOX:"page.action.open_lightbox",PAGE_ACTION_OPEN_PRODUCT_PANEL:"page.action.open_product_panel",PAGE_ACTION_OPEN_SHOPPING_CART:"page.action.open_shopping_cart",PAGE_ACTION_LAYER_VISIBILITY:"page.action.layer_visibility",PAGE_ACTION_INVOKE_ANIMATION:"page.action.invoke.animation",PAGE_ACTION_PLAY_AUDIO:"page.action.play_audio",PAGE_ACTION_SHARE_PAGE:"page.action.share.page",PAGE_ACTION_CHANGE_STATE:"page.component.change_state",PAGE_VIDEO_PLAY:"page.video.play",PAGE_VIDEO_PROGRESS_TIME:"page.video.progress_time",PAGE_VIDEO_PROGRESS_PERCENT:"page.video.progress_percent",PAGE_RELOAD:"page.reload",PAGE_COMPONENT_ANIMATION_START:"page.component.animation.start",PAGE_COMPONENT_ANIMATION_END:"page.component.animation.end",TIMED_INTERACTION:"page.component.timed.interaction",PAGE_ACTION_BRING_TO_FRONT:"page.action.bring_to_front"},INTERACTION_TRIGGERS:{CLICK:"click",MOUSEDOWN:"mouseDown",MOUSEUP:"mouseUp",HOVER:"hover",VIEW:"view",SUBMIT:"submit"},delegate:{createPageView:function(e,n){var i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};return n=r.default.extend({enableLoadingThumbnail:!1,enableLoadingSpinner:!1,allowCommerceIntegration:a.default.allowCommerceIntegration},i,n||{}),new s.PageView(r.default.extend(n,{module:t,model:e}))}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebkitUtils=void 0;var r=n(27),o=i(n(3)),a=function(){function t(){}return t.hardwareAccelerateTransform=function(t){var e={translate3d:{x:0,y:0,z:0}};if("string"==typeof t)return r.CssUtils.setTransformProperty(t,e);r.CssUtils.setTransformToElement(t,e)},t.requiresHardwareAccelerateTransform=function(t,e){return o.default.isDesktopSafari()||o.default.isIos()&&(t||e)},t}();e.WebkitUtils=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageEffects=e.EffectName=void 0;var r,o=i(n(0));!function(t){t.CONTRAST="contrast",t.BRIGHTNESS="brightness",t.HUEROTATE="hue-rotate",t.SATURATE="saturate",t.SEPIA="sepia",t.INVERT="invert"}(r=e.EffectName||(e.EffectName={}));var a=function(){function t(){}return t.defaultValueOf=function(e){switch(e){case t.BRIGHTNESS.NAME:return t.BRIGHTNESS.DEFAULT;case t.CONTRAST.NAME:return t.CONTRAST.DEFAULT;case t.HUEROTATE.NAME:return t.HUEROTATE.DEFAULT;case t.SATURATE.NAME:return t.SATURATE.DEFAULT;case t.SEPIA.NAME:return t.SEPIA.DEFAULT;case t.INVERT.NAME:return t.INVERT.DEFAULT;default:return null}},t.getEffectsApplicationOrder=function(){return[this.BRIGHTNESS.NAME,this.CONTRAST.NAME,this.HUEROTATE.NAME,this.SATURATE.NAME,this.SEPIA.NAME,this.INVERT.NAME]},t.computeBrowserImageFilter=function(t){return this.getEffectsApplicationOrder().map((function(e){return t[e]})).join(" ").trim()},t.isDefaultEffects=function(t){return o.default.isEqual(this.getDefaults(),t)},t.getDefaults=function(){var t={};return t[this.BRIGHTNESS.NAME]=this.BRIGHTNESS.DEFAULT,t[this.CONTRAST.NAME]=this.CONTRAST.DEFAULT,t[this.HUEROTATE.NAME]=this.HUEROTATE.DEFAULT,t[this.SATURATE.NAME]=this.SATURATE.DEFAULT,t[this.SEPIA.NAME]=this.SEPIA.DEFAULT,t[this.INVERT.NAME]=this.INVERT.DEFAULT,t},t.BRIGHTNESS={NAME:r.BRIGHTNESS,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.CONTRAST={NAME:r.CONTRAST,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.HUEROTATE={NAME:r.HUEROTATE,MIN:-180,MAX:180,DEFAULT:0,UNIT:"deg"},t.SATURATE={NAME:r.SATURATE,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.SEPIA={NAME:r.SEPIA,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t.INVERT={NAME:r.INVERT,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t}();e.ImageEffects=a},function(t,e,n){"use strict";var i;(function(r){var o,a,s=Math.round,u={},l=t.exports,c=/^\/?Date\((\-?\d+)/i,d=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,h=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,f=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,p=/\d\d?/,g=/\d{1,3}/,m=/\d{3}/,v=/\d{1,4}/,y=/[+\-]?\d{1,6}/,_=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,b=/Z|[\+\-]\d\d:?\d\d/i,T=/T/i,w=/[\+\-]?\d+(\.\d{1,3})?/,S=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],O=/([\+\-]|\d\d)/gi,C="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),A={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},P={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},I={},x="DDD w W M D d".split(" "),M="M D H h m s w W".split(" "),k={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return U(this.year()%100,2)},YYYY:function(){return U(this.year(),4)},YYYYY:function(){return U(this.year(),5)},gg:function(){return U(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return U(this.weekYear(),5)},GG:function(){return U(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return U(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return U(~~(this.milliseconds()/10),2)},SSS:function(){return U(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+U(~~(t/60),2)+":"+U(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+U(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};function D(t,e){return function(n){return U(t.call(this,n),e)}}function R(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}for(;x.length;)a=x.pop(),k[a+"o"]=R(k[a],a);for(;M.length;)a=M.pop(),k[a+a]=D(k[a],2);function N(){}function L(t){F(this,t)}function V(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,o=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,s=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*s+6e4*a+36e5*o,this._days=r+7*i,this._months=n+12*e,this._data={},this._bubble()}function F(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function j(t){return t<0?Math.ceil(t):Math.floor(t)}function U(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function B(t,e,n,i){var r,a,s=e._milliseconds,u=e._days,l=e._months;s&&t._d.setTime(+t._d+s*n),(u||l)&&(r=t.minute(),a=t.hour()),u&&t.date(t.date()+u*n),l&&t.month(t.month()+l*n),s&&!i&&o.updateOffset(t),(u||l)&&(t.minute(r),t.hour(a))}function H(t){return"[object Array]"===Object.prototype.toString.call(t)}function G(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;n<i;n++)~~t[n]!=~~e[n]&&o++;return o+r}function W(t){return t?P[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function z(t){if(!t)return o.fn._lang;if(!u[t]&&l)try{n(299)("./"+t)}catch(t){return o.fn._lang}return u[t]}function $(t,e){var n=5;function i(e){return t.lang().longDateFormat(e)||e}for(;n--&&f.test(e);)e=e.replace(f,i);return I[e]||(I[e]=function(t){var e,n,i,r=t.match(h);for(e=0,n=r.length;e<n;e++)k[r[e]]?r[e]=k[r[e]]:r[e]=(i=r[e]).match(/\[.*\]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(i){var o="";for(e=0;e<n;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}(e)),I[e](t)}function Y(t,e){switch(t){case"DDDD":return m;case"YYYY":return v;case"YYYYY":return y;case"S":case"SS":case"SSS":case"DDD":return g;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return _;case"a":case"A":return z(e._l)._meridiemParse;case"X":return w;case"Z":case"ZZ":return b;case"T":return T;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return p;default:return new RegExp(t.replace("\\",""))}}function q(t){var e=((b.exec(t)||[])[0]+"").match(O)||["-",0,0],n=60*e[1]+~~e[2];return"+"===e[0]?-n:n}function X(t,e,n){var i,r=n._a;switch(t){case"M":case"MM":r[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":null!=(i=z(n._l).monthsParse(e))?r[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":n._isPm=z(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=q(e)}null==e&&(n._isValid=!1)}function K(t){var e,n,i=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];i[3]+=~~((t._tzm||0)/60),i[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),t._d=n}}function Z(t){var e,n,i=t._f.match(h),r=t._i;for(t._a=[],e=0;e<i.length;e++)(n=(Y(i[e],t).exec(r)||[])[0])&&(r=r.slice(r.indexOf(n)+n.length)),k[i[e]]&&X(i[e],n,t);r&&(t._il=r),t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),K(t)}function J(t){var e=t._i,n=c.exec(e);e===r?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof e?function(t){var e,n=t._i,i=S.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;e<4;e++)if(E[e][1].exec(n)){t._f+=E[e][0];break}b.exec(n)&&(t._f+=" Z"),Z(t)}else t._d=new Date(n)}(t):H(e)?(t._a=e.slice(0),K(t)):t._d=e instanceof Date?new Date(+e):new Date(e)}function Q(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function tt(t,e,n){var i,r=n-e,a=n-t.day();return a>r&&(a-=7),a<r-7&&(a+=7),i=o(t).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function et(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=z().preparse(e)),o.isMoment(e)?(t=F({},e))._d=new Date(+e._d):n?H(n)?function(t){var e,n,i,r,o,a=99;for(r=0;r<t._f.length;r++)(e=F({},t))._f=t._f[r],Z(e),n=new L(e),o=G(e._a,n.toArray()),n._il&&(o+=n._il.length),o<a&&(a=o,i=n);F(t,i)}(t):Z(t):J(t),new L(t))}function nt(t,e){o.fn[t]=o.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),o.updateOffset(this),this):this._d["get"+n+e]()}}for(k.DDDD=D(k.DDD,3),N.prototype={set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=o([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=o([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return tt(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},(o=function(t,e,n){return et({_i:t,_f:e,_l:n,_isUTC:!1})}).utc=function(t,e,n){return et({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},o.unix=function(t){return o(1e3*t)},o.duration=function(t,e){var n,i,r=o.isDuration(t),a="number"==typeof t,s=r?t._input:a?{}:t,u=d.exec(t);return a?e?s[e]=t:s.milliseconds=t:u&&(n="-"===u[1]?-1:1,s={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),i=new V(s),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},o.version="2.1.0",o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.updateOffset=function(){},o.lang=function(t,e){if(!t)return o.fn._lang._abbr;e?function(t,e){e.abbr=t,u[t]||(u[t]=new N),u[t].set(e),u[t]}(t,e):u[t]||z(t),o.duration.fn._lang=o.fn._lang=z(t)},o.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),z(t)},o.isMoment=function(t){return t instanceof L},o.isDuration=function(t){return t instanceof V},o.fn=L.prototype={clone:function(){return o(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return $(o(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!G(this._a,(this._isUTC?o.utc(this._a):o(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=$(this,t||o.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return B(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),1),this},subtract:function(t,e){return B(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),-1),this},diff:function(t,e,n){var i,r,a=this._isUTC?o(t).zone(this._offset||0):o(t).local(),s=6e4*(this.zone()-a.zone());return"year"===(e=W(e))||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-o(this).startOf("month")-(a-o(a).startOf("month")))/i,r-=6e4*(this.zone()-o(this).startOf("month").zone()-(a.zone()-o(a).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:j(r)},from:function(t,e){return o.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(o(),t)},calendar:function(){var t=this.diff(o().startOf("day"),"days",!0),e=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().weekdaysParse(t))?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?("string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))||(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),o.updateOffset(this)),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=W(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+o(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+o(t).startOf(e)},isSame:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)==+o(t).startOf(e)},min:function(t){return(t=o.apply(null,arguments))<this?this:t},max:function(t){return(t=o.apply(null,arguments))>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=q(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&B(this,o.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return o.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=s((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=tt(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=tt(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===r?this._lang:(this._lang=z(t),this)}},a=0;a<C.length;a++)nt(C[a].toLowerCase().replace(/s$/,""),C[a]);function it(t){o.duration.fn[t]=function(){return this._data[t]}}function rt(t,e){o.duration.fn["as"+t]=function(){return+this/e}}for(a in nt("year","FullYear"),o.fn.days=o.fn.day,o.fn.months=o.fn.month,o.fn.weeks=o.fn.week,o.fn.isoWeeks=o.fn.isoWeek,o.fn.toJSON=o.fn.toISOString,o.duration.fn=V.prototype={_bubble:function(){var t,e,n,i,r=this._milliseconds,o=this._days,a=this._months,s=this._data;s.milliseconds=r%1e3,t=j(r/1e3),s.seconds=t%60,e=j(t/60),s.minutes=e%60,n=j(e/60),s.hours=n%24,o+=j(n/24),s.days=o%30,a+=j(o/30),s.months=a%12,i=j(a/12),s.years=i},weeks:function(){return j(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e,n,i,r,o,a,u,l,c,d=+this,h=(e=d,n=!t,i=this.lang(),r=s(Math.abs(e)/1e3),o=s(r/60),a=s(o/60),u=s(a/24),l=s(u/365),(c=r<45&&["s",r]||1===o&&["m"]||o<45&&["mm",o]||1===a&&["h"]||a<22&&["hh",a]||1===u&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",s(u/30)]||1===l&&["y"]||["yy",l])[2]=n,c[3]=e>0,c[4]=i,Q.apply({},c));return t&&(h=this.lang().pastFuture(d,h)),this.lang().postformat(h)},add:function(t,e){var n=o.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=o.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=W(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=W(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:o.fn.lang},A)A.hasOwnProperty(a)&&(rt(a,A[a]),it(a.toLowerCase()));rt("Weeks",6048e5),o.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},o.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),l&&(t.exports=o),"undefined"==typeof ender&&(this.moment=o),(i=function(){return o}.apply(e,[]))===r||(t.exports=i)}).call(this)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VideoComponentView=void 0;var c=l(n(0)),d=l(n(1)),h=l(n(6)),f=l(n(2)),p=l(n(3)),g=n(23),m=l(n(143)),v=l(n(304)),y=l(n(306)),_=l(n(8)),b=n(307),T=n(26),w=n(319),S=l(n(15)),E=f.default.mediaDomainMap?c.default.invert(f.default.mediaDomainMap):null,O=[10,20,30,40,50,60,70,80,90,100],C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isVideoReady=!1,e.playedOnce=!1,e.isAutoPaused=!1,e.isManuallyPaused=!1,e.isRewound=!1,e.hasManualPauseDetectionBeenBound=!1,e.isMobile=!1,e}var n;return r(e,t),n=e,e.prototype.initialize=function(e){var n;t.prototype.initialize.call(this,e),this.areMediaPropertiesSet()&&(this.videoSlug=null===(n=this.options.video)||void 0===n?void 0:n.substr(this.options.video.lastIndexOf("/")+1),this.isVideoReady=!1,this.posterLoader=this.options.posterLoader,this.tapToPlay=void 0===this.options.tapToPlay||this.options.tapToPlay,this.muted=void 0!==this.options.muted&&this.options.muted,this.initializePoster(),f.default.previewMode&&(this.mediaLoadingScreen=new m.default({height:this.options.height,isImage:!1}),this.$el.append(this.mediaLoadingScreen.$el)),this.posterLoader&&(this.posterLoader.onImageLoaded(this.attachMedia,this),f.default.previewMode&&this.posterLoader.onImageLoaded(this.hideMediaLoadingScreen,this)))},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype.onActivationStart=function(){var t;null===(t=this.videoTracker)||void 0===t||t.enableTracking()},e.prototype.areMediaPropertiesSet=function(){return!(!this.options.video||!this.options.poster)},e.prototype.attachMedia=function(){return s(this,void 0,Promise,(function(){var t,e,n=this;return u(this,(function(i){return t=new d.default.Deferred,this.areMediaPropertiesSet()&&(e=this.getPosterFrameResource())?e.loadNow().done((function(e){var i;n.$poster.attr("src",e.getSrc()),null===(i=n.videoHandle)||void 0===i||i.poster(e.getSrc()),t.resolve()})):t.resolve(),[2,t]}))}))},e.prototype.getPosterFrameResource=function(){var t=null;return this.posterLoader&&((t=this.posterLoader.getCurrentResource())||h.default.warn("Poster image should have been added to resource loader during preload")),t},e.prototype.doTriggerOnScroll=function(){return!0},e.prototype.getPosterFrameSrc=function(){return this.posterLoader?this.posterLoader.getCurrentUrl():""},e.prototype.initializePoster=function(){this.$poster=d.default("<img>",{width:"100%",height:"100%",position:"absolute",top:0,left:0,alt:""}),this.$el.append(this.$poster)},e.prototype.onActivationEnd=function(){this.hidePosterAndShowVideo(),this.bindVideoElementPauseAndPlayForManualPauseDetection(),!this.canAutoplay()||this.isManuallyPaused||f.default.shouldReduceMotion||(this.play(),this.videoHandle.autoplay(!0))},e.prototype.onExitStart=function(){this.hideVideoAndShowPoster(),this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.getVideoFormats=function(){return[{format:"hls-playlist",type:"vnd.apple.mpegurl"},{format:"original",type:"mp4"},{format:"h264-high",type:"mp4"},{format:"h264-low",type:"mp4"}]},e.prototype.getResolvedVideoUrlForFormat=function(t){var e=this.options.videoMedia,n=null;if(e){var i=e.encodings;if(!i[t])return null;n=i[t],E&&(n=_.default.makeUrlAbsolute(n),n=_.default.replaceProtocolIfHttpsRequest(n),n=this.switchAmazonDomainInUrl(n))}return void 0===n&&(h.default.warn("Resolved video not found!",n),n=this.options.video+"/redirect/"+t),n},e.prototype.switchAmazonDomainInUrl=function(t){var e=t.match(/https?:\/\/(([a-z0-9-]*)\.[^\/]*)/i);if(e){var n=e[1],i=e[2];c.default.has(E,i)&&(t=t.replace(n,E[i]))}return t},e.prototype.setVideoSources=function(){var t=this;this.getVideoFormats().forEach((function(e){var n=t.getResolvedVideoUrlForFormat(e.format);if(n){var i="video/"+e.type;"hls-playlist"!==e.format&&"dash-playlist"!==e.format||(i="application/"+e.type),t.$vid.append(d.default("<source>",{src:n,type:i}))}}))},e.prototype.isLoopForever=function(){return this.options.videoAutoPlay&&this.options.videoLoop},e.prototype.isShowControls=function(){return!this.options.videoAutoPlay||!this.options.videoHideControls},e.prototype.hideVideo=function(){this.videoHandle&&this.videoHandle.hide()},e.prototype.showVideo=function(){this.videoHandle&&this.videoHandle.show()},e.prototype.hideVideoAndShowPoster=function(){var t;this.videoHandle&&!this.getCurrentTime()&&(this.isVideoReady&&this.hideVideo(),null===(t=this.$poster)||void 0===t||t.show())},e.prototype.hidePosterAndShowVideo=function(){var t;null===(t=this.$poster)||void 0===t||t.hide(),this.isVideoReady&&this.showVideo()},e.prototype.isPlaying=function(){return!!this.videoHandle&&!this.isVideoHandleEnded()&&!this.isVideoHandlePaused()&&this.getCurrentTime()>0},e.prototype.isEnded=function(){return!!this.isVideoReady&&this.isVideoHandleEnded()},e.prototype.setCurrentTime=function(t){this.isVideoReady&&this.videoHandle.currentTime(t)},e.prototype.getCurrentTime=function(){return this.isVideoReady?this.videoHandle.currentTime():0},e.prototype.reset=function(){t.prototype.reset.call(this),this.pauseAnyVideoAndRewindAutoPlayingVideo(),this.isRewound&&this.options.videoAutoPlay&&(this.isManuallyPaused=!1)},e.prototype.whenLeavingVisibleBoundaries=function(){void 0===this.isPinned&&(this.isPinned=this.options.fixedPosition||!(!this.options.parentSmartGroup||!this.options.parentSmartGroup.fixedPosition),!this.isPinned&&this.parentViews&&(this.isPinned=this.parentViews.some((function(t){return t.options.fixedPosition})))),this.isPinned||(t.prototype.whenLeavingVisibleBoundaries.call(this),this.disableVideoTrackingAndAutoPlayingVideo())},e.prototype.disableVideoTrackingAndAutoPlayingVideo=function(){this.disableVideoTracking(),this.options.videoAutoPlay&&this.pauseAnyVideoAndRewindAutoPlayingVideo()},e.prototype.disableVideoTracking=function(){this.videoTracker&&this.videoTracker.disableTracking()},e.prototype.pauseAnyVideoAndRewindAutoPlayingVideo=function(){this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.rewindEndedAutoplayingVideo=function(){this.options.videoAutoPlay&&this.isEnded()&&(this.setCurrentTime(0),this.isRewound=!0)},e.prototype.loadAndShowVideo=function(){this.isVideoReady?this.hidePosterAndShowVideo():((p.default.isIos()||"none"===this.videoHandle.preload())&&(this.isVideoReady=!0),this.bindVideoElementPauseAndPlayForManualPauseDetection())},e.prototype.play=function(){var t=this;this.loadAndShowVideo(),this.videoTracker&&this.videoTracker.enableTracking(),this.isVideoReady?this.videoHandle.play():this.on(n.EVENTS.VIDEO_READY,(function(){t.isVideoReady=!0,t.videoHandle.play()})),this.isRewound=!1},e.prototype.autoPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!0,this.videoHandle.pause())},e.prototype.getElementWidth=function(){return this.options.width},e.prototype.getElementHeight=function(){return this.options.height},e.prototype.render=function(){return t.prototype.render.call(this),this.isMobile=["mobile","tablet"].includes(S.default.getVariant())||p.default.mobile(),this.buildVideoElement(),this},e.prototype.buildVideoElement=function(){var t="none";this.initiallyVisible&&this.areAllParentsInitiallyVisible()&&this.options.pageView.isTop()&&(t="auto");var e={id:"vid-"+this.id,width:"100%",height:"100%",poster:this.getPosterFrameSrc(),preload:t,"webkit-playsinline":!0,playsinline:!0,type:"application/x-mpegURL"};this.muted&&(e.muted=!0),this.isLoopForever()&&(e.loop=!0),this.$vid=d.default("<video>",e),this.$vid.addClass("video-js vjs-default-skin vjs-big-play-centered vjs-show-big-play-button-on-pause vjs-ceros-theme"),this.isMobile&&this.$vid.addClass("video-mobile"),this.$vid.prop({controls:this.isShowControls(),muted:this.muted}),this.canAutoplay()&&this.$vid.addClass("hide-big-play-button"),this.options.closedCaptionsUrl&&(this.$vid.addClass("video-has-captions"),this.$vid.append('<track  \n            kind="captions"\n            label="Video Captions" \n            src="'+this.options.closedCaptionsUrl+'" />')),this.$poster&&(this.$poster.after(this.$vid),this.$poster.css("display","none")),this.initializeVideoJS();var n=new v.default(this.videoHandle),i=c.default.get(this.options,"videoMedia.duration");this.videoTracker=new y.default(n,i),this.configureVideoTrackerEvents(),this.configureVideoReadyEvents(),this.updateVideoJSAccessibilityFeatures()},e.prototype.applyChanges=function(e){this.videoHandle.dispose(),this.hasManualPauseDetectionBeenBound=!1,t.prototype.applyChanges.call(this,e)},e.prototype.manuallyPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!1,this.videoHandle.pause())},e.prototype.isPaused=function(){return this.videoHandle.paused()},e.prototype.configureVideoTrackerEvents=function(){var t=this;this.videoTracker.on(this.videoTracker.EVENTS.PLAY,(function(e){e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PLAY,e)})),this.options.videoLoop||(this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_TIME,(function(e){e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_TIME,e)})),this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_PERCENT,(function(e){O.includes(e.progressPercent)&&(e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,e))})))},e.prototype.addCommonVideoEventData=function(t){return o(o({},t),{componentName:this.options.title,sdkTags:this.options.sdkTags,sdkPayload:this.options.sdkPayload})},e.prototype.bindVideoElementPauseAndPlayForManualPauseDetection=function(){var t=this;this.hasManualPauseDetectionBeenBound||(this.videoHandle.on("pause",(function(){t.onVideoPause()})),this.videoHandle.on("play",(function(){t.playedOnce=!0,t.onVideoPlay()})),this.hasManualPauseDetectionBeenBound=!0)},e.prototype.onVideoPause=function(){this.isManuallyPaused=!this.isAutoPaused},e.prototype.onVideoPlay=function(){this.isManuallyPaused=!1,this.isAutoPaused=!1},e.prototype.triggerEvent=function(t,e){var n=o({componentSlug:this.options.id,videoSlug:this.videoSlug,pageSlug:this.options.pageView.model.get("slug")},e);this.getModule().trigger(t,n)},e.prototype.canAutoplay=function(){return!!this.options.videoAutoPlay&&(!this.tapToPlay||this.playedOnce)},e.prototype._applyRotation=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBackground=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBorder=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._configureAction=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.setAriaRole=function(){this.hasAccessibilityFeature&&this.options.ariaLabel?(this.$el.attr("role","region"),this.$el.attr("tabIndex","-1")):(this.$el.removeAttr("role"),this.$el.removeAttr("tabIndex"))},e.prototype.updateVideoJSAccessibilityFeatures=function(){this.hasAccessibilityFeature&&(this.videoHandle.removeAttribute("aria-label"),this.videoHandle.removeAttribute("role"),this.videoHandle.removeAttribute("tabIndex"))},e.prototype.initializeVideoJS=function(){var t=this;this.setVideoSources();var e=this.options.pageView,n={aspectRatio:Math.floor(this.options.width)+":"+Math.floor(this.options.height),fluid:!0,getExperienceScale:function(){var t=e.getScaleContext().ratio,n=e.scaleContext.useZoom(t);return{scale:t,zoomScale:n?t:1,transformScale:n?1:t}}},i={mobile:!0,nativeTextTracks:p.default.isIphone()&&!!this.options.closedCaptionsUrl};if(this.isMobile&&this.isShowControls()){this.videoHandle=b.Video(this.$vid.get(0),n,i,(function(){p.default.isIphone()&&t.options.closedCaptionsUrl&&(d.default("track",t.$vid)[0].track.mode="disabled"),t.isVideoReady=!0;var e=new w.BigPauseButton(t.videoHandle,{clickHandler:function(){t.isAutoPaused=!1,t.videoHandle.pause()}});t.$(".vjs-big-play-button").after(e.el()),t.reorderVideoControls(),t.applyInverseScalingToVideoControls()}))}else this.videoHandle=b.Video(this.$vid.get(0),n)},e.prototype.configureVideoReadyEvents=function(){var t=this;this.$vid.on("progress load canplaythrough",(function(){t.getVideoHandleReadyState()>1&&(t.isVideoReady=!0,t.canAutoplay()&&t.hidePosterAndShowVideo(),t.trigger(n.EVENTS.VIDEO_READY),t.$vid.off("progress load canplaythrough"))}))},e.prototype.getVideoHandleReadyState=function(){return this.videoHandle.readyState()},e.prototype.isVideoHandlePaused=function(){return this.videoHandle.paused()},e.prototype.isVideoHandleEnded=function(){return this.videoHandle.ended()},e.prototype.reorderVideoControls=function(){var t=d.default('<div class="video-time-wrapper"></div>');this.$(".vjs-volume-panel").after(t),this.$(".vjs-control-bar > .vjs-time-control").appendTo(t);var e=d.default('<div class="video-left-wrapper"></div>');e.appendTo(this.$(".vjs-control-bar")),this.$(".vjs-volume-panel, .video-time-wrapper").appendTo(e);var n=d.default('<div class="video-right-wrapper"></div>');n.appendTo(this.$(".vjs-control-bar")),this.$(".vjs-fullscreen-control, .vjs-subs-caps-button").appendTo(n)},e.prototype.applyInverseScalingToVideoControls=function(){var t=this.options.pageView.getScaleContext().ratio;this.$(".video-left-wrapper, .video-right-wrapper").css("transform","scale("+1/t+")"),this.$(".vjs-control-bar").css("height",55/t+"px"),this.$(".vjs-progress-control").css({top:8/t,height:3/t})},e.EVENTS={VIDEO_READY:"video_ready"},e=n=a([T.BackboneShim({type:"video",tagName:"div",className:null,defaults:{tapToPlay:!0,muted:!1,$vid:null}})],e)}(g.AbstractComponentView);e.VideoComponentView=C},function(t,e,n){"use strict";function i(t){if(null===t)return{top:0,left:0};var e=0,n=0;do{e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent}while(t);return{top:n,left:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.getPointerPosition=e.findPosition=e.getBoundingClientRect=e.getOffsetPosition=void 0,e.getOffsetPosition=i,e.getBoundingClientRect=function(t,e){void 0===e&&(e=1);var n=t.getBoundingClientRect();return{top:n.top*e,left:n.left*e,width:n.width*e,height:n.height*e}},e.findPosition=function(t,e){void 0===e&&(e=1);var n=i(t),r=n.top,o=n.left;return{left:Math.round(r)*e,top:Math.round(o)*e}},e.getPointerPosition=function(t,e,n){void 0===n&&(n=1);var i={x:0,y:0},r=t.getBoundingClientRect(),o=r.top,a=r.left,s=r.width,u=r.height,l=e.pageY/n,c=e.pageX/n;return e.changedTouches&&(c=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(o-l+u)/u)),i.x=Math.max(0,Math.min(1,(c-a)/s)),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnimateSVGUtil=void 0;var i=n(149),r=function(){function t(){}return t.getSplineStringFromEasing=function(t,e){return this.getSplineFromEasing(t,e).map((function(t){return t.join(" ")})).join(";")},t.getSplineFromEasing=function(t,e){var n=this.getBezierPointsForEasing(t);if(!e)return[n];switch(t){case i.Easing.easeInOut:return[[.21,0,.355,.25],[.645,.75,.79,1]];case i.Easing.ease:return[[.125,.05,.1875,.3],[.4375,.775,.625,1]];case i.Easing.easeIn:case i.Easing.easeOut:case i.Easing.linear:default:return[[0,0,n[0],n[1]],[n[2],n[3],1,1]]}},t.getBezierPointsForEasing=function(t){switch(t){case i.Easing.ease:return[.25,.1,.25,1];case i.Easing.easeIn:return[.42,0,1,1];case i.Easing.easeOut:return[0,0,.58,1];case i.Easing.easeInOut:return[.42,0,.58,1];case i.Easing.linear:default:return[0,0,1,1]}},t.animateGradientRotation=function(e,n){var i=t.getRotateKeyframes(e,n).map((function(e){return t.getGradientXYFromAngle(e)}));return{x1:i.map((function(t){return t.x1+"%"})).join(";"),y1:i.map((function(t){return t.y1+"%"})).join(";"),x2:i.map((function(t){return t.x2+"%"})).join(";"),y2:i.map((function(t){return t.y2+"%"})).join(";")}},t.animatePointsForMultiple=function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e.animatePointsForSingle([t[i].from,t[i].to])})),n},t.animatePointsForSingle=function(t){return t.join(";")},t.getRotateKeyframes=function(t,e){return e%=360,[t%=360,Math.abs(t-e)>180?(t+(e+360))/2%360:(t+e)/2,e]},t.getGradientXYFromAngle=function(t){var e=t*(Math.PI/180);return{x1:Math.round(50+50*Math.sin(e+Math.PI)),x2:Math.round(50+50*Math.sin(e)),y1:Math.round(50+50*Math.cos(e)),y2:Math.round(50+50*Math.cos(e+Math.PI))}},t.getAngleFromGradientXY=function(t,e,n,i){var r=n-t,o=i-e;return(Math.atan2(o,r)+Math.PI/2)*(180/Math.PI)},t.createAnimationElement=function(t,e,n,i){var r=e?"0;0.5;1":"0;1",o=document.createElementNS("http://www.w3.org/2000/svg","animate");return o.setAttributeNS(null,"attributeName",t),o.setAttributeNS(null,"fill","freeze"),o.setAttributeNS(null,"keyTimes",r),o.setAttributeNS(null,"calcMode","spline"),o.setAttributeNS(null,"values",n),o.setAttributeNS(null,"keySplines",i),o},t.renderGradientAnimation=function(e,n,i,r){if(r){var o=n[0],a=o.x1,s=o.x2,u=o.y1,l=o.y2,c=t.getAngleFromGradientXY(a.animVal.valueInSpecifiedUnits,u.animVal.valueInSpecifiedUnits,s.animVal.valueInSpecifiedUnits,l.animVal.valueInSpecifiedUnits),d=t.animateGradientRotation(c,i),h=t.getSplineStringFromEasing(r.easing,!0),f=Object.keys(d).map((function(e){return t.createAnimationElement(e,!0,d[e],h)}));t.startNewAnimations(e,n,f,r)}else{var p=t.getGradientXYFromAngle(i);n.attr("x1",p.x1+"%").attr("y1",p.y1+"%").attr("x2",p.x2+"%").attr("y2",p.y2+"%")}},t.startNewAnimations=function(t,e,n,i){var r=t&&t.length&&t[0].getCurrentTime?t[0].getCurrentTime():0;n.forEach((function(n){var o,a,s='[attributeName="'+n.getAttribute("attributeName")+'"]',u=e.find(s).last(),l=(i.delay||0)+r;n.setAttributeNS(null,"begin",l+"s");var c=i.duration||0,d=0;if(u){var h=(null===(o=u.attr("begin"))||void 0===o?void 0:o.replace("s",""))||"",f=(null===(a=u.attr("dur"))||void 0===a?void 0:a.replace("s",""))||"",p=(Number.parseFloat(h)||0)+(Number.parseFloat(f)||0)-r;p>0&&(d=p)}c-=d,n.setAttributeNS(null,"dur",c+"s"),e.find(s).remove(),t.find('[attributeName="placeholder"]').remove(),e.append(n)}))},t}();e.AnimateSVGUtil=r},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(6)),a=i(n(15)),s=i(n(150));e.default={reconcileComponentForCurrentVariant:function(t){var e=a.default.getVariant();return this.reconcileComponentForVariant(e,t)},reconcileComponentForVariant:function(t,e){if("desktop"===t)return e;var n=r.default.isObject(e.overrides)&&r.default.isObject(e.overrides[t]),i=!n&&r.default.isObject(e.parentSmartGroup),a="desktop"!==t&&!i;if(n){var u=e.synced?r.default.omit(e.overrides[t],s.default.get(e.type)):e.overrides[t];r.default.extend(e,u)}else a&&o.default.warn("PlayerVariantUtil::reconcileComponentForVariant provided with component missing overrides definition",{variantName:t,componentType:e.type,componentId:e.id});return e}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(1)),s=i(n(2)),u=i(n(28)),l=i(n(52)),c=i(n(151)),d=function(t,e,n,i){var a=t.find(".marker");if(0!==a.length)if(0!==a.position().top){var s=a.position().top+a.height(),u=n/e.unitsPerEm,l=Math.round(u*e.ascent-s),c=t.attr("data-baseline");if(o.default.isUndefined(c)||o.default.isUndefined(l)||parseInt(c,10)!==l)return t.attr("data-baseline",l),void o.default.defer((function(){d(t,e,n,i)}));i.resolve(l)}else o.default.defer((function(){d(t,e,n,i)}));else r.default.info("could not find img baseline marker!")},h=function(t){return'"'+t.replace('"','\\"')+'"'};e.default={resolveFont:function(t){var e=s.default.fontManifest[t];if(e||(e=s.default.fontManifest[u.default.DEFAULT_FONT_VARIANT_GUID])&&r.default.warn("Could not find font in the font manifest. Using default variant.",{variantGuid:t,defaultVariantGuid:u.default.DEFAULT_FONT_VARIANT_GUID}),e){var n=new l.default({family:e.familyName,guid:e.familyGuid,crossAccount:e.crossAccount,api:e.api});return new c.default(e.variantName,{fontFamily:n,familyName:e.familyName,fontWeight:e.fontWeight,fontStyle:e.fontStyle,guid:e.variantGuid,cssFamilyName:e.cssFamilyName,cssUrl:e.cssFileURL,unitsPerEm:e.unitsPerEm,ascent:e.ascent})}throw new Error("Could not find desired font "+t+" or default font "+u.default.DEFAULT_FONT_VARIANT_GUID+" in the font manifest.")},measureFontBaselineOffset:function(t,e,n){var i=new a.default.Deferred;if(e<=1)return i.resolve(0),i.promise();var r=a.default('<div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" style="position:relative;vertical-align:baseline;" class="marker"/><span>Mq</span></div>').css({width:"auto",height:"auto",lineHeight:n+"px",position:"absolute",top:0,left:0,fontSize:e+"px",fontFamily:h(t.getCssFamilyName()),fontWeight:t.getFontWeight(),fontStyle:t.getFontStyle(),opacity:0}).attr("data-baseline",null);return a.default("body").append(r),d(r,t,e,i),i.done((function(){r.remove()})),i.promise()},formatFamilyNameForCSS:h}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BasePageURLInteraction=void 0;var a=n(68),s=o(n(18)),u=o(n(2)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){if(!u.default.isEmbedded){var t=s.default.parseLayoutFromLocation(),e=this.pageView.documentVersion.getNearestEnabledPage(Math.max(1,this.getTargetPageNumber()));return s.default.buildUri("page_number",e,t)}},e}(a.BaseURLInteraction);e.BasePageURLInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerVisibilityInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!!this.layerTargets&&t.prototype.isValid.call(this)},e}(n(43).BaseVisibilityInteraction);e.BaseLayerVisibilityInteraction=o},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PAGE_MODES=void 0;var s=a(n(21)),u=a(n(3)),l=a(n(18)),c=a(n(0)),d=a(n(1)),h=a(n(30)),f=o(n(70));e.PAGE_MODES={NUMBER:"page_number",SLUG:"page_slug"};t=new s.default.Module({id:"url-navigation",description:"",version:"1.0",publishedEvents:{POPSTATE:"url-navigation.popstate"},handledEvents:{},dependencies:{},PAGE_MODES:e.PAGE_MODES,delegate:{buildHistoryState:function(e,n,i,r,o){var a={mode:e,pageNumber:null,pageSlug:null,layoutSlug:i,title:r,hash:o};return e===t.PAGE_MODES.NUMBER?a.pageNumber=n:a.pageSlug=n,a},getCurrentHistoryState:function(){var e=t.getWindowContext();if(e.history&&e.history.state&&e.history.state.mode)return e.history.state;var n=l.default.parsePageFromLocation(),i=c.default.isString(n)?t.PAGE_MODES.SLUG:t.PAGE_MODES.NUMBER,r=l.default.parseLayoutFromLocation(),o=e.document.title,a=e.location.hash;return t.buildHistoryState(i,n,r,o,a)},navigateTo:function(e,n,i,r){var o=t.getWindowContext(),a=f.escapeComponentId(o.location.hash).replace(/\/$/,""),s=f.isValidSelector(a);a=a&&s&&d.default(a).parents(".page-viewport").hasClass("top")?o.location.hash:void 0;var h=l.default.buildUri(e,n,i,a);if(h){r||(r=o.document.title);var p=s?o.location.href:t.getUrlWithoutHash();if(c.default.endsWith(p,h)&&null!==o.history.state)document.title=r;else{if(u.default.html5()&&o.history&&o.history.pushState){var g=t.buildHistoryState(e,n,i,r,a);s||!o.location.hash||c.default.endsWith(h,o.location.hash)||(h+=o.location.hash),o.history.pushState(g,r,h)}document.title=r}}},navigateToPageNumber:function(e,n){var i=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.NUMBER,e,i,n)},navigateToLayout:function(e){var n=t.getCurrentHistoryState(),i=n.mode,r=i===t.PAGE_MODES.NUMBER?n.pageNumber:n.pageSlug,o=n.title;t.navigateTo(i,r,e,o)},navigateToPageSlug:function(e,n){var i=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.SLUG,e,i,n)},bindPopstate:c.default.once((function(){t.getWindowContext().onpopstate=function(e){e.state&&e.state.mode&&h.default.trigger(t.publishedEvents.POPSTATE,e.state)}})),getWindowContext:function(){return window},getUrlWithoutHash:function(){var e=t.getWindowContext();return e.location.href.replace(e.location.hash,"")}}});e.default=t},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.editorViewportModule=void 0;var s=n(46),u=a(n(21)),l=n(382),c=n(431),d=function(t){function e(){var e=t.call(this,o(o({},s.moduleOptions),{delegate:{}}))||this,n=s.moduleOptions.delegate,i=Object.getPrototypeOf(e);return Object.keys(n).forEach((function(t){i.hasOwnProperty(t)||(e[t]=n[t].bind(e))})),e}return r(e,t),e.prototype.init=function(t,e){s.moduleOptions.delegate.init.call(this,t,e),$("#main").addClass("editor"),(new c.EditorThirdPartyAnalyticsService).initialize()},e.prototype.createScaleContextOptions=function(t,e){return o({module:this,marginTopCallback:function(){return 0},documentVersion:t},e)},e.prototype.createViewportViewOptions=function(t,e,n){return o({module:this,documentVersion:t,scaleContext:e},n)},e.prototype.createSinglePageView=function(t,e){var n=s.moduleOptions.delegate.createSinglePageView(t,e);return new l.PageEditView(n)},e}(u.default.Module);e.editorViewportModule=new d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractComponentEditView=void 0;var o=n(159),a=n(385),s=n(407),u=function(t){function e(e,n){var i,r=t.call(this,e)||this;return r.pageEditView=n,r.isEditable()&&(r.model=a.EditorComponentModelFactory.createModelFromOptions(e.options),null===(i=r.model)||void 0===i||i.registerSaveHandler(n.getGenericModelSaveHandler(),{}),r.editableArea=s.EditableAreaViewFactory.create(r)),r}return r(e,t),e.prototype.handleEdit=function(){},e.prototype.isEditable=function(){return!1},e.prototype.show=function(){var t;null===(t=this.editableArea)||void 0===t||t.enable(),this.playerView.show()},e.prototype.hide=function(){var t;null===(t=this.editableArea)||void 0===t||t.disable(),this.playerView.hide()},e.prototype.render=function(){var t;return this.playerView.render(),null===(t=this.editableArea)||void 0===t||t.render(),this},e.prototype.setZIndex=function(t){this.playerView.setZIndex.call(this,t)},e.prototype.resetZIndex=function(){this.playerView.resetZIndex.call(this)},e.prototype.configureAbsoluteCoordinates=function(){var t;this.playerView.configureAbsoluteCoordinates.call(this),null===(t=this.editableArea)||void 0===t||t.render()},e}(o.AbstractEditView);e.AbstractComponentEditView=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditViewType=void 0,function(t){t.IMAGE="image-component",t.TEXT="text-component",t.GROUP="group"}(e.EditViewType||(e.EditViewType={}))},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var s=a(n(17));e.defaults=i(i({},s.defaults),{title:"External Form",x:100,y:100,width:400,height:100,formId:"",formName:""}),e.supported=["width","x","y","fixedPosition","interactions","formId","formName","sdkTags","sdkPayload"]},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(21)),a=i(n(2)),s=i(n(3)),u=i(n(31)),l=i(n(433)),c=i(n(8));t=new o.default.Module({id:"lightbox",description:"",version:"1.0",dependencies:{},lightboxView:null,delegate:{load:function(){return this.lightboxView=new l.default({module:t}),this.registerEvents(),this},showLightbox:function(t,e,n,i){var o=r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj,s=r.default.extend({},this.getBrowserUrlParams(),this.getDefaultUrlParams());this.lightboxView.openLightbox({url:c.default.appendQueryParams(t,s),width:e,height:n,showCloseButton:i,closeButtonBgColor:o.menuBgColor,closeButtonFgColor:o.menuFgColor})},showProduct:function(t){if(!r.default.isEmpty(t)){var e=this.getUrlForProduct(t);r.default.isEmpty(e)||this.lightboxView.openLightbox({url:e,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})}},getUrlForProduct:function(t){var e=a.default.allowCommerceIntegration?a.default.commerceSettings.productUrl:"";if(r.default.isUndefined(e)||r.default.isEmpty(e)||-1===e.indexOf("{id}"))return"";var n=!1;-1!==e.indexOf("?")&&e.indexOf("?")<e.indexOf("{id}")&&(n=!0);var i,o=null,s=t.lastIndexOf("?");s>0&&(o=c.default.getUrlParams(t.substring(s)),t=t.substring(0,s)),i=n?encodeURIComponent(t):t.replace(/[^\/]+/gi,(function(t,e){return encodeURIComponent(t)})),e=e.replace("{id}",i);var u=r.default.extend({},this.getBrowserUrlParams(),o,this.getDefaultUrlParams());return e=c.default.appendQueryParams(e,u)},showShoppingCart:function(){var t=this.getUrlForShoppingCart();r.default.isEmpty(t)||this.lightboxView.openLightbox({url:t,showCloseButton:!0,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})},getUrlForShoppingCart:function(){var t=a.default.allowCommerceIntegration?a.default.commerceSettings.shoppingCartUrl:"";return r.default.isUndefined(t)||r.default.isEmpty(t)?"":c.default.appendQueryParams(t,this.getDefaultUrlParams())},getDefaultUrlParams:function(){return{ceros_device_pixel_ratio:s.default.pixelRatio(),ceros_account_slug:a.default.accountSlug,ceros_app_slug:a.default.appSlug,ceros_issue_slug:a.default.issue.slug,ceros_device_type:s.default.deviceType(),ceros_player_type:s.default.playerType()}},getBrowserUrlParams:function(){var t=c.default.removeEmbedParams(this.getWindowUrl());return c.default.getUrlParams(t)},show:function(){this.lightboxView.show()},hide:function(){this.lightboxView.hide()},deactivate:function(){this.lightboxView.deactivate()},el:function(){return this.lightboxView.$el},iframe:function(){return this.lightboxView.$("iframe")[0]},getWindowUrl:function(){return window.location.href},registerEvents:function(){u.default.getInstance().on("change",this.lightboxView.setSizeAndPosition,this.lightboxView)}}});e.default=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};e.default=function(t,e){var n;void 0===t&&(t="");var r=function(t,e){return e<(t=parseInt(t,10).toString(16)).length?t.slice(t.length-e):e>t.length?new Array(e-t.length+1).join("0")+t:t};return i.uniqidSeed||(i.uniqidSeed=Math.floor(123456789*Math.random())),i.uniqidSeed++,n=t,n+=r(parseInt((new Date).getTime()/1e3,10),8),n+=r(i.uniqidSeed,5),e&&(n+=(10*Math.random()).toFixed(8).toString()),n}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(90)),s=i(n(38)),u=i(n(172)),l=i(n(106)),c=i(n(107)),d={},h="commerceIntegration",f="eloquaIntegration",p="marketoIntegration",g="chartblocksIntegration",m="googleTagManagerIntegration",v="hubspotIntegration",y="embeddedPlayerSdk",_="whiteLabeling",b="analyticsTracking",T="issueExport",w="concurrentLogins",S="adaptiveLayouts";e.default=s.default.extend({urlRoot:"/{api-version}/accounts",defaults:{organizationId:""},dateFields:["startDate","endDate","gracePeriodEndDate"],accountManager:null,supportsFeature:function(t){return!0===this.get(t)},hasCommerceIntegration:function(){return this.supportsFeature(h)},hasEloquaIntegration:function(){return this.supportsFeature(f)},hasMarketoIntegration:function(){return this.supportsFeature(p)},hasChartblocksIntegration:function(){return this.supportsFeature(g)},hasGoogleTagManagerIntegration:function(){return this.supportsFeature(m)},hasHubspotIntegration:function(){return this.supportsFeature(v)},hasEmbeddedPlayerSdk:function(){return this.supportsFeature(y)},hasWhiteLabeling:function(){return this.supportsFeature(_)},hasAnalyticsTracking:function(){return this.supportsFeature(b)},hasIssueExport:function(){return this.supportsFeature(T)},hasConcurrentLogins:function(){return this.supportsFeature(w)},hasAdaptiveLayouts:function(){return this.supportsFeature(S)},isUnlimitedUsers:function(){return 0===this.get("usersLimit")},isUnlimitedOpens:function(){return 0===this.get("opensPerMonth")},isUnlimitedPageViews:function(){return 0===this.get("pageViewsPerMonth")},isLimitedOnPageViews:function(){return"page-views"===this.getPricingPlanLimit()},isLimitedOnOpens:function(){return"opens"===this.getPricingPlanLimit()},getPricingPlanLimit:function(){return this.get("pricingPlanLimit")},getTrialDaysLeft:function(){var t=a.default().startOf("day"),e=a.default(this.get("endDate")).endOf("day"),n=Math.ceil(e.diff(t,"days",!0));return Math.clamp(n,0,n)},isTrialExpired:function(){return this.get("trial")&&0===this.getTrialDaysLeft()},isPublishingDisabled:function(){return this.get("disablePublishing")},getAccountManager:function(){return this.accountManager},setAccountManager:function(t){this.accountManager=t},getAccountManagerName:function(){var t=this.getAccountManager(),e="";return t&&(e=t.get("title")),e},parse:function(t){return t.accountManager&&r.default.isObject(t.accountManager)&&(this.accountManager=new u.default(t.accountManager)),t.contractStartDate&&(t.contractStartDate=new l.default(t.contractStartDate)),t.contractEndDate&&(t.contractEndDate=new l.default(t.contractEndDate)),t.initialSubscriptionContractStartDate&&(t.initialSubscriptionContractStartDate=new l.default(t.initialSubscriptionContractStartDate)),s.default.prototype.parse.call(this,t)},checkAvailability:function(){var t=o.default.Deferred(),e=this.get("slug");return r.default.has(d,e)?t.resolve(d[e]).promise():(o.default.ajax({url:this.url()+"/slug",type:"GET",processData:!1,success:function(n,i){d[e]=!1,t.resolve(!1)},error:function(n,i,r){404==n.status?(d[e]=!0,t.resolve(!0)):t.reject(n,i,r)}}),t.promise())},validateAccount:function(t,e){var n=[],i={title:"Account Name",slug:"Account URL",startDate:"Start Date",endDate:"End Date for Admin Access",gracePeriodEndDate:"End Date for Published Content",accountManagerMemberId:"Account Manager"};return e||(i.memberEmail="Owner Email",i.memberTitle="Owner Name"),r.default.each(t,(function(e,o){if(!i[o]||null!==e&&""!==e)if("memberEmail"===o){/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||n.push(new c.default(o,"Not a valid email address"))}else"startDate"===o||"endDate"===o||"gracePeriodEndDate"===o?a.default(e).isValid()||n.push(new c.default(o,"Not a valid date")):"contractStartDate"===o||"contractEndDate"===o||"initialSubscriptionContractStartDate"===o?e&&""!==e&&(a.default(e).isValid()||n.push(new c.default(o,"Not a valid date"))):"publishedExperienceLimit"!==o&&"publishedExperienceOpensThreshold"!==o&&"currentArr"!==o||""===e||r.default.isInteger(r.default.toNumber(e))||n.push(new c.default(o,"Not a valid number"));else n.push(new c.default(o,"Required"));t.gracePeriodEndDate&&t.endDate&&a.default(t.gracePeriodEndDate).unix()<a.default(t.endDate).unix()&&n.push(new c.default("gracePeriodEndDate","Must be later than admin access end date"))})),n},resetDatesToMidnight:function(){var t=this.setDateToMidnight(this.get("startDate")),e=this.setDateToMidnight(this.get("endDate")),n=this.setDateToMidnight(this.get("contractStartDate")),i=this.setDateToMidnight(this.get("contractEndDate")),r=this.setDateToMidnight(this.get("initialSubscriptionContractStartDate")),o=this.setDateToMidnight(this.get("gracePeriodEndDate"));this.set("startDate",t),this.set("endDate",e),this.set("contractStartDate",n),this.set("contractEndDate",i),this.set("initialSubscriptionContractStartDate",r),this.set("gracePeriodEndDate",o)},setDateToMidnight:function(t){return t?l.default(t).startOf("day"):null}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(90)),a={toString:function(){return this.isValid()?this.format("D MMMM, YYYY"):""}};e.default=function(t){var e=o.default.apply(this,arguments);return e&&r.default.extend(e,a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){this.getField=function(){return t},this.getMessage=function(){return e}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionModel=void 0;var s=a(n(0)),u=a(n(4)),l=n(465),c=n(178),d=n(180),h=n(181),f=n(182),p=n(183),g=n(184),m=n(20),v=n(185),y=n(186),_=n(192),b=n(193),T=n(194),w=n(195),S=n(187),E=n(188),O=n(189),C=n(191),A=n(196),P=n(197),I=n(198),x=n(205),M=n(199),k=n(200),D=n(201),R=n(202),N=n(203),L=n(204),V=n(109),F=n(26),j=n(179),U=n(206),B=n(207),H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={delay:0,repeat:!0},e.saveHandler=function(){},e.destroyHandler=function(){},e}var n;return r(e,t),n=e,e.prototype.initialize=function(e,n){if(e=e||{},!(n=n||{}).collection)throw new Error("Must instantiate interaction model with collection");this.createSubModelForData(e),t.prototype.initialize.call(this,{trigger:e.trigger},n)},e.prototype.unload=function(){this.destroyActionModel()},e.prototype.createSubModelForData=function(t){var e=t.action,n=s.default.clone(t);delete n.trigger,delete n.action,delete n.delay,delete n.repeat,this.createActionModel(e,n)},e.prototype.setFromObject=function(t){if(s.default.isEqual(t,this.toJSON()))return this;this.createSubModelForData(t);var e=this.get("trigger"),n=this.getDelay(),i=this.getRepeat();return this.set({trigger:t.trigger,delay:t.delay,repeat:t.repeat}),e===t.trigger&&n===t.delay&&i===t.repeat&&this.trigger("change",this),this},e.prototype.clear=function(e){return this.destroyActionModel(),t.prototype.clear.call(this,e)},e.prototype.toJSON=function(){return this.isHoverInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.HOVER},this.actionModel?this.actionModel.toJSON():{}):this.isClickInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.CLICK},this.actionModel?this.actionModel.toJSON():{}):this.isSubmitInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.SUBMIT},this.actionModel?this.actionModel.toJSON():{}):this.isOnViewInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.ONVIEW,delay:this.getDelay(),repeat:this.getRepeat()},this.actionModel?this.actionModel.toJSON():{}):{}},e.prototype.propagateChangeEvent=function(){this.trigger("change",this)},e.prototype.createActionModel=function(t,e){this.destroyActionModel(),t&&(this.actionModel=l.ActionModelFactory.createModelForActionType(t,e,{parentInteraction:this}),this.actionModel.on("change",this.propagateChangeEvent,this))},e.prototype.destroyActionModel=function(){this.actionModel&&(this.actionModel.off("change",this.propagateChangeEvent,this),this.actionModel=null)},e.prototype.setSaveHandler=function(t,e){e&&(t=s.default.bind(t,e)),this.saveHandler=t},e.prototype.setDestroyHandler=function(t,e){e&&(t=s.default.bind(t,e)),this.destroyHandler=t},e.prototype.save=function(){if(!s.default.isFunction(this.saveHandler))throw new Error("Trying to save InteractionModel but a save handler was never set");if(!this.isValid())throw new Error("Trying to save an invalid InteractionModel");this.saveHandler(this),this.trigger("save",this)},e.prototype.destroy=function(){if(!s.default.isFunction(this.destroyHandler))throw new Error("Trying to destroy InteractionModel but a destroy handler was never set");this.destroyHandler(this),this.trigger("destroy",this)},e.prototype.getTrigger=function(){return this.get("trigger")},e.prototype.isClickInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.CLICK},e.prototype.isHoverInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.HOVER},e.prototype.isOnViewInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.ONVIEW},e.prototype.isSubmitInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.SUBMIT},e.prototype.setTrigger=function(t){if(this.getTrigger()!==t){if(!s.default.includes(n.TRIGGER_TYPES,t))throw new Error("Can't set trigger value of ["+t+"]");this.set("trigger",t)}},e.prototype.setHover=function(){this.setTrigger(n.TRIGGER_TYPES.HOVER)},e.prototype.setOnView=function(){this.setTrigger(n.TRIGGER_TYPES.ONVIEW)},e.prototype.setClick=function(){this.setTrigger(n.TRIGGER_TYPES.CLICK)},e.prototype.setSubmit=function(){this.setTrigger(n.TRIGGER_TYPES.SUBMIT)},e.prototype.clearTrigger=function(){this.set("trigger",null)},e.prototype.setDelay=function(t){this.set("delay",t)},e.prototype.getDelay=function(){var t=this.get("delay");return s.default.isUndefined(t)&&(t=this.defaults.delay),t},e.prototype.setRepeat=function(t){this.set("repeat",t)},e.prototype.getRepeat=function(){var t=this.get("repeat");return s.default.isUndefined(t)&&(t=this.defaults.repeat),t},e.prototype.setActionType=function(t){this.actionModel&&this.actionModel.getActionType()===t||(this.createActionModel(t),this.trigger("change",this),this.trigger("change:action",this))},e.prototype.getAction=function(){return this.actionModel},e.prototype.getActionType=function(){return this.actionModel?this.actionModel.getActionType():null},e.prototype.isScrollToInteraction=function(){return this.actionModel instanceof c.ScrollToActionModel},e.prototype.isScrollToObjectInteraction=function(){return this.actionModel instanceof j.ScrollToObjectActionModel},e.prototype.isNextPageInteraction=function(){return this.actionModel instanceof d.NextPageActionModel},e.prototype.isPrevPageInteraction=function(){return this.actionModel instanceof h.PrevPageActionModel},e.prototype.isGotoPageInteraction=function(){return this.actionModel instanceof f.GotoPageActionModel},e.prototype.isEnableDisablePageInteraction=function(){return this.actionModel instanceof p.EnableDisablePageActionModel},e.prototype.isUrlInteraction=function(){return this.actionModel instanceof g.UrlActionModel},e.prototype.isCanvasTargetsInteraction=function(){return this.actionModel instanceof m.AbstractCanvasTargetsActionModel},e.prototype.isShowCanvasTargetsInteraction=function(){return this.actionModel instanceof v.ShowCanvasTargetsActionModel},e.prototype.isShowCanvasTargetsOnHoverInteraction=function(){return this.actionModel instanceof y.ShowCanvasTargetsOnHoverActionModel},e.prototype.isHideCanvasTargetsInteraction=function(){return this.actionModel instanceof _.HideCanvasTargetsActionModel},e.prototype.isToggleCanvasTargetsInteraction=function(){return this.actionModel instanceof b.ToggleCanvasTargetsActionModel},e.prototype.isShowAndStayVisibleCanvasTargetsInteraction=function(){return this.actionModel instanceof w.ShowAndStayVisibleCanvasTargetsActionModel},e.prototype.isHideAndStayHiddenCanvasTargetsInteraction=function(){return this.actionModel instanceof T.HideAndStayHiddenCanvasTargetsActionModel},e.prototype.isShowOnlyInteraction=function(){return this.actionModel instanceof S.ShowOnlyActionModel},e.prototype.isHideOnlyInteraction=function(){return this.actionModel instanceof E.HideOnlyActionModel},e.prototype.isCycleNextInteraction=function(){return this.actionModel instanceof O.CycleNextActionModel},e.prototype.isCyclePreviousInteraction=function(){return this.actionModel instanceof C.CyclePreviousActionModel},e.prototype.isLightboxInteraction=function(){return this.actionModel instanceof A.LightboxActionModel},e.prototype.isProductInteraction=function(){return this.actionModel instanceof P.ProductActionModel},e.prototype.isShoppingCartInteraction=function(){return this.actionModel instanceof I.ShoppingCartActionModel},e.prototype.isFullscreenInteraction=function(){return this.actionModel instanceof x.FullscreenActionModel},e.prototype.isEmailInteraction=function(){return this.actionModel instanceof M.EmailActionModel},e.prototype.isFacebookInteraction=function(){return this.actionModel instanceof k.FacebookActionModel},e.prototype.isTwitterInteraction=function(){return this.actionModel instanceof D.TwitterActionModel},e.prototype.isPinterestInteraction=function(){return this.actionModel instanceof R.PinterestActionModel},e.prototype.isLinkedInInteraction=function(){return this.actionModel instanceof N.LinkedInActionModel},e.prototype.isBringToFrontInteraction=function(){return this.actionModel instanceof U.BringToFrontActionModel},e.prototype.isResetPositionsInteraction=function(){return this.actionModel instanceof B.ResetPositionsActionModel},e.prototype.isChangeStateInteraction=function(){return this.actionModel instanceof L.ChangeStateActionModel},e.prototype.isPageNumberAwareInteraction=function(){return this.actionModel instanceof V.PageNumberAwareAction},e.prototype.isValid=function(){return!!s.default.includes(n.TRIGGER_TYPES,this.get("trigger"))&&(!!this.actionModel&&this.actionModel.isValid())},e.prototype.isRepeatable=function(){return this.isOnViewInteraction()&&(this.isCanvasTargetsInteraction()&&!this.isCycleNextInteraction()&&!this.isCyclePreviousInteraction()||this.isBringToFrontInteraction())},e.prototype.getValidFullHierarchyTargets=function(){return this.collection.getAncestorFullHierarchyCollection()},e.prototype.getValidScranchorTargets=function(){return this.collection.getAncestorScranchorCollection()},e.prototype.getValidPageTargets=function(){return this.collection.getAncestorPageCollection()},e.TRIGGER_TYPES={CLICK:"click",HOVER:"hover",ONVIEW:"view",SUBMIT:"submit"},e=n=o([F.BackboneShim({defaults:{delay:0,repeat:!0}})],e)}(u.default.Model);e.InteractionModel=H},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageNumberAwareAction=void 0;var o=n(13),a=n(466),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getValidPageTargets=function(){return this.parentInteraction.getValidPageTargets()},e.prototype._calculateUpdatedPageNumberOnMove=function(t,e,n){return a.PageTargetInteractionUtils.calculateUpdatedPageNumberOnMove(t,e,n)},e}(o.AbstractActionModel);e.PageNumberAwareAction=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(58)),s=i(n(19)),u=i(n(33)),l=i(n(29));e.default=s.default.extend({firstRender:!0,zoom:1,shouldUpdateFromZoomChange:!1,forceCreateNewVectorImageResourceFactory:!1,initialize:function(t,e){s.default.prototype.initialize.call(this,t,e),this.isVectorBased()&&(this.forceCreateNewVectorImageResourceFactory=!this.hasCurrentConvertedVectorImageUri()),this.updateRenderedImage=r.default.debounce(r.default.bind(this.updateRenderedImageNow,this),500)},getImageUri:function(){throw"getImageUri is abstract"},getImageResourceToRender:function(){var t=this.getImageUri();if(!t)return null;if(this.firstRender){var e=!1;return this.isVectorBased()&&(e=!this.hasCurrentConvertedVectorImageUri()),this.updateRenderedImageNow(e),this.firstRender=!1,null}if(this.shouldUpdateFromZoomChange&&(this.updateRenderedImage(),this.shouldUpdateFromZoomChange=!1),this.isVectorBased()){var n=this.getVectorImageResourceFactoryIfExists();return n?n.getImageResource(this.getStyleForVectorImageResourceFactory()):null}return a.default.getRasterImage(t,this.get("crop"))},getVectorImageResourceFactoryIfExists:function(){var t=a.default.getVectorImageResourceFactory(this.getConvertedVectorImageUri());if(t)return t;var e=a.default.getVectorImageResourceFactory(this.getImageUri());return e||void 0},hasRendered:function(){return!this.firstRender},setZoom:function(t){t>this.zoom&&!this.isVectorBased()&&(this.shouldUpdateFromZoomChange=!0),this.zoom=t},getZoom:function(){return this.zoom},updateRenderedImageNow:function(t){if(!this.getImageUri())return o.default.Deferred().resolve(null).promise();if(this.isVectorBased()){var e=this.updateRenderedVectorImage(t);return t&&this.saveConvertedVectorImage(e),e}return this.updateRenderedRasterImage()},saveConvertedVectorImage:function(t){var e=this;this.wasConvertedThisLoad||(this.wasConvertedThisLoad=!0,t.then((function(t){var n;null===(n=e.options.page)||void 0===n||n.getSvgReupload().uploadFile(t,e)})))},hasCurrentConvertedVectorImageUri:function(){return l.default.hasCurrentConvertedVectorImageUri(this.get("convertedVectorImageVersion"),this.get("convertedVectorImage"))},getConvertedVectorImageUri:function(){return this.get("convertedVectorImage")},setConvertedVectorImageUri:function(t){this.set("convertedVectorImageVersion",l.default.VECTOR_IMAGE_CONVERSION_VERSION),this.set("convertedVectorImage",t),this.save()},updateRenderedVectorImage:function(t){var e,n=this.getImageUri(),i=null===(e=this.options.page)||void 0===e?void 0:e.getSvgLoadQueue(),r=a.default.getOrCreateVectorImageResourceFactory(n,i,t,this.get("id"),this.forceCreateNewVectorImageResourceFactory);return this.forceCreateNewVectorImageResourceFactory=!1,r.getOrCreateImageResource(this.getStyleForVectorImageResourceFactory()).getPromise()},updateRenderedRasterImage:function(){var t=this.getImageUri(),e=this.get("width")*this.zoom,n=u.default.calculateWidthForDevicePixelRatio(e);return a.default.getOrCreateRasterImageResource(t,n,this.get("crop"))},forceRedraw:function(){this.trigger("forceRedraw")},getStyleForVectorImageResourceFactory:function(){var t=r.default.cloneDeep(this.get("background"));return t.backgroundHasBeenSet=this.get("backgroundHasBeenSet"),t},setMediaUploadPromise:function(t){this.uploadPromise=t},isUploading:function(){return this.uploadPromise&&"pending"===this.uploadPromise.state()},cancelUpload:function(t){this.uploadPromise.reject(t)}},{constrainInitialGettyMediaSize:function(t,e,n){var i=.7*n,r=i/(t/e);return{width:Math.round(i),height:Math.round(r)}}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(47)),s=i(n(72)),u=function(){};u.prototype={execute:function(t){var e=new o.default.Deferred;return this.fontCollection?e.resolve(this.filterFontsInMemory(t)):o.default.getJSON(this.FONT_URL).then(r.default.bind((function(n){this.fontCollection=new a.default(this.parseResults(n)),e.resolve(this.filterFontsInMemory(t))}),this)),e.promise()},filterFontsInMemory:function(t){var e=new a.default(this.fontCollection);return e.multiFilter(t.filters),e},loadFamiliesByFamilyGuids:function(t,e){var n=new a.default;return r.default.each(t,r.default.bind((function(t){if(this.belongsToAPI(t)){var e=this.fontCollection.getFontFamilyByFamilyGuid(t);e&&n.add(e)}}),this)),o.default.Deferred().resolve(n).promise()},loadFamiliesByVariantGuids:function(t,e){var n=new a.default;return r.default.each(t,r.default.bind((function(t){if(this.belongsToAPI(t)){var e=this.fontCollection.getFontFamilyByVariantGuid(t);e&&n.add(e)}}),this)),o.default.Deferred().resolve(n).promise()},buildWebLoaderObjectForFamilies:function(t){throw"buildWebLoaderObjectForFamilies method should be overridden by a derived class"},belongsToAPI:function(t){return s.default.getFontAPI(t)===this.ID},updateMetrics:function(t){return(new o.default.Deferred).resolve()}},e.default=u},function(t,e,n){"use strict";(function(){window.Modernizr=function(t,e,n){var i,r,o={},a=e.documentElement,s="modernizr",u=e.createElement(s),l=u.style,c=" -webkit- -moz- -o- -ms- ".split(" "),d={},h=[],f=h.slice,p=function(t,n,i,r){var o,u,l,c,d=e.createElement("div"),h=e.body,f=h||e.createElement("body");if(parseInt(i,10))for(;i--;)(l=e.createElement("div")).id=r?r[i]:s+(i+1),d.appendChild(l);return o=["&#173;",'<style id="s',s,'">',t,"</style>"].join(""),d.id=s,(h?d:f).innerHTML+=o,f.appendChild(d),h||(f.style.background="",f.style.overflow="hidden",c=a.style.overflow,a.style.overflow="hidden",a.appendChild(f)),u=n(d,t),h?d.parentNode.removeChild(d):(f.parentNode.removeChild(f),a.style.overflow=c),!!u},g={}.hasOwnProperty;function m(t){l.cssText=t}function v(t,e){return typeof t===e}for(var y in r=v(g,"undefined")||v(g.call,"undefined")?function(t,e){return e in t&&v(t.constructor.prototype[e],"undefined")}:function(t,e){return g.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=f.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,a=e.apply(o,n.concat(f.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(f.call(arguments)))};return i}),d.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},d.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:p(["@media (",c.join("touch-enabled),("),s,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){n=9===t.offsetTop})),n},d.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&((n=new Boolean(n)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},d)r(d,y)&&(i=y.toLowerCase(),o[i]=d[y](),h.push((o[i]?"":"no-")+i));return o.addTest=function(t,e){if("object"==typeof t)for(var i in t)r(t,i)&&o.addTest(i,t[i]);else{if(t=t.toLowerCase(),o[t]!==n)return o;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(a.className+=" "+(e?"":"no-")+t),o[t]=e}return o},m(""),u=null,function(t,e){var n,i,r=t.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s=0,u={};function l(){var t=f.elements;return"string"==typeof t?t.split(" "):t}function c(t){var e=u[t._html5shiv];return e||(e={},s++,t._html5shiv=s,u[s]=e),e}function d(t,n,r){return n||(n=e),i?n.createElement(t):(r||(r=c(n)),(s=r.cache[t]?r.cache[t].cloneNode():a.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t)).canHaveChildren&&!o.test(t)?r.frag.appendChild(s):s);var s}function h(t){t||(t=e);var r=c(t);return!f.shivCSS||n||r.hasCSS||(r.hasCSS=!!function(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),i||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return f.shivMethods?d(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,(function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'}))+");return n}")(f,e.frag)}(t,r),t}!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",n="hidden"in t,i=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){n=!0,i=!0}}();var f={elements:r.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==r.shivCSS,supportsUnknownElements:i,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:h,createElement:d,createDocumentFragment:function(t,n){if(t||(t=e),i)return t.createDocumentFragment();for(var r=(n=n||c(t)).frag.cloneNode(),o=0,a=l(),s=a.length;o<s;o++)r.createElement(a[o]);return r}};t.html5=f,h(e)}(this,e),o._version="2.6.2",o._prefixes=c,o.testStyles=p,o}.call(window,this,this.document),t.exports=window.Modernizr}).call(window)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=function(t){this.resourceReady=r.default.Deferred(),this.image=new Image,this.data=this.image,t&&t.useCorsAnonymous&&(this.image.crossOrigin="Anonymous")};o.prototype={onload:function(){return this.resourceReady.done.apply(this.resourceReady,arguments),this.resourceReady},onerror:function(){return this.resourceReady.fail.apply(this.resourceReady,arguments),this.resourceReady},ready:function(){return"resolved"===this.resourceReady.state()},getPromise:function(){return this.resourceReady.promise()},getImage:function(){return this.image},getWidth:function(){return this.image.width},getHeight:function(){return this.image.height},remove:function(){delete this.image},getSrc:function(){return this.image.src}},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a={textareaFitContent:function(t,e){e=e||{};var n=function(){t.height(0);var n=t.prop("scrollHeight")+2;e.min&&(n=Math.max(e.min,n)),e.max&&(n=Math.min(e.max,n)),t.height(n).toggle().toggle()};(t=o.default(t)).on("input",n),r.default.defer(n)},selectAllOrDragTextInInput:function(t){var e=function(){this.select()};o.default(t.target).one("mouseup",e),setTimeout((function(){o.default(t.target).off("mouseup",e)}),500)},randomId:function(){return"id"+Math.random().toString(16).substr(2,9)}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(4)),s=i(n(31)),u=i(n(57)),l="ceros-embedded-viewport:",c={PING:"ping",READY:"ready",POSITION:"position",SCROLL_TO:"scroll-to",UPDATE_POSITION:"update-position",GOTO_URL:"goto-url",VARIANT_DETECTION:"variant-detection",GLOBAL_FUNCTION_INVOKE:"global-function"},d=r.default.extend({EVENTS:c},a.default.Events),h=function(t){var e=null;try{e=JSON.parse(t.originalEvent.data)}catch(t){}if(e&&e.event&&e.event.substr(0,l.length)===l)switch(e.event.substr(l.length)){case c.PING:g();break;case c.POSITION:!function(t){t.screenWidth&&t.screenHeight&&u.default.setDimensions(t.screenWidth,t.screenHeight),s.default.getInstance().setPositionData(t),d.trigger(c.UPDATE_POSITION,t)}(e)}},f=function(t,e){var n=JSON.stringify(r.default.extend({event:l+t},e));window.parent.postMessage(n,"*")},p=null,g=function(){f(c.READY,{issueSlug:p})};d=r.default.extend(d,{init:function(t){p=t,g(),o.default(window).on("message",h)},announceScrollTo:function(t){f(c.SCROLL_TO,t)},announceGotoUrl:function(t,e){f(c.GOTO_URL,{url:t,urlOpenInNewWindow:e})},invokeGlobalFunctions:function(t){f(c.GLOBAL_FUNCTION_INVOKE,{globalFunctions:t})},announceVariantDetection:function(t){!function(t){f(c.VARIANT_DETECTION,{variant:t})}(t)}}),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(4)),a=i(n(0)),s=i(n(56)),u=i(n(2)),l=i(n(40)),c=i(n(15)),d=i(n(80)),h=i(n(3));e.default=o.default.View.extend({initialize:function(){var t=this;this.$previewerSelectionHeaderEl=r.default(".previewer-selection-header"),this.frameName=l.default.getPreviewerFrameSize(),this.$el.addClass("-"+this.frameName),this.onlyAllowFullscreenMode=u.default.isMarkup,this.styleFrame(),r.default(window).on("resize",(function(){t.styleFrame()}));var e=localStorage.getItem(u.default.issue.slug+"-fullscreen-preview");(this.onlyAllowFullscreenMode||"true"===e)&&this.turnOnFullscreenMode(this),this.$el.addClass("-initialized"),this.handleKeyup(t),l.default.on(l.default.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,(function(e){t.$el.removeClass("-"+t.frameName),t.frameName=e.variant,t.$el.addClass("-"+t.frameName),t.styleFrame(),c.default.detect(),r.default(window).trigger("resize")}))},handleKeyup:function(t){r.default(window).on("keyup",(function(e){(d.default.isOptionRPressed(e)&&t.reloadExperience(),t.onlyAllowFullscreenMode)||!r.default(document.activeElement).is("textarea")&&(r.default(document.activeElement).is("input")||!d.default.isHKeyPressed(e)||l.default.fullScreenMode?(d.default.isEscKeyPressed(e)||d.default.isHKeyPressed(e))&&l.default.fullScreenMode&&t.turnOffFullscreenMode(t):t.turnOnFullscreenMode(t))}))},reloadExperience:function(){l.default.isDocVersionSet()&&l.default.triggerReload()},turnOnFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+"-fullscreen-preview","true"),l.default.setFullScreenMode(!0),t.$previewerSelectionHeaderEl.hide(),t.$el.addClass("-full-screen-mode"),t.$el.css({width:r.default(window).width(),height:r.default(window).height()}),r.default(window).trigger("resize")},turnOffFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+"-fullscreen-preview","false"),l.default.setFullScreenMode(!1),t.$previewerSelectionHeaderEl.show(),t.$el.removeClass("-full-screen-mode"),r.default(window).trigger("resize")},getThemeBackgroundColor:function(){return a.default.get(u.default,["themeObj","backgroundColor"],null)},styleFrame:function(){var t=r.default(window);if(l.default.fullScreenMode)this.$el.css({width:t.width(),height:t.height()});else{var e=l.default.getExperienceContainerDimensions(t);if(this.$el.css({width:e.width,height:e.height,backgroundColor:this.getThemeBackgroundColor()}),"desktop"!==this.frameName){var n=l.default.getTopBottomBorderWidth(r.default(window),this.frameName,e.height),i=l.default.getLeftRightBorderWidth(r.default(window),this.frameName,e.width),o=Math.round(n),a=Math.round(i);this.$el.css({"border-top-width":o,"border-bottom-width":o,"border-left-width":a,"border-right-width":a})}}},showFadingHelpMessage:function(){if(!this.onlyAllowFullscreenMode){var t=s.default.get("shownPreviewerFadingHelpMessage");h.default.mobile()||t||(r.default(".fit-to-window-help-message").show().delay(3e3).fadeOut(400),s.default.set("shownPreviewerFadingHelpMessage","1"))}}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a=i(n(0)),s=i(n(21)),u=i(n(241));t=new s.default.Module({id:"analytics",description:"Provides an interface for tracking statistics on the analytics service.",version:"1.0",delegate:(r={},o=a.default.functionsIn(u.default),a.default.each(o,(function(t){"_"!=t.substr(0,1)&&(r[t]=a.default.bind(u.default[t],u.default))})),r)});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(119)),u=i(n(3)),l=i(n(8)),c=i(n(244)),d=i(n(245)),h=i(n(120)),f=i(n(121)),p=n(65),g=n(249),m=["player.page.dwell","player.video.progress_percent","player.video.progress_time","player.performance.marker","previewer.performance.marker","studio.performance.marker","admin.performance.marker"],v=function(t){f.default.call(this,t),this.options=t||{},this.hasUserConsentForAnalytics=t.hasUserConsentForAnalytics||!1,this.domain=l.default.getRootDomain(),this.path=l.default.getExperiencePath(),this.cerosUserCookiePath="/",this.environmentData=new c.default,this.hasUserConsentForAnalytics?this.applyUserConsentGranted():this.applyUserConsentDenied(),this.userEmail=null,this.fullName=null,this.userSlug=null,this.clientVersion=10,this.userToken=null,this.defaultAttributes={timezone:this.getTimezoneOffset(),user_agent:navigator.userAgent,visit_slug:s.default.generate()},this.eventQueue=new d.default,this.eventQueue.on(this.eventQueue.EVENTS.AGGREGATE_EVENT,o.default.bind((function(t){this.trackEvents(t,!1)}),this))};(v.prototype=Object.create(f.default.prototype)).constructor=v,o.default.extend(v.prototype,{applyUserConsentGranted:function(){if(this.hasUserConsentForAnalytics=!0,this.isPlayerOrPreviewer()){var t=this.getDomainTrackingData();this.setDomainTracker(t),this.setInitialReferrerInExperienceTracker()}},applyUserConsentDenied:function(){this.hasUserConsentForAnalytics=!1,this.isPlayerOrPreviewer()&&(this.userToken=null,p.AnalyticsLocalStorage.deleteDomainTracker(this.path),p.AnalyticsLocalStorage.deleteExperienceTracker(this.path))},setUser:function(t,e,n){if(!this.isPlayerOrPreviewer()){this.userEmail=t,this.fullName=e,this.userSlug=n;var i=g.StringUtils.getEmailDomain(t);i?this.setCerosUserCookie({emailDomain:i}):this.deleteCerosUserCookie()}},setInitialReferrerInExperienceTracker:function(){if(this.isPlayerOrPreviewer()&&this.options.trackInitialReferrer){var t=p.AnalyticsLocalStorage.getExperienceTracker(this.path);if(o.default.isUndefined(null==t?void 0:t.initial_referrer)||o.default.isUndefined(null==t?void 0:t.initial_referring_domain)){var e=this.environmentData.getData();t={initial_referrer:e.referrer||null,initial_referring_domain:e.referring_domain||null},this.setExperienceTracker(t)}}},encodeData:function(t){return encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(t)))))},getEvent:function(t,e){var n=o.default.extend({},{event_slug:s.default.generate()},e||{},{event_name:t,client_timestamp:(new Date).getTime()});return n=o.default.omitBy(n,o.default.isNull)},track:function(t,e){var n=this.getEvent(t,e);return o.default.includes(m,n.event_name)?(this.eventQueue.addEvent(n),r.default.Deferred().resolve()):this.trackEvents([n],!0)},trackEvents:function(t,e){if(!this.isEnabled())return r.default.Deferred().resolve();if(!a.default.analyticsUrl)return r.default.Deferred().resolve();if(!t||0===t.length)return r.default.Deferred().resolve();var n=this.getDomainTrackingData();this.isPlayerOrPreviewer()&&this.setDomainTracker(n);var i=this.getCommonProps(n),o=this.getExtendedCommonProps();e&&(t=t.concat(this.eventQueue.popEvents()));var s={common:i,extended_common:o,events:t},u=a.default.analyticsUrl+"?data="+this.encodeData(s);return this._sendTrackingRequest(u,0)},getDomainTrackingData:function(){return{user_token:this.getUserToken()}},getCommonProps:function(t){var e={account_slug:a.default.accountSlug,client_version:this.clientVersion,user_token:t.user_token,visit_slug:this.defaultAttributes.visit_slug};return this.isPlayerOrPreviewer()&&(e=o.default.extend(e,{user_consent:this.hasUserConsentForAnalytics})),o.default.omitBy(e,o.default.isNull)},getExtendedCommonProps:function(){var t=this.environmentData.getData();if(this.options.envPropertyList&&(t=o.default.pick(t,this.options.envPropertyList)),this.isPlayerOrPreviewer()){var e=p.AnalyticsLocalStorage.getExperienceTracker(this.path);t=o.default.extend(t,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,initial_referrer:null==e?void 0:e.initial_referrer,initial_referring_domain:null==e?void 0:e.initial_referring_domain})}else t=o.default.extend(t,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,email:this.userEmail,full_name:this.fullName});return o.default.omitBy(t,o.default.isNull)},_handleTrackingError:function(t,e,n,i){var r=this;i<3?setTimeout((function(){r._sendTrackingRequest(n,i)}),3e3):3!==i||window.sentRollbarForAnalyticsRetryFail||(window.Rollbar&&window.Rollbar.error("One or more analytics events are failing due to HTTP or connection errors.",{errorThrown:e,errorCode:t.status,url:n}),window.sentRollbarForAnalyticsRetryFail=!0)},_sendTrackingRequest:function(t,e){var n=this,i=new r.default.Deferred;if(u.default.isIE9OrEarlier()&&"http:"===location.protocol){var o=new Image;o.crossOrigin="Anonymous",o.src=t+"&_="+Math.random(),o.onload=function(){i.resolve()},o.onerror=function(){i.resolve()}}else r.default.ajax({url:t,type:"GET",cache:!1,crossDomain:!0}).done((function(){i.resolve()})).fail((function(r,o,a){n._handleTrackingError(r,a,t,++e),i.resolve()}));return i},getTimezoneOffset:function(){var t=(new Date).getTimezoneOffset()/60;return Math.abs(t)>15?null:t},getUserToken:function(){if(this.userToken)return this.userToken;var t=null;if(this.isPlayerOrPreviewer()){var e=p.AnalyticsLocalStorage.getDomainTracker(this.path);t=e?e.user_token:null}return t||(t=this.generateUserToken()),this.userToken=t,this.userToken},generateUserToken:function(){return s.default.generate()},setDomainTracker:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&p.AnalyticsLocalStorage.setDomainTracker(t,this.path)},setExperienceTracker:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&p.AnalyticsLocalStorage.setExperienceTracker(t,this.path)},setCerosUserCookie:function(t){h.default.setCerosUserCookie(t,this.cerosUserCookiePath,this.domain)},deleteCerosUserCookie:function(){h.default.deleteCerosUserCookie(this.cerosUserCookiePath,this.domain)},updateScale:function(t){this.environmentData.updateScale(t)},isPlayerOrPreviewer:function(){return!a.default.isAdmin&&!a.default.isStudio}}),e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=navigator.userAgent;e.default={generate:(i=function(){for(var t=1*new Date,e=0;t==1*new Date;)e++;return t.toString(16)+e.toString(16)},function(){var t=(screen.height*screen.width).toString(16);return i()+"-"+Math.random().toString(16).replace(".","")+"-"+function(t){var e,n,i=r,o=[],a=0;function s(t,e){var n,i=0;for(n=0;n<e.length;n++)i|=o[n]<<8*n;return t^i}for(e=0;e<i.length;e++)n=i.charCodeAt(e),o.unshift(255&n),o.length>=4&&(a=s(a,o),o=[]);return o.length>0&&(a=s(a,o)),a.toString(16)}()+"-"+t+"-"+i()})}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(56)),o=n(246),a=n(247);e.default={setUserConsentCookie:function(t,e,n){this.setCookie(o.CookieName.USER_CONSENT,t,e,n,!1)},setExperienceTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e,n,!1)},setDomainTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e,n,!1)},setCerosUserCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_USER,t,e,n,!0)},getUserConsentCookie:function(){return this.getCookieData(o.CookieName.USER_CONSENT)},getExperienceTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_EXPERIENCE_TRACKING)},getDomainTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_DOMAIN_TRACKING)},getCerosUserCookie:function(){return this.getCookieData(o.CookieName.CEROS_USER)},deleteUserConsentCookie:function(t,e){this.deleteCookie(o.CookieName.USER_CONSENT,t,e)},deleteExperienceTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e)},deleteDomainTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e)},deleteCerosUserCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_USER,t,e)},getCookieData:function(t){var e=r.default.get(t);if(e){var n=decodeURIComponent(e);try{return JSON.parse(n)}catch(e){this.parseError(t,e)}}return{}},setCookie:function(t,e,n,i,o){e=encodeURIComponent(JSON.stringify(e)),o=!!a.DataUtils.isNullOrUndefined(o)||o,r.default.set(t,e,{expires:365,path:n||"/",domain:i||"",samesite:"lax",secure:o})},deleteCookie:function(t,e,n){r.default.remove(t,{path:e||"/",domain:n||""})},parseError:function(t,e){var n=(new Date).getTime();n-(this.lastParseError||0)>36e5&&(window.Rollbar.error("Unable to parse "+t+" cookie data, the content was malformed. Exception was: "+e),this.lastParseError=n)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=function(){function t(t){this.options=t||{},this.enabled=!!t.enabled}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.applyUserConsentGranted=function(){},t.prototype.applyUserConsentDenied=function(){},t.prototype.sendEvent=function(t,e){return r.default.Deferred().resolve()},t.prototype.updateScale=function(t){},t}();e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=function(){this.startTime=null};a.prototype=r.default.extend(a.prototype,o.default.Events,{EVENTS:{PERFORMANCE_MARK:"performance_mark"},MARKS:{PLAYER:{RUN_START:"run-start",DOM_READY:"dom-ready",SPINNER_SHOWN:"spinner-shown",DOC_VERSION_LOADED:"doc-version-loaded",SPINNER_HIDDEN:"spinner-hidden",HIGH_PRIORITY_IMAGES_START_LOADING:"high-priority-images-start-loading",LOW_PRIORITY_IMAGES_START_LOADING:"low-priority-images-start-loading",BEGIN_PRERENDERING_PAGES:"begin-prerendering-pages",ALL_PAGES_PRERENDERED:"all-pages-prerendered",PRIORITY_QUEUE_EMPTIED:"priority-queue-emptied",ALL_RESOURCES_LOADED:"all-resources-loaded"},STUDIO:{SHAREJS_CONNECTION_INITIALIZED:"sharejs-connection-initialized",ALL_DATA_LOADED:"all-data-loaded",ALL_PAGES_LOADED:"all-pages-loaded",USER_LOADED:"user-loaded",THUMBNAIL_POLICY_LOADED:"thumbnail-policy-loaded"}},optionalProperties:{},setOptionalProperties:function(t){return this.optionalProperties=t,this},_getDateNow:function(){return new Date(Date.now())},startTracking:function(t){this.startTime=t||this._getDateNow().getTime();var e=r.default.extend({},this.optionalProperties,{performance_marker_name:"start-tracking",performance_marker_time:0});this.trigger(this.EVENTS.PERFORMANCE_MARK,e)},mark:function(t){if(null===this.startTime)return!1;var e=this._getDateNow().getTime()-this.startTime;if(e<0||e>18e5)return!1;var n=r.default.extend({},this.optionalProperties,{performance_marker_name:t,performance_marker_time:e});return this.trigger(this.EVENTS.PERFORMANCE_MARK,n),!0}}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=function(){this.lastUserActivityTime=null,this.timerId=null,this.paused=!1,this.pageActivated=!1,document.addEventListener&&document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?this.pause():"visible"===document.visibilityState&&this.registerUserActivity()}),this))};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{USER_ACTIVITY_PING:"user-activity-ping"},PAGE_PING_INTERVAL_MILLIS:5e3,USER_INACTIVITY_TIMEOUT_MILLIS:3e4,pause:function(){this.isRunning()&&(this.logDebug("Pausing page ping timer"),clearTimeout(this.timerId),this.timerId=null,this.paused=!0)},registerUserActivity:function(){this.pageActivated&&(this.lastUserActivityTime=new Date,this.paused=!1,this.isRunning()||this.startTimer())},registerUserActivityIfNotPaused:function(){this.paused||this.registerUserActivity()},startTimer:function(){this.logDebug("Starting page ping timer");var t=r.default.bind((function(){this.timerId=setTimeout(r.default.bind((function(){this.trigger(this.EVENTS.USER_ACTIVITY_PING,this.getDwellTimeEventData()),this.setPostEventFireData(),this.shouldStartPagePingEventTimer()?t():(this.logDebug("Stopping page pings. User is not active."),this.timerId=null)}),this),this.PAGE_PING_INTERVAL_MILLIS),this.timerStartTime=Date.now()}),this);t()},getDwellTimeEventData:function(){return{dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},setPostEventFireData:function(){},shouldStartPagePingEventTimer:function(){return this.isUserActive()},isUserActive:function(){return new Date-this.lastUserActivityTime<this.USER_INACTIVITY_TIMEOUT_MILLIS},isRunning:function(){return null!==this.timerId},logDebug:function(t){console.debug(t)}}),e.default=a},function(t,e,n){"use strict";var i;
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,s){var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),d=Math.round,h=Math.abs,f=Date.now;function p(t,e,n){return setTimeout(T(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function v(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=v((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),_=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&u(i,n)}function T(t,e){return function(){return t.apply(e,arguments)}}function w(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function S(t,e){return void 0===t?e:t}function E(t,e,n){m(P(e),(function(e){t.addEventListener(e,n,!1)}))}function O(t,e,n){m(P(e),(function(e){t.removeEventListener(e,n,!1)}))}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function A(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function M(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];I(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function k(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((i=(n=l[o])?n+r:e)in t)return i;o++}}var D=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var N="ontouchstart"in r,L=void 0!==k(r,"PointerEvent"),V=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],j=["clientX","clientY"];function U(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){w(t.options.enable,[t])&&n.handler(e)},this.init()}function B(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,a=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=H(e));r>1&&!n.firstMultiple?n.firstMultiple=H(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=G(i);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Y(s,u),e.distance=$(s,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=z(e.deltaX,e.deltaY);var l=W(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,e.scale=a?(c=a.pointers,d=i,$(d[0],d[1],j)/$(c[0],c[1],j)):1,e.rotation=a?function(t,e){return Y(e[1],e[0],j)+Y(t[1],t[0],j)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=W(s,u,l);i=c.x,r=c.y,n=h(c.x)>h(c.y)?c.x:c.y,o=z(u,l),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var c,d;var p=t.element;C(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function H(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:G(e),deltaX:t.deltaX,deltaY:t.deltaY}}function G(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:d(n/e),y:d(i/e)}}function W(t,e,n){return{x:e/t||0,y:n/t||0}}function z(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function $(t,e,n){n||(n=F);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function Y(t,e,n){n||(n=F);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(R(this.element),this.evWin,this.domHandler)}};var q={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}b(X,U,{handler:function(t){var e=q[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Q="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=Q,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(J="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,U,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=K[i],o=Z[t.pointerType]||t.pointerType,a="touch"==o,s=I(e,t.pointerId,"pointerId");1&r&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&r&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function it(t,e){var n=x(t.touches),i=x(t.changedTouches);return 12&e&&(n=M(n.concat(i),"identifier",!0)),[n,i]}b(nt,U,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function at(t,e){var n=x(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=x(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return C(t.target,u)})),1===e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&e&&delete i[a[r].identifier],r++;return s.length?[M(o.concat(s),"identifier",!0),s]:void 0}b(ot,U,{handler:function(t){var e=rt[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function st(){U.apply(this,arguments);var t=T(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}b(st,U,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ut.call(this,e,n);else if(r&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dt=k(c.style,"touchAction"),ht=void 0!==dt,ft=function(){if(!ht)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&ft[t]&&(this.manager.element.style[dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){w(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(A(t,"none"))return"none";var e=A(t,"pan-x"),n=A(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(A(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=A(i,"none")&&!ft.none,o=A(i,"pan-y")&&!ft["pan-y"],a=A(i,"pan-x")&&!ft["pan-x"];if(r){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function gt(t){this.options=u({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function _t(){gt.apply(this,arguments)}function bt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function Tt(){_t.apply(this,arguments)}function wt(){gt.apply(this,arguments),this._timer=null,this._input=null}function St(){_t.apply(this,arguments)}function Et(){_t.apply(this,arguments)}function Ot(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ct(t,e){return(e=e||{}).recognizers=S(e.recognizers,Ct.defaults.preset),new At(t,e)}gt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+mt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(_t,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32}}),b(bt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(Tt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),b(wt,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(St,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Et,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(Ot,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||$(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ct.VERSION="2.0.8",Ct.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[St,{enable:!1}],[Tt,{enable:!1},["rotate"]],[Et,{direction:6}],[bt,{direction:6},["swipe"]],[Ot],[Ot,{event:"doubletap",taps:2},["tap"]],[wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function At(t,e){var n;this.options=u({},Ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:V?ot:N?st:X))(n,B),this.touchAction=new pt(this,this.options.touchAction),Pt(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Pt(t,e){var n,i=t.element;i.style&&(m(t.options.cssProps,(function(r,o){n=k(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}At.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(P(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(P(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Pt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ct,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:At,Input:U,TouchAction:pt,TouchInput:ot,MouseInput:X,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:gt,AttrRecognizer:_t,Tap:Ot,Pan:bt,Swipe:Et,Pinch:Tt,Rotate:St,Press:wt,on:E,off:O,each:m,merge:_,extend:y,assign:u,inherit:b,bindFn:T,prefixed:k}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Ct,void 0===(i=function(){return Ct}.call(e,n,e,t))||(t.exports=i)}(window,document)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={mergeDelegates:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(r.default.isObject(n))for(var i in n)r.default.isFunction(n[i])?t[i]=r.default.bind(n[i],t):t[i]=n[i]}}};e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=null;e.default={getScrollbarWidth:function(){if(!r.default.isNull(o))return o;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),o=e-i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e){this.lookBehind=1,this.lookAhead=1,this.isCircular=e,this.pageIndexes=t.sort((function(t,e){return t-e}))};o.prototype={getPageIndexesToLoad:function(t){var e,n=null,i=!1;r.default.each(this.pageIndexes,r.default.bind((function(e,r){return e===t?(n=r,i=!0,!1):e>t?(n=r,!1):void 0}),this)),i?e=this.pageIndexes:(e=this.pageIndexes.slice(),null===n&&(n=e.length),e.splice(n,0,t));var o,a=[],s=n;for(o=0;o<this.lookBehind;o++){if(-1===--s){if(!this.isCircular)break;s=e.length-1}a.push(e[s])}var u=[];for(s=n,o=0;o<this.lookAhead;o++){if(++s===e.length){if(!this.isCircular)break;s=0}u.push(e[s])}return this.combinePageIndexArrays(e[n],a,u)},combinePageIndexArrays:function(t,e,n){for(var i=[t],o=0;o<n.length||o<e.length;)o<n.length&&i.push(n[o]),o<e.length&&i.push(e[o]),o++;return r.default.uniq(i)}},e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToObjectInteraction=void 0;var u=n(129),l=s(n(0)),c=s(n(11)),d=s(n(12)),h=function(t){function e(e,n){var i=e.layerTargets,r=a(e,["layerTargets"]),s=l.default.get(i,0);return t.call(this,o(o({},r),{scrollTargetType:"component",scrollTargetScranchor:s}),n)||this}return r(e,t),e.prototype.isValid=function(){if(!c.default.hasFeature(d.default.ACCESSIBILITY)||!this.scrollTargetScranchor)return!1;var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);return Boolean(t&&!t.fixedPosition)},e.prototype.customAttributes=function(){if(this.isValid()){var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);if("folder"===t.type){var e=this.pageView.model.constructor.findTopmostFolderContent(t);if(e)return{"aria-flowto":e.id}}}return{}},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.layerTargets=e.scrollTargetScranchor?[e.scrollTargetScranchor]:[],delete e.scrollTargetScranchor,delete e.scrollTargetType,e},e}(u.ScrollToInteraction);e.ScrollToObjectInteraction=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToInteraction=void 0;var a=o(n(0)),s=n(68),u=n(14),l=o(n(2)),c=o(n(11)),d=o(n(12)),h=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scrollTargetType=e.scrollTargetType||"",i.scrollTargetScranchor=e.scrollTargetScranchor,i}return r(e,t),e.prototype.constructUrl=function(){var t=c.default.hasFeature(d.default.ACCESSIBILITY);if(!l.default.isEmbedded)return t&&"top"===this.scrollTargetType?"#"+u.VIEWPORT_TOP_ID:"top"===this.scrollTargetType||"bottom"===this.scrollTargetType?"#page-"+(this.pageView.model.pageIndex+1)+"-"+this.scrollTargetType:"#"+(this.scrollTargetScranchor||"")},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SCROLL_TO},e.prototype.isValid=function(){switch(this.scrollTargetType){case"top":case"bottom":return!0;case"scranchor":return!!this.scrollTargetScranchor&&!a.default.isEmpty(this.scrollTargetScranchor);default:return!1}},e}(s.BaseURLInteraction);e.ScrollToInteraction=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorUtils=void 0;var i=function(){function t(){}return t.intToHex=function(t){return("0"+t.toString(16)).slice(-2)},t.fixRange=function(t){return Math.min(Math.max(Math.ceil(t),0),255)},t.isRgb=function(t){return!!t.match(/^rgb/)},t.rgb=function(t){var e=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||[],n=e[1],i=e[2],r=e[3];return{r:Number(n),g:Number(i),b:Number(r)}},t.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)||[],n=e[1],i=e[2],r=e[3];return{r:parseInt(n,16),g:parseInt(i,16),b:parseInt(r,16)}},t.lightenDarkenColor=function(t,e){var n=this.colorToRGB(t),i=n.r,r=n.g,o=n.b;return"#"+this.intToHex(this.fixRange(i+e))+this.intToHex(this.fixRange(r+e))+this.intToHex(this.fixRange(o+e))},t.hsp=function(t){var e=this.isRgb(t)?this.rgb(t):this.hexToRgb(t),n=e.r,i=e.g,r=e.b;return Math.sqrt(n*n*.299+i*i*.587+r*r*.114)},t.colorToRGB=function(t){return this.isRgb(t)?this.rgb(t):this.hexToRgb(t)},t.isDark=function(t){return this.hsp(t)<=127.5},t.isLight=function(t){return this.hsp(t)>127.5},t.lighten=function(t,e){return this.lightenDarkenColor(t,e/100*255)},t.darken=function(t,e){return this.lightenDarkenColor(t,e/100*255*-1)},t}();e.ColorUtils=i},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PAGE_EVENTS=void 0;var u=s(n(6)),l=s(n(1)),c=s(n(0)),d=s(n(3)),h=s(n(2)),f=s(n(31)),p=s(n(22)),g=s(n(132)),m=s(n(372)),v=s(n(157)),y=n(136),_=s(n(64)),b=s(n(15)),T=s(n(30)),w=s(n(36)),S=n(153),E=o(n(70)),O=n(137),C=s(n(8)),A=n(373),P=n(5),I=n(374),x=s(n(69));e.PAGE_EVENTS={REMOTE_CHANGE_DONE:"remote.done",PAGE_RELOAD_DONE:"reload.done"},e.default=p.default.extend({className:"page-viewport",tagName:"div",activated:!1,documentVersion:null,$pageContainer:null,$pinnedContainer:null,$pageScroll:null,scaleContext:null,scaleTransformKey:null,scaleTransformValue:null,scaleExperience:null,prerenderer:null,focusArbiter:null,activeHoversGroupedByInteraction:null,defaults:{physicalPageNumber:"unknown"},automaticHoverInteractionCollection:null,initialize:function(){if(this.options=c.default.defaults(this.options,this.defaults),this.animationRunner=new m.default,this.automaticHoverInteractionCollection=new I.AutomaticHoverInteractionCollection,this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.scaleExperience=this.documentVersion.getScaleExperience(),this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[],this.prerenderer=new g.default(this),this.$pageContainer=l.default("<div>",{class:"page-container"}),this.throttleReload=c.default.debounce(c.default.bind(this.reload,this),1e3),this.documentVersion.on("reload",this.throttleReload),this.$pageScroll=l.default("<div>",{class:"page-scroll"}),this.$pageContainer.append(this.$pageScroll),this.documentVersion.shouldLazyLoad()&&C.default.getUrlParams(window.location.href).showLazyLoadBreakpoint){var t=l.default("<hr/>",{class:"lazyLoadingBreakpointLine"});t.css("top",this.model.getlazyLoadingVerticalBreakpoint()+"px"),this.$pageScroll.append(t)}this.focusArbiter=new O.FocusArbiter(this);var e=this;d.default.desktop()&&(this.$pinnedContainer=l.default("<div>",{class:"pinned-container"}),this.$el.append(this.$pinnedContainer),this.$pinnedContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){t.preventDefault(),t.stopPropagation();var n=e.$pageContainer.scrollTop(),i=t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(i*=e.getUnstyledLineHeight()),e.$pageContainer.scrollTop(n+i)}}))),this.$pageContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){var n=e.$pageContainer.scrollTop(),i=n+t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(i=n+t.originalEvent.deltaY*e.getUnstyledLineHeight());var r=e.$pageContainer[0].scrollHeight>e.$pageContainer[0].offsetHeight,o=e.$pageContainer[0].scrollHeight-e.$pageContainer[0].scrollTop>0,a=e.$pageContainer[0].scrollHeight-e.$pageContainer[0].scrollTop<e.$pageContainer[0].clientHeight;if(h.default.isEmbedded){if(!(-1===window.location.href.indexOf("?heightOverride=")&&r&&o&&a))return;t.preventDefault(),t.stopPropagation(),e.$pageContainer.scrollTop(i)}else t.preventDefault(),t.stopPropagation(),e.$pageContainer.scrollTop(i)}}));var n=d.default.isDesktopSafari()||d.default.isMobileSafari();d.default.isIpadPretendingToBeDesktop()&&d.default.isIosGreaterThanOrEqualTo(13)&&n&&(this.$pageContainer.addClass("page-container-for-ipad-pretending-to-be-desktop"),this.$pinnedContainer.addClass("pinned-container-for-ipad-pretending-to-be-desktop")),this.$el.append(this.$pageContainer),p.default.prototype.initialize.call(this),this.el=function(){return this.$el},this.$el.attr("data-slug",this.model.get("slug")),this.prepare=c.default.once(c.default.bind(this.prepare,this)),this.attach=c.default.once(c.default.bind(this.attach,this)),this.spinner=null,this.pageReady=new l.default.Deferred,this.renderPlaceholder(),this.activeHoversGroupedByInteraction=[],this.lastViewportUpdate=performance.now(),this.isProcessingScroll=!1;var i=this,r=function(t){t-i.lastViewportUpdate>100?(i.onScrollAndWindowResize(),i.lastViewportUpdate=t,i.isProcessingScroll=!1):requestAnimationFrame(r)};this.$pageContainer.on("scroll",(function(t){i.isProcessingScroll||(i.isProcessingScroll=!0,requestAnimationFrame(r))})),f.default.getInstance().on("change",c.default.bind(this.onScrollAndWindowResize,this)),h.default.previewMode&&this.registerVariantListeners(),this.childViews=[]},registerVariantListeners:function(){b.default.on("change",c.default.debounce(c.default.bind(this.reload,this),50,{leading:!0,trailing:!0})),f.default.getInstance().on("change:windowWidth change:windowHeight",(function(){b.default.detect()})),l.default(window).on("resize",(function(){b.default.detect()}))},startLazyPrerender:function(){return this.prerenderer.lazyPrerender()},prerender:function(){this.prerenderer.prerender()},getPrerenderDeferred:function(){return this.prerenderer.prerenderDeferred},isPrerendered:function(){return this.prerenderer.isPrerendered()},resetPageForPrerender:function(){this.closeAllComponents(),this.childViews=[],this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[]},getUnstyledLineHeight:function(){if(!this.unstyledLineHeight){var t=document.createElement("iframe");t.src="#",document.body.appendChild(t);var e=t.contentWindow.document;e.open(),e.write("<!DOCTYPE html><html><head></head><body><span>a</span></body></html>"),e.close();var n=e.body.firstElementChild;this.unstyledLineHeight=n.offsetHeight,document.body.removeChild(t)}return this.unstyledLineHeight},getPageHeight:function(){return this.model.getPageHeight(this.documentVersion)},getPageWidth:function(){return this.model.getPageWidth(this.documentVersion)},getScrollPosition:function(){return this.$pageContainer.scrollTop()},setScrollPosition:function(t){this.$pageContainer.scrollTop(t)},focusScrollContainer:function(){this.$pageContainer.trigger("focus")},triggerModuleScrollEvent:function(t){this.getModule().trigger(this.getModule().publishedEvents.PAGE_SCROLL,{slug:this.model.get("slug"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight()})},onScrollAndWindowResize:function(){if(this.activated){var t=this.getVisibleBoundaries();if(this.animationRunner.whenVisibleBoundariesChange(this.scrollTriggeredObjects,t),this.animationRunner.resetHoverInteractionViewsToInitialVisibility(this.resetWhenOffscreenHoverTriggers,this.childViews,t),!this.documentVersion.getSwipeEnabled()&&d.default.isIosSafari())if(document.documentElement.offsetHeight/window.innerHeight!=1){var e=this.$pageContainer.scrollTop()/(this.$pageContainer[0].scrollHeight-this.$pageContainer.height()||this.$pageContainer.height());l.default("html").scrollTop((l.default("html")[0].scrollHeight-window.innerHeight||window.innerHeight)*e)}this.triggerModuleScrollEvent(t)}},resetTimedTriggers:function(){c.default.each(this.childViews,(function(t){t.resetTimers&&t.resetTimers(),t.timedTriggersCreatedAtLeastOnce=!1}))},getVisibleBoundaries:function(){var t=this.getVisibleYBoundaries(),e=this.getVisibleXBoundaries();return e?new y.VisibleBoundaries(t.topY,t.bottomY,e.leftX,e.rightX):new y.VisibleBoundaries(t.topY,t.bottomY)},getVisibleYBoundaries:function(){var t,e,n=this.getScaleContext(),i=n.height/n.ratio,r=f.default.getInstance(),o=this.$pageContainer.scrollTop();if(r.isActive()){var a=this.getPageHeight(),s=Math.max((i-a)/2,0),u=r.getTop()/n.ratio,l=r.getBottom()/n.ratio;t=Math.max(u,0)+o-s,e=Math.min(l,i)+o-s}else e=(t=o)+i;return{topY:Math.round(t),bottomY:Math.round(e)}},getVisibleXBoundaries:function(){if(this.scaleExperience)return null;var t=this.getScaleContext();return{leftX:this.$pageContainer.scrollLeft(),rightX:this.$pageContainer.scrollLeft()+t.width}},getScaleContext:function(){return this.scaleContext.getPageScaleContext(this.model)},getSlug:function(){return this.model.get("slug")},getName:function(){return this.model.get("name")},onClose:function(){this.closeAllComponents()},closeAllComponents:function(){if(this.childViews){var t=function(e){c.default.each(e,(function(e){e.close(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},_bindModel:function(){this.model.on("remote",this.applyRemoteChange,this),this.model.on("reload",this.throttleReload,this)},renderPlaceholder:function(){this.closeAllComponents();var t=l.default(window);this.$el.css({width:t.width(),height:t.height()}),this._createSpinner(!1)},setFixedPosition:function(t){var e=this;d.default.desktop()||(t.$el.css("position","fixed"),t.$el.on("mousewheel",(function(t){t.preventDefault(),t.stopPropagation();var n=e.$pageContainer.scrollTop();t.originalEvent.deltaY&&e.$pageContainer.scrollTop(n+t.originalEvent.deltaY)})))},findChildView:function(t){return v.default.find(this.childViews,t)},findVideo:function(t){var e=null,n=function(i){return c.default.some(i,(function(i){return i.el&&i.el.id===t?(e=i,!0):!!i.childViews&&n(i.childViews)}))};return this.childViews&&n(this.childViews),e},_addScrollTriggeredObject:function(t){c.default.some(this.scrollTriggeredObjects,(function(e){return e.id==t.id}))||this.scrollTriggeredObjects.push(t)},_removeScrollTriggeredObject:function(t){var e;c.default.find(this.scrollTriggeredObjects,(function(n,i){return n.id==t.id&&(e=i,!0)}))&&this.scrollTriggeredObjects.splice(e,1)},addResetWhenOffscreenHoverTrigger:function(t){c.default.some(this.resetWhenOffscreenHoverTriggers,(function(e){return e.id==t.id}))||this.resetWhenOffscreenHoverTriggers.push(t)},removeResetWhenOffscreenHoverTrigger:function(t){var e;c.default.find(this.resetWhenOffscreenHoverTriggers,(function(n,i){return n.id==t.id&&(e=i,!0)}))&&this.resetWhenOffscreenHoverTriggers.splice(e,1)},prepare:function(){return this.prerenderer.isPrerendered()||this.prerenderer.prerender(),this.prerenderer.getPrerenderPromise().done(c.default.bind((function(){l.default.when.apply(l.default,this.attachInitialMedia()).done(c.default.bind((function(){u.default.debug("All page media attached"),this.pageReady.resolve()}),this)).fail(c.default.bind((function(){u.default.debug("Page media failed"),this.pageReady.reject()}),this))}),this)),this.pageReady.promise()},attachInitialMedia:function(){return this.documentVersion.shouldLazyLoad()?(this.attachChildMedia(this,!0),this.attachInitialViewportMedia(this)):this.attachChildMedia(this,!0)},attachViewMedia:function(t){var e=[];e.push(t.attachMedia());return e=e.concat(this.attachChildMedia(t,!1))},attachChildMedia:function(t,e){var n=[],i=this,r=function(t){c.default.each(t,(function(t){(!e||t.initiallyVisible||t.keepVisibleForScreenReaders)&&(t.mediaHasBeenLoaded||(t.mediaHasBeenLoaded=!0),(!i.documentVersion.shouldLazyLoad()||i.documentVersion.shouldLazyLoad()&&!t.options.isInInitialViewport)&&n.push(t.attachMedia()),t.childViews&&r(t.childViews))}))};return t&&t.childViews&&r(t.childViews),n},attachInitialViewportMedia:function(t){var e=[],n=function(t){c.default.each(t,(function(t){t.options.isInInitialViewport&&e.push(t.attachMedia()),t.childViews&&n(t.childViews)}))};return t&&t.childViews&&n(t.childViews),e},scale:function(){var t=this.getScaleContext();this.model.preloadImages(t);var e=function(t){c.default.each(t,(function(t){(t.mediaHasBeenLoaded||t.initiallyVisible)&&(t.scaleComponent(),t.childViews&&e(t.childViews))}))};e(this.childViews)},doCustomScaling:function(){var t=function(e){c.default.each(e,(function(e){(e.mediaHasBeenLoaded||e.initiallyVisible)&&(e.doCustomScaling(!0),e.childViews&&t(e.childViews))}))};t(this.childViews)},attach:function(){this._destroySpinner(),this.pageReady.resolve(),this.render(),u.default.debug("Page idx: "+this.getPageIndex()+" attached!")},render:function(){this.$pageScroll[0].appendChild(this.prerenderer.getDocumentFragment()),d.default.desktop()&&this.$pinnedContainer[0].appendChild(this.prerenderer.getPinnedDocumentFragment());var t=function(e){c.default.each(e,(function(e){e.onAttach(),e.childViews&&(d.default.isDesktopSafari()&&e.childrenUseBlendingModes()&&c.default.isFunction(e.prepareGroupForBlendingModes)&&e.prepareGroupForBlendingModes(),t(e.childViews))}))};t(this.childViews),this.automaticHoverInteractionCollection.initInteractions(),this.$pageScroll.trigger("focus")},applyRemoteChange:function(t){v.default.reset();var n=this.findChildView(t.id);if(this.model.updateLayerDictionaryFromRemoteChange(t),null==n?void 0:n.isComponent()){var i;i=!n.areAllParentsVisible(),n.applyChanges(this.applyPageContext(t.options)),i&&n.hide(),n.doTriggerOnScroll()?this._addScrollTriggeredObject(n):this._removeScrollTriggeredObject(n),n.getResettableHoverInteractions()?this.addResetWhenOffscreenHoverTrigger(n):this.removeResetWhenOffscreenHoverTrigger(n)}this.automaticHoverInteractionCollection.refreshInteractions(),this.trigger(e.PAGE_EVENTS.REMOTE_CHANGE_DONE)},reload:function(){var t=b.default.getVariant();if(t!==this.model.getReconciledVariant()){var n=this.model.reconcileLayers(this.model.get("layerHierarchies")[t],this.model.get("layerDictionary"));this.model.set("layers",n),this.model.resolveSmartgroupsAndMedia()}this.scaleExperience=this.documentVersion.getScaleExperience();var i=this.getScaleContext();this.documentVersion.shouldLazyLoad()?this.model.lazyPreloadAllMedia(i,this.options.isRequestedPage):(this.model.preloadVisibleMedia(i,!0),this.model.preloadHiddenMedia(i)),this.prerender(),this.$pageScroll.empty(),d.default.desktop()&&this.$pinnedContainer.empty(),this.resetTimedTriggers(),this.render(),this.getModule().trigger(this.getModule().publishedEvents.PAGE_RELOAD),this.attachInitialMedia(),this.activateAndRunEntryAnimationsForAllVisible(),this.trigger(e.PAGE_EVENTS.PAGE_RELOAD_DONE)},storeScaleTransform:function(t,e){this.scaleTransformKey=t,this.scaleTransformValue=e},setBackgroundPositionAndScaleTransform:function(t,e){var n={"background-position-x":t+"px",zoom:"",transform:""};(this.scaleExperience||e)&&(e?"transform"===this.scaleTransformKey?n.transform="translateX("+t+"px) "+this.scaleTransformValue:(n.transform="translateX("+t+"px)",n[this.scaleTransformKey]=this.scaleTransformValue):n[this.scaleTransformKey]=this.scaleTransformValue),this.$el.css(n)},getLeft:function(){return parseInt(this.$el.css("background-position-x"),10)},setOpacity:function(t){this.$pageScroll.css("opacity",t)},isInTransition:function(){return this.$el.hasClass("in-transition")},isPending:function(){return this.$el.hasClass("pending")},isTop:function(){return this.$el.hasClass("top")},isViewed:function(){return this.$el.hasClass("viewed")},isReady:function(){return"resolved"===this.pageReady.state()},isDisabled:function(){return!0===this.model.get("disabled")},disable:function(){this.model.set("disabled",!0)},enable:function(){this.model.set("disabled",!1)},makeInTransition:function(){this.$el.addClass("in-transition"),this._startSpinner()},makePending:function(){this.$el.removeClass("top viewed in-transition").addClass("pending").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(t.originalWindowWidth,!1),this._stopSpinner()},makeTop:function(){this._startSpinner(),this.$el.removeClass("pending viewed in-transition").addClass("top").attr("aria-hidden",!1),this.setBackgroundPositionAndScaleTransform(0,!1)},activate:function(){this.activateAndRunEntryAnimationsForAllVisible();var t=this.getVisibleBoundaries();this.animationRunner.createTimedTriggers(this.scrollTriggeredObjects,t),this.getModule().trigger(this.getModule().publishedEvents.PAGE_ACTIVATED,{slug:this.model.get("slug"),pageName:this.model.get("name"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight(),sdkTags:this.model.get("sdkTags"),sdkPayload:this.model.get("sdkPayload")}),this.activated=!0},triggerScrollTo:function(t){t=t.replace(/^#?/,""),t=window.decodeURIComponent(t);var e="#"+E.escapeComponentId(t),n="component",i=t.match(/page-[0-9]+-(top|bottom)/);i?n=i[1]:this.$pageContainer.find(e).hasClass("scranchor")&&(n="scranchor"),T.default.trigger(this.module.publishedEvents.PAGE_ACTION_SCROLL_TO,{scrollTargetType:n,scrollTargetScranchor:t})},makeViewed:function(){this.$el.removeClass("top pending in-transition").addClass("viewed").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(-t.originalWindowWidth,!1),this._stopSpinner()},getThumbnail:function(){return this.options&&this.options.thumbnail?C.default.makeUrlAbsolute(this.options.thumbnail):null},getChildViews:function(){return this.childViews},isChildVisible:function(t){return null!==t&&!0===t.visible},reset:function(){this.childViews&&(this.deactivateHovers(),this.animationRunner.resetAnimationsAndInitialVisibility(this.childViews))},activateAndRunEntryAnimationsForAllVisible:function(){this.childViews&&this.animationRunner.activateAndRunEntryAnimationsForAllVisible(this.childViews,this.getVisibleBoundaries())},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(){this.childViews&&this.animationRunner.restartRepeatEntryAnimationsForAllVisibleOrViewed(this.childViews,this.getVisibleBoundaries())},pauseAnimations:function(){if(this.childViews){var t=function(e){c.default.each(e,(function(e){e.pauseAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},resumeAnimations:function(){if(this.childViews){var t=function(e){c.default.each(e,(function(e){e.resumeAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},isValidChildView:function(t){return null!==this.findChildView(t)},applyPageContext:function(t){return t.interactions=S.InteractionFactory.initializeInteractions(t.interactions,this,t.id),t.states&&(t.states=A.ObjectStateFactory.initializeStates(t.states)),c.default.defaults(t,{pageWidth:this.getPageWidth(),pageHeight:this.getPageHeight(),module:this.getModule(),pageView:this,theme:this.options.theme,allowCommerceIntegration:this.options.allowCommerceIntegration})},invokeShowAction:function(t,e){if(t&&0!==t.length){var n=this,i=[];c.default.each(t,(function(t){var e=n.findChildView(t);e&&i.push(e)})),this.loadAllMediaThenShowChildViews(c.default.uniq(i),e)}},invokeHideAction:function(t){if(t&&0!==t.length){var e=[],n=this;c.default.each(t,(function(t){var i=n.findChildView(t);i&&e.push(i)})),this.hideAllChildViews(c.default.uniq(e))}},invokeToggleAction:function(t){if(t&&0!==t.length){var e=[],n=[],i=this;c.default.each(t,(function(t){var r=i.findChildView(t);r&&(i.isChildVisible(r)?e.push(r):n.push(r))})),this.hideAllChildViews(c.default.uniq(e)),this.loadAllMediaThenShowChildViews(c.default.uniq(n))}},invokeShowOrHideOnlyAction:function(t,e){if(t&&0!==t.length){var n=[];c.default.each(t,c.default.bind((function(t){var e=this.findChildView(t);e&&(e.parentViews.length>0?n.push(e.parentViews[0]):n.push(this))}),this));var i=[],r=[];c.default.each(c.default.uniq(n),(function(n){c.default.each(n.childViews,(function(n){var o=-1!==t.indexOf(n.id);o&&e||!o&&!e?r.push(n):i.push(n)}))})),this.loadAllMediaThenShowChildViews(c.default.uniq(r)),this.hideAllChildViews(c.default.uniq(i))}},invokeShowOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!0)},invokeHideOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!1)},invokeCycleNextOrPreviousAction:function(t,e){if(t&&0!==t.length){var n=[],i=[];c.default.each(t,c.default.bind((function(t){var r=this.findChildView(t);if(r&&r.childViews&&0!==r.childViews.length){var o,a=c.default.findLast(r.childViews,(function(t){return t.visible}));if(a){var s=r.childViews.indexOf(a);o=e?0===s?r.childViews.length-1:s-1:s===r.childViews.length-1?0:s+1}else o=e?r.childViews.length-1:0;i.push(r.childViews[o]),n=n.concat(r.childViews.slice(0,o)).concat(r.childViews.slice(o+1))}}),this)),this.loadAllMediaThenShowChildViews(c.default.uniq(i)),this.hideAllChildViews(c.default.uniq(n))}},invokeCycleNextAction:function(t){this.invokeCycleNextOrPreviousAction(t,!0)},invokeCyclePreviousAction:function(t){this.invokeCycleNextOrPreviousAction(t,!1)},loadAllMediaThenShowChildViews:function(t,e){var n=this;function i(){var e=n.getVisibleBoundaries();c.default.each(t,(function(t){t.mediaHasBeenLoaded=!0,n.animationRunner.showChildViewIfAllParentsVisible(t,e)}))}var r=[];if(c.default.each(t,(function(t){t.mediaHasBeenLoaded||(r=r.concat(n.attachViewMedia(t)))})),c.default.isEmpty(r))i(),e&&e();else{c.default.isNull(n.childLoadingTimeout)||clearTimeout(n.childLoadingTimeout),n.childLoadingTimeout=c.default.delay((function(){n._createSpinner(!0)}),200);var o=function(){clearTimeout(n.childLoadingTimeout),n.childLoadingTimeout=null,n._destroySpinner(),i()};l.default.when.apply(l.default,r).done((function(){u.default.debug("Successfully attached child media being shown."),o(),e&&e()})).fail((function(){u.default.debug("Failed to load child media being shown."),o()}))}},hideAllChildViews:function(t){this.animationRunner.hideAllChildViewsAndRunExitAnimations(t)},_createSpinner:function(t){c.default.isNull(this.spinner)&&(this.spinner=_.default.showLoading(this.$el,{startImmediately:t}))},_destroySpinner:function(){this.spinner&&(this.spinner.destroy(),this.spinner=null)},_stopSpinner:function(){this.spinner&&this.spinner.stop()},_startSpinner:function(){this.spinner&&this.spinner.start()},addActiveHoverAndBindMouseEvents:function(t,e){0===this.activeHoversGroupedByInteraction.length&&(this.$pageScroll.on("mousemove",c.default.bind(this._handleMouseMove,this)),this.$pageScroll.on("mouseleave",c.default.bind(this._handleMouseLeave,this)),this.$pinnedContainer.on("mousemove",c.default.bind(this._handleMouseMove,this)));var n=e.targetsSelf?[t.id]:e.getHoverTargets(),i=t.getExtents(),r=[];c.default.isEmpty(i)?this.deactivateHovers():(c.default.each(n,c.default.bind((function(n){if(this.isValidChildView(n)){var i=t.isFixedPosition(),o=n,a=[],s=this.calculateHoverArea(t,t.getExtents(),o,e,i),u=this.findChildView(n),l=parseInt(u.$el.css("zIndex"),10)||0;"folder"===u.options.type?l=u.getFirstAvailableZIndex():e.action===P.ActionTypes.changeState&&(a=c.default.map(u.getParentsWithLinkInteraction(),c.default.bind((function(t){return this.findChildView(t)}),this)));var d={object:t,interaction:e,area:s,target:u,targetZIndex:l,targetParentsWithLinkInteraction:a,pinned:i};r.push(d)}}),this)),r.length?this.activeHoversGroupedByInteraction.push(r):0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers())},calculateHoverArea:function(t,e,n,i,r){var o,a=this.getChildViewExtents(n,i);if(!c.default.isEmpty(a)){if(r){var s=c.default.cloneDeep(t.getExtents()),u=t.getTopAndBottomFixedPosition(s.y1,s.y2);s.y1=u.top,s.y2=u.bottom,o=w.default.createHoverArea(s,a,!1)}else o=w.default.createHoverArea(e,a,!1);return o}this.deactivateHovers()},getMouseXAndMouseYFromEvent:function(t){var e,n,i=this.getScaleContext(),r=this.$pageScroll.offset();return this.scaleContext.useZoom(i.ratio)?(e=t.pageX/i.ratio-r.left,n=t.pageY/i.ratio-r.top):(e=(t.pageX-r.left)/i.ratio,n=(t.pageY-r.top)/i.ratio),{mouseX:e,mouseY:n}},_handleMouseMove:function(t){var e=this,n=this.getMouseXAndMouseYFromEvent(t),i=n.mouseX,r=n.mouseY,o=[],s=Math.ceil(i),u=Math.floor(i),l=Math.ceil(r),d=Math.floor(r),h=new Set;c.default.each(this.activeHoversGroupedByInteraction,c.default.bind((function(n){!n||n.length<1||(c.default.every(n,c.default.bind((function(n){var i,r,o=this;if("change-state"===n.interaction.action&&(n.object.options.linkInteraction||"smartgroup"===n.object.options.type)){var f=n.interaction.getTargets(),p=function(t){return t.some((function(e){var i=!1,r=o.findChildView(e);if(h.has(e))return!0;if(r.options.id===n.object.options.id&&r.childViews&&r.childViews.length>0){var a=r.childViews.map((function(t){return t.id}));i=p(a)}else i=r.isHovered();return i&&t.forEach((function(t){return h.add(t)})),i}))};return!p(a(f,[n.object.options.id]))}var g=n.object.isHovered(t),m=n.interaction.shouldCreateHoverArea(),v=x.default.isShowLayersOnHoverInteraction(n.interaction)&&n.target.isHovered(t);if(m||v){var y=c.default.cloneDeep(n.object.getExtents()),_=!m&&v?n.object:n.target;i=n.interaction.hoverArea||e.calculateHoverArea(n.object,y,_.id,n.interaction,n.pinned),g=g||v&&m,r=!(Math.pointInPoly(i,s,l)||Math.pointInPoly(i,s,d)||Math.pointInPoly(i,u,l)||Math.pointInPoly(i,u,d)||g)}else r=!g;return n.target.mediaHasBeenLoaded&&r}),this))?n[0].object.triggerMouseOutAction(n[0].interaction):o.push(n))}),this)),this.activeHoversGroupedByInteraction=o,0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers()},_handleMouseLeave:function(t){c.default.each(this.activeHoversGroupedByInteraction,c.default.bind((function(t){t&&t.length&&t[0].object.triggerMouseOutAction(t[0].interaction)}),this)),this.deactivateHovers()},deactivateNonParentHovers:function(t){var e=[];c.default.each(this.activeHoversGroupedByInteraction,c.default.bind((function(n){n.length>0&&(c.default.every(n,c.default.bind((function(e){var n=t.idBelongsToParent(e.target.id)||e.target.id===t.id,i=e.object.id===t.id,r=t.childViews&&t.childViews.find((function(t){return t.id===e.object.id})),o=e.interaction.action!==P.ActionTypes.changeState,a=e.interaction.action!==P.ActionTypes.bringToFront;return!(n||i||r||!e.target.mediaHasBeenLoaded||!o||!a)}),this))?n[0].object.triggerMouseOutAction(n[0].interaction):e.push(n))}),this)),this.activeHoversGroupedByInteraction=e},isMouseOverAnActiveHoverAreaWithHigherZIndex:function(t,e){var n=this.getMouseXAndMouseYFromEvent(e),i=n.mouseX,r=n.mouseY,o=Math.ceil(i),a=Math.floor(i),s=Math.ceil(r),u=Math.floor(r),l=!1,d=parseInt(t.$el.css("zIndex"),10)||0;return"folder"===t.options.type&&(d=t.getFirstAvailableZIndex()),c.default.each(this.activeHoversGroupedByInteraction,c.default.bind((function(t){if(t.length>0&&(l=c.default.some(t,c.default.bind((function(t){return!!(t.interaction.createHoverArea&&t.targetZIndex>d)&&(Math.pointInPoly(t.area,o,s)||Math.pointInPoly(t.area,o,u)||Math.pointInPoly(t.area,a,s)||Math.pointInPoly(t.area,a,u))}),this))))return!0}),this)),l},deactivateHovers:function(){this.activeHoversGroupedByInteraction=[],this.$pageScroll.off("mousemove"),this.$pageScroll.off("mouseleave")},getChildViewExtents:function(t,e){var n=this.findChildView(t),i={};if(n)if(e&&e.action===P.ActionTypes.changeState)i=n.getExtentsFromObjectState(e.state);else if(i=n.getExtents(),n.isFixedPosition()){var r=n.getTopAndBottomFixedPosition(i.y1,i.y2);i.y1=r.top,i.y2=r.bottom}return i},getPageIndex:function(){return this.model.getPageIndex()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(1)),a=i(n(0)),s=i(n(6)),u=n(276),l=i(n(134)),c=i(n(368)),d=n(50),h=i(n(370)),f=n(371),p=i(n(11)),g=i(n(12)),m=function(t){this.prerenderDeferred=new o.default.Deferred,this.prerenderWorkQueue=[],this.accessibilityOverrides=new f.PrerenderAccessibilityOverride(t),this.pageView=t,this.pageIndex=this.pageView.getPageIndex(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment(),this.automaticHoverInteractionCollection=t.automaticHoverInteractionCollection};m.prototype={prerender:function(){s.default.debug("Pre-rendering page idx: "+this.pageIndex);var t=Date.now();for(this.isPrerenderQueueEmpty()&&this.initPrerenderQueue();!this.isPrerenderQueueEmpty();)this.prerenderNextWorkItem();for(var e=this.accessibilityOverrides.applyOverrides();!e.next().done;);this.automaticHoverInteractionCollection.prepareAccessibleHoverTargets(),s.default.debug("Prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()},lazyPrerender:function(){if(!this.isPrerendered()){var t=Date.now();s.default.debug("Starting lazy prerender on page idx: "+this.pageIndex),this.isPrerenderQueueEmpty()&&this.initPrerenderQueue();var e=!1,n=this.accessibilityOverrides.applyOverrides(),i=function(t){return Date.now()-t<10},r=a.default.bind((function(){var o=Date.now();if(!this.isPrerendered()){if(this.isPrerenderQueueEmpty())do{e=n.next().done}while(!e&&i(o));else do{this.prerenderNextWorkItem()}while(!this.isPrerenderQueueEmpty()&&i(o));this.isPrerenderQueueEmpty()&&e?(this.automaticHoverInteractionCollection.prepareAccessibleHoverTargets(),s.default.debug("Lazy prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()):window.requestAnimationFrame(r)}}),this);window.requestAnimationFrame(r)}return this.prerenderDeferred.promise()},initPrerenderQueue:function(){this.pageView.resetPageForPrerender(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment(),this.prerenderWorkQueue=c.default.createPreRenderList(this.pageView),this.prerenderWorkQueue.unshift(this.getCanvasBackgroundFromQueue(this.prerenderWorkQueue)),s.default.debug("Prerender queue for page idx: "+this.pageIndex+" has "+this.prerenderWorkQueue.length+" items.")},getCanvasBackgroundFromQueue:function(t){for(var e,n=t.length-1;n>=0;--n){var i=t[n];if(e="canvas-background-component"===i.model.type?t.splice(n,1)[0]:this.getCanvasBackgroundFromQueue(i.childViews))break}return e},addViewToDOM:function(t,e){var n=e.$el.hasClass("group")||e.$el.hasClass("hover-area")?h.default.determineEffectivePositionOf(e.$el):e.options,i=n.x,r=n.y;h.default.insert(t,e.$el[0],i,r),e.hoverArea&&(this.addViewToDOM(t,e.hoverArea),this.setObjectViewToNextHighestZIndex(e.hoverArea))},addComponentToDOM:function(t){t.options.fixedPosition&&r.default.desktop()?this.addViewToDOM(this.pinnedDocFrag,t):this.addViewToDOM(this.docFrag,t)},prerenderObjectView:function(t,e){var n=this.createObjectView(t);return null!==n&&(n.render(),n.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(n),n.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(n),n.options.fixedPosition&&this.pageView.setFixedPosition(n),e||(this.setObjectViewToNextHighestZIndex(n),this.addComponentToDOM(n))),n},createObjectView:function(t){var e=this;return t=this.pageView.applyPageContext(t),l.default.createComponentFromObject(t,(function(t,n){return e.pageView.model.layerDocPersister.saveModelChanges(n)}))},prerenderFolderView:function(t,e){var n=new u.FolderView(t);return n.childViews=e,a.default.each(n.childViews,a.default.bind((function(t){n.isInitiallyVisible()||t.hide(),t.addParentView(n),t.addContainerId(n.getId())}),this)),n},prerenderGroupView:function(t,e){var n=this,i=this.createObjectView(t);return i.childViews=e,i.childrenUseBlendingModes()?this.addBlendingModesFocusClass(i):this.setObjectViewToNextHighestZIndex(i),"mask-group"===t.type?(this.reArrangeMaskGroupViews(i),i.render()):(a.default.each(e,(function(t){var e=t;e.addParentView(i),e.addContainerId(i.getId()),e.childrenUseBlendingModes()||n.setObjectViewToNextHighestZIndex(e),e.hasActiveBlendingMode()&&n.addBlendingModesFocusClass(e),n.addViewToDOM(i.$el[0],e)})),i.render()),i.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(i),i.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(i),i.options.fixedPosition&&this.pageView.setFixedPosition(i),this.addComponentToDOM(i),i},reArrangeMaskGroupViews:function(t){var e=t.getMaskView(),n=t.getWrappedView();e.addParentView(t),e.addContainerId(t.getId()),n.addParentView(e),n.addContainerId(e.getId()),this.setObjectViewToNextHighestZIndex(e),this.setObjectViewToNextHighestZIndex(n),t.options.interactions&&t.options.interactions.length&&e.setMaskInteractions(t.options.interactions),n.hasBlendingMode()&&t.isAlphaMask()&&e.$el.css("mix-blend-mode",n.blendingMode),this.addViewToDOM(e.$el[0],n),this.addViewToDOM(t.$el[0],e)},prerenderSmartgroupView:function(t,e){var n=this;t=this.pageView.applyPageContext(t);var i=l.default.createComponentFromObject(t);return i.childViews=e,this.setObjectViewToNextHighestZIndex(i),function t(e){a.default.each(e,(function(e){if("folder"===e.options.type)t(e.childViews);else{var r=e;n.setObjectViewToNextHighestZIndex(r),n.addViewToDOM(i.$el[0],r),"image-component"===e.options.type&&e.$el.css("mix-blend-mode",d.BlendingModes.getDefault()),r.setParentSmartgroup(i),r.updatePositionForHoverArea()}}))}(i.childViews),i.render(),i.addContainerId(i.id),i.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(i),i.options.fixedPosition&&this.pageView.setFixedPosition(i),this.addComponentToDOM(i),i},setObjectViewToNextHighestZIndex:function(t){t.setInitialZIndex(this.nextZIndex),this.nextZIndex++},addBlendingModesFocusClass:function(t){var e=r.default.isBrowserFirefox()?"blending-modes-focus-mozilla":"blending-modes-focus";t.$el.addClass(e)},isPrerendered:function(){return"resolved"===this.prerenderDeferred.state()},getPrerenderPromise:function(){return this.prerenderDeferred.promise()},getDocumentFragment:function(){return this.docFrag},getPinnedDocumentFragment:function(){return this.pinnedDocFrag},isPrerenderQueueEmpty:function(){return!this.prerenderWorkQueue||0===this.prerenderWorkQueue.length},prerenderNextWorkItem:function(){var t=this.prerenderWorkQueue.shift();this.prerenderSingleWorkItem(t),t&&t.model&&p.default.hasFeature(g.default.ACCESSIBILITY)&&this.accessibilityOverrides.analyzeLayerForOverrides(t)},prerenderSingleWorkItem:function(t){if(t)if(t.isSmartgroupLayer()){var e=this.prerenderSmartgroupView(t.model,t.childViews);t.setView(e)}else if(t.isFolder()){var n=this.prerenderFolderView(t.model,t.childViews);t.setView(n)}else if(t.isGroup()){var i=this.prerenderGroupView(t.model,t.childViews);t.setView(i)}else if(t.isScranchor())h.default.insert(this.docFrag,t.$el[0],t.x,t.y,!0),t.adjustYCoordinateWithinGroup();else{var r;r=t.findParentSmartgroupOrGroupModel();var o=this.prerenderObjectView(t.model,r);t.setView(o)}}},e.default=m},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPageChildView=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isComponent=function(){return this._isComponent},e}(o(n(278)).default);e.AbstractPageChildView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(279)),a=i(n(286)),s=i(n(287)),u=i(n(292)),l=i(n(293)),c=i(n(294)),d=i(n(296)),h=i(n(300)),f=i(n(141)),p=i(n(303)),g=i(n(321)),m=i(n(146)),v=i(n(29)),y=n(147),_=n(324),b=n(326),T=n(328),w=n(329),S=n(331),E=n(364),O=n(367);e.default={createComponentFromObject:function(t){var e=null;switch(t.type){case"html-component":e=new u.default(t);break;case"chartblocks-chart-component":e=new l.default(t);break;case"hubspot-form-component":e=new c.default(t);break;case"marketo-form-component":e=new d.default(t);break;case"hotspot-component":e=new h.default(t);break;case"hotspot-path-component":e=new _.HotspotPathComponentView(t);break;case"canvas-background-component":e=new o.default(t);break;case"shape-component":switch(t.shape){case"square":e=new a.default(t);break;case"circle":e=new b.CircleComponentView(t);break;case"triangle":case"right-triangle":e=new w.TriangleComponentView(t);break;default:e=new s.default(t)}break;case"line-component":e=new T.LineComponentView(t);break;case"image-component":e=v.default.isVectorBased(t.contentType)?new E.VectorImageComponentView(t):new f.default(t);break;case"smartgroup":e=new g.default(t);break;case"group":e=new m.default(t);break;case"mask-group":e=new O.MaskGroupView(t);break;case"text-component":e=new S.TextComponentView(t);break;case"video-widget":e=p.default.create(t);break;case"custom-shape-component":e=new y.CustomShapeComponentView(t);break;default:return r.default.warn("Object type not supported:",t.type),null}return e}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(1)),a=i(n(0)),s=i(n(4)),u=i(n(281)),l=i(n(125)),c=i(n(282)),d=n(88),h=i(n(283)),f="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationEnd":"undefined"!=typeof AnimationEvent?"animationend":null,p="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationStart":"undefined"!=typeof AnimationEvent?"animationstart":null,g=function(t){var e=o.default.extend({$el:null,name:"unknown"},t||{});this.$el=e.$el,this.name=e.name,this.compiled=!1,this.tweens=[],this.eventState={},this.runClass=null,this.pauseClass=null,this.initialState={},this.finalState={},this.loop=!1,this.useSrOnlyClassInsteadDisplayChange=!1,this.requiresHardwareAcceleration=e.requiresHardwareAcceleration};g.EASING={EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",LINEAR:"linear"},g.RUNNING_STATE="running",g.COMPLETE_STATE="complete",g.START_EVENT="start",g.PAUSE_EVENT="pause",g.RESUME_EVENT="resume",g.END_EVENT="end",l.default.mergeDelegates(g,c.default),a.default.extend(g.prototype,s.default.Events,{add:function(t){return this.compiled?(r.default.warn("Animation already compiled!"),this):(this.tweens.push(t),this)},compile:function(){if(this.compiled)return this;if(a.default.isEmpty(this.tweens))return this;var t=u.default.generate(this.tweens);return this.runClass=t.runClass,this.pauseClass=t.pauseClass,this._buildRestingStates(),this.compiled=!0,this},precompile:function(t){if(a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el)){var e={};a.default.each(["opacity","left","top","transform"],a.default.bind((function(t){e[t]=this.$el.css(t)}),this)),e["transform-origin"]=this.$el.get(0).style.transformOrigin,this.initialState=e}},_buildRestingStates:function(){a.default.each(this.tweens,a.default.bind((function(t){this.initialState[t.property]=t.frames["0%"],this.finalState[t.property]=t.frames["100%"]}),this)),a.default.has(this.finalState,"transform")&&this.requiresHardwareAcceleration&&(this.finalState.transform=d.WebkitUtils.hardwareAccelerateTransform(this.finalState.transform))},resetToInitialState:function(){a.default.isNull(this.$el)||this.$el.css(this.initialState)},setToFinalState:function(){a.default.isNull(this.$el)||this.$el.css(this.finalState)},isRunning:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.runClass)},isPaused:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.pauseClass)},play:function(t){if(this.compile(),a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el))return u.default.flush(),this.eventState={},this.$el.bind(f,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!1),a.default.every(a.default.values(this.eventState),(function(t){return!t}))&&this.finish()}),this)),this.$el.bind(p,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!0)}),this)),this.$el[0].offsetWidth,"none"===this.$el.css("display")&&this.$el.show(),this.$el.addClass(this.runClass),this.trigger(g.START_EVENT),this},pause:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isRunning()&&!this.isPaused()&&(this.$el.addClass(this.pauseClass),this.trigger(g.PAUSE_EVENT))},resume:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isPaused()&&(this.$el.removeClass(this.pauseClass),this.trigger(g.RESUME_EVENT))},finish:function(){this.$el.css(this.finalState),"0"===this.$el.css("opacity")&&(this.useSrOnlyClassInsteadDisplayChange?this.$el.addClass("sr-only"):this.$el.hide()),this.cleanup(),this.trigger(g.END_EVENT)},cleanup:function(){this.compiled&&!a.default.isNull(this.$el)&&this.$el.off(f).off(p).removeClass(this.runClass).removeClass(this.pauseClass)},isInProgress:function(){return this.$el.hasClass(this.runClass)},isEntryAnimation:function(){return h.default.isEntryAnimation(this.name)},setLoop:function(t){this.loop=t},isLooping:function(){return this.loop},keepVisibleForScreenReaders:function(){this.useSrOnlyClassInsteadDisplayChange=!0},restoreHideBehavior:function(){this.useSrOnlyClassInsteadDisplayChange=!1}}),e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleBoundaries=void 0;var i=function(){function t(t,e,n,i){this.hasXBoundaries=!1,this.topY=t,this.bottomY=e,null!=n&&null!=i&&(this.hasXBoundaries=!0,this.leftX=n,this.rightX=i)}return t.prototype.getEntryAnimationVisibleBoundaries=function(e,n){var i=this.topY,r=this.bottomY,o=this.leftX,a=this.rightX;return i>0&&(i+=50),r<e&&(r-=50),this.hasXBoundaries&&(o>0&&(o+=50),a<n&&(a-=50)),new t(i,r,o,a)},t}();e.VisibleBoundaries=i},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FocusArbiter=void 0;var s=a(n(1)),u=a(n(48)),l=o(n(70)),c=n(14),d=function(){function t(t){this.pageView=t}return t.prototype.searchFoldersForTarget=function(t){var e=this.pageView.model.findLayerById(t);if(e&&"folder"===e.type){var n=this.pageView.model.constructor.findTopmostFolderContent(e);if(n)return this.pageView.$pageContainer.find("#"+l.escapeComponentId(n.id))}return s.default()},t.prepareTargetOutlineForFocus=function(e){return("keyboard"!==u.default.ask()||!e.is("button, a")&&isNaN(Number(e.attr("tabindex"))))&&(e.addClass(t.HIDDEN_OUTLINE_CLASS_NAME),e.off("blur.outline").on("blur.outline",(function(){e.off("blur.outline"),e.removeClass(t.HIDDEN_OUTLINE_CLASS_NAME)}))),e},t.prototype.prepareTargetOpacityForFocus=function(e){if("none"===e.css("display")){var n=e.attr("aria-hidden");e.off("blur.opacity").on("blur.opacity",(function(){e.off("blur.opacity"),e.removeClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME),n?e.attr("aria-hidden",n):e.removeAttr("aria-hidden")})).addClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME).attr("aria-hidden","true")}return e},t.prototype.prepareTargetTabIndexForFocus=function(t){var e=t.attr("tabindex");return e&&"0"!==e?t:t.attr("tabindex",-1).off("blur.tabindex").on("blur.tabindex",(function(){t.off("blur.tabindex"),e?t.attr("tabindex",e):t.removeAttr("tabindex")}))},t.prototype.moveFocusToElement=function(e){if(e){var n,i="#"+l.escapeComponentId(e);(n=i==="#"+c.VIEWPORT_TOP_ID?s.default(i):this.pageView.$pageContainer.find(i)).length||(n=this.searchFoldersForTarget(e)),n.length&&(n=this.prepareTargetOpacityForFocus(n),n=t.prepareTargetOutlineForFocus(n),(n=this.prepareTargetTabIndexForFocus(n)).get(0).focus({preventScroll:!0}))}},t.HIDDEN_OUTLINE_CLASS_NAME="outline-hidden",t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME="fakely-hidden",t}();e.FocusArbiter=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectState=void 0;var i=function(){function t(t){this.state=t.state,this.config=t}return t.prototype.hasTransitionChange=function(){return void 0!==this.config.transition},t.prototype.hasPositionChange=function(){return void 0!==this.config.deltaX&&0!==this.config.deltaX||void 0!==this.config.deltaY&&0!==this.config.deltaY},t.prototype.hasDimensionsChange=function(){return void 0!==this.config.width||void 0!==this.config.height},t.prototype.hasOpacityChange=function(){return void 0!==this.config.opacity},t.prototype.hasRotationChange=function(){return void 0!==this.config.rotation},t.prototype.hasBorderChange=function(){return void 0!==this.config.border},t.prototype.hasShadowChange=function(){return void 0!==this.config.shadow},t.prototype.hasBackgroundChange=function(){return void 0!==this.config.background},t.prototype.hasEffectsChange=function(){return void 0!==this.config.effects},t.prototype.hasFlipChange=function(){return void 0!==this.config.flipHorizontal||void 0!==this.config.flipVertical},t.prototype.hasBlendingModeChange=function(){return void 0!==this.config.blendingMode},t.prototype.hasFontChange=function(){return void 0!==this.config.defaultSpan},t.prototype.hasJustificationChange=function(){return void 0!==this.config.justify},t.prototype.hasStrokeChange=function(){return void 0!==this.config.lineWidth||void 0!==this.config.color},t.prototype.hasLinePositionChange=function(){return(this.hasPositionChange()||void 0!==this.config.deltaX2&&0!==this.config.deltaX2||void 0!==this.config.deltaY2&&0!==this.config.deltaY2)&&(this.config.deltaX!==this.config.deltaX2||this.config.deltaY!==this.config.deltaY2)},t.prototype.hasLineHeightChange=function(){return void 0!==this.config.leading},t.prototype.hasPathChange=function(){return void 0!==this.config.path},t.prototype.hasChangesComparedTo=function(e){return{transition:this.compareProperty(t.prototype.hasTransitionChange,e),position:this.compareProperty(t.prototype.hasPositionChange,e),dimension:this.compareProperty(t.prototype.hasDimensionsChange,e),opacity:this.compareProperty(t.prototype.hasOpacityChange,e),rotation:this.compareProperty(t.prototype.hasRotationChange,e),border:this.compareProperty(t.prototype.hasBorderChange,e),shadow:this.compareProperty(t.prototype.hasShadowChange,e),background:this.compareProperty(t.prototype.hasBackgroundChange,e),effects:this.compareProperty(t.prototype.hasEffectsChange,e),flip:this.compareProperty(t.prototype.hasFlipChange,e),blendingMode:this.compareProperty(t.prototype.hasBlendingModeChange,e),font:this.compareProperty(t.prototype.hasFontChange,e),justify:this.compareProperty(t.prototype.hasJustificationChange,e),stroke:this.compareProperty(t.prototype.hasStrokeChange,e),linePosition:this.compareProperty(t.prototype.hasLinePositionChange,e),lineHeight:this.compareProperty(t.prototype.hasLineHeightChange,e),path:this.compareProperty(t.prototype.hasPathChange,e)}},t.prototype.compareProperty=function(t,e){return t.call(this)||!!e&&t.call(e)},t.prototype.getChangedPropertiesToTransition=function(t){var e=[];return t.background&&e.push("stop-color","background-color","background-image"),t.border&&e.push("border-width","border-color","border-style","border-radius","border"),t.dimension&&e.push("width","height","transform"),(t.effects||t.shadow)&&e.push("filter","-webkit-filter"),(t.flip||t.rotation)&&e.push("transform"),t.font&&e.push("color","font-weight","font-style","font-size"),t.justify&&e.push("text-align"),t.opacity&&e.push("opacity"),(t.position||t.border)&&e.push("left","top"),t.shadow&&e.push("box-shadow"),t.stroke&&e.push("stroke","stroke-width"),t.lineHeight&&e.push("line-height"),(t.path||t.linePosition)&&e.push("d"),e.join(", ")},t}();e.ObjectState=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(23);e.default=o.AbstractComponentView.extend({type:"form-component",onAttach:function(){o.AbstractComponentView.prototype.onAttach.call(this),this.renderForm()},applyChanges:function(t){o.AbstractComponentView.prototype.applyChanges.call(this,t),this.renderForm()},getContainerDivId:function(){return"form-component-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"form-component-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){throw new Error("renderForm not implemented.")},handleSubmit:function(t){throw new Error("handleSubmit not implemented.")},triggerSubmitInteractions:function(t,e){var n=this.getModule(),i=this.getValidInteractionsByTrigger(n.INTERACTION_TRIGGERS.SUBMIT);n.trigger(n.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,this.addComponentAndClickDataToEvent({formOrigin:t,formOriginAccountId:e,formOriginFormId:this.options.formId,formOriginFormName:this.options.formName,interactionTriggered:!r.default.isEmpty(i)})),r.default.isEmpty(i)||r.default.each(i,r.default.bind((function(t){"url"===t.action||"page-goto"===t.action||"page-next"===t.action||"page-prev"===t.action||"scroll-to"===t.action?r.default.defer(r.default.bind((function(){this._triggerClickAction(null,t)}),this)):this._triggerClickAction(null,t)}),this))},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e,n){},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(1)),a=i(n(0)),s=n(142),u=i(n(11)),l=i(n(12)),c=n(302),d=n(27);e.default=s.AbstractImageComponentView.extend({type:"image",image:null,srcOverride:null,canvasImage:null,dimensionsOverride:!1,initialize:function(){this.imageReadyPromises={},s.AbstractImageComponentView.prototype.initialize.call(this)},_applyShadow:function(t,e){t=a.default.isNil(t)?this.options.shadow:t,e=a.default.isNil(e)?this.options.rotation:e,this.applyDropShadow(t,e)},getApplyBorderTarget:function(){return this.$innerElement},attachMedia:function(){if(this.srcOverride)return this.attachImageSrc(this.srcOverride);if(!this.imageLoader)return this.attachImageSrc("");var t=this.imageLoader.getCurrentResource();return t?t.loadNow().then(a.default.bind((function(t){return this.attachImageSrc(t.getSrc())}),this)):(r.default.warn("Image should have been added to resource loader during preload"),o.default.Deferred().resolve(null).promise())},attachImageSrc:function(t){var e=this.imageReadyPromises[t];return e?(this.setSrc(t,e),e.promise()):(e=this.imageReadyPromises[t]=o.default.Deferred(),this.$innerElement.on("load",a.default.bind((function(){this.addAltText(this.$innerElement),e.resolve()}),this)),this.$innerElement.on("error",a.default.bind((function(){this.addAltText(this.$innerElement)}),this)),this.setSrc(t,e),e.promise())},shouldRenderMaskOnCanvas:function(){return 0!==this.options.rotation||1!==this.options.opacity||this.isFlipped()},setSrc:function(t,e){var n=this;this.isMaskImage()?this.shouldRenderMaskOnCanvas()?this.getAlphaMaskCanvas().renderAndReturnMask(t,this.options).then((function(t){n.applyAsMask(t,e)})):this.applyAsMask(t,e):this.$innerElement.attr("src",t)},getAlphaMaskCanvas:function(){return this.canvasImage||(this.canvasImage=new c.AlphaMaskCanvasImage),this.canvasImage},applyAsMask:function(t,e){var n="url("+t+")",i=this.options,r=i.allHeight,o={"-webkit-mask-image":n,"mask-image":n,"-webkit-mask-repeat":"no-repeat","-webkit-mask-size":i.allWidth+"px "+r+"px"};this.$el.css(o),this._applyPosition(),this._applyDimensions(),e.resolve()},_applyBackground:function(t){},addAltText:function(t){var e=this.options.altText;e||(e=u.default.hasFeature(l.default.ACCESSIBILITY)?"":void 0),t.attr("alt",e)},applyTransitionToTarget:function(t,e){var n=this.getApplyShadowTarget();n.css("transition",t),n.css("transition-property",e||"none"),this.$el.css("transition",t),this.$el.css("transition-property",e||"none"),this.$innerElement.css("transition",t),this.$innerElement.css("transition-property",e||"none"),s.AbstractImageComponentView.prototype.applyTransitionToTarget.call(this,t,e)},_applyRotation:function(t){this.isMaskImage()||((t=a.default.isNil(t)?this.options.rotation:t)||0===t)&&d.CssUtils.setTransformToElement(this.$el,{rotate:t})}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractImageComponentView=void 0;var a=o(n(0)),s=o(n(1)),u=o(n(3)),l=n(23),c=n(27),d=o(n(2)),h=o(n(143)),f=n(88),p=n(37),g=function(t){function e(e){var n=t.call(this,e)||this;return n.effects=e.effects,n.shadow=e.shadow,n.imageLoader=e.imageLoader,n.blendingMode=e.blendingMode,n.dimensionsOverride=!1,n.initialEffectsApplied=!1,n.$innerElement=null,n}return r(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this,this.options),d.default.previewMode&&(this.mediaLoadingScreen=new h.default({height:this.options.height,isImage:!0}),this.$el.append(this.mediaLoadingScreen.$el))},e.prototype.isBaseMaskObject=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.isBaseMaskObject))},e.prototype.isMaskImage=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.isInMask=function(){return!!this.options.maskInfo},e.prototype.render=function(){if(a.default.isNull(this.$innerElement)&&(this.$innerElement=s.default("<img/>"),this.$innerElement.css("display","block"),this.hasShadow(this.options.shadow)?u.default.isIos()&&this.options.shadow.blur&&c.CssUtils.setTransformToElement(this.$innerElement,{translateZ:0}):(u.default.isDesktopSafari()&&f.WebkitUtils.hardwareAccelerateTransform(this.$innerElement),u.default.isIos()&&this.options.fixedPosition&&f.WebkitUtils.hardwareAccelerateTransform(this.$innerElement)),this.isMaskImage()||this.$el.append(this.$innerElement)),this.dimensionsOverride||this.setDimensionsAsAttributes(this.$innerElement,this.options.width,this.options.height),this.isFlipped()&&this._applyImageFlip({flipHorizontal:this.options.flipHorizontal,flipVertical:this.options.flipVertical}),this.isMaskImage()&&(this.options.allWidth=void 0,this.options.allHeight=void 0,this._configureAllWidthAllHeight()),t.prototype.render.call(this),this.imageLoader&&(this.imageLoader.onLowResImageLoaded(this.attachMedia,this),this.imageLoader.onImageLoaded(this.attachMedia,this),d.default.previewMode&&(this.imageLoader.onLowResImageLoaded(this.hideMediaLoadingScreen,this),this.imageLoader.onImageLoaded(this.hideMediaLoadingScreen,this))),!a.default.isNil(this.effects)){var e=!a.default.isEqual(this.effects,this.options.effects);e&&(this.effects=this.options.effects),this._applyImageEffects(this.effects,this.shadow,e)}return a.default.isNil(this.blendingMode)||this._applyBlendingMode(this.blendingMode),this},e.prototype.callObjectStateInvoker=function(t,e){p.ObjectStateInvoker.invokeAbstractImageObjectState(this,t,e)},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype._applyImageEffects=function(t,e,n){var i=this;e||(e=this.shadow);var r=c.CssUtils.convertShadowObjectToCssFilter(e,0);t=a.default.isNil(t)?this.effects:t;var o=this.getApplyShadowTarget(),s=o.css("filter"),u="";if(s&&!u){var l=s.match(/drop-shadow\(.*\)/g);l&&(u=l[0])}if(!a.default.isNil(t)){var d=c.CssUtils.computeEffect(t,n);this.applyDefaultEffects(o,u,n,this.initialEffectsApplied),a.default.defer((function(){return i.setFilter(o,d,r)}))}},e.prototype.applyDefaultEffects=function(t,e,n,i){if(n&&!i){var r=c.CssUtils.getCurrentEffects(t),o=c.CssUtils.computeEffect(r,!0);this.setFilter(t,o,e),this.initialEffectsApplied=!0}},e.prototype.setFilter=function(t,e,n){t.css("filter",e+" "+n),t.css("-webkit-filter",e+" "+n)},e.prototype._applyImageFlip=function(t){a.default.isEmpty(t)&&(t={});var e=(a.default.isNil(t.flipHorizontal)?this.options.flipHorizontal:t.flipHorizontal)?-1:1,n=(a.default.isNil(t.flipVertical)?this.options.flipVertical:t.flipVertical)?-1:1;this.isMaskImage()||c.CssUtils.setTransformToElement(this.$innerElement,{scale:{x:e,y:n}})},e.prototype._applyBlendingMode=function(t){if(t=a.default.isNil(t)?this.blendingMode:t,this.isBaseMaskObject()){var e=this.getMaskGroup();if(e.length>0&&e[0].isAlphaMask())e[0].getMaskView().$el.css("mix-blend-mode",t);else this.$innerElement.parent().css("mix-blend-mode",t)}else this.$innerElement.parent().css("mix-blend-mode",t)},e.prototype.hasBlendingMode=function(){return!a.default.isNil(this.blendingMode)},e.prototype._applyDimensions=function(e,n){this.isMaskImage()?t.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):t.prototype._applyDimensions.call(this,e,n)},e.prototype._applyPosition=function(e,n,i){this.isMaskImage()?t.prototype._applyPosition.call(this,0,0):t.prototype._applyPosition.call(this,e,n,i)},e.prototype.getApplyDimensionsTarget=function(){return this.isMaskImage()?this.$el:this.$innerElement},e.prototype.getApplyShadowTarget=function(){return this.$innerElement},e.prototype.getHoverTarget=function(){return this.isInMask()?this.getMaskGroup()[0].$el:this.$innerElement},e.prototype.getMaskGroup=function(){var t;return this.parentViews.length>0&&(null===(t=this.parentViews[0].parentViews)||void 0===t?void 0:t.length)>0?this.parentViews[0].parentViews:this.parentViews},e.prototype.getAnimateElements=function(t){return t.find("animate, animateTransform")},e.prototype.getSvgChildren=function(){var t;return null===(t=this.$innerElement)||void 0===t?void 0:t.find("path, polygon, circle, rect, ellipse")},e.prototype.isEditable=function(){return!0},e.prototype.addPointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.activate():this.isBaseMaskObject()||this.getPointerEventsTarget().css("pointer-events","auto")},e}(l.AbstractComponentView);e.AbstractImageComponentView=g},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(9)),o=i(n(22)),a=i(n(301));e.default=o.default.extend({className:"media-loading",initialize:function(t){this.isImage=t.isImage,this.parentHeight=t.height,this.render()},render:function(){this.$el.html(r.default.render(a.default,{isImage:this.isImage})),this.setIconSize(),this.setSpinnerSize()},setIconSize:function(){var t=Math.floor(.2*this.parentHeight);this.$el.find(".media-loading__media-type-icon").css("font-size",t+"px")},setSpinnerSize:function(){var t=Math.floor(.08*this.parentHeight);this.$el.find(".media-loading__spinner").css({height:t+"px",width:t+"px"})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={NO_AUTOPLAY_FALLBACK_OPTIONS:{TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"},MUTED_AUTOPLAY_FALLBACK_OPTIONS:{PLAY_MUTED_VIDEO:"play-muted-video",TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTransformableGroupView=void 0;var a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype._applyRotation=function(e){this.childrenUseBlendingModes()||t.prototype._applyRotation.call(this,e)},e.prototype.getCurrentHighestZIndex=function(){var e,n=null===(e=this.childViews)||void 0===e?void 0:e.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})),i=t.prototype.getCurrentHighestZIndex.call(this),r=(null==n?void 0:n.getCurrentHighestZIndex())||-1;return i>r?i:r},e.prototype.isUsingHoverAreaForMouseOut=function(){return!1},e}(o(n(322)).default);e.AbstractTransformableGroupView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=n(145);e.default=s.AbstractTransformableGroupView.extend({initialize:function(){s.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("group"),this.childViews={}},render:function(){s.AbstractTransformableGroupView.prototype.render.call(this),this.renderSROnlyText()},renderSROnlyText:function(){if(this.hasAccessibilityFeature){if(a.default.previewMode){var t=this.$el.children(":first");t.hasClass("group-sr-only-text")&&t.remove()}if(this.options.screenReaderOnlyText){var e=r.default("<p>").addClass("sr-only group-sr-only-text").text(this.options.screenReaderOnlyText);this.$el.prepend(e)}}},addParentView:function(t){s.AbstractTransformableGroupView.prototype.addParentView.call(this,t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},prepareGroupForBlendingModes:function(){var t,e=this.$el.css("left"),n=this.$el.css("top"),i=this.options.width,o=this.options.height,a=this;(t=this.hasClickInteraction()?r.default('<button class="wrapper-for-blending-modes" data-for="'+this.id+'"></button>'):r.default('<div class="wrapper-for-blending-modes" data-for="'+this.id+'"></div>')).css("position","absolute"),t.css("left",e),t.css("top",n),this.hasClickInteraction()&&(t.on("focus",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width",i+"px"),t.css("height",o+"px")})),t.on("blur",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width","1px"),t.css("height","1px")})),t.on("click",(function(t){t.originalEvent.target===t.currentTarget&&a.$el.click()}))),this.$el.wrapAll(t),this.$el.css("display","contents")}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e},l=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeComponentView=void 0;var d=c(n(9)),h=c(n(148)),f=n(71),p=n(51),g=c(n(3)),m=u(n(16)),v=n(93),y=n(37),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="custom-shape",e.maxPoints=0,e.currentPath="",e}return r(e,t),e.prototype.renderShape=function(t){var e,n,i,r=this;if(void 0===t&&(t={}),this.options.path){var a=this.options.path.length,s=(null===(e=this.options.states)||void 0===e?void 0:e.length)?this.options.states.reduce((function(t,e){var n,i;return((null===(n=t.config.path)||void 0===n?void 0:n.length)||0)>((null===(i=e.config.path)||void 0===i?void 0:i.length)||0)?t:e})):void 0;this.maxPoints=Math.max(a,(null===(n=null==s?void 0:s.config.path)||void 0===n?void 0:n.length)||0),this.options.path=this.forcePathToUseMaxPoints(this.options.path,this.options.isClosedPath),null===(i=this.options.states)||void 0===i||i.forEach((function(t){t.config.path&&(t.config.path=r.forcePathToUseMaxPoints(t.config.path,t.config.isClosedPath))}))}var u=p.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return this.currentPath=u,d.default.render(h.default,o({path:u},t))},e.prototype.renderShapeHoverArea=function(){var t=p.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath),e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttributeNS(null,"path",t),e},e.prototype.getShapeElement=function(){return this.$el.find("path")},e.prototype.applyPath=function(t,e,n){void 0===t&&(t=this.options.path),void 0===e&&(e=this.options.isClosedPath),void 0===n&&(n=this.options.transition);var i=p.CustomPathSVGUtil.generateCurveCoords(t,e);if(g.default.isBrowserChrome()||g.default.edge)this.getShapeElement().css("d","path('"+i+"')");else{if(n){var r=this.getShapeElement(),o=r[0].animatedPathSegList;o&&(this.currentPath=p.CustomPathSVGUtil.generateCurveCoordFromPathSegList(o));var a=v.AnimateSVGUtil.animatePointsForSingle([this.currentPath,i]),s=v.AnimateSVGUtil.createAnimationElement("d",!1,a,v.AnimateSVGUtil.getSplineStringFromEasing(n.easing));v.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),r,[s],n)}else this.getShapeElement().attr("d",i);this.currentPath=i}},e.prototype.forcePathToUseMaxPoints=function(t,e){var n=this.maxPoints-t.length;if(0===n)return t;for(var i=l(t),r=t.length,o=n/r%1,a=Math.floor(n/r),s=function(t){var n=t===i.length,r=n&&e,o=i[t-1],a=n?r?i[0]:o:i[t],s=m.splitBezierCurveAtPoint(o,a,.5),u=[s.left,s.center];n||u.push(s.right),i.splice.apply(i,l([t-1,n?3:2],u)),r&&i.splice(0,1,s.right)},u=0,c=0,d=1;d<=r;d++){if((c+=o)>=.5)s(u+d),u++,c--;for(var h=0;h<a;h++){s(u+d),u++}if(d===r&&u<n)s(u+d),u++}return i},e.prototype.callObjectStateInvoker=function(t,e){y.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e}(f.AbstractCustomPathComponentView);e.CustomShapeComponentView=_},function(t,e,n){"use strict";n.r(e),e.default='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  transform="{{transform}}"\n  >\n  </path>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easing=void 0,function(t){t.ease="ease",t.linear="linear",t.easeIn="ease-in",t.easeOut="ease-out",t.easeInOut="ease-in-out"}(e.Easing||(e.Easing={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=void 0;var i={"text-component":["title","textContent"]};e.get=function(t){return i[t]||[]},e.default={get:e.get}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(28)),s=function(t,e){e=e||{},this.name=t,this.fontFamily=e.fontFamily,this.familyName=e.familyName,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle,this.guid=e.guid,this.metrics=e.metrics,this.webFontStylesLoaded=!!e.webFontStylesLoaded,this.metricsUrl=e.metricsUrl,this.cssFamilyName=e.cssFamilyName||e.familyName,this.crossAccount=!!e.crossAccount,this.cssUrl=e.cssUrl,this.unitsPerEm=e.unitsPerEm,this.ascent=e.ascent};s.prototype={getFontFamily:function(){return this.fontFamily},getName:function(){return this.name},getCssFamilyName:function(){return this.cssFamilyName},getFontStyle:function(){return this.fontStyle},getFontWeight:function(){return this.fontWeight},getGuid:function(){return this.guid},isItalic:function(){return this.fontStyle===a.default.FONT_STYLE_ITALIC},isUploaded:function(){return this.fontFamily.isUploaded()},isBuiltIn:function(){return this.fontFamily.isBuiltIn()},getMetricsUrl:function(){return this.metricsUrl?(new o.default.Deferred).resolve(this.metricsUrl):o.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:[this.guid]}}).then(r.default.bind((function(t){return this.metricsUrl=t[0].metricsFileURL,this.metricsUrl}),this))},getMetrics:function(){return this.metrics?o.default.Deferred().resolve(this.metrics):(this.metricsLoadingDeferred||(this.metricsLoadingDeferred=new o.default.Deferred,this.getMetricsUrl().then(r.default.bind((function(t){o.default.ajax({url:t,dataType:"json",cache:!0}).done(r.default.bind((function(t){this.metrics=t,this.metricsLoadingDeferred.resolve(t)}),this)).fail(r.default.bind((function(t){this.metricsLoadingDeferred.reject(t)}),this))}),this))),this.metricsLoadingDeferred.promise())},setWebFontStylesLoaded:function(){this.webFontStylesLoaded=!0}},e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(6)),s=i(n(39)),u=i(n(95)),l=i(n(72)),c=function(t){if(this.variants=[],t.defaultSpan){var e=this.getVariant(t.defaultSpan);this.variants.push(e)}r.default.each(t.textSpans,r.default.bind((function(e){var n=r.default.extend({},t.defaultSpan,e),i=this.getVariant(n);this.variants.push(i)}),this)),r.default.each(t.states,r.default.bind((function(e){if(e.defaultSpan){var n=r.default.extend({},t.defaultSpan,e.defaultSpan),i=this.getVariant(n);this.variants.push(i)}}),this)),this.variants=r.default.uniq(this.variants),this.resources=null};r.default.extend(c.prototype,o.default.Events,{getVariant:function(t){return u.default.resolveFont(t.variantGuid)},getAllVariants:function(){return this.variants},load:function(){null===this.resources&&(this.resources={},r.default.each(this.variants,r.default.bind((function(t){if(t.isBuiltIn())this.trigger("variant-loaded",t);else if(t.isUploaded()){var e=s.default.addCustomWebFont(t.getCssFamilyName(),t.cssUrl,void 0);e.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),e.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=e}else{var n=t.getFontFamily().getFamilyName()+":"+l.default.buildGoogleVariantName(t.getFontWeight(),t.getFontStyle()),i=s.default.addGoogleWebFont(n);i.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),i.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=i}}),this)))},loadNow:function(){this.load(),r.default.each(this.resources,(function(t){t.loadNow()}))},onVariantLoaded:function(t,e){r.default.each(this.getAllLoadedVariants(),(function(n){t.call(e,n)})),this.on("variant-loaded",t,e)},onLoadFail:function(t,e){this.hasFailedVariant()&&t.call(e),this.on("variant-failed",t,e)},getAllLoadedVariants:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),[]):r.default.filter(this.variants,r.default.bind((function(t){return!!t.isBuiltIn()||r.default.has(this.resources,t.guid)&&"resolved"===this.resources[t.guid].getPromise().state()}),this))},hasFailedVariant:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),!1):r.default.some(this.variants,r.default.bind((function(t){return!t.isBuiltIn()&&(r.default.has(this.resources,t.guid)&&"rejected"===this.resources[t.guid].getPromise().state())}),this))}}),e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionFactory=void 0;var i=n(0),r=n(337),o=n(338),a=n(339),s=n(340),u=n(341),l=n(342),c=n(343),d=n(344),h=n(129),f=n(345),p=n(346),g=n(347),m=n(348),v=n(349),y=n(350),_=n(351),b=n(352),T=n(353),w=n(354),S=n(355),E=n(356),O=n(357),C=n(128),A=n(358),P=n(359),I=n(360),x=n(5),M=n(362),k=n(363),D=function(){function t(){}return t.constructorFor=function(t){switch(t){case x.ActionTypes.nextPage:return o.NextPageInteraction;case x.ActionTypes.prevPage:return f.PreviousPageInteraction;case x.ActionTypes.gotoPage:return d.GoToPageInteraction;case x.ActionTypes.url:return r.GoToURLInteraction;case x.ActionTypes.scrollTo:return h.ScrollToInteraction;case x.ActionTypes.scrollToObject:return C.ScrollToObjectInteraction;case x.ActionTypes.changeState:return I.ChangeStateInteraction;case x.ActionTypes.showOnly:return b.ShowComponentInteraction;case x.ActionTypes.hideOnly:return _.HideComponentInteraction;case x.ActionTypes.toggleCanvasTargets:return g.ToggleLayersInteraction;case x.ActionTypes.enableDisablePage:return T.PageVisibilityInteraction;case x.ActionTypes.lightbox:return w.LightboxVisibilityInteraction;case x.ActionTypes.product:return S.ProductPanelVisibilityInteraction;case x.ActionTypes.shoppingCart:return E.ShoppingCartVisibilityInteraction;case x.ActionTypes.fullscreen:return O.FullScreenInteraction;case x.ActionTypes.showCanvasTargetsOnHover:case x.ActionTypes.showCanvasTargets:case x.ActionTypes.showAndStayVisibleCanvasTargets:return y.ShowLayersInteraction;case x.ActionTypes.hideCanvasTargets:case x.ActionTypes.hideAndStayHiddenCanvasTargets:return p.HideLayersInteraction;case x.ActionTypes.cycleNext:return v.CycleNextInteraction;case x.ActionTypes.cyclePrevious:return m.CyclePreviousInteraction;case x.ActionTypes.email:return s.ShareEmailInteraction;case x.ActionTypes.facebook:return u.ShareFacebookInteraction;case x.ActionTypes.twitter:return c.ShareTwitterInteraction;case x.ActionTypes.pinterest:return l.SharePinterestInteraction;case x.ActionTypes.linkedin:return a.ShareLinkedInInteraction;case x.ActionTypes.toggleReducedMotion:return A.ToggleReducedMotionInteraction;case x.ActionTypes.bringToFront:return P.BringToFrontInteraction;case x.ActionTypes.resetPositions:return k.ResetPositionsInteraction;default:return M.InvalidInteraction}},t.initializeInteractions=function(e,n,r){var o=[];if(!i.get(e,"length"))return o;for(var a=e.some((function(t){return"click"===t.trigger&&"bring-to-front"===t.action})),s=e.some((function(t){return"click"===t.trigger&&"change-state"===t.action})),u=0,l=e;u<l.length;u++){var c=l[u];if(c.trigger&&c.action){c.hasSiblingThatIsABringToFrontClickInteraction=a,c.hasSiblingThatIsAChangeStateClickInteraction=s;var d=new(t.constructorFor(c.action))(c,n);d.setOptionalParameters(r),o.push(d)}}return o},t}();e.InteractionFactory=D},function(t,e,n){"use strict";var i,r;Object.defineProperty(e,"__esModule",{value:!0}),e.labelsForBringToFrontReverseOptions=e.BringToFrontReverseOption=void 0,function(t){t.unhover="on-unhover",t.resetOthers="reset-others",t.resetPositionsAndStates="reset-positions-and-states",t.resetPositions="reset-positions"}(r=e.BringToFrontReverseOption||(e.BringToFrontReverseOption={})),e.labelsForBringToFrontReverseOptions=((i={})[r.unhover]="On unhover",i[r.resetOthers]="Reset Others",i[r.resetPositionsAndStates]="Object Positions & States",i[r.resetPositions]="Object Positions Only",i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineLinkType=void 0;n(42);!function(t){t.URL="url",t.PAGE="page",t.POSITION="position",t.OBJECT="object"}(e.InlineLinkType||(e.InlineLinkType={}))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(t,e){this.parentItem=t,this.model=e,this.childViews=[],this.view=null}return t.prototype.isScranchor=function(){return"scranchor"===this.model.type},t.prototype.isSmartgroupLayer=function(){return this.model&&!r.default.isUndefined(this.model.smartgroupId)},t.prototype.isFolder=function(){return this.model&&"folder"===this.model.type},t.prototype.isGroup=function(){return this.model&&"group"===this.model.type||this.isMaskGroup()},t.prototype.isMaskGroup=function(){return this.model&&"mask-group"===this.model.type},t.prototype.findParentSmartgroupOrGroupModel=function(){for(var t=null,e=this;null!==e;){if(e.isSmartgroupLayer()||e.isGroup()){t=e.model;break}e=e.parentItem}return t},t.prototype.setView=function(t){this.view=t,this.parentItem.childViews.push(t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=new Map;e.default={find:function(t,e){return i.has(t)||function(t){i.set(t,new Map);var e=function(n){for(var r=0,o=n;r<o.length;r++){var a=o[r];i.get(t).set(a.id,a),a.childViews&&e(a.childViews)}};e(t)}(t),i.get(t).get(e)||null},reset:function(){i.clear()}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAreaComponentView=void 0;var s=n(26),u=a(n(44)),l=n(27),c=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.id="hover-area-"+n.options.component.id,n.disabled=!1,n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.$el.attr("id",this.id),this.$el.css("pointer-events","none"),this.$el.css("position","absolute"),void 0!==this.options.component.zIndex&&this.setZIndex(this.options.component.zIndex+1),this.setWidthAndHeight(),this.updatePosition(),this.updateRotation(),this.renderBorder(),this},e.prototype.renderBorder=function(){var t=this.options.component.options.border;t&&(t.width&&(this.$el.css("borderWidth",t.width+"px"),this.$el.css("borderStyle","solid"),this.$el.css("borderColor","transparent")),this.$el.css("borderRadius",this.options.component.getBorderRadius(t)))},e.prototype.setInitialZIndex=function(t){this.setZIndex(t),this.zIndex=t,this.currentZIndex=t},e.prototype.setZIndex=function(t){this.$el.css("z-index",t),this.currentZIndex=t},e.prototype.setWidthAndHeight=function(){this.$el.css("width",this.options.component.options.width),this.$el.css("height",this.options.component.options.height)},e.prototype.updatePosition=function(){this.$el.css("left",this.options.component.options.x+"px"),this.$el.css("top",this.options.component.options.y+"px")},e.prototype.updateRotation=function(){this.options.component.options.rotation&&l.CssUtils.setTransformToElement(this.$el,{rotate:this.options.component.options.rotation})},e.prototype.isDisabled=function(){return this.disabled},e.prototype.disableHoverArea=function(t){this.disabled=!0,this.deactivate(),t._configureInteractions()},e.prototype.enableHoverArea=function(t){this.activate(),this.disabled=!1,t._configureInteractions()},e.prototype.activate=function(){this.getHoverAreaTarget().css("pointer-events","all")},e.prototype.deactivate=function(){this.getHoverAreaTarget().css("pointer-events","none")},e.prototype.isHovered=function(t){var e=this.getHoverAreaTarget()[0];return!!((null==e?void 0:e.matches(":hover"))||t&&t.target&&t.target===e)},e.prototype.getHoverAreaTarget=function(){return this.$el},e=o([s.BackboneShim({className:"hover-area"})],e)}(u.default);e.HoverAreaComponentView=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditView=void 0;var i=n(160),r=function(){function t(t){this.playerView=t,this.id=this.playerView.id,i.PlayerLink(this,t)}return t.prototype.render=function(){return this.playerView.render(),this},t}();e.AbstractEditView=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerLink=void 0,e.PlayerLink=function(t,e){var n=Object.getPrototypeOf(t),i=Object.getPrototypeOf(e),r=function(e){n.hasOwnProperty(e)||t.hasOwnProperty(e)||("function"==typeof i[e]?t[e]=i[e].bind(t):Object.defineProperty(t,e,{get:function(){return t.playerView[e]},set:function(n){t.playerView[e]=n}}))};for(var o in i)r(o);var a=function(e){n.hasOwnProperty(e)||t.hasOwnProperty(e)||Object.defineProperty(t,e,{get:function(){return t.playerView[e]},set:function(n){t.playerView[e]=n}})};for(var o in e)a(o)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractComponentEditorModel=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o(n(54)).default);e.AbstractComponentEditorModel=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var r=i(n(0)),o=i(n(45));e.defaults={type:null,title:"Object",x:0,y:0,width:100,height:100,fixedPosition:!1,preserveAspectRatio:!1,opacity:1,rotation:0,visible:!0,locked:!1,editable:!1,background:{},backgroundHasBeenSet:!1,border:{},animations:[],exitAnimations:[],interactions:[],shadow:{},animationsRepeatAll:!1,animationsReplayOnScroll:!1,sdkTags:[],sdkPayload:"",showHoverCursor:!1,overrides:{},states:{},selectedState:o.default.OBJECT_STATES_DEFAULT,userDefinedStates:[],transition:null},e.supported=r.default.union(r.default.difference(Object.keys(e.defaults),["type","id","visible","locked"]),["corner-radius"]),e.objectStateSupportedProperties=["x","y","width","height","rotation","opacity","preserveAspectRatio","transition"]},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.objectStateSupportedPropertiesForMaskGroupShape=e.supportedMaskGroupSquareShape=e.supportedMaskGroupShape=e.supported=e.supportedSquare=e.defaults=void 0;var l=u(n(0)),c=a(n(17)),d=n(14);e.defaults=i(i(i({},c.defaults),d.MODEL_DEFAULTS),{title:"Shape",shape:null,pathData:null}),e.supportedSquare=l.default.union(Object.keys(e.defaults),c.supported),e.supported=l.default.without(e.supportedSquare,"corner-radius"),e.supportedMaskGroupShape=l.default.without(s(e.supported,["mustHaveFill"]),"animations","animationsRepeatAll","animationsReplayOnScroll","border","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.supportedMaskGroupSquareShape=l.default.without(s(e.supportedSquare,["mustHaveFill","singleCornerRadius","noStroke"]),"animations","animationsRepeatAll","animationsReplayOnScroll","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.objectStateSupportedPropertiesForMaskGroupShape=[],e.objectStateSupportedProperties=l.default.union(c.objectStateSupportedProperties,["border","background","shadow"])},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(29)),o=i(n(425)),a=i(n(426));e.default={create:function(t,e){return r.default.isVectorBased(t.contentType)?new o.default(t,e):new a.default(t,e)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(6)),s=function(t,e){this.componentWidth=t.width,this.componentHeight=t.height,this.componentId=t.id,this.currentResource=null,this.url=e.url};r.default.extend(s.prototype,o.default.Events,{IMAGE_LOADED_EVENT:"image-loaded",LOW_RES_IMAGE_LOADED_EVENT:"low-res-image-loaded",url:null,loadLowRes:function(t){throw"implement loadLowRes in subclasses"},load:function(t){throw"implement load in subclasses"},getCurrentUrl:function(){throw"implement getCurrentUrl in subclasses"},loadNow:function(t){this.load(t),this.currentResource&&this.currentResource.loadNow()},loadLowResNow:function(t){this.loadLowRes(t),this.currentResource&&this.currentResource.loadNow()},onImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},onLowResImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.LOW_RES_IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},getFullResolutionUrl:function(){return this.url},getCurrentResource:function(){return this.currentResource}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(6)),s=i(n(21)),u=i(n(2)),l=i(n(30)),c=i(n(18)),d=i(n(167)),h=i(n(15)),f=i(n(94)),p=i(n(8)),g=n(65),m=["sdk.experience.analytics.get.user.consent","sdk.experience.analytics.user.consent.granted","sdk.experience.analytics.user.consent.denied","sdk.experience.container.ready","sdk.experience.container.scrolled","sdk.experience.container.resized","sdk.experience.page.goto","sdk.experience.page.next","sdk.experience.page.previous","sdk.component.video.start","sdk.component.video.stop","sdk.component.text.settext","sdk.component.image.seturl","sdk.component.image.reset","sdk.component.click","sdk.component.show","sdk.component.hide","sdk.layer.show","sdk.layer.hide","sdk.page.animations.start","sdk.page.animations.pause","sdk.page.disable","sdk.page.enable","sdk.context.get.value"],v=function(t,e){e=JSON.stringify(e),t.postMessage(e,"*")},y=function(t,e){var n={name:"ceros.sdk.player:"+t,version:"1.1.0",params:e};u.default.isEmbedded&&v(parent,n),v(window,n)},_=function(t){if(t=t.originalEvent,o.default.isString(t.data)&&-1!==t.data.indexOf("ceros.sdk.player:")){var e,n,i={};try{i=JSON.parse(t.data)}catch(t){return void a.default.debug("Error processing message: "+t)}if(i.name){if(i.name=(e=i.name,n=new RegExp("^ceros.sdk.player:"),e.replace(n,"")),-1===m.indexOf(i.name))return void a.default.debug("Received message that is not an SDK event: "+i.name);l.default.trigger(i.name,i.params)}}},b=function(){var t={},e=function(e,n,i){i&&!o.default.isEmpty(i)&&o.default.each(i,(function(i){t[i]||(t[i]={pages:[],syncedObjects:[],smartgroups:[],layers:[],components:[]}),t[i][e].push(n)}))};this.addPageTags=function(t,n){e("pages",t,n)},this.addSyncedObjectTags=function(t,n){e("syncedObjects",t,n),e("smartgroups",t,n)},this.addLayerTags=function(t,n){e("layers",t,n)},this.addComponentTags=function(t,n){e("components",t,n)},this.getTags=function(){return t}};t=new s.default.Module({id:"sdk-backend",description:"The API for the player SDK.",version:"1.0",delegate:{experienceID:null,initialize:function(t,e,n){if(o.default.isUndefined(window.postMessage))a.default.warn("This browser does not support inter-frame communication.");else{a.default.debug("Embedded Player SDK listening for inter-frame messages."),r.default(window).on("message",_);var i=this.buildExperienceData(t,e,n);this.experienceID=t.get("slug"),this.registerEvents(),y("ready",i)}},buildExperienceData:function(t,e,n){var i=new b,r=this.buildPages(e,i),o=this.buildSyncedObjects(e.get("smartgroups"),i),a={experienceId:t.get("slug"),experienceAlias:u.default.issueAliasSlug,experienceTitle:t.get("title"),currentPageNumber:e.getPageInfoByNumberOrSlug(c.default.parsePageFromLocation()).number,documentVersion:u.default.docVersion,allPageData:r,allSyncedObjectData:o,allSmartgroupData:o,tags:i.getTags(),userToken:n};return a.documentVersion.viewportWidth=e.get("viewportWidth"),a.documentVersion.viewportHeight=e.get("viewportHeight"),a},buildSyncedObjects:function(t,e){var n=[],i=this;return o.default.each(t,o.default.bind((function(t){var r=[];t.layerHierarchies&&(r=i.buildLayers(t.layerHierarchies.desktop,e,void 0,t.layerDictionary,t)),n.push({id:t.id,payload:t.sdkPayload,tags:t.sdkTags,layers:r})}),this)),n},buildPages:function(t,e){var n=[];return o.default.each(t.getPages(),o.default.bind((function(i,r){var o=[];i.get("layerHierarchies")&&(o=this.buildLayers(i.get("layerHierarchies")[h.default.getVariant()],e,i.getSlug(),i.get("layerDictionary"))),n.push({pageSlug:i.getSlug(),pageNumber:i.getPageIndex()+1,payload:i.getSdkPayload(),tags:i.getSdkTags(),layers:o,width:i.getPageWidth(t),height:i.getPageHeight(t),enabled:!i.getDisabled()}),e.addPageTags(i.getSlug(),i.getSdkTags())}),this)),n},buildLayers:function(t,e,n,i,r){var s=[],u=this;return t&&o.default.each(t,(function(t){var l=function t(s){var l=s.items,c=o.default.cloneDeep(i[s.id]);if(c){if(r&&(c.parentSmartGroup=r),f.default.reconcileComponentForCurrentVariant(c),c.items=l,delete c.parentSmartGroup,c.smartgroupId)return e.addSyncedObjectTags(c.id,c.sdkTags),{id:c.id,syncedObjectId:c.smartgroupId,smartgroupId:c.smartgroupId,tags:c.sdkTags,payload:c.sdkPayload,pageSlug:n,objects:[]};if("folder"===c.type||"group"===c.type){e.addLayerTags(c.id,c.sdkTags);var d=[];return o.default.each(c.items,(function(e){var n=t(e);n&&d.push(n)})),{id:c.id,payload:c.sdkPayload,items:d,tags:c.sdkTags,pageSlug:n,type:c.type}}return u.buildComponent(c,e,n)}a.default.warn("SDKLayersCollection: Layer from hierarchy not found in dictionary",{hierarchyLayer:s})}(t);l&&s.push(l)})),s},buildComponent:function(t,e,n){var i,r=t.id;switch(e.addComponentTags(t.id,t.sdkTags),e.addLayerTags(t.id,t.sdkTags),t.type){case"hotspot-component":i="hotspot";break;case"image-component":i="image";break;case"line-component":i="line";break;case"shape-component":i="shape";break;case"text-component":i="text";break;case"video-widget":i="video"}var o={id:r,type:i,payload:t.sdkPayload,tags:t.sdkTags,x:t.x,y:t.y,width:t.width,height:t.height,pageSlug:n};return"text"===i&&(o.textContent=t.textContent),"image"===i&&t.imageLoader&&(o.fullResolutionUrl=t.imageLoader.getFullResolutionUrl(),o.url=t.imageLoader.getCurrentUrl()),o},registerEvents:function(){l.default.on("page.action.share.page",o.default.bind((function(t){this.announceSocialShare(t.componentSlug,t.action)}),this)),l.default.on("page.component.clicked",o.default.bind((function(t){this.announceComponentClick(t.componentSlug)}),this)),l.default.on("page.component.animation.start",o.default.bind((function(t){this.announceAnimationStarted(t)}),this)),l.default.on("page.component.animation.end",o.default.bind((function(t){this.announceAnimationEnded(t)}),this)),l.default.on("sdk.context.get.value",o.default.bind((function(t){this.getContextValue(t.name)}),this)),l.default.on("sdk.experience.analytics.get.user.consent",o.default.bind((function(){this.getUserConsentForAnalytics()}),this))},announcePageChanged:function(t){y("page.changed",{pageNum:t,experienceId:this.experienceID})},announcePageChanging:function(t){y("page.changing",{pageNum:t,experienceId:this.experienceID})},announceSocialShare:function(t,e){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("social.share",{componentId:t,shareType:e,experienceId:this.experienceID})},announceComponentClick:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("component.clicked",{componentId:t,experienceId:this.experienceID})},announceLayersShown:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){y("layer.shown",{layerId:t,experienceId:this.experienceID})}),this))},announceLayersHidden:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){y("layer.hidden",{layerId:t,experienceId:this.experienceID})}),this))},announceVideoPlayed:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("video.played",{componentId:t,experienceId:this.experienceID})},announceAnimationStarted:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("animation.started",{componentId:t,experienceId:this.experienceID})},announceAnimationEnded:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("animation.ended",{componentId:t,experienceId:this.experienceID})},getContextValue:function(t){var e=u.default?o.default.get(u.default,t):"";y("context.value.response",{variableName:t,variableValue:e})},getUserConsentForAnalytics:function(){var t=p.default.getExperiencePath(),e=g.AnalyticsLocalStorage.getUserConsent(t);y("user.consent",{consent:e,experienceId:this.experienceID})},announceScrollTo:function(t){y("scroll.to",{scrollPosition:t.scrollPosition,pageHeight:t.pageHeight,experienceId:this.experienceID,innerHeight:window.innerHeight})},announceTimedInteraction:function(t){y("timed.interaction.fired",t)},getNewTagMap:function(){return new b}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(4)),s=i(n(2)),u=i(n(6)),l=i(n(78)),c=i(n(164)),d=i(n(152)),h=i(n(168)),f=i(n(169)),p=i(n(435)),g=i(n(60)),m=i(n(61)),v=i(n(15)),y=i(n(94)),_=n(436),b=n(513),T=i(n(12)),w=i(n(11)),S=i(n(2)),E={},O=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/pages",defaults:{sdkTags:[],sdkPayload:""},initialize:function(t,e){a.default.Model.prototype.initialize.call(this,t,e),this.documentVersion=e.documentVersion,this.pageIndex=e.pageIndex,this.layerOpBuilder=null,this.layerDocPersister=null},fetch:function(t){if(t=t||{},s.default.previewMode)return this._fetchFromShareJS();this._finishLoading();var e=new r.default.Deferred;return e.resolve(),e.promise()},getSlug:function(){return this.get("slug")},getSdkTags:function(){return this.get("sdkTags")},getSdkPayload:function(){return this.get("sdkPayload")},getDisabled:function(){return this.get("disabled")},getPageWidth:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");return t.getExperienceWidth()},getPageHeight:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");var e=this.getOverHeight(),n=t.getExperienceHeight();return e>n?e:n},getOverHeight:function(){return this.getOverrideablePropertyForCurrentVariant("overHeight")},_fetchFromShareJS:function(){var t=new r.default.Deferred;l.default.getConnection().openExisting(this._getDocumentName(),o.default.bind((function(e,n){if(e)throw u.default.error(e),t.reject(e),Error(e);w.default.hasFeature(T.default.PROTECTED_PREVIEW)&&w.default.hasFeature(T.default.EDIT_IN_PREVIEW)&&(this.layerOpBuilder=new _.EditorLayerOpBuilder(n),this.layerDocPersister=new b.EditorLayerDocPersister(n,this.layerOpBuilder)),n.on("remoteop",o.default.bind((function(t){this._processRemoteOps(n,t)}),this)),l.default.listenForReadOnlyConnectionLimitError(n),this.setDocSnapshotAndReconciledLayers(n.snapshot),this.documentVersion.on("resolveMedia",o.default.bind(this.refetchMedia,this,n)),t.resolve()}),this));var e=this._loadResolvedMedia();return r.default.when(t,e).done(o.default.bind((function(){this._finishLoading()}),this))},reconcileLayers:function(t,e){var n=this,i=[],r=v.default.getVariant();return o.default.reduce(t,(function(t,i){var a=o.default.cloneDeep(e[i.id]);return a&&(y.default.reconcileComponentForVariant(r,a),i.items&&i.items.length>0&&(a.items=n.reconcileLayers(i.items,e)),t.push(a)),t}),i),n.setReconciledVariant(r),i},getScranchorsForCurrentVariant:function(){var t=v.default.getVariant(),e=this.get("scranchors");"desktop"!==t&&(e=this.get("overrides")[t].scranchors||e);return e},setReconciledVariant:function(t){this.reconciledVariant=t},getReconciledVariant:function(){return this.reconciledVariant},_finishLoading:function(){if(!this.get("layers")){var t=this.get("layerHierarchies")[v.default.getVariant()],e=this.get("layerDictionary"),n=this.reconcileLayers(t,e);this.set("layers",n)}this.documentVersion.on("reload",this.resolveSmartgroupsAndMedia,this),this.resolveSmartgroupsAndMedia(),this.trigger("loaded")},_loadResolvedMedia:function(){return m.default.loadMediaForUri(this.getUri())},resolveSmartgroupsAndMedia:function(t){var e=this,n=t||e.get("layers")||[];o.default.each(n,(function(t){return t.smartgroupId?e.resolveSmartgroupReference(t):t.items&&t.items.length>0?e.resolveSmartgroupsAndMedia(t.items):e.resolveObjectMedia(t),t})),e.mediaPreloader=new p.default(e.documentVersion,e.get("layers"))},refetchMedia:function(t){this._loadResolvedMedia().done(o.default.bind((function(e){g.default.putMediaArray(e),this.setDocSnapshotAndReconciledLayers(t.snapshot),this.set("media",e),this.resolveSmartgroupsAndMedia(),this.trigger("reload")}),this))},resolveSmartgroupReference:function(t){var e=this,n=this.documentVersion.getSmartgroupDefinition(t.smartgroupId);n?t.layers=o.default.map(n.layerHierarchies.desktop,o.default.bind((function(i){return i=function i(a){var s=n.layerDictionary[a.id];return(a=r.default.extend(!0,{},s,a)).id=O.buildSmartgroupInstanceObjectId(t.id,a.id),a.parentSmartGroup=t,"folder"===a.type?a.items=o.default.map(a.items,i):e.resolveObjectInSmartgroup(a,t.id),a}(i)}),this)):u.default.warn("Smartgroup "+t.smartgroupId+" could not be resolved")},resolveObjectInSmartgroup:function(t,e){t.originalObjectId=t.id,t.interactions&&o.default.each(t.interactions,o.default.bind((function(t){t.layerTargets&&(t.layerTargets=o.default.map(t.layerTargets,o.default.bind((function(t){return O.buildSmartgroupInstanceObjectId(e,t)}),this)))}),this)),this.resolveObjectMedia(t)},resolveObjectMedia:function(t){var e=null;switch(t.type){case"image-component":if(e=g.default.get(t.convertedVectorImage||t.image),S.default.previewMode&&t.convertedVectorImage&&!e){var n=g.default.get(t.image);n&&(e=n)}e&&(t.imageLoader=c.default.create(t,e));break;case"video-widget":if((e=g.default.get(t.poster))&&(t.posterLoader=c.default.create(t,e)),t.videoMedia=g.default.get(t.video),t.closedCaption){var i=g.default.get(t.closedCaption);i&&(t.closedCaptionsUrl=i.url)}break;case"text-component":t.fontLoader=new d.default(t),t.textMode=this.documentVersion.getTextMode()}},lazyPreloadAllMedia:function(t,e){this.mediaPreloader.lazyPreloadAllMedia(t,e)},preloadVisibleMedia:function(t,e){this.mediaPreloader.preloadVisibleMedia(t,e)},preloadImages:function(t){this.mediaPreloader.preloadImages(t)},preloadHiddenMedia:function(t){this.mediaPreloader.preloadHiddenMedia(t)},getlazyLoadingVerticalBreakpoint:function(){return this.mediaPreloader.getlazyLoadingVerticalBreakpoint()},_processRemoteOps:function(t,e){for(var n={},i=!1,r=!1,a=0;a<e.length;a++){var s=e[a];if(f.default.isLayerHierarchiesMoveOrDelete(s))r=!0;else if(!f.default.isLayerDictionaryDelete(s)&&!f.default.isBlacklistedPagePropertyForPreviewOps(s)){var u=f.default.getComponentFromOp(t,s);if(u&&delete E[u.id],f.default.isMediaReloadRequiredForComponent(s,u)){i=!0;break}!u||f.default.isPageReloadRequiredForComponent(s,u)?r=!0:n[u.id]=JSON.parse(JSON.stringify(u))}}i?this.refetchMedia(t):r?this.triggerPageReload(t):o.default.each(n,o.default.bind((function(t,e){this.trigger("remote",{id:e,options:t})}),this))},setDocSnapshotAndReconciledLayers:function(t){var e=JSON.parse(JSON.stringify(t));this.set(e,{silent:!0});var n=this.reconcileLayers(o.default.cloneDeep(e.layerHierarchies[v.default.getVariant()]),e.layerDictionary);this.set("layers",n)},triggerPageReload:function(t){this.setDocSnapshotAndReconciledLayers(t.snapshot),this.resolveSmartgroupsAndMedia(),this.trigger("reload")},_getDocumentName:function(){return this.getUri().replace(/\//g,"_")},getPageIndex:function(){return this.pageIndex},getAllSmartgroupInstanceLayerIds:function(t,e){return this.getAllSmartgroupInstanceComponentIds(t,e)},getAllSmartgroupInstanceComponentIds:function(t,e){var n=e||this.get("layerDictionary"),i=o.default.filter(n,"smartgroupId");return o.default.reduce(i,o.default.bind((function(e,n){var i=this.getSmartgroupLayerDictionary(n.smartgroupId);return o.default.some(i,(function(e){return e.id===t}))&&e.push(O.buildSmartgroupInstanceObjectId(n.id,t)),e}),this),[])},getSmartgroupLayerDictionary:function(t){return o.default.get(this.documentVersion.getSmartgroupDefinition(t),"layerDictionary")},getUri:function(){return a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)},updateLayerDictionaryFromRemoteChange:function(t){var e=this.get("layerDictionary");e[t.id]=o.default.cloneDeep(t.options),this.set("layerDictionary",e)},findLayerById:function(t){if(!t)return null;if(!E.hasOwnProperty(t)){var e=function(n){for(var i=0;i<o.default.get(n,"length");++i){if(n[i].id===t)return n[i];if(n[i].items||n[i].layers){var r=n[i].items||n[i].layers,a=e(r);if(a)return a}}return null};E[t]=e(this.get("layers"))}return E[t]}},{layerIsComponentWithId:function(t,e){return"folder"===e.type?o.default.some(e.items,o.default.partial(O.layerIsComponentWithId,t)):e.id===t},buildSmartgroupInstanceObjectId:function(t,e){return t+"|"+e},extractObjectIdFromSmartgroupInstanceId:function(t){var e=t.indexOf("|");return-1!==e&&(t=t.substr(e+1)),t},findTopmostFolderContent:function(t){for(var e=null,n=0;n<o.default.get(t,"items.length",0);++n){var i=t.items[n];"folder"===i.type&&(i=O.findTopmostFolderContent(i)),e?i.y===e.y?e=i.y<e.y?i:e:i.y<e.y&&(e=i):e=i}return e}});o.default.extend(O.prototype,h.default),e.default=O},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(15));e.default={getOverrideablePropertyForCurrentVariant:function(t){var e=o.default.getVariant();if("desktop"===e)return this.get(t);var n=this.get("overrides");return r.default.get(n,[e,t])}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(15)),a=i(n(170)),s=i(n(2)),u=["image","background","backgroundHasBeenSet","crop"],l=["video","poster"],c=["guides","autosnap","name","thumbnailUrl"];e.default={isMediaReloadRequiredForComponent:function(t,e){if(e)if(this.isComponentCreation(t)){var n=this.getLayerTypeFromLayer(e);if(r.default.includes(["smartgroup_definition","folder","group"],n)||this.isMediaComponentWithMediaPropertiesSet(e))return!0}else if(this.isComponentUpdate(t)){return this.someOpPropertySuchThat(t,r.default.bind((function(t){return this.isMediaProperty(e,t)||"visible"===t}),this))}return!1},isMediaReloadRequiredForOp:function(t,e){var n=this.getComponentFromOp(t,e);return this.isMediaReloadRequiredForComponent(e,n)},someOpPropertySuchThat:function(t,e){var n=o.default.getVariant();if("desktop"===n)return e(this.getPropertyNameFromPath(t.p));var i=this.getPropertyNamesFromOverridesOp(t,n);return r.default.some(i,e)},isPageReloadRequiredForComponent:function(t,e){if(e){if(this.isInvalidGlyphMetricsOp(t,e))return!1;if(this.isComponentCreation(t))return!0;if(this.isComponentUpdate(t)){var n=!1;return r.default.includes(t.p,"interactions")&&r.default.each(t.oi,(function(t){!t||"view"!==t.trigger||"cycle-previous"!==t.action&&"cycle-next"!==t.action||(n=!0)})),this.someOpPropertySuchThat(t,(function(t){"video-widget"===e.type&&r.default.includes(["height","width"],t)||"smartgroup"===e.type&&r.default.includes(["x","y","height","width"],t)||"opacity"===t||"mask-group"===e.type||"blendingMode"===t||"fixedPosition"===t?n=!0:"image-component"!==e.type||!r.default.get(e,"maskInfo.maskedObjectId")||"flipHorizontal"!==t&&"flipVertical"!==t?("editable"===t||s.default.editMode&&"text-component"===e.type&&"textSpans"===t)&&(n=!0):n=!0})),n}throw"Wrong Op Type passed"}return!0},isInvalidGlyphMetricsOp:function(t,e){return"text-component"===e.type&&r.default.has(t,"oi")&&!r.default.has(t,"od")&&r.default.includes(t.p,"glyphMetrics")},isComponentCreation:function(t){return!!r.default.isArray(t.p)&&(2===t.p.length&&"layerDictionary"===t.p[0]&&!r.default.isUndefined(t.oi)&&r.default.isUndefined(t.od))},isLayerHierarchiesChange:function(t){return"layerHierarchies"===t.p[0]},isLayerHierarchiesMoveOrDelete:function(t){return"layerHierarchies"===t.p[0]&&!r.default.isUndefined(t.ld)},isLayerDictionaryDelete:function(t){return!a.default.isUpdateForLazyAddedField(t)&&("layerDictionary"===t.p[0]&&!r.default.isUndefined(t.od)&&r.default.isUndefined(t.oi))},isComponentUpdate:function(t){return!!r.default.isArray(t.p)&&(!!a.default.isUpdateForLazyAddedField(t)||!(2!==t.p.length&&3!==t.p.length||"layerDictionary"!==t.p[0]||r.default.isUndefined(t.oi)||r.default.isUndefined(t.od)))},getPropertyNameFromPath:function(t){var e;return t.length>2&&r.default.isString(r.default.last(t))&&(e=r.default.last(t)),e},getPropertyNamesFromOverridesOp:function(t,e){if(r.default.isUndefined(t.oi)||r.default.isUndefined(t.od))throw"Cannot get properties changed without old and new objects";var n=t.oi[e],i=t.od[e],o=r.default.union(r.default.keys(n),r.default.keys(i));return r.default.filter(o,(function(t){return!r.default.isEqual(n[t],i[t])}))},getComponentFromOp:function(t,e){if(!("layerDictionary"!==e.p[0]||r.default.isUndefined(e.oi)&&r.default.isUndefined(e.od))){var n=r.default.slice(e.p,0,2).join(".");return r.default.at(t.snapshot,n)[0]}return null},getLayerTypeFromLayer:function(t){return t.type?t.type:void 0!==t.layers?"smartgroup_definition":void 0},isMediaProperty:function(t,e){return!!t&&("image-component"===t.type?r.default.includes(u,e):"video-widget"===t.type&&r.default.includes(l,e))},isMediaComponentWithMediaPropertiesSet:function(t){return t&&("image-component"===t.type&&t.image||"video-widget"===t.type&&t.video&&t.poster)},isBlacklistedPagePropertyForPreviewOps:function(t){return!("layerDictionary"===t.p[0]||!r.default.includes(c,t.p[0]))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(89),a=n(50),s={crop:null,flipHorizontal:!1,flipVertical:!1,effects:o.ImageEffects.getDefaults(),blendingMode:a.BlendingModes.getDefault()};e.default={isLazyAddedField:function(t){var e=this.getOpFieldName(t);return e&&s.hasOwnProperty(e)},isUpdateForLazyAddedField:function(t){return(!r.default.isUndefined(t.oi)||!r.default.isUndefined(t.od))&&this.isLazyAddedField(t)},normalizeIfLazyAddedField:function(t){if(this.isUpdateForLazyAddedField(t)){var e=this.getOpFieldName(t),n=s[e];t.od&&!t.oi?t.oi=n:t.oi&&!t.od&&(t.od=n)}},getOpFieldName:function(t){return r.default.get(t.p,t.p.length-1)}}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(1)),u=a(n(0)),l=a(n(4)),c=a(n(105)),d=a(n(442)),h=a(n(2)),f=a(n(174)),p=o(n(446)),g={slug:null,account:null,userAccounts:null,accountsFeatureFlagsCollection:null,getActiveAccountSlug:function(){var t=this.getActiveAccount();return!!t&&t.get("slug")},getActiveAccount:function(){var t=h.default.accountSlug;return this.getUserAccounts().get(t)},setActiveAccountSlug:function(t,e){var n=this,i=new s.default.Deferred;return i.fail(u.default.bind((function(){e&&"function"==typeof e.error&&e.error.call(this)}),this)),t?(this.addToAccountIfSuperUserFirstAccess(t).then((function(){var e=f.default.getCurrentUser();e.get("lastAccessedAccountSlug")!=t&&e.updateAndPersistFields({lastAccessedAccountSlug:t},{silent:!0}),h.default.absorb({accountSlug:t})})).then((function(){return d.default.getInstanceForAccount(n.getActiveAccountSlug()).fetch()})).then((function(){var r=n.getUserAccounts().get(t);n.trigger("currentaccount:switched",r,n),p.setActiveOrganizationFromAccount(r).then(i.resolve).fail(i.reject).always((function(){e&&"function"==typeof e.success&&e.success.call(n,r)}))})).fail(i.reject),i):(i.reject(),i)},isActiveAccountTemplateManager:function(){var t=p.getActiveOrganization(),e=this.getActiveAccount();return t&&e&&parseInt(t.get("templateManagerAcctId"),10)===parseInt(e.get("id"),10)},addToAccountIfSuperUserFirstAccess:function(t){var e=new s.default.Deferred,n=f.default.getCurrentUser();if(this.getUserAccounts().get(t))e.resolve();else if(n.get("isSuperuser")){var i=new c.default({slug:t});i.fetch().done((function(){f.default.inviteMemberToAccount(n,i,!1).done((function(){n.fetch().done(e.resolve).fail(e.reject)})).fail(e.reject)})).fail((function(){e.reject()}))}else e.reject();return e.promise()},getUserAccounts:function(){return f.default.getCurrentUser().getAccounts()},currentUserHasAccount:function(t){return!!f.default.getCurrentUser().get("isSuperuser")||this.getUserAccounts().get(t)},getFirstAccountSlug:function(){var t=this.getUserAccounts();return t.length>0&&t.first().get("slug")},getFallbackAccountSlug:function(t){if(!t)return!1;var e=f.default.getCurrentUser().get("lastAccessedAccountSlug");if(!u.default.isUndefined(e)&&t!=e&&this.currentUserHasAccount(e))return e;var n=this.getFirstAccountSlug();return!(!n||t==n)&&n},navigateAccount:function(t,e){"/"!=t.charAt(0)&&(t="/"+t),l.default.history.navigate("/account/"+this.getActiveAccountSlug()+t,e)}};u.default.extend(g,l.default.Events),e.default=g},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(38)),a=i(n(439));e.default=o.default.extend({urlRoot:"/{api-version}/members",defaults:{title:null,contactInformation:null,ghosting:!1},save:function(t,e,n){return!1},getAccountMemberUri:function(){return this.replaceUrlContextVariables("/{api-version}/account/{account-slug}/account-members/"+this.id)},getAccountMember:function(t){return this.accountMember?this.accountMember:this.fetchAccountMember(t)},fetchAccountMember:function(t){var e=new a.default({slug:this.id});return e.on("change",r.default.bind((function(t){this.accountMember=t}),this)),t&&"function"==typeof t&&e.on("change",t),e.fetch(),e}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(4)),s=i(n(8));e.default=a.default.Collection.extend({serverPageLength:100,serverPageMax:10,resolveKeys:"",allowPagination:!0,totalRecords:!1,constructor:function(){a.default.Collection.apply(this,arguments),this.urlParams=[]},initialize:function(){this._loadedPages=[]},clearCachedPages:function(){this._loadedPages=[]},hasEverBeenFetched:function(){return!1!==this.totalRecords},fetch:function(t){if(t||(t={}),!this.allowPagination)return this._fetchInternal(t);var e=t.silent,n=t.start||1,i=t.stop||this.serverPageLength*this.serverPageMax,a=void 0===t.resetAfterModelsResolve||t.resetAfterModelsResolve;this.totalRecords&&i>this.totalRecords&&(i=this.totalRecords);var s=this,u=this._getNeededPages(n,i);t.silent=!0,t.page=u.shift();var l=t.success,c=t.error,d=[],h=new r.default.Deferred;return t.success=function(e,r){r&&i>r.totalCount&&(i=r.totalCount,u=s._getNeededPages(n,i));var l=u.length;u.length>0&&(t.page=u.shift(),s._fetchInternal(t)),0===l&&(a&&o.default.each(s.models,(function(t){t.subRequestsPending>0&&(d.push(t.id),t.on("change",(function(){0===t.subRequestsPending&&(d.splice(d.indexOf(t.id),1),0===d.length&&h.resolve(e,r))})))})),0===d.length&&h.resolve(e,r))},t.error=function(t,n){404!=n.status||e?h.reject(t,n):h.resolve(t,n)},this._fetchInternal(t),h.done((function(t,n){l&&l(t,n),e||t.trigger("reset")})).fail((function(t,e){c&&c(t,e)})).promise()},_fetchInternal:function(t){t||(t={}),this.resolveKeys&&this.addUrlParam("resolve_keys",this.resolveKeys);var e=t.silent,n=1;if(t.page&&(n=t.page),-1!==r.default.inArray(n,this._loadedPages)&&!t.forceReload)return o.default.isFunction(t.success)&&t.success(this,null),(new r.default.Deferred).resolve(this,null).promise();1!=n&&this.allowPagination&&(t.remove=!1),t.at=n*this.serverPageLength-this.serverPageLength;var i=this,s=!1;t.success&&(s=t.success),t.silent=!0,t.success=function(t,r){i.totalRecords=r.totalCount,i._loadedPages.push(n),s&&s(t,r),e||t.trigger("reset")};var u=!1;t.error&&(u=t.error),t.error=function(t,n){404==n.status&&(u&&u(t,n),e||t.trigger("reset"))};var l=this.allowPagination?"/page/"+n:"";return t.url=this.url()+l+"?"+this.getUrlParamsAsString(),a.default.Collection.prototype.fetch.call(this,t)},_getNeededPages:function(t,e){for(var n=Math.floor(t/this.serverPageLength),i=[];n*this.serverPageLength<e;)i.push(n+1),n++;var o=this._loadedPages;return r.default.grep(i,(function(t){return r.default.inArray(t,o)<0}))},url:function(){var t=o.default.result(this,"restUrl")||this;return s.default.replaceUrlContextVariables(t)},parse:function(t){return void 0!==t&&void 0!==t.resources&&t.resources},addUrlParam:function(t,e){this.urlParams[t]=e},getUrlParamsAsString:function(){var t=[];return o.default.forIn(this.urlParams,(function(e,n){t.push(n+"="+e)})),t.join("&")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(4)),s=i(n(444)),u={currentUser:null,getCurrentUserSlug:function(){return this.currentUser?this.currentUser.get("slug"):null},getCurrentUser:function(){return this.currentUser},fetchCurrentUser:function(){var t=new s.default,e=new r.default.Deferred;return t.fetch().done(o.default.bind((function(){this.currentUser=t,e.resolve(this.currentUser)}),this)).fail(e.reject),e},signin:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/signin",eventName:"currentuser:signin"}))},signout:function(){var t=this;r.default.ajax({url:"/rest/v1/process/signout",type:"POST",success:function(){t.trigger("currentuser:signout","UserManager"),window.location="https://"+location.hostname},error:function(t,e,n){console.log("Error signing out: "+n)}})},checkPasswordResetToken:function(t){return r.default.ajax({url:"/rest/v1/process/reset-password",type:"GET",data:{token:t}})},checkConfirmMemberToken:function(t){return r.default.ajax({url:"/rest/v1/process/confirm-member",data:{token:t},type:"GET",dataType:"json"})},checkStudentInvitationToken:function(t){return r.default.ajax({url:"/rest/v1/process/student-invitation",type:"GET",data:{token:t}})},sendPasswordResetEmail:function(t){return r.default.ajax({url:"/rest/v1/process/send-password-reset",type:"POST",data:JSON.stringify({email:t}),processData:!1,contentType:"application/json"})},sendStudentInvitationEmail:function(t,e){return r.default.ajax({url:"/rest/v1/process/send-student-invitation",type:"POST",data:JSON.stringify({email:t,fullName:e}),contentType:"application/json"})},resetPassword:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/reset-password",eventName:"currentuser:resetpassword"}))},confirmMember:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/confirm-member"}))},getAuthUser:function(t){return r.default.ajax({url:"/rest/v1/process/get-auth-user",type:"GET",data:{token:t}})},linkUser:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/link-user"}))},createStudentAccount:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/student-invitation"}))},inviteMemberToAccount:function(t,e,n){return n=!1===n?0:1,r.default.ajax({url:"/rest/v1/account/"+e.get("slug")+"/invite-member",type:"POST",data:{email:t.get("email"),title:t.get("title"),sendInvitationEmail:n}})},_post:function(t){r.default.ajax({url:t.url,type:"POST",data:JSON.stringify(t.data),processData:!1,contentType:"application/json",success:o.default.bind((function(e,n,i){t.eventName&&this.trigger(t.eventName,"UserManager"),t.success&&"function"==typeof t.success&&t.success(e,n,i)}),this),error:function(e,n,i){t.error&&"function"==typeof t.error&&t.error(e,n,i)}})}};o.default.extend(u,a.default.Events),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(453)),a=i(n(10)),s=i(n(19)),u=["viewportHeight","viewportWidth","scaleExperienceType"],l=["pageHeight","overHeight"];e.default=s.default.extend({defaults:a.default.CanvasBackgroundModel.defaults,initialize:function(){s.default.prototype.initialize.apply(this,arguments)},set:function(t,e,n){var i={};"object"==typeof t?(i=t,n=e):i[t]=e,this.changedIPAttributes={};var o=r.default.keys(i),a=r.default.difference(o,u.concat(l)),c=r.default.intersection(o,u),d=r.default.pick(i,a);s.default.prototype.set.apply(this,[d,n]);var h=i.overHeight||i.pageHeight||i.height;if(h&&this.setPageOverheight(h),this.documentVersion){var f=r.default.pick(i,c);this.documentVersion.set(f,n)}return o.length>0&&this.notifyChange(i,n),this},get:function(t){switch(t){case"width":case"viewportWidth":return this.documentVersion?this.documentVersion.getExperienceWidth():s.default.prototype.get.apply(this,arguments);case"viewportHeight":return this.documentVersion?this.documentVersion.getExperienceHeight():s.default.prototype.get.apply(this,arguments);case"scaleExperienceType":return this.documentVersion?this.documentVersion.getScaleExperienceType():s.default.prototype.get.apply(this,arguments);case"height":case"pageHeight":return this.page&&this.documentVersion?this.page.getPageHeight(this.documentVersion):s.default.prototype.get.apply(this,arguments);default:return s.default.prototype.get.apply(this,arguments)}},isIncludedInLayerPanel:function(){return!0},setPageOverheight:function(t){this.page&&(this.page.setOverHeight(t),o.default.trackOverHeight())},notifyChange:function(t,e){e=e||{},t=r.default.pick(t,u.concat(l));var n=r.default.keys(t);this.changedIPAttributes=t,n&&n.length>0&&t&&(r.default.each(n,r.default.bind((function(n){this.trigger("change:"+n,this,t[n],e)}),this)),this.trigger("change",this,e))},setPage:function(t){this.page||(this.page=t,this.documentVersion=this.page.documentVersion,this.page.setCanvasBackgroundModel(this),this.page.on("change",r.default.bind(this.onPageChange,this)),this.documentVersion.on("change",r.default.bind(this.onDocumentVersionChange,this)))},onPageChange:function(t,e){var n=r.default.pick(t.changedAttributes(),l);n.overHeight&&(n.pageHeight=n.overHeight,delete n.overHeight),this.notifyChange(n,e)},onDocumentVersionChange:function(t,e){var n=r.default.pick(t.changedAttributes(),u);this.notifyChange(n,e)},setFromCanvasBackgroundModel:function(t){var e=this.getSupported(),n={};r.default.each(e,(function(e){n[e]=t.get(e)})),this.set(n),this.save()},getSupported:function(){return a.default.CanvasBackgroundModel.supported},getDisplayLabel:function(){return"Canvas Settings"},isResizable:function(){return!1},isDeletable:function(){return!1},isCopiable:function(){return!1},isGroupable:function(){return!1},isMoveable:function(){return!1},isUserSelectable:function(){return!1},isFocusable:function(){return!1},isLockable:function(){return!1},isVisible:function(){return!0},setVisible:function(){return this},isInteractable:function(){return!1},highlight:function(){return this.rubberBandHighlighted=!1,this},isCanvasBackgroundModel:function(){return!0}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(54)),s=i(n(24)),u=i(n(457)),l=i(n(10)),c=i(n(458)),d=a.default.extend({defaults:l.default.AbstractPageObjectModel.defaults,variantDefaults:null,objectStatesEnabled:!1,constructor:function(t,e){t=t||{},this.setParentModel(a.default),a.default.prototype.constructor.call(this,t,e)},initialize:function(t,e){this.bindVariantAttributeChangeEvents(),a.default.prototype.initialize.call(this,t,e)},getSupported:function(){return l.default.AbstractPageObjectModel.supported},getObjectStateSupportedProperties:function(){return l.default.AbstractPageObjectModel.objectStateSupportedProperties},isResizable:function(){return!0},mustBeConstrained:function(){return!1},isConstrained:function(){return this.mustBeConstrained()||this.get("preserveAspectRatio")},isObject:function(){return!0},hasInteractions:function(){var t=this.get("interactions");return o.default.isArray(t)&&t.length>0},hasInteractionsBesidesChangeState:function(){var t=this.get("interactions").filter((function(t){return"change-state"!==t.action}));return o.default.isArray(t)&&t.length>0},updateInteractionPageNumbersOnAdd:function(t){this.forEachVariantInteractions((function(e){e.updateInteractionPageNumbersOnAdd(t)}))},updateInteractionPageNumbersOnMove:function(t,e){this.forEachVariantInteractions((function(n){n.updateInteractionPageNumbersOnMove(t,e)}))},updateInteractionPageNumbersOnDelete:function(t){this.forEachVariantInteractions((function(e){e.updateInteractionPageNumbersOnDelete(t)}))},supportsObjectStates:function(){return this.objectStatesEnabled},supportsObjectStatesForProperty:function(t){return this.getObjectStateSupportedProperties().indexOf(t)>-1},forEachVariantInteractions:function(t){this.forAttributeOnEachVariant("interactions",o.default.bind((function(e,n){var i=this._buildInteractionCollectionThatWillUpdateOnChanges(e,{variant:n});t(i,n)}),this))},removeReferencesToDescendant:function(t){if(this.hasInteractions()){var e=[];o.default.each(this.get("interactions"),(function(n){var i=r.default.extend(!0,{},n);i.layerTargets?(i.layerTargets=o.default.difference(i.layerTargets,t),i.layerTargets.length>0&&e.push(i)):e.push(i)})),this.set({interactions:e})}},reconcileJSONForCurrentVariant:function(t){var e=a.default.prototype.toJSON.call(this);return e=s.default.reconcileJSONForCurrentVariant(e,this),!0===t&&(e=u.default.cloneDeep(e)),e},forAttributeOnEachVariant:function(t,e){var n={desktop:this.get(t,{variant:"desktop"})};o.default.each(s.default.getExistingVariants(),o.default.bind((function(e){n[e]=this.get(t,{variant:e,doNotFallbackToDesktop:!0})}),this)),o.default.each(n,(function(t,n){o.default.isUndefined(t)||e(t,n)}))}});o.default.extend(d.prototype,c.default),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={buildPropertyObject:function(t,e){var n;return r.default.isObject(t)||((n={})[t]=e,t=n),t}};e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToActionModel=void 0;var s=a(n(0)),u=n(13),l=n(7),c=n(5),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SCROLL_TARGET_TYPES={TOP:"top",BOTTOM:"bottom",SCRANCHOR:"scranchor"},e}return r(e,t),e.prototype.getValidScranchorTargets=function(){return this.parentInteraction.getValidScranchorTargets()},e.prototype.isValid=function(){return!!s.default.includes(this.SCROLL_TARGET_TYPES,this.get("scrollTargetType"))&&!(this.isScrollToScranchor()&&!this.getScranchorModel())},e.prototype.isScrollToTop=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.TOP},e.prototype.isScrollToBottom=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.BOTTOM},e.prototype.isScrollToScranchor=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.SCRANCHOR},e.prototype.getScranchorId=function(){return this.isScrollToScranchor()?this.get("scrollTargetScranchor"):null},e.prototype.getScranchorModel=function(){var t=null,e=this.getScranchorId();return e&&(t=this.getValidScranchorTargets().get(e)),t},e.prototype.getScranchorIndex=function(){return this.getValidScranchorTargets().indexOf(this.getScranchorModel())},e.prototype.setScrollToTop=function(){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.TOP})},e.prototype.setScrollToBottom=function(){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.BOTTOM})},e.prototype.setScrollToScranchor=function(t){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.SCRANCHOR,scrollTargetScranchor:t})},e=o([l.ActionModelOptions({actionType:c.ActionTypes.scrollTo,defaults:{scrollTargetType:null,scrollTargetScranchor:null}})],e)}(u.AbstractActionModel);e.ScrollToActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToObjectActionModel=void 0;var s=n(20),u=a(n(11)),l=a(n(12)),c=n(7),d=n(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return u.default.hasFeature(l.default.ACCESSIBILITY)&&t.prototype.isValid.call(this)},e=o([c.ActionModelOptions({actionType:d.ActionTypes.scrollToObject,defaults:{supportsMultipleTargets:!1}})],e)}(s.AbstractCanvasTargetsActionModel);e.ScrollToObjectActionModel=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.NextPageActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.nextPage})],e)}(a.AbstractActionModel);e.NextPageActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.PrevPageActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.prevPage})],e)}(a.AbstractActionModel);e.PrevPageActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GotoPageActionModel=void 0;var s=a(n(0)),u=n(109),l=n(7),c=n(5),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return this.isPageTargetValid()},e.prototype.isPageTargetValid=function(){var t=this.get("pageTarget");return!!t&&(!!s.default.isNumber(t)&&(!(t<1)&&!(t>this.getValidPageTargets().length)))},e.prototype.getGotoPageNum=function(){return this.get("pageTarget")},e.prototype.getDeletedGotoPageNum=function(){return this.get("deletedPageTarget")},e.prototype.setGotoPage=function(t){this.set("pageTarget",t),this.unset("deletedPageTarget")},e.prototype.setDeletedGotoPage=function(t){this.set("deletedPageTarget",t)},e.prototype.handlePageAdd=function(t){var e=this.getGotoPageNum();e>=t&&this.setGotoPage(e+1)},e.prototype.handlePageMove=function(t,e){var n=this.getGotoPageNum(),i=this._calculateUpdatedPageNumberOnMove(n,t,e);n!==i&&this.setGotoPage(i)},e.prototype.handlePageDelete=function(t){var e=this.getGotoPageNum();e===t?(this.setGotoPage(null),this.setDeletedGotoPage(e)):e>t&&this.setGotoPage(e-1)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.gotoPage,defaults:{pageTarget:null}})],e)}(u.PageNumberAwareAction);e.GotoPageActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EnableDisablePageActionModel=void 0;var s=a(n(0)),u=n(109),l=n(7),c=n(5),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.serializePageTargets=function(t){var e=s.default(t).keys().map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e})).value(),n=s.default.reduce(e,(function(t,e){return t.length&&s.default.last(s.default.last(t))===e-1||t.push([]),s.default.last(t).push(e),t}),[]);return s.default.map(n,(function(t){switch(t.length){case 1:return t[0];case 2:return t[0]+", "+t[1];default:return t[0]+"-"+s.default.last(t)}})).join(", ")},e.prototype.parsePageTargets=function(t,e){var n=this,i={},r=!1;return s.default.isNil(t)||""===(t=t.replace(/\s/g,""))?[]:(s.default.each(t.split(","),s.default.bind((function(t){var o=t.split("-");switch(o.length){case 1:var a=parseInt(t,10);a&&n.isPageInRange(a)?i[a]=e:r=!0;break;case 2:var u=parseInt(o[0],10),l=parseInt(o[1],10);u&&l&&n.isPageInRange(u)&&n.isPageInRange(l)?s.default.each(s.default.range(u,l+1),(function(t){i[t]=e})):r=!0;break;default:r=!0}}),this)),r?null:i)},e.prototype.isPageInRange=function(t){return s.default.inRange(t,1,this.parentInteraction.getValidPageTargets().length+1)},e.prototype.isValid=function(){return this.arePageTargetsValid()},e.prototype.arePageTargetsValid=function(){var t=this;return!s.default.isEmpty(this.get("pageTargets"))&&s.default.every(this.get("pageTargets"),s.default.bind((function(e,n){return t.isPageInRange(n)}),this))},e.prototype.getEnablePageTargetsOnly=function(){return s.default.pickBy(this.get("pageTargets"))},e.prototype.getDisablePageTargetsOnly=function(){return s.default.pickBy(this.get("pageTargets"),(function(t){return!t}))},e.prototype.hasEnablePageTargets=function(){return!s.default.isEmpty(this.getEnablePageTargetsOnly())},e.prototype.hasDisablePageTargets=function(){return!s.default.isEmpty(this.getDisablePageTargetsOnly())},e.prototype.getEnablePageTargetsAsString=function(){return this.serializePageTargets(this.getEnablePageTargetsOnly())},e.prototype.getDisablePageTargetsAsString=function(){return this.serializePageTargets(this.getDisablePageTargetsOnly())},e.prototype.setEnablePageTargetsFromString=function(t){var e=this.parsePageTargets(t,!0);e&&this.set("pageTargets",s.default.extend(this.getDisablePageTargetsOnly(),e))},e.prototype.setDisablePageTargetsFromString=function(t){var e=this.parsePageTargets(t,!1);e&&this.set("pageTargets",s.default.extend(this.getEnablePageTargetsOnly(),e))},e.prototype.handlePageMove=function(t,e){var n=this,i=this.get("pageTargets"),r={},o=!1;s.default.each(i,s.default.bind((function(i,a){var u=s.default.toNumber(a),l=n._calculateUpdatedPageNumberOnMove(u,t,e);r[l]=i,o=o||u!==l}),this)),o&&this.set("pageTargets",r)},e.prototype.handlePageAdd=function(t){var e=this.get("pageTargets"),n={},i=!1;s.default.each(e,(function(e,r){var o=s.default.toNumber(r);o>=t?(n[o+1]=e,i=!0):n[o]=e})),i&&this.set("pageTargets",n)},e.prototype.handlePageDelete=function(t){var e=this.get("pageTargets"),n={},i=!1;s.default.each(e,(function(e,r){var o=s.default.toNumber(r);o>t?(n[o-1]=e,i=!0):o<t?n[o]=e:i=!0})),i&&this.set("pageTargets",n)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.enableDisablePage,defaults:{pageTargets:{}}})],e)}(u.PageNumberAwareAction);e.EnableDisablePageActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UrlActionModel=void 0;var s=a(n(0)),u=n(13),l=n(7),c=n(5),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!(!this.has("url")||s.default.isEmpty(this.get("url")))&&!!s.default.isBoolean(this.get("urlOpenInNewWindow"))},e.prototype.filterUrl=function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t},e.prototype.getUrl=function(){return this.get("url")},e.prototype.setUrl=function(t){this.set("url",t)},e.prototype.getUrlOpenInNewWindow=function(){return this.get("urlOpenInNewWindow")},e.prototype.setUrlOpenInNewWindow=function(t){this.set("urlOpenInNewWindow",t)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.url,defaults:{url:null,urlOpenInNewWindow:!1}})],e)}(u.AbstractActionModel);e.UrlActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowCanvasTargetsActionModel=void 0;var a=n(20),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.showCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowCanvasTargetsOnHoverActionModel=void 0;var a=n(20),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getCreateHoverArea=function(){return this.get("createHoverArea")},e.prototype.setCreateHoverArea=function(t){this.set("createHoverArea",t)},e=o([s.ActionModelOptions({actionType:u.ActionTypes.showCanvasTargetsOnHover,defaults:{createHoverArea:!1,supportsMultipleTargets:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowCanvasTargetsOnHoverActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOnlyActionModel=void 0;var a=n(20),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.showOnly})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowOnlyActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideOnlyActionModel=void 0;var a=n(20),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.hideOnly})],e)}(a.AbstractCanvasTargetsActionModel);e.HideOnlyActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.CycleNextActionModel=void 0;var a=n(190),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultDelay=function(){return 2},e=o([s.ActionModelOptions({actionType:u.ActionTypes.cycleNext})],e)}(a.AbstractContainerTargetsActionModel);e.CycleNextActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractContainerTargetsActionModel=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isCanvasTargetTypeValid=function(e){return t.prototype.isCanvasTargetTypeValid.call(this,e)&&(e.isGroup()||e.isFolder())},e}(n(20).AbstractCanvasTargetsActionModel);e.AbstractContainerTargetsActionModel=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.CyclePreviousActionModel=void 0;var a=n(190),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultDelay=function(){return 2},e=o([s.ActionModelOptions({actionType:u.ActionTypes.cyclePrevious})],e)}(a.AbstractContainerTargetsActionModel);e.CyclePreviousActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideCanvasTargetsActionModel=void 0;var a=n(20),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.hideCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.HideCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleCanvasTargetsActionModel=void 0;var a=n(20),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.toggleCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.ToggleCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideAndStayHiddenCanvasTargetsActionModel=void 0;var a=n(20),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getResetWhenScrolledOffscreen=function(){return this.get("resetWhenScrolledOffscreen")},e.prototype.setResetWhenScrolledOffscreen=function(t){this.set("resetWhenScrolledOffscreen",t)},e=o([s.ActionModelOptions({actionType:u.ActionTypes.hideAndStayHiddenCanvasTargets,defaults:{resetWhenScrolledOffscreen:!1,supportsMultipleTargets:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.HideAndStayHiddenCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowAndStayVisibleCanvasTargetsActionModel=void 0;var a=n(7),s=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getResetWhenScrolledOffscreen=function(){return this.get("resetWhenScrolledOffscreen")},e.prototype.setResetWhenScrolledOffscreen=function(t){this.set("resetWhenScrolledOffscreen",t)},e=o([a.ActionModelOptions({actionType:s.ActionTypes.showAndStayVisibleCanvasTargets,defaults:{resetWhenScrolledOffscreen:!1,supportsMultipleTargets:!0}})],e)}(n(20).AbstractCanvasTargetsActionModel);e.ShowAndStayVisibleCanvasTargetsActionModel=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LightboxActionModel=void 0;var s=a(n(0)),u=n(13),l=n(7),c=n(5),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LIGHTBOX_MAX_DIMENSION=2e3,e}return r(e,t),e.prototype.isValid=function(){return!(!this.has("lightboxUrl")||s.default.isEmpty(this.get("lightboxUrl")))&&(!!this.isLightboxDimensionValid(this.get("lightboxHeight"))&&!!this.isLightboxDimensionValid(this.get("lightboxWidth")))},e.prototype.isLightboxDimensionValid=function(t){return!!t&&t>0&&t<=this.LIGHTBOX_MAX_DIMENSION},e.prototype.filterLightboxUrl=function(t){if(-1!==t.indexOf(".")){var e=t.trim().toLowerCase();if(0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("//"))return"http://"+t}return t},e.prototype.getLightboxUrl=function(){return this.get("lightboxUrl")},e.prototype.getLightboxWidth=function(){return this.get("lightboxWidth")},e.prototype.getLightboxHeight=function(){return this.get("lightboxHeight")},e.prototype.getLightboxHasCloseButton=function(){return this.get("lightboxHasCloseButton")},e.prototype.setLightboxUrl=function(t){this.set("lightboxUrl",t)},e.prototype.setLightboxHeight=function(t){if(!this.isLightboxDimensionValid(t))throw new Error("Lightbox height is invalid "+t);this.set("lightboxHeight",t)},e.prototype.setLightboxWidth=function(t){if(!this.isLightboxDimensionValid(t))throw new Error("Lightbox width is invalid "+t);this.set("lightboxWidth",t)},e.prototype.setLightboxHasCloseButton=function(t){this.set("lightboxHasCloseButton",t)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.lightbox,defaults:{lightboxUrl:null,lightboxWidth:720,lightboxHeight:576,lightboxHasCloseButton:!0}})],e)}(u.AbstractActionModel);e.LightboxActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProductActionModel=void 0;var s=a(n(0)),u=n(13),l=n(7),c=n(5),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return this.has("productPanelId")&&!s.default.isEmpty(this.get("productPanelId"))},e.prototype.getProductPanelId=function(){return this.get("productPanelId")},e.prototype.setProductPanelId=function(t){this.set("productPanelId",t)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.product,defaults:{productPanelId:null}})],e)}(u.AbstractActionModel);e.ProductActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShoppingCartActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.shoppingCart})],e)}(a.AbstractActionModel);e.ShoppingCartActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.EmailActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.email})],e)}(a.AbstractActionModel);e.EmailActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.FacebookActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.facebook})],e)}(a.AbstractActionModel);e.FacebookActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.TwitterActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.twitter})],e)}(a.AbstractActionModel);e.TwitterActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.PinterestActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.pinterest})],e)}(a.AbstractActionModel);e.PinterestActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedInActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.linkedin})],e)}(a.AbstractActionModel);e.LinkedInActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStateActionModel=void 0;var a=n(20),s=n(75),u=n(7),l=n(5),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isCanvasTargetTypeValid=function(e){return!!s.ObjectStateManager.targetSupportsPreviewOnlyMode(e)||(!!e.isFolder()||!!e.supportsObjectStates()&&t.prototype.isCanvasTargetTypeValid.call(this,e))},e.prototype.getStateDisplayName=function(){var t=this.getState(),e=this.getCanvasTargetModels()[0],n=s.ObjectStateManager.getStates(e).find((function(e){return e.value===t}));return n?n.title:""},e.prototype.getState=function(){return this.get("state")},e.prototype.setState=function(t){this.set("state",t)},e.prototype.getLockState=function(){return this.get("lockState")},e.prototype.setLockState=function(t){this.set("lockState",t)},e.prototype.getDisableHoverArea=function(){return this.get("disableHoverArea")||!1},e.prototype.setDisableHoverArea=function(t){this.set("disableHoverArea",t)},e.prototype.getTrigger=function(){return this.parentInteraction.getTrigger()},e.prototype.shouldHaveDisableHoverArea=function(){return"click"===this.getTrigger()},e.prototype.shouldHaveLockState=function(){return"view"!==this.getTrigger()&&"default"!==this.getState()},e=o([u.ActionModelOptions({actionType:l.ActionTypes.changeState,defaults:{state:"default",layerTargets:null,autogenerated:!1,supportsMultipleTargets:!0,lockState:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.ChangeStateActionModel=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.FullscreenActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.fullscreen})],e)}(a.AbstractActionModel);e.FullscreenActionModel=l},function(t,e,n){"use strict";var i,r,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BringToFrontActionModel=void 0;var u=n(13),l=n(7),c=n(5),d=n(154),h=s(n(11)),f=s(n(12)),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isValid=function(){return h.default.hasFeature(f.default.POSITION_INTERACTIONS)&&t.prototype.isValid.call(this)},e.prototype.getReverseOption=function(t){return this.get(t)},e.prototype.setReverseOption=function(t,e){this.set(t,e)},e.prototype.shouldUseClickOptions=function(){return"click"===this.parentInteraction.getTrigger()},e=a([l.ActionModelOptions({actionType:c.ActionTypes.bringToFront,defaults:(r={},r[d.BringToFrontReverseOption.unhover]=!0,r[d.BringToFrontReverseOption.resetOthers]=!1,r)})],e)}(u.AbstractActionModel);e.BringToFrontActionModel=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ResetPositionsActionModel=void 0;var s=n(5),u=n(7),l=n(20),c=a(n(11)),d=a(n(12)),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return c.default.hasFeature(d.default.POSITION_INTERACTIONS)&&t.prototype.isValid.call(this)},e.prototype.getResetObjectStates=function(){return this.get("resetObjectStates")},e.prototype.setResetObjectStates=function(t){this.set("resetObjectStates",t)},e=o([u.ActionModelOptions({actionType:s.ActionTypes.resetPositions,defaults:{resetObjectStates:!1,supportsMultipleTargets:!0}})],e)}(l.AbstractCanvasTargetsActionModel);e.ResetPositionsActionModel=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(469)),u=i(n(470)),l=i(n(210)),c=i(n(471)),d=!1,h="Unknown session ID",f="Op apply failed",p="Request failed",g="General network error",m="stopped",v="connect failed",y=function(){l.default.setOffline(),d&&(d.disconnect(),d=!1)},_={},b={},T=0,w=function(){var t=T++;return b[t]=l.default.push({label:"ShareJSConnection::sentOps"}),t},S=function(t){b[t].resolve(),delete b[t]},E=function(t,e){var n=!1;return o.default.isArray(_[t])&&(n=o.default.some(_[t],(function(t){return e.match(t)}))),n},O={fatalErrorOccurred:!1,initialize:function(){!function(){if(d)return d;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(d=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",O.showError),d.on(v,(function(){O.showError(v)})),d.on(m,(function(){O.showError(m)})),s.default.canBypassErrorDialogs()||u.default.registerObserver((function(){y()})),r.default(window).on("unload",(function(){y()}));var t=sharejs.Doc.prototype.flush;sharejs.Doc.prototype.flush=function(){var e=this.name,n=this.pendingOp,i=!!d&&o.default.some(n,(function(t){var n=t.p.join(".");return!E(e,n)}));if(i){var r=w();this.pendingCallbacks.push((function(t,e){S(r)}))}return t.apply(this,arguments)}}()},getConnection:function(){return d},addToStatusBlacklist:function(t,e){o.default.isEmpty(_[t])&&(_[t]=[]),_[t].push(e)},showError:function(t){var e="",n=null;if(t&&("string"==typeof t?e=t:"string"==typeof t.message&&(e=t.message,n=t)),e){if(e===h)return!1;if(-1!==e.indexOf(f)||o.default.includes([p,g,m,v],e))return c.default.getInstance().show(),!0}return window.onerror(e,null,null,null,n),y(),this.fatalErrorOccurred=!0,!0},handleError:function(t,e){throw t.metadata=o.default.extend({},t.metadata,e),O.showError(t),t},wrapCallback:function(t,e){return t?function(){try{return t.apply(this,arguments)}catch(t){O.handleError(t,o.default.extend({},e,{callerArgs:Array.prototype.slice.call(arguments)}))}}:t},addDocListener:function(t,e,n){var i={snapshot:t.snapshot,docName:t.name,event:e},r=this.wrapCallback(n,i);t.on(e,r)}};e.default=O},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RollbarUtils=void 0;var r=i(n(0)),o=i(n(1)),a=function(){function t(){}return t.sendError=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(window.Rollbar){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i];if(o instanceof Error){var a=o;n.push(o),a.metadata&&n.push(this.convertMetadata(a.metadata))}else"string"!=typeof o?n.push(this.convertMetadata(o)):n.push(o)}window.Rollbar.error.apply(window.Rollbar,n)}},t.configure=function(){this.registerTelemetryListeners()},t.addTelemetry=function(t){window.Rollbar&&("string"==typeof t&&(t={msg:t}),window.Rollbar.captureEvent(t,"info"))},t.registerTelemetryListeners=function(){o.default(document).on("keydown",this.keydownTelemetryListener)},t.unregisterTelemetryListeners=function(){o.default(document).off("keydown",this.keydownTelemetryListener)},t.keydownTelemetryListener=function(e){if(window.Rollbar&&e.key&&!r.default.includes(["control","alt","meta","shift"],e.key.toLowerCase())){var n=e.target.nodeName.toLowerCase();if(-1===["input","textarea"].indexOf(n)){var i=[];e.ctrlKey&&i.push("ctrl"),e.altKey&&i.push("alt"),e.metaKey&&i.push("meta"),e.shiftKey&&i.push("shift"),i.push(e.key);var o="Key Press: "+i.join("+");t.addTelemetry(o)}}},t.convertMetadata=function(t){return r.default.mapValues(t,(function(t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(e){t="Could not stringify value: "+e.message}return r.default.truncate(t,{length:9e4})}))},t}();e.RollbarUtils=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(4)),s=function(t){this.options=r.default.extend({debug:!1,history:100},t||{}),this.queue=[],this.isOnline=!0},u="pending";s.prototype=r.default.extend(a.default.Events,{push:function(t){if(!this.isOnline)throw new Error("Queue is Offline");var e=new o.default.Deferred,n={_c:t,_d:e,_t:new Date};return this.options.debug&&(console.debug("COMMAND PUSHED: "+t.label),e.done((function(){console.debug("COMMAND DONE: "+t.label)})),e.fail((function(){console.debug("COMMAND FAILED: "+t.label)}))),this.queue.push(n),this.trigger("add",{command:t,promise:e.promise()}),e.always(r.default.bind((function(){this.fireEvents()}),this)),e},fireEvents:function(){this.isOnline&&(this.trigger("complete"),this.isEmpty()&&this.trigger("empty"),this.purge())},isEmpty:function(){return r.default.every(this.queue,(function(t){return t._d.state()!==u}))},getPendingCount:function(){return r.default.reduce(this.queue,(function(t,e){return t+(e._d.state()===u?1:0)}),0)},getCompleteCount:function(){return this.queue.length-this.getPendingCount()},setOffline:function(){this.trigger("offline"),this.isOnline=!1},purge:function(){if(null!==this.options.history&&!(this.queue.length<=this.options.history))for(var t=this.queue.length-this.options.history,e=0;t-- >0;)"resolved"===this.queue[e]._d.state()&&this.queue.splice(e,1),e++},_dump:function(){r.default.each(this.queue,(function(t,e){console.debug(e+".  "+t._d.state()+"  "+JSON.stringify(t._c)+"  "+t._t)}))}}),e.default=new s({debug:!1})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={getValidValueForOptions:function(t,e,n){var i=e;if(n){if(n.shouldAdjustValue)if(n.decimalPlaces){var o=Math.pow(10,n.decimalPlaces);i=Math.round(o*(t+e))/o}else i=t+e;!r.default.isNil(n.minValue)&&i<n.minValue&&(i=n.minValue),!r.default.isNil(n.maxValue)&&i>n.maxValue&&(i=n.maxValue)}return i},getValidOpacityValueForOptions:function(t,e,n){return this.getValidValueForOptions(t*n.maxValue,e,n)/n.maxValue},isValidEmail:function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(10)),o=i(n(19)),a=n(108);e.default=o.default.extend({defaults:r.default.AbstractFormModel.defaults,getSupported:function(){return r.default.AbstractFormModel.supported},getSupportedInteractionTriggers:function(){return[a.InteractionModel.TRIGGER_TYPES.SUBMIT]},getDisplayLabel:function(){return"External Form"}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathModel=void 0;var c=l(n(0)),d=u(n(16)),h=l(n(45)),f=l(n(19)),p=l(n(10)),g=n(489),m=n(26),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDrawingALineFromEndpoint=!0,e.MINIMUM_WIDTH=1,e.MINIMUM_HEIGHT=1,e}var n;return r(e,t),n=e,e.prototype.addEdgePointAsPathPoint=function(t){if(null===t)return 0;var e=this.get("path").slice(),n=t.index;return e.splice(n,0,g.CustomPathUtils.convertEdgePointToPath(t)),this.set({path:e}),n},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n)},e.prototype.isResizable=function(){return!0},e.prototype.mustBeConstrained=function(){return!0},e.prototype.findClosestEndpoint=function(t){for(var e=Number.MAX_VALUE,n=0,i=this.get("path"),r=0;r<i.length;r++){var o=d.distance(i[r],t);o<e&&(n=r,e=o)}return n},e.prototype.addPoint=function(t){var e,n=this.get("path").slice(),i={x:Math.round(t.x),y:Math.round(t.y)};return this.isDrawingALineFromEndpoint?(n.push(i),e=n.length-1):(n.unshift(i),e=0),this.set({path:n}),e},e.prototype.addPointToPath=function(t,e){return t.push({x:e.x,y:e.y}),t},e.prototype.updateControlPointsForNewEndpoint=function(t){var e=this.get("path").slice(),n=this.getPreviewSegmentStartingPointIndex(e),i=e[n].x,r=e[n].y,o=t.x-i,a=t.y-r;e[n]=this.getUpdatedControlPointForNewEndpoint(e[n],i,r,o,a),this.set({path:e})},e.prototype.getUpdatedControlPointForNewEndpoint=function(t,e,n,i,r){return this.isDrawingALineFromEndpoint?(t.cx1=e-i,t.cy1=n-r,t.cx2=e+i,t.cy2=n+r):(t.cx1=e+i,t.cy1=n+r,t.cx2=e-i,t.cy2=n-r),t},e.prototype.getPreviewSegmentStartingPointIndex=function(t){return this.isDrawingALineFromEndpoint?t.length-1:0},e.prototype.getPreviewSegmentEndingPointIndex=function(t){return this.isDrawingALineFromEndpoint?0:t.length-1},e.prototype.moveEndpoint=function(t){var e=t.getWhichPoint(),n=t.getEndPoint().x-t.getStartPoint().x,i=t.getEndPoint().y-t.getStartPoint().y,r=t.getPath(),o=c.default.cloneDeep(r);o[e].x=Math.round(r[e].x+n),o[e].y=Math.round(r[e].y+i),g.CustomPathUtils.hasControlPoints(r[e])&&(o[e].cx1=Math.round((r[e].cx1||0)+n),o[e].cy1=Math.round((r[e].cy1||0)+i),o[e].cx2=Math.round((r[e].cx2||0)+n),o[e].cy2=Math.round((r[e].cy2||0)+i)),this.set({path:o})},e.prototype.moveControlPoint=function(t){var e=t.getEndPoint().x-t.getStartPoint().x,n=t.getEndPoint().y-t.getStartPoint().y,i=t.getWhichPoint(),r=t.getWhichControlPoint(),o="cx"+r,a="cy"+r,s=t.getPath(),u=c.default.cloneDeep(s);if(g.CustomPathUtils.hasControlPoints(s[i])){var l=s[i][o]||0,h=s[i][a]||0;if(u[i][o]=Math.round(l+e),u[i][a]=Math.round(h+n),t.shouldMoveBothControlPoints()){var f={x1:s[i].x,y1:s[i].y,x2:s[i][o]||0,y2:s[i][a]||0},p=d.lineLength(f),m={x1:u[i].x,y1:u[i].y,x2:u[i][o]||0,y2:u[i][a]||0},v=d.lineLength(m),y=Math.angleBetweenLines(f,m),_=1==r?2:1,b="cx"+_,T="cy"+_,w=Math.rotateCoord(s[i][b]||0,s[i][T]||0,s[i].x,s[i].y,-1*y);u[i][b]=w.x,u[i][T]=w.y;var S={x1:u[i].x,y1:u[i].y,x2:u[i][b]||0,y2:u[i][T]||0},E=d.lineLength(S),O=v-p;u[i][b]=Math.round(u[i][b]||+O*(u[i][b]||0-s[i].x)/E),u[i][T]=Math.round(u[i][T]||+O*(u[i][T]||0-s[i].y)/E)}}this.set({path:u})},e.prototype.removeSelectedEndpoint=function(t,e){var n=this.get("path").slice();return n.length-1<=1?(e.removeLayers([this]),!1):(n.splice(t,1),this.set({path:n}),this.calculateAndSaveExtents(),!0)},e.prototype.toggleControlPointsForEndpoint=function(t){var e=this.get("path").slice(),n=(e=c.default.cloneDeep(e))[t];g.CustomPathUtils.hasControlPoints(e[t])?(n.oldCx1=n.cx1,n.oldCx2=n.cx2,n.oldCy1=n.cy1,n.oldCy2=n.cy2,delete n.cx1,delete n.cx2,delete n.cy1,delete n.cy2):n.oldCx1?(n.cx1=n.oldCx1,n.cx2=n.oldCx2,n.cy1=n.oldCy1,n.cy2=n.oldCy2):(n.cx1=n.x-h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cx2=n.x+h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cy1=n.y-h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cy2=n.y+h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT),this.set({path:e})},e.prototype.calculateAndSaveExtents=function(t){void 0===t&&(t=c.default.cloneDeep(this.get("path"))),this.updateExtents(this.get("x"),this.get("y"),t),this.save()},e.prototype.updateExtents=function(t,e,i,r){var o=n.calculateExtents(t,e,i),a={x:o.x,y:o.y,width:o.width,height:o.height,path:o.path};this.set(a,{silent:r})},e.prototype.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation=function(t){var e=this,n=this.getTopLeft(),i=this.transformPointFromRotatedPageCoordinateSpace(n,t);this.get("path").forEach((function(r){var o=e.transformPointFromRotatedPageCoordinateSpace(d.Point.sum(n,new d.Point(r.x,r.y)),t);if(r.x=o.x-i.x,r.y=o.y-i.y,!c.default.isUndefined(r.cx1)&&!c.default.isUndefined(r.cy1)){var a=d.Point.sum(n,new d.Point(r.cx1,r.cy1)),s=e.transformPointFromRotatedPageCoordinateSpace(a,t);r.cx1=s.x-i.x,r.cy1=s.y-i.y}if(!c.default.isUndefined(r.cx2)&&!c.default.isUndefined(r.cy2)){var u=d.Point.sum(n,new d.Point(r.cx2,r.cy2)),l=e.transformPointFromRotatedPageCoordinateSpace(u,t);r.cx2=l.x-i.x,r.cy2=l.y-i.y}}));this.updateExtents(i.x,i.y,this.get("path"),!0)},e.prototype.toPageCoordinateSpaceJsonMaintainingPositionAndOrientation=function(){var t=this.getAllParents(),e=this.reconcileJSONForCurrentVariant(!0),i=this.transformPointToRotatedPageCoordinateSpace(this.getTopLeft(),t);e.x=i.x,e.y=i.y;for(var r=e.path,o=0;o<r.length;o++){var a=r[o],s=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.x,a.y)),t);if(a.x=s.x-i.x,a.y=s.y-i.y,!c.default.isUndefined(a.cx1)&&!c.default.isUndefined(a.cy1)){var u=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.cx1,a.cy1)),t);a.cx1=u.x-i.x,a.cy1=u.y-i.y}if(!c.default.isUndefined(a.cx2)&&!c.default.isUndefined(a.cy2)){var l=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.cx2,a.cy2)),t);a.cx2=l.x-i.x,a.cy2=l.y-i.y}}var h=n.calculateExtents(e.x,e.y,r);return e.x=h.x,e.y=h.y,e.width=h.width,e.height=h.height,e.path=h.path,e},e.prototype.roundTransformableAttributes=function(){f.default.prototype.roundTransformableAttributes.call(this);var t=[];this.get("path").forEach((function(e){t.push(c.default.mapValues(e,Math.round))})),this.set("path",t)},e.prototype.resizeAttributes=function(t,e){e=e||t;var n=c.default.cloneDeep(this.get("path"));n.forEach((function(n){n.x=n.x*t,n.y=n.y*e,g.CustomPathUtils.hasControlPoints(n)&&(n.cx1=n.cx1*t,n.cy1=n.cy1*e,n.cx2=n.cx2*t,n.cy2=n.cy2*e)})),this.set("path",n)},e.calculateExtents=function(t,e,n){for(var i=g.CustomPathUtils.calculateBoundingBox(t,e,n),r=-1*Math.round(i.minX-t),o=-1*Math.round(i.minY-e),a=c.default.cloneDeep(n),s=0;s<a.length;s++)a[s].x+=r,a[s].y+=o,c.default.isUndefined(a[s].cx1)||(a[s].cx1=(a[s].cx1||0)+r),c.default.isUndefined(a[s].cy1)||(a[s].cy1=(a[s].cy1||0)+o),c.default.isUndefined(a[s].cx2)||(a[s].cx2=(a[s].cx2||0)+r),c.default.isUndefined(a[s].cy2)||(a[s].cy2=(a[s].cy2||0)+o);return{x:Math.round(i.minX),y:Math.round(i.minY),width:Math.round(i.maxX-i.minX),height:Math.round(i.maxY-i.minY),path:a}},e.prototype.setWidthWhileMaintainingCanvasLeft=function(t,e,n){var i=this.get("width"),r=t*(this.get("height")/i);this.setDimensionsWhileMaintainingCanvasTopLeft(t,r,n)},e.prototype.setHeightWhileMaintainingCanvasTop=function(t,e,n){var i=t*(this.get("width")/this.get("height"));this.setDimensionsWhileMaintainingCanvasTopLeft(i,t,n)},e.prototype.setDimensionsWhileMaintainingCanvasTopLeft=function(e,n,i){e>this.MINIMUM_WIDTH&&n>this.MINIMUM_HEIGHT&&(this.resizeAttributes(e/this.get("width"),n/this.get("height")),t.prototype.setDimensionsWhileMaintainingCanvasTopLeft.call(this,Math.round(e),Math.round(n),i),this.updateExtents(this.get("x"),this.get("y"),this.get("path")))},e.prototype.getObjectStateSupportedProperties=function(){return p.default.CustomShapeModel.objectStateSupportedProperties},e=n=s([m.BackboneShim({objectStatesEnabled:!0})],e)}(f.default);e.AbstractCustomPathModel=v},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=i(n(24)),s={PREVIEW_CONTEXT:"preview",PUBLISHED_CONTEXT:"view",SCHEME_HTTP:"http://",SCHEME_HTTPS:"https://",SCHEME_RELATIVE:"//",ENV_LOCAL:"local",ENV_DEV:"dev",ENV_STAGE:"stage",ENV_PROD:"prod",EDITOR_PARAM:"?editmode=true",getIssueStudioUri:function(t,e,n){var i=(e||"")+"",a=(n||"")+"",s="/account/"+o.default.accountSlug+"/studio/experience/"+t;return r.default.isEmpty(i)||"desktop"===i||(s+="/layout/"+i),r.default.isEmpty(a)||(s+="/p/"+a),s},getProjectUri:function(t,e){return"/account/"+t+"/project/"+e},getEnvType:function(){var t=o.default.envType,e=o.default.envName;return t===this.ENV_DEV?e.toLowerCase()===this.ENV_LOCAL?this.ENV_LOCAL:this.ENV_DEV:t===this.ENV_STAGE?this.ENV_STAGE:t===this.ENV_PROD?this.ENV_PROD:this.ENV_DEV},getEnvName:function(){var t=o.default.envName,e=this.getEnvType();return e===this.ENV_LOCAL?this.ENV_LOCAL:e===this.ENV_DEV?t:e===this.ENV_STAGE?this.ENV_STAGE:e===this.ENV_PROD?this.ENV_PROD:t},removeEnvironmentFromDomain:function(t){if(/^[a-zA-Z0-9]+\-preview\./gm.test(t)){var e=t.split("-");return e.shift(),e.join()}return t},getIssuePreviewUrl:function(t,e){var n=this.getEnvType(),i=this.getEnvName(),r=this.getHostnameForContext(this.PREVIEW_CONTEXT,window),a=o.default.accountSlug,u="";n===this.ENV_DEV?u=i+"-"+a+"."+this.removeEnvironmentFromDomain(r):u=a+"."+r;var l=s.SCHEME_HTTPS+u+"/"+t;return e&&"desktop"!==e&&(l+="/layout/"+e),l},getIssueEditorPageUrl:function(t,e,n){return this.getIssuePreviewUrlForPageSlug(t,e,n)+this.EDITOR_PARAM},getIssueEditorUrl:function(t,e){return this.getIssuePreviewUrl(t,e)+this.EDITOR_PARAM},getIssuePreviewUrlForPageSlug:function(t,e,n){return this.getIssuePreviewUrl(t,n)+"/page/"+e},getIssuePublishedUrl:function(t,e){return e=e||s.SCHEME_HTTP,this._buildIssueUrl(this.PUBLISHED_CONTEXT,t,e)},_buildIssueUrl:function(t,e,n){return n+this.getHostnameForContext(t,window)+"/"+o.default.accountSlug+"/"+e},getHostnameForContext:function(t,e){return e.location.hostname.replace(/admin/,t)},isValidLayout:function(t){return!t||a.default.doesVariantExist(t)},isValidPageNumber:function(t,e){var n=parseInt(t);return!r.default.isNaN(n)&&n>0&&n<=e},redirectToValidStudioUrl:function(t,e){var n=!1;if(this.isValidLayout(t.layout)||(t.layout=null,n=!0),this.isValidPageNumber(t.pageNum,e)||(t.pageNum=1,n=!0),n){var i=s.getIssueStudioUri(t.issueSlug,t.layout,t.pageNum);if(r.default.endsWith(window.location.href,i))throw new Error("Could not redirect studio to valid URL");window.location=i}}};e.default=s},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorPermissionsService=void 0;var a=o(n(11)),s=o(n(12)),u=o(n(2)),l=n(529),c=n(530),d=o(n(0)),h=o(n(214)),f=o(n(24)),p=n(209),g=function(){function t(){}return t.isEditorEnabled=function(){return a.default.hasFeature(s.default.PROTECTED_PREVIEW)&&a.default.hasFeature(s.default.EDIT_IN_PREVIEW)},t.doesCurrentUserHasPermission=function(e,n){return i(this,void 0,Promise,(function(){var i,o,a;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c.EditorExperienceService.getExperienceData(n||u.default.issue.slug)];case 1:return i=r.sent(),[3,3];case 2:return o=r.sent(),p.RollbarUtils.sendError("Error fetching experience permissions from player:",o),[2,!1];case 3:return a=new l.EditorExperienceModel(i),[2,t.modelHasPermission(a,e)]}}))}))},t.doesCurrentUserCanAccessStudio=function(){return i(this,void 0,Promise,(function(){return r(this,(function(e){return[2,this.doesCurrentUserHasPermission(t.Permissions.EXPERIENCE.MODIFY)]}))}))},t.doesCurrentUserCanAccessEditor=function(){return i(this,void 0,Promise,(function(){return r(this,(function(e){return[2,this.doesCurrentUserHasPermission(t.Permissions.EXPERIENCE.ACCESS_EDITOR)]}))}))},t.asyncEnforceEditorPermissionsInPreviewer=function(){return i(this,void 0,Promise,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,t.doesCurrentUserCanAccessEditor()];case 1:return e.sent()||t.redirectToPlayer(u.default.issue.slug,f.default.getCurrentVariant()),[2]}}))}))},t.modelHasPermission=function(t,e){var n=t.get("permissions")||[];return d.default.isArray(n)?n.includes(e):!!n[e]},t.collectionHasPermission=function(t,e){var n=this;return t.some((function(t){return n.modelHasPermission(t,e)}))},t.redirectToPlayer=function(t,e){window.location.href=h.default.getIssuePreviewUrl(t,e)},t.Permissions={EXPERIENCE:{ACCESS_EDITOR:"experience_access_editor",MODIFY:"experience_modify"}},t}();e.EditorPermissionsService=g},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1));n(217),n(112),n(218),n(222),n(223),n(226),n(227);var o=i(n(228));n(534),r.default((function(){o.default.run()}))},function(t,e,n){"use strict";(function(t){Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.dot=function(t,e,n,i){return t*n+e*i},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return!(t+n<r)&&(!(t>r+a)&&(!(e+i<o)&&!(e>o+s)))},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){3===arguments.length&&(t=arguments[0].getX(),e=arguments[0].getY(),n=arguments[1].getX(),i=arguments[1].getY(),r=arguments[2]);var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,t+=n,e+=i,new window.CerosMath.Point(t,e)},Math.oneRotatedBoxHit=function(t,e,n,i,r,o,a,s,u){var l=t+n/2,c=e+i/2;r*=-1;var d=Math.rotateCoord(t,e,l,c,r),h=d.x,f=d.y,p=(d=Math.rotateCoord(t+n,e,l,c,r)).x,g=d.y,m=(d=Math.rotateCoord(t,e+i,l,c,r)).x,v=d.y,y=(d=Math.rotateCoord(t+n,e+i,l,c,r)).x,_=d.y,b=o,T=o+s,w=a,S=a+u;if(h<b&&p<b&&m<b&&y<b)return!1;if(h>T&&p>T&&m>T&&y>T)return!1;if(f<w&&g<w&&v<w&&_<w)return!1;if(f>S&&g>S&&v>S&&_>S)return!1;var E=-1*(g-f),O=p-h,C=Math.dot(E,O,b-h,w-f),A=Math.dot(E,O,T-h,w-f),P=Math.dot(E,O,b-h,S-f),I=Math.dot(E,O,T-h,S-f);return!(C<=0&&A<=0&&P<=0&&I<=0)&&(E=-1*(_-g),O=y-p,C=Math.dot(E,O,b-p,w-g),A=Math.dot(E,O,T-p,w-g),P=Math.dot(E,O,b-p,S-g),I=Math.dot(E,O,T-p,S-g),!(C<=0&&A<=0&&P<=0&&I<=0)&&(E=-1*(v-_),O=m-y,C=Math.dot(E,O,b-y,w-_),A=Math.dot(E,O,T-y,w-_),P=Math.dot(E,O,b-y,S-_),I=Math.dot(E,O,T-y,S-_),!(C<=0&&A<=0&&P<=0&&I<=0)&&(E=-1*(f-v),O=h-m,C=Math.dot(E,O,b-m,w-v),A=Math.dot(E,O,T-m,w-v),P=Math.dot(E,O,b-m,S-v),I=Math.dot(E,O,T-m,S-v),!(C<=0&&A<=0&&P<=0&&I<=0))))},Math.angleBetweenLines=function(t,e){var n={x:t.x2-t.x1,y:t.y2-t.y1},i={x:e.x2-e.x1,y:e.y2-e.y1},r=Math.dot(n.x,n.y,i.x,i.y),o=n.x*i.y-n.y*i.x;return Math.atan2(o,r)},t.Math=Math}).call(this,n(35))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));n(220),n(221),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=window.setTimeout((function(){e(i+r)}),r);return t=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),"undefined"==typeof console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){},debug:function(){}}),Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return(t>=r&&t<=r+a||t+n>=r&&t+n<=r+a)&&(e>=o&&e<=o+s||e+i>=o&&e+i<=o+s)},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,{x:t+=n,y:e+=i}},Math.pointInPoly=function(t,e,n){var i,r,o=!1,a=t.length;for(i=0,r=a-1;i<a;r=i++)t[i].y>n!=t[r].y>n&&e<(t[r].x-t[i].x)*(n-t[i].y)/(t[r].y-t[i].y)+t[i].x&&(o=!o);return o},Object.create||(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function n(){}return n.prototype=t,new n}),!r.default.omitBy&&r.default.omit&&(r.default.omitBy=r.default.omit)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";
/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.4 - 2015-03-05
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2015 Jason Moon (@JSONMOON)
 * Licensed MIT (/blob/master/LICENSE.txt)
 */var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=!0;if(!r.default.support.cors&&r.default.ajaxTransport&&window.XDomainRequest||(o=!1),o){var a=/^(https?:)?\/\//i,s=/^get|post$/i,u=new RegExp("^(//|"+location.protocol+")","i");r.default.ajaxTransport("* text html xml json",(function(t,e,n){if(t.crossDomain&&t.async&&s.test(t.type)&&a.test(t.url)&&u.test(t.url)){var i=null;return{send:function(n,o){var a="",s=(e.dataType||"").toLowerCase();i=new XDomainRequest,/^\d+$/.test(e.timeout)&&(i.timeout=e.timeout),i.ontimeout=function(){o(500,"timeout")},i.onload=function(){var t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,e={code:200,message:"success"},n={text:i.responseText};try{if("html"===s||/text\/html/i.test(i.contentType))n.html=i.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(i.contentType))try{n.json=JSON.parse(i.responseText)}catch(t){e.code=500,e.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(i.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(i.responseText)}catch(t){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw e.code=500,e.message="parseerror","Invalid XML: "+i.responseText;n.xml=r}}catch(t){throw t}finally{o(e.code,e.message,n,t)}},i.onprogress=function(){},i.onerror=function(){o(500,"error",{text:i.responseText})},e.data&&(a="string"===r.default.type(e.data)?e.data:r.default.param(e.data)),i.open(t.type,t.url),i.send(a)},abort:function(){i&&i.abort()}}}}))}e.default=r.default},function(t,e,n){"use strict";var i,r;r=e,void 0===(i=function(){!function(t){if(t.atob)try{t.atob(" ")}catch(e){t.atob=function(t){var e=function(e){return t(String(e).replace(/[\t\n\f\r ]+/g,""))};return e.original=t,e}(t.atob)}else{var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;t.btoa=function(t){for(var n,i,r,o,a="",s=0,u=(t=String(t)).length%3;s<t.length;){if((i=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255||(o=t.charCodeAt(s++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");a+=e.charAt((n=i<<16|r<<8|o)>>18&63)+e.charAt(n>>12&63)+e.charAt(n>>6&63)+e.charAt(63&n)}return u?a.slice(0,u-3)+"===".substring(u):a},t.atob=function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!n.test(t))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");t+="==".slice(2-(3&t.length));for(var i,r,o,a="",s=0;s<t.length;)i=e.indexOf(t.charAt(s++))<<18|e.indexOf(t.charAt(s++))<<12|(r=e.indexOf(t.charAt(s++)))<<6|(o=e.indexOf(t.charAt(s++))),a+=64===r?String.fromCharCode(i>>16&255):64===o?String.fromCharCode(i>>16&255,i>>8&255):String.fromCharCode(i>>16&255,i>>8&255,255&i);return a}}}(r)}.apply(e,[]))||(t.exports=i)},function(t,e,n){"use strict";var i,r;i=[n(1)],void 0===(r=function(t){return function(t){void 0!==t.easing&&(t.easing.jswing=t.easing.swing);var e=Math.pow,n=Math.sqrt,i=Math.sin,r=Math.cos,o=Math.PI,a=1.70158,s=1.525*a,u=2*o/3,l=2*o/4.5;function c(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-e(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-e(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-e(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-e(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-e(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-e(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-e(-2*t+2,5)/2},easeInSine:function(t){return 1-r(t*o/2)},easeOutSine:function(t){return i(t*o/2)},easeInOutSine:function(t){return-(r(o*t)-1)/2},easeInExpo:function(t){return 0===t?0:e(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-e(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?e(2,20*t-10)/2:(2-e(2,-20*t+10))/2},easeInCirc:function(t){return 1-n(1-e(t,2))},easeOutCirc:function(t){return n(1-e(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-n(1-e(2*t,2)))/2:(n(1-e(-2*t+2,2))+1)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-e(2,10*t-10)*i((10*t-10.75)*u)},easeOutElastic:function(t){return 0===t?0:1===t?1:e(2,-10*t)*i((10*t-.75)*u)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-e(2,20*t-10)*i((20*t-11.125)*l)/2:e(2,-20*t+10)*i((20*t-11.125)*l)/2+1},easeInBack:function(t){return 2.70158*t*t*t-a*t*t},easeOutBack:function(t){return 1+2.70158*e(t-1,3)+a*e(t-1,2)},easeInOutBack:function(t){return t<.5?e(2*t,2)*(7.189819*t-s)/2:(e(2*t-2,2)*((s+1)*(2*t-2)+s)+2)/2},easeInBounce:function(t){return 1-c(1-t)},easeOutBounce:c,easeInOutBounce:function(t){return t<.5?(1-c(1-2*t))/2:(1+c(2*t-1))/2}})}(t)}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s="backgroundImage",u=document.createElement("div"),l=u.style,c=/^(.*?)(:?linear-gradient)(\()([0-9]+)deg,([^,]+) ([0-9]+)%,([^,]+) ([0-9]+)%(\))(.*?)$/i;if(l.cssText="background-image: linear-gradient(red, blue);",r.default.support.linearGradient=!!/(^|\s)linear-gradient/.test(l.backgroundImage)&&"linear-gradient",u=l=null,!r.default.support.linearGradient){r.default.cssNumber[s]=!0;r.default.cssHooks[s]={set:function(t,e){var n=c.exec(e);if(o.default.isEmpty(n))t.style[s]=e;else{n[0];var i=n[4],r=n[5],u=n[6],l=n[7],d=n[8];t.style[s]=function(t,e,n,i,r,o,s){var u="";return a.default.webkit?u="-webkit-":a.default.mozilla&&(u="-moz-"),u+("linear-gradient("+(n=90-parseInt(n,10))+"deg,"+i+" "+r+"%,"+o+" "+s+"%)")}(0,0,i,r,u,l,d)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)));e.default={isMobile:r}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o="Microsoft Edge",a="mozilla",s="webkit",u="trident",l={browser:function(t){var e,n={name:"unknown",version:"unknown",engine:null,isMsie:function(){return"MSIE"===this.name},isEdge:function(){return o===this.name},msieVersion:function(){return!!this.isMsie()&&Math.floor(this.version)},isWebkit:function(){return s===this.engine},isMozilla:function(){return a===this.engine},isTrident:function(){return u===this.engine}};return(e=t.match(/(PhantomJS)\/([0-9.]*)/))||(e=t.match(/(jsdom)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(Edg)\/([0-9.]*)/))?(n.name=o,n.version=e[2],n.engine=s):(e=t.match(/(Firefox)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=a):(e=t.match(/(Chrome|CriOS)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):/Safari/.test(t)?(e=t.match(/(Version)\/([0-9.]*)/))&&(n.name=(/Mobile/.test(t)?"Mobile ":"")+"Safari",n.version=e[2],n.engine=s):(e=t.match(/(Silk)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(MSIE) ([0-9]+)/))&&(n.name=e[1],n.version=e[2],n.engine=u),r.default.isNull(n.engine)&&t.match(/(webkit)[ \/]([\w.]+)/i)&&(n.engine=s),n}};e.default=l},function(t,e,n){(function(t){!function(e){"use strict";!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(78),n(81),n(83),n(85),n(86),n(87),n(88),n(90),n(91),n(93),n(101),n(102),n(103),n(104),n(112),n(113),n(115),n(116),n(117),n(119),n(120),n(121),n(122),n(123),n(124),n(126),n(127),n(128),n(129),n(135),n(136),n(138),n(139),n(140),n(144),n(145),n(147),n(148),n(150),n(151),n(152),n(153),n(154),n(161),n(163),n(164),n(165),n(167),n(168),n(170),n(171),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(186),n(187),n(189),n(191),n(192),n(193),n(194),n(195),n(197),n(199),n(201),n(202),n(204),n(205),n(207),n(208),n(209),n(210),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(231),n(232),n(233),n(234),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(261),n(263),n(264),n(265),n(266),n(268),n(271),n(272),n(273),n(274),n(278),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(290),n(291),n(292),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(348),n(349),n(350),n(351),n(352),n(353),n(355),n(357),n(358),n(360),n(361),n(362),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(373),n(374),n(375),n(376),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(392),n(395),n(396),n(397),n(398),n(400),n(401),n(403),n(404),n(405),n(406),n(407),n(408),n(410),n(411),n(412),n(413),n(415),n(416),n(417),n(418),n(419),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(447),n(448),n(449),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(484),n(485),n(486),n(487),n(488),n(492),t.exports=n(491)},function(t,e,n){var i=n(2),r=n(3),o=n(23),a=n(5),s=n(45),u=n(6),l=n(15),c=n(46),d=n(14),h=n(20),f=n(47),p=n(9),g=n(13),m=n(8),v=n(48),y=n(50),_=n(36),b=n(52),T=n(43),w=n(4),S=n(19),E=n(7),O=n(18),C=n(21),A=n(22),P=n(29),I=n(31),x=n(30),M=n(53),k=n(54),D=n(55),R=n(56),N=n(27),L=n(57).forEach,V=P("hidden"),F=M("toPrimitive"),j=N.set,U=N.getterFor("Symbol"),B=Object.prototype,H=r.Symbol,G=r.JSON,W=G&&G.stringify,z=w.f,$=S.f,Y=b.f,q=E.f,X=A("symbols"),K=A("op-symbols"),Z=A("string-to-symbol-registry"),J=A("symbol-to-string-registry"),Q=A("wks"),tt=r.QObject,et=!tt||!tt.prototype||!tt.prototype.findChild,nt=a&&u((function(){return 7!=v($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=z(B,e);i&&delete B[e],$(t,e,n),i&&t!==B&&$(B,e,i)}:$,it=function(t,e){var n=X[t]=v(H.prototype);return j(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},rt=s&&"symbol"==typeof H.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},ot=function(t,e,n){t===B&&ot(K,e,n),h(t);var i=g(e,!0);return h(n),l(X,i)?(n.enumerable?(l(t,V)&&t[V][i]&&(t[V][i]=!1),n=v(n,{enumerable:m(0,!1)})):(l(t,V)||$(t,V,m(1,{})),t[V][i]=!0),nt(t,i,n)):$(t,i,n)},at=function(t,e){h(t);var n=p(e),i=y(n).concat(ct(n));return L(i,(function(e){a&&!st.call(n,e)||ot(t,e,n[e])})),t},st=function(t){var e=g(t,!0),n=q.call(this,e);return!(this===B&&l(X,e)&&!l(K,e))&&(!(n||!l(this,e)||!l(X,e)||l(this,V)&&this[V][e])||n)},ut=function(t,e){var n=p(t),i=g(e,!0);if(n!==B||!l(X,i)||l(K,i)){var r=z(n,i);return!r||!l(X,i)||l(n,V)&&n[V][i]||(r.enumerable=!0),r}},lt=function(t){var e=Y(p(t)),n=[];return L(e,(function(t){l(X,t)||l(I,t)||n.push(t)})),n},ct=function(t){var e=t===B,n=Y(e?K:p(t)),i=[];return L(n,(function(t){!l(X,t)||e&&!l(B,t)||i.push(X[t])})),i};s||(C((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=x(t),n=function(t){this===B&&n.call(K,t),l(this,V)&&l(this[V],e)&&(this[V][e]=!1),nt(this,e,m(1,t))};return a&&et&&nt(B,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return U(this).tag})),E.f=st,S.f=ot,w.f=ut,_.f=b.f=lt,T.f=ct,a&&($(H.prototype,"description",{configurable:!0,get:function(){return U(this).description}}),o||C(B,"propertyIsEnumerable",st,{unsafe:!0})),k.f=function(t){return it(M(t),t)}),i({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:H}),L(y(Q),(function(t){D(t)})),i({target:"Symbol",stat:!0,forced:!s},{for:function(t){var e=String(t);if(l(Z,e))return Z[e];var n=H(e);return Z[e]=n,J[n]=e,n},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(l(J,t))return J[t]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),i({target:"Object",stat:!0,forced:!s,sham:!a},{create:function(t,e){return void 0===e?v(t):at(v(t),e)},defineProperty:ot,defineProperties:at,getOwnPropertyDescriptor:ut}),i({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:lt,getOwnPropertySymbols:ct}),i({target:"Object",stat:!0,forced:u((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(f(t))}}),G&&i({target:"JSON",stat:!0,forced:!s||u((function(){var t=H();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(d(e)||void 0!==t)&&!rt(t))return c(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!rt(e))return e}),i[1]=e,W.apply(G,i)}}),H.prototype[F]||O(H.prototype,F,H.prototype.valueOf),R(H,"Symbol"),I[V]=!0},function(t,e,n){var i=n(3),r=n(4).f,o=n(18),a=n(21),s=n(25),u=n(32),l=n(44);t.exports=function(t,e){var n,c,d,h,f,p=t.target,g=t.global,m=t.stat;if(n=g?i:m?i[p]||s(p,{}):(i[p]||{}).prototype)for(c in e){if(h=e[c],d=t.noTargetGet?(f=r(n,c))&&f.value:n[c],!l(g?c:p+(m?".":"#")+c,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;u(h,d)}(t.sham||d&&d.sham)&&o(h,"sham",!0),a(n,c,h,t)}}},function(e,n){var i=function(t){return t&&t.Math==Math&&t};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")()},function(t,e,n){var i=n(5),r=n(7),o=n(8),a=n(9),s=n(13),u=n(15),l=n(16),c=Object.getOwnPropertyDescriptor;e.f=i?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var i=n(6);t.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(10),r=n(12);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(6),r=n(11),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(5),r=n(6),o=n(17);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(3),r=n(14),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var i=n(5),r=n(19),o=n(8);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(5),r=n(16),o=n(20),a=n(13),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var i=n(3),r=n(22),o=n(18),a=n(15),s=n(25),u=n(26),l=n(27),c=l.get,d=l.enforce,h=String(u).split("toString");r("inspectSource",(function(t){return u.call(t)})),(t.exports=function(t,e,n,r){var u=!!r&&!!r.unsafe,l=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||o(n,"name",e),d(n).source=h.join("string"==typeof e?e:"")),t!==i?(u?!c&&t[e]&&(l=!0):delete t[e],l?t[e]=n:o(t,e,n)):l?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u.call(this)}))},function(t,e,n){var i=n(23),r=n(24);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.3",mode:i?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var i=n(3),r=n(25),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},function(t,e,n){var i=n(3),r=n(18);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},function(t,e,n){var i=n(22);t.exports=i("native-function-to-string",Function.toString)},function(t,e,n){var i,r,o,a=n(28),s=n(3),u=n(14),l=n(18),c=n(15),d=n(29),h=n(31),f=s.WeakMap;if(a){var p=new f,g=p.get,m=p.has,v=p.set;i=function(t,e){return v.call(p,t,e),e},r=function(t){return g.call(p,t)||{}},o=function(t){return m.call(p,t)}}else{var y=d("state");h[y]=!0,i=function(t,e){return l(t,y,e),e},r=function(t){return c(t,y)?t[y]:{}},o=function(t){return c(t,y)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var i=n(3),r=n(26),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r.call(o))},function(t,e,n){var i=n(22),r=n(30),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var i=n(15),r=n(33),o=n(4),a=n(19);t.exports=function(t,e){for(var n=r(e),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];i(t,c)||s(t,c,u(e,c))}}},function(t,e,n){var i=n(34),r=n(36),o=n(43),a=n(20);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(35),r=n(3),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},function(t,e,n){t.exports=n(3)},function(t,e,n){var i=n(37),r=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(15),r=n(9),o=n(38).indexOf,a=n(31);t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&l.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var i=n(9),r=n(39),o=n(41),a=function(t){return function(e,n,a){var s,u=i(e),l=r(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var i=n(40),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(40),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(6),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=u&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,n){var i=n(6);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e,n){var i=n(11);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(12);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(20),r=n(49),o=n(42),a=n(31),s=n(51),u=n(17),l=n(29)("IE_PROTO"),c=function(){},d=function(){var t,e=u("iframe"),n=o.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),d=t.F;n--;)delete d.prototype[o[n]];return d()};t.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=i(t),n=new c,c.prototype=null,n[l]=t):n=d(),void 0===e?n:r(n,e)},a[l]=!0},function(t,e,n){var i=n(5),r=n(19),o=n(20),a=n(50);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,u=0;s>u;)r.f(t,n=i[u++],e[n]);return t}},function(t,e,n){var i=n(37),r=n(42);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(34);t.exports=i("document","documentElement")},function(t,e,n){var i=n(9),r=n(36).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(3),r=n(22),o=n(30),a=n(45),s=i.Symbol,u=r("wks");t.exports=function(t){return u[t]||(u[t]=a&&s[t]||(a?s:o)("Symbol."+t))}},function(t,e,n){e.f=n(53)},function(t,e,n){var i=n(35),r=n(15),o=n(54),a=n(19).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){var i=n(19).f,r=n(15),o=n(53)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(58),r=n(10),o=n(47),a=n(39),s=n(60),u=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,c=4==t,d=6==t,h=5==t||d;return function(f,p,g,m){for(var v,y,_=o(f),b=r(_),T=i(p,g,3),w=a(b.length),S=0,E=m||s,O=e?E(f,w):n?E(f,0):void 0;w>S;S++)if((h||S in b)&&(y=T(v=b[S],S,_),t))if(e)O[S]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:u.call(O,v)}else if(c)return!1;return d?-1:l||c?c:O}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(t,e,n){var i=n(59);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var i=n(14),r=n(46),o=n(53)("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var i=n(2),r=n(5),o=n(3),a=n(15),s=n(14),u=n(19).f,l=n(32),c=o.Symbol;if(r&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new c(t):void 0===t?c():c(t);return""===t&&(d[e]=!0),e};l(h,c);var f=h.prototype=c.prototype;f.constructor=h;var p=f.toString,g="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(d,t))return"";var n=g?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(55)("asyncIterator")},function(t,e,n){n(55)("hasInstance")},function(t,e,n){n(55)("isConcatSpreadable")},function(t,e,n){n(55)("iterator")},function(t,e,n){n(55)("match")},function(t,e,n){n(55)("matchAll")},function(t,e,n){n(55)("replace")},function(t,e,n){n(55)("search")},function(t,e,n){n(55)("species")},function(t,e,n){n(55)("split")},function(t,e,n){n(55)("toPrimitive")},function(t,e,n){n(55)("toStringTag")},function(t,e,n){n(55)("unscopables")},function(t,e,n){var i=n(2),r=n(6),o=n(46),a=n(14),s=n(47),u=n(39),l=n(76),c=n(60),d=n(77),h=n(53)("isConcatSpreadable"),f=!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),p=d("concat"),g=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)};i({target:"Array",proto:!0,forced:!f||!p},{concat:function(t){var e,n,i,r,o,a=s(this),d=c(a,0),h=0;for(e=-1,i=arguments.length;e<i;e++)if(g(o=-1===e?a:arguments[e])){if(h+(r=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,h++)n in o&&l(d,h,o[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(d,h++,o)}return d.length=h,d}})},function(t,e,n){var i=n(13),r=n(19),o=n(8);t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var i=n(6),r=n(53)("species");t.exports=function(t){return!i((function(){var e=[];return(e.constructor={})[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var i=n(2),r=n(79),o=n(80);i({target:"Array",proto:!0},{copyWithin:r}),o("copyWithin")},function(t,e,n){var i=n(47),r=n(41),o=n(39),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),u=r(t,s),l=r(e,s),c=arguments.length>2?arguments[2]:void 0,d=a((void 0===c?s:r(c,s))-l,s-u),h=1;for(l<u&&u<l+d&&(h=-1,l+=d-1,u+=d-1);d-- >0;)l in n?n[u]=n[l]:delete n[u],u+=h,l+=h;return n}},function(t,e,n){var i=n(53),r=n(48),o=n(18),a=i("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,r(null)),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var i=n(2),r=n(57).every;i({target:"Array",proto:!0,forced:n(82)("every")},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=[][t];return!n||!i((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var i=n(2),r=n(84),o=n(80);i({target:"Array",proto:!0},{fill:r}),o("fill")},function(t,e,n){var i=n(47),r=n(41),o=n(39);t.exports=function(t){for(var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:r(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){var i=n(2),r=n(57).filter;i({target:"Array",proto:!0,forced:!n(77)("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(57).find,o=n(80),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){var i=n(2),r=n(57).findIndex,o=n(80),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,n){var i=n(2),r=n(89),o=n(47),a=n(39),s=n(40),u=n(60);i({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e.length),i=u(e,0);return i.length=r(i,e,e,n,0,void 0===t?1:s(t)),i}})},function(t,e,n){var i=n(46),r=n(39),o=n(58),a=function(t,e,n,s,u,l,c,d){for(var h,f=u,p=0,g=!!c&&o(c,d,3);p<s;){if(p in n){if(h=g?g(n[p],p,e):n[p],l>0&&i(h))f=a(t,e,h,r(h.length),f,l-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=h}f++}p++}return f};t.exports=a},function(t,e,n){var i=n(2),r=n(89),o=n(47),a=n(39),s=n(59),u=n(60);i({target:"Array",proto:!0},{flatMap:function(t){var e,n=o(this),i=a(n.length);return s(t),(e=u(n,0)).length=r(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){var i=n(2),r=n(92);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,e,n){var i=n(57).forEach,r=n(82);t.exports=r("forEach")?function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(t,e,n){var i=n(2),r=n(94);i({target:"Array",stat:!0,forced:!n(100)((function(t){Array.from(t)}))},{from:r})},function(t,e,n){var i=n(58),r=n(47),o=n(95),a=n(96),s=n(39),u=n(76),l=n(98);t.exports=function(t){var e,n,c,d,h,f=r(t),p="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,v=void 0!==m,y=0,_=l(f);if(v&&(m=i(m,g>2?arguments[2]:void 0,2)),null==_||p==Array&&a(_))for(n=new p(e=s(f.length));e>y;y++)u(n,y,v?m(f[y],y):f[y]);else for(h=(d=_.call(f)).next,n=new p;!(c=h.call(d)).done;y++)u(n,y,v?o(d,m,[c.value,y],!0):c.value);return n.length=y,n}},function(t,e,n){var i=n(20);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(53),r=n(97),o=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},function(t,e){t.exports={}},function(t,e,n){var i=n(99),r=n(97),o=n(53)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(11),r=n(53)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var i=n(53)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var i=n(2),r=n(38).includes,o=n(80);i({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){var i=n(2),r=n(38).indexOf,o=n(82),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,u=o("indexOf");i({target:"Array",proto:!0,forced:s||u},{indexOf:function(t){return s?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(2)({target:"Array",stat:!0},{isArray:n(46)})},function(t,e,n){var i=n(9),r=n(80),o=n(97),a=n(27),s=n(105),u=a.set,l=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:i(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var i=n(2),r=n(106),o=n(108),a=n(110),s=n(56),u=n(18),l=n(21),c=n(53),d=n(23),h=n(97),f=n(107),p=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v=function(){return this};t.exports=function(t,e,n,c,f,y,_){r(n,e,c);var b,T,w,S=function(t){if(t===f&&P)return P;if(!g&&t in C)return C[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",O=!1,C=t.prototype,A=C[m]||C["@@iterator"]||f&&C[f],P=!g&&A||S(f),I="Array"==e&&C.entries||A;if(I&&(b=o(I.call(new t)),p!==Object.prototype&&b.next&&(d||o(b)===p||(a?a(b,p):"function"!=typeof b[m]&&u(b,m,v)),s(b,E,!0,!0),d&&(h[E]=v))),"values"==f&&A&&"values"!==A.name&&(O=!0,P=function(){return A.call(this)}),d&&!_||C[m]===P||u(C,m,P),h[e]=P,f)if(T={values:S("values"),keys:y?P:S("keys"),entries:S("entries")},_)for(w in T)(g||O||!(w in C))&&l(C,w,T[w]);else i({target:e,proto:!0,forced:g||O},T);return T}},function(t,e,n){var i=n(107).IteratorPrototype,r=n(48),o=n(8),a=n(56),s=n(97),u=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=r(i,{next:o(1,n)}),a(t,l,!1,!0),s[l]=u,t}},function(t,e,n){var i,r,o,a=n(108),s=n(18),u=n(15),l=n(53),c=n(23),d=l("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(r=a(a(o)))!==Object.prototype&&(i=r):h=!0),null==i&&(i={}),c||u(i,d)||s(i,d,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var i=n(15),r=n(47),o=n(29),a=n(109),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var i=n(6);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var i=n(20),r=n(111);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return i(n),r(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var i=n(2),r=n(10),o=n(9),a=n(82),s=[].join,u=r!=Object,l=a("join",",");i({target:"Array",proto:!0,forced:u||l},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,e,n){var i=n(2),r=n(114);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(t,e,n){var i=n(9),r=n(40),o=n(39),a=n(82),s=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf");t.exports=l||c?function(t){if(l)return u.apply(this,arguments)||0;var e=i(this),n=o(e.length),a=n-1;for(arguments.length>1&&(a=s(a,r(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:u},function(t,e,n){var i=n(2),r=n(57).map;i({target:"Array",proto:!0,forced:!n(77)("map")},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(6),o=n(76);i({target:"Array",stat:!0,forced:r((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){var i=n(2),r=n(118).left;i({target:"Array",proto:!0,forced:n(82)("reduce")},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(59),r=n(47),o=n(10),a=n(39),s=function(t){return function(e,n,s,u){i(n);var l=r(e),c=o(l),d=a(l.length),h=t?d-1:0,f=t?-1:1;if(s<2)for(;;){if(h in c){u=c[h],h+=f;break}if(h+=f,t?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=f)h in c&&(u=n(u,c[h],h,l));return u}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){var i=n(2),r=n(118).right;i({target:"Array",proto:!0,forced:n(82)("reduceRight")},{reduceRight:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(46),o=[].reverse,a=[1,2];i({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){var i=n(2),r=n(14),o=n(46),a=n(41),s=n(39),u=n(9),l=n(76),c=n(77),d=n(53)("species"),h=[].slice,f=Math.max;i({target:"Array",proto:!0,forced:!c("slice")},{slice:function(t,e){var n,i,c,p=u(this),g=s(p.length),m=a(t,g),v=a(void 0===e?g:e,g);if(o(p)&&("function"!=typeof(n=p.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return h.call(p,m,v);for(i=new(void 0===n?Array:n)(f(v-m,0)),c=0;m<v;m++,c++)m in p&&l(i,c,p[m]);return i.length=c,i}})},function(t,e,n){var i=n(2),r=n(57).some;i({target:"Array",proto:!0,forced:n(82)("some")},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(59),o=n(47),a=n(6),s=n(82),u=[].sort,l=[1,2,3],c=a((function(){l.sort(void 0)})),d=a((function(){l.sort(null)})),h=s("sort");i({target:"Array",proto:!0,forced:c||!d||h},{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),r(t))}})},function(t,e,n){n(125)("Array")},function(t,e,n){var i=n(34),r=n(19),o=n(53),a=n(5),s=o("species");t.exports=function(t){var e=i(t),n=r.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(2),r=n(41),o=n(40),a=n(39),s=n(47),u=n(60),l=n(76),c=n(77),d=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!c("splice")},{splice:function(t,e){var n,i,c,f,p,g,m=s(this),v=a(m.length),y=r(t,v),_=arguments.length;if(0===_?n=i=0:1===_?(n=0,i=v-y):(n=_-2,i=h(d(o(e),0),v-y)),v+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=u(m,i),f=0;f<i;f++)(p=y+f)in m&&l(c,f,m[p]);if(c.length=i,n<i){for(f=y;f<v-i;f++)g=f+n,(p=f+i)in m?m[g]=m[p]:delete m[g];for(f=v;f>v-i+n;f--)delete m[f-1]}else if(n>i)for(f=v-i;f>y;f--)g=f+n-1,(p=f+i-1)in m?m[g]=m[p]:delete m[g];for(f=0;f<n;f++)m[f+y]=arguments[f+2];return m.length=v-i+n,c}})},function(t,e,n){n(80)("flat")},function(t,e,n){n(80)("flatMap")},function(t,e,n){var i=n(2),r=n(3),o=n(130),a=n(125),s=o.ArrayBuffer;i({global:!0,forced:r.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(t,e,n){var i=n(3),r=n(5),o=n(131).NATIVE_ARRAY_BUFFER,a=n(18),s=n(132),u=n(6),l=n(133),c=n(40),d=n(39),h=n(134),f=n(36).f,p=n(19).f,g=n(84),m=n(56),v=n(27),y=v.get,_=v.set,b=i.ArrayBuffer,T=b,w=i.DataView,S=i.Math,E=i.RangeError,O=S.abs,C=S.pow,A=S.floor,P=S.log,I=S.LN2,x=function(t,e,n){var i,r,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?C(2,-24)-C(2,-77):0,d=t<0||0===t&&1/t<0?1:0,h=0;for((t=O(t))!=t||t===1/0?(r=t!=t?1:0,i=u):(i=A(P(t)/I),t*(o=C(2,-i))<1&&(i--,o*=2),(t+=i+l>=1?c/o:c*C(2,1-l))*o>=2&&(i++,o/=2),i+l>=u?(r=0,i=u):i+l>=1?(r=(t*o-1)*C(2,e),i+=l):(r=t*C(2,l-1)*C(2,e),i=0));e>=8;a[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[h++]=255&i,i/=256,s-=8);return a[--h]|=128*d,a},M=function(t,e){var n,i=t.length,r=8*i-e-1,o=(1<<r)-1,a=o>>1,s=r-7,u=i-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;s>0;n=256*n+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:l?-1/0:1/0;n+=C(2,e),c-=a}return(l?-1:1)*n*C(2,c-e)},k=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},D=function(t){return[255&t]},R=function(t){return[255&t,t>>8&255]},N=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},L=function(t){return x(t,23,4)},V=function(t){return x(t,52,8)},F=function(t,e){p(t.prototype,e,{get:function(){return y(this)[e]}})},j=function(t,e,n,i){var r=h(+n),o=y(t);if(r+e>o.byteLength)throw E("Wrong index");var a=y(o.buffer).bytes,s=r+o.byteOffset,u=a.slice(s,s+e);return i?u:u.reverse()},U=function(t,e,n,i,r,o){var a=h(+n),s=y(t);if(a+e>s.byteLength)throw E("Wrong index");for(var u=y(s.buffer).bytes,l=a+s.byteOffset,c=i(+r),d=0;d<e;d++)u[l+d]=c[o?d:e-d-1]};if(o){if(!u((function(){b(1)}))||!u((function(){new b(-1)}))||u((function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name}))){for(var B,H=(T=function(t){return l(this,T),new b(h(t))}).prototype=b.prototype,G=f(b),W=0;G.length>W;)(B=G[W++])in T||a(T,B,b[B]);H.constructor=T}var z=new w(new T(2)),$=w.prototype.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(w.prototype,{setInt8:function(t,e){$.call(this,t,e<<24>>24)},setUint8:function(t,e){$.call(this,t,e<<24>>24)}},{unsafe:!0})}else T=function(t){l(this,T,"ArrayBuffer");var e=h(t);_(this,{bytes:g.call(new Array(e),0),byteLength:e}),r||(this.byteLength=e)},w=function(t,e,n){l(this,w,"DataView"),l(t,T,"DataView");var i=y(t).byteLength,o=c(e);if(o<0||o>i)throw E("Wrong offset");if(o+(n=void 0===n?i-o:d(n))>i)throw E("Wrong length");_(this,{buffer:t,byteLength:n,byteOffset:o}),r||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},r&&(F(T,"byteLength"),F(w,"buffer"),F(w,"byteLength"),F(w,"byteOffset")),s(w.prototype,{getInt8:function(t){return j(this,1,t)[0]<<24>>24},getUint8:function(t){return j(this,1,t)[0]},getInt16:function(t){var e=j(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=j(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return k(j(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return k(j(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return M(j(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return M(j(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){U(this,1,t,D,e)},setUint8:function(t,e){U(this,1,t,D,e)},setInt16:function(t,e){U(this,2,t,R,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){U(this,2,t,R,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){U(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){U(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){U(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){U(this,8,t,V,e,arguments.length>2?arguments[2]:void 0)}});m(T,"ArrayBuffer"),m(w,"DataView"),t.exports={ArrayBuffer:T,DataView:w}},function(t,e,n){var i,r=n(5),o=n(3),a=n(14),s=n(15),u=n(99),l=n(18),c=n(21),d=n(19).f,h=n(108),f=n(110),p=n(53),g=n(30),m=o.DataView,v=m&&m.prototype,y=o.Int8Array,_=y&&y.prototype,b=o.Uint8ClampedArray,T=b&&b.prototype,w=y&&h(y),S=_&&h(_),E=Object.prototype,O=E.isPrototypeOf,C=p("toStringTag"),A=g("TYPED_ARRAY_TAG"),P=!(!o.ArrayBuffer||!m),I=P&&!!f&&"Opera"!==u(o.opera),x=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},k=function(t){return a(t)&&s(M,u(t))};for(i in M)o[i]||(I=!1);if((!I||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},I))for(i in M)o[i]&&f(o[i],w);if((!I||!S||S===E)&&(S=w.prototype,I))for(i in M)o[i]&&f(o[i].prototype,S);if(I&&h(T)!==S&&f(T,S),r&&!s(S,C))for(i in x=!0,d(S,C,{get:function(){return a(this)?this[A]:void 0}}),M)o[i]&&l(o[i],A,i);P&&f&&h(v)!==E&&f(v,E),t.exports={NATIVE_ARRAY_BUFFER:P,NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:x&&A,aTypedArray:function(t){if(k(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(f){if(O.call(w,t))return t}else for(var e in M)if(s(M,i)){var n=o[e];if(n&&(t===n||O.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportProto:function(t,e,n){if(r){if(n)for(var i in M){var a=o[i];a&&s(a.prototype,t)&&delete a.prototype[t]}S[t]&&!n||c(S,t,n?e:I&&_[t]||e)}},exportStatic:function(t,e,n){var i,a;if(r){if(f){if(n)for(i in M)(a=o[i])&&s(a,t)&&delete a[t];if(w[t]&&!n)return;try{return c(w,t,n?e:I&&y[t]||e)}catch(t){}}for(i in M)!(a=o[i])||a[t]&&!n||c(a,t,e)}},isView:function(t){var e=u(t);return"DataView"===e||s(M,e)},isTypedArray:k,TypedArray:w,TypedArrayPrototype:S}},function(t,e,n){var i=n(21);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var i=n(40),r=n(39);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){var i=n(2),r=n(131);i({target:"ArrayBuffer",stat:!0,forced:!r.NATIVE_ARRAY_BUFFER_VIEWS},{isView:r.isView})},function(t,e,n){var i=n(2),r=n(6),o=n(130),a=n(20),s=n(41),u=n(39),l=n(137),c=o.ArrayBuffer,d=o.DataView,h=c.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(a(this),t);for(var n=a(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),o=new(l(this,c))(u(r-i)),f=new d(this),p=new d(o),g=0;i<r;)p.setUint8(g++,f.getUint8(i++));return o}})},function(t,e,n){var i=n(20),r=n(59),o=n(53)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},function(t,e,n){var i=n(2),r=n(130);i({global:!0,forced:!n(131).NATIVE_ARRAY_BUFFER},{DataView:r.DataView})},function(t,e,n){n(2)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,n){var i=n(2),r=n(141);i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},function(t,e,n){var i=n(6),r=n(142).start,o=Math.abs,a=Date.prototype,s=a.getTime,u=a.toISOString;t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!i((function(){u.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+r(o(t),n?6:4,0)+"-"+r(this.getUTCMonth()+1,2,0)+"-"+r(this.getUTCDate(),2,0)+"T"+r(this.getUTCHours(),2,0)+":"+r(this.getUTCMinutes(),2,0)+":"+r(this.getUTCSeconds(),2,0)+"."+r(e,3,0)+"Z"}:u},function(t,e,n){var i=n(39),r=n(143),o=n(12),a=Math.ceil,s=function(t){return function(e,n,s){var u,l,c=String(o(e)),d=c.length,h=void 0===s?" ":String(s),f=i(n);return f<=d||""==h?c:(u=f-d,(l=r.call(h,a(u/h.length))).length>u&&(l=l.slice(0,u)),t?c+l:l+c)}};t.exports={start:s(!1),end:s(!0)}},function(t,e,n){var i=n(40),r=n(12);t.exports="".repeat||function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var i=n(2),r=n(6),o=n(47),a=n(13);i({target:"Date",proto:!0,forced:r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(18),r=n(146),o=n(53)("toPrimitive"),a=Date.prototype;o in a||i(a,o,r)},function(t,e,n){var i=n(20),r=n(13);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!==t)}},function(t,e,n){var i=n(21),r=Date.prototype,o=r.toString,a=r.getTime;new Date(NaN)+""!="Invalid Date"&&i(r,"toString",(function(){var t=a.call(this);return t==t?o.call(this):"Invalid Date"}))},function(t,e,n){n(2)({target:"Function",proto:!0},{bind:n(149)})},function(t,e,n){var i=n(59),r=n(14),o=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("C,a","return new C("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=o.call(arguments,1),a=function(){var i=n.concat(o.call(arguments));return this instanceof a?s(e,i.length,i):e.apply(t,i)};return r(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){var i=n(14),r=n(19),o=n(108),a=n(53)("hasInstance"),s=Function.prototype;a in s||r.f(s,a,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(5),r=n(19).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;i&&!("name"in o)&&r(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){n(2)({global:!0},{globalThis:n(3)})},function(t,e,n){var i=n(3);n(56)(i.JSON,"JSON",!0)},function(t,e,n){var i=n(155),r=n(160);t.exports=i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r,!0)},function(t,e,n){var i=n(2),r=n(3),o=n(44),a=n(21),s=n(156),u=n(158),l=n(133),c=n(14),d=n(6),h=n(100),f=n(56),p=n(159);t.exports=function(t,e,n,g,m){var v=r[t],y=v&&v.prototype,_=v,b=g?"set":"add",T={},w=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof v||!(m||y.forEach&&!d((function(){(new v).entries().next()})))))_=n.getConstructor(e,t,g,b),s.REQUIRED=!0;else if(o(t,!0)){var S=new _,E=S[b](m?{}:-0,1)!=S,O=d((function(){S.has(1)})),C=h((function(t){new v(t)})),A=!m&&d((function(){for(var t=new v,e=5;e--;)t[b](e,e);return!t.has(-0)}));C||((_=e((function(e,n){l(e,_,t);var i=p(new v,e,_);return null!=n&&u(n,i[b],i,g),i}))).prototype=y,y.constructor=_),(O||A)&&(w("delete"),w("has"),g&&w("get")),(A||E)&&w(b),m&&y.clear&&delete y.clear}return T[t]=_,i({global:!0,forced:_!=v},T),f(_,t),m||n.setStrong(_,t,g),_}},function(t,e,n){var i=n(31),r=n(14),o=n(15),a=n(19).f,s=n(30),u=n(157),l=s("meta"),c=0,d=Object.isExtensible||function(){return!0},h=function(t){a(t,l,{value:{objectID:"O"+ ++c,weakData:{}}})},f=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,l)){if(!d(t))return"F";if(!e)return"E";h(t)}return t[l].objectID},getWeakData:function(t,e){if(!o(t,l)){if(!d(t))return!0;if(!e)return!1;h(t)}return t[l].weakData},onFreeze:function(t){return u&&f.REQUIRED&&d(t)&&!o(t,l)&&h(t),t}};i[l]=!0},function(t,e,n){var i=n(6);t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var i=n(20),r=n(96),o=n(39),a=n(58),s=n(98),u=n(95),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,c,d){var h,f,p,g,m,v,y,_=a(e,n,c?2:1);if(d)h=t;else{if("function"!=typeof(f=s(t)))throw TypeError("Target is not iterable");if(r(f)){for(p=0,g=o(t.length);g>p;p++)if((m=c?_(i(y=t[p])[0],y[1]):_(t[p]))&&m instanceof l)return m;return new l(!1)}h=f.call(t)}for(v=h.next;!(y=v.call(h)).done;)if("object"==typeof(m=u(h,_,y.value,c))&&m&&m instanceof l)return m;return new l(!1)}).stop=function(t){return new l(!0,t)}},function(t,e,n){var i=n(14),r=n(110);t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},function(t,e,n){var i=n(19).f,r=n(48),o=n(132),a=n(58),s=n(133),u=n(158),l=n(105),c=n(125),d=n(5),h=n(156).fastKey,f=n(27),p=f.set,g=f.getterFor;t.exports={getConstructor:function(t,e,n,l){var c=t((function(t,i){s(t,c,e),p(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),d||(t.size=0),null!=i&&u(i,t[l],t,n)})),f=g(e),m=function(t,e,n){var i,r,o=f(t),a=v(t,e);return a?a.value=n:(o.last=a={index:r=h(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),d?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},v=function(t,e){var n,i=f(t),r=h(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return o(c.prototype,{clear:function(){for(var t=f(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:this.size=0},delete:function(t){var e=f(this),n=v(this,t);if(n){var i=n.next,r=n.previous;delete e.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),e.first==n&&(e.first=i),e.last==n&&(e.last=r),d?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=f(this),i=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),o(c.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),d&&i(c.prototype,"size",{get:function(){return f(this).size}}),c},setStrong:function(t,e,n){var i=e+" Iterator",r=g(e),o=g(i);l(t,e,(function(t,e){p(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},function(t,e,n){var i=n(2),r=n(162),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2;i({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+u:r(t-1+s(t-1)*s(t+1))}})},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e,n){var i=n(2),r=Math.asinh,o=Math.log,a=Math.sqrt;i({target:"Math",stat:!0,forced:!(r&&1/r(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):o(e+a(e*e+1)):e}})},function(t,e,n){var i=n(2),r=Math.atanh,o=Math.log;i({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(t,e,n){var i=n(2),r=n(166),o=Math.abs,a=Math.pow;i({target:"Math",stat:!0},{cbrt:function(t){return r(t=+t)*a(o(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var i=n(2),r=Math.floor,o=Math.log,a=Math.LOG2E;i({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-r(o(t+.5)*a):32}})},function(t,e,n){var i=n(2),r=n(169),o=Math.cosh,a=Math.abs,s=Math.E;i({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(t){var e=r(a(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},function(t,e){var n=Math.expm1,i=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:i(t)-1}:n},function(t,e,n){var i=n(2),r=n(169);i({target:"Math",stat:!0,forced:r!=Math.expm1},{expm1:r})},function(t,e,n){n(2)({target:"Math",stat:!0},{fround:n(172)})},function(t,e,n){var i=n(166),r=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),l=o(2,-126);t.exports=Math.fround||function(t){var e,n,o=r(t),c=i(t);return o<l?c*(o/l/s+1/a-1/a)*l*s:(n=(e=(1+s/a)*o)-(e-o))>u||n!=n?c*(1/0):c*n}},function(t,e,n){var i=n(2),r=Math.hypot,o=Math.abs,a=Math.sqrt;i({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,i,r=0,s=0,u=arguments.length,l=0;s<u;)l<(n=o(arguments[s++]))?(r=r*(i=l/n)*i+1,l=n):r+=n>0?(i=n/l)*i:n;return l===1/0?1/0:l*a(r)}})},function(t,e,n){var i=n(2),r=n(6),o=Math.imul;i({target:"Math",stat:!0,forced:r((function(){return-5!=o(4294967295,5)||2!=o.length}))},{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(2),r=Math.log,o=Math.LOG10E;i({target:"Math",stat:!0},{log10:function(t){return r(t)*o}})},function(t,e,n){n(2)({target:"Math",stat:!0},{log1p:n(162)})},function(t,e,n){var i=n(2),r=Math.log,o=Math.LN2;i({target:"Math",stat:!0},{log2:function(t){return r(t)/o}})},function(t,e,n){n(2)({target:"Math",stat:!0},{sign:n(166)})},function(t,e,n){var i=n(2),r=n(6),o=n(169),a=Math.abs,s=Math.exp,u=Math.E;i({target:"Math",stat:!0,forced:r((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},function(t,e,n){var i=n(2),r=n(169),o=Math.exp;i({target:"Math",stat:!0},{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){n(56)(Math,"Math",!0)},function(t,e,n){var i=n(2),r=Math.ceil,o=Math.floor;i({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:r)(t)}})},function(t,e,n){var i=n(5),r=n(3),o=n(44),a=n(21),s=n(15),u=n(11),l=n(159),c=n(13),d=n(6),h=n(48),f=n(36).f,p=n(4).f,g=n(19).f,m=n(184).trim,v=r.Number,y=v.prototype,_="Number"==u(h(y)),b=function(t){var e,n,i,r,o,a,s,u,l=c(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=m(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>r)return NaN;return parseInt(o,i)}return+l};if(o("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var T,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(_?d((function(){y.valueOf.call(n)})):"Number"!=u(n))?l(new v(b(e)),n,w):b(e)},S=i?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;S.length>E;E++)s(v,T=S[E])&&!s(w,T)&&g(w,T,p(v,T));w.prototype=y,y.constructor=w,a(r,"Number",w)}},function(t,e,n){var i=n(12),r="["+n(185)+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){n(2)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(2)({target:"Number",stat:!0},{isFinite:n(188)})},function(t,e,n){var i=n(3).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&i(t)}},function(t,e,n){n(2)({target:"Number",stat:!0},{isInteger:n(190)})},function(t,e,n){var i=n(14),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){n(2)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(2),r=n(190),o=Math.abs;i({target:"Number",stat:!0},{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){n(2)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(2)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(2),r=n(196);i({target:"Number",stat:!0,forced:Number.parseFloat!=r},{parseFloat:r})},function(t,e,n){var i=n(3),r=n(184).trim,o=n(185),a=i.parseFloat,s=1/a(o+"-0")!=-1/0;t.exports=s?function(t){var e=r(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){var i=n(2),r=n(198);i({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},function(t,e,n){var i=n(3),r=n(184).trim,o=n(185),a=i.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");t.exports=u?function(t,e){var n=r(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},function(t,e,n){var i=n(2),r=n(40),o=n(200),a=n(143),s=n(6),u=1..toFixed,l=Math.floor,c=function(t,e,n){return 0===e?n:e%2==1?c(t,e-1,n*t):c(t*t,e/2,n)};i({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}))},{toFixed:function(t){var e,n,i,s,u=o(this),d=r(t),h=[0,0,0,0,0,0],f="",p="0",g=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*h[n],h[n]=i%1e7,i=l(i/1e7)},m=function(t){for(var e=6,n=0;--e>=0;)n+=h[e],h[e]=l(n/t),n=n%t*1e7},v=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==h[t]){var n=String(h[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(f="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*c(2,69,1))-69)<0?u*c(2,-e,1):u/c(2,e,1),n*=4503599627370496,(e=52-e)>0){for(g(0,n),i=d;i>=7;)g(1e7,0),i-=7;for(g(c(10,i,1),0),i=e-1;i>=23;)m(1<<23),i-=23;m(1<<i),g(1,1),m(2),p=v()}else g(0,n),g(1<<-e,0),p=v()+a.call("0",d);return p=d>0?f+((s=p.length)<=d?"0."+a.call("0",d-s)+p:p.slice(0,s-d)+"."+p.slice(s-d)):f+p}})},function(t,e,n){var i=n(11);t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){var i=n(2),r=n(6),o=n(200),a=1..toPrecision;i({target:"Number",proto:!0,forced:r((function(){return"1"!==a.call(1,void 0)}))||!r((function(){a.call({})}))},{toPrecision:function(t){return void 0===t?a.call(o(this)):a.call(o(this),t)}})},function(t,e,n){var i=n(2),r=n(203);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,n){var i=n(5),r=n(6),o=n(50),a=n(43),s=n(7),u=n(47),l=n(10),c=Object.assign;t.exports=!c||r((function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||"abcdefghijklmnopqrst"!=o(c({},e)).join("")}))?function(t,e){for(var n=u(t),r=arguments.length,c=1,d=a.f,h=s.f;r>c;)for(var f,p=l(arguments[c++]),g=d?o(p).concat(d(p)):o(p),m=g.length,v=0;m>v;)f=g[v++],i&&!h.call(p,f)||(n[f]=p[f]);return n}:c},function(t,e,n){n(2)({target:"Object",stat:!0,sham:!n(5)},{create:n(48)})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(59),u=n(19);r&&i({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){u.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(23),r=n(3),o=n(6);t.exports=i||!o((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete r[t]}))},function(t,e,n){var i=n(2),r=n(5);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperties:n(49)})},function(t,e,n){var i=n(2),r=n(5);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(19).f})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(59),u=n(19);r&&i({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){u.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(2),r=n(211).entries;i({target:"Object",stat:!0},{entries:function(t){return r(t)}})},function(t,e,n){var i=n(5),r=n(50),o=n(9),a=n(7).f,s=function(t){return function(e){for(var n,s=o(e),u=r(s),l=u.length,c=0,d=[];l>c;)n=u[c++],i&&!a.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,n){var i=n(2),r=n(157),o=n(6),a=n(14),s=n(156).onFreeze,u=Object.freeze;i({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!r},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},function(t,e,n){var i=n(2),r=n(158),o=n(76);i({target:"Object",stat:!0},{fromEntries:function(t){var e={};return r(t,(function(t,n){o(e,t,n)}),void 0,!0),e}})},function(t,e,n){var i=n(2),r=n(6),o=n(9),a=n(4).f,s=n(5),u=r((function(){a(1)}));i({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,n){var i=n(2),r=n(5),o=n(33),a=n(9),s=n(4),u=n(76);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){for(var e,n,i=a(t),r=s.f,l=o(i),c={},d=0;l.length>d;)void 0!==(n=r(i,e=l[d++]))&&u(c,e,n);return c}})},function(t,e,n){var i=n(2),r=n(6),o=n(52).f;i({target:"Object",stat:!0,forced:r((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e,n){var i=n(2),r=n(6),o=n(47),a=n(108),s=n(109);i({target:"Object",stat:!0,forced:r((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){n(2)({target:"Object",stat:!0},{is:n(219)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(2),r=n(6),o=n(14),a=Object.isExtensible;i({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isExtensible:function(t){return!!o(t)&&(!a||a(t))}})},function(t,e,n){var i=n(2),r=n(6),o=n(14),a=Object.isFrozen;i({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isFrozen:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,n){var i=n(2),r=n(6),o=n(14),a=Object.isSealed;i({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isSealed:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,n){var i=n(2),r=n(47),o=n(50);i({target:"Object",stat:!0,forced:n(6)((function(){o(1)}))},{keys:function(t){return o(r(t))}})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(13),u=n(108),l=n(4).f;r&&i({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,n=a(this),i=s(t,!0);do{if(e=l(n,i))return e.get}while(n=u(n))}})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(13),u=n(108),l=n(4).f;r&&i({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,n=a(this),i=s(t,!0);do{if(e=l(n,i))return e.set}while(n=u(n))}})},function(t,e,n){var i=n(2),r=n(14),o=n(156).onFreeze,a=n(157),s=n(6),u=Object.preventExtensions;i({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{preventExtensions:function(t){return u&&r(t)?u(o(t)):t}})},function(t,e,n){var i=n(2),r=n(14),o=n(156).onFreeze,a=n(157),s=n(6),u=Object.seal;i({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{seal:function(t){return u&&r(t)?u(o(t)):t}})},function(t,e,n){n(2)({target:"Object",stat:!0},{setPrototypeOf:n(110)})},function(t,e,n){var i=n(21),r=n(230),o=Object.prototype;r!==o.toString&&i(o,"toString",r,{unsafe:!0})},function(t,e,n){var i=n(99),r={};r[n(53)("toStringTag")]="z",t.exports="[object z]"!==String(r)?function(){return"[object "+i(this)+"]"}:r.toString},function(t,e,n){var i=n(2),r=n(211).values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},function(t,e,n){var i=n(2),r=n(196);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(t,e,n){var i=n(2),r=n(198);i({global:!0,forced:parseInt!=r},{parseInt:r})},function(t,e,n){var i,r,o,a,s=n(2),u=n(23),l=n(3),c=n(35),d=n(235),h=n(21),f=n(132),p=n(56),g=n(125),m=n(14),v=n(59),y=n(133),_=n(11),b=n(158),T=n(100),w=n(137),S=n(236).set,E=n(238),O=n(239),C=n(241),A=n(240),P=n(242),I=n(237),x=n(27),M=n(44),k=n(53)("species"),D="Promise",R=x.get,N=x.set,L=x.getterFor(D),V=d,F=l.TypeError,j=l.document,U=l.process,B=l.fetch,H=U&&U.versions,G=H&&H.v8||"",W=A.f,z=W,$="process"==_(U),Y=!!(j&&j.createEvent&&l.dispatchEvent),q=M(D,(function(){var t=V.resolve(1),e=function(){},n=(t.constructor={})[k]=function(t){t(e,e)};return!(($||"function"==typeof PromiseRejectionEvent)&&(!u||t.finally)&&t.then(e)instanceof n&&0!==G.indexOf("6.6")&&-1===I.indexOf("Chrome/66"))})),X=q||!T((function(t){V.all(t).catch((function(){}))})),K=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},Z=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;E((function(){for(var r=e.value,o=1==e.state,a=0;i.length>a;){var s,u,l,c=i[a++],d=o?c.ok:c.fail,h=c.resolve,f=c.reject,p=c.domain;try{d?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===d?s=r:(p&&p.enter(),s=d(r),p&&(p.exit(),l=!0)),s===c.promise?f(F("Promise-chain cycle")):(u=K(s))?u.call(s,h,f):h(s)):f(r)}catch(t){p&&!l&&p.exit(),f(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Q(t,e)}))}},J=function(t,e,n){var i,r;Y?((i=j.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),l.dispatchEvent(i)):i={promise:e,reason:n},(r=l["on"+t])?r(i):"unhandledrejection"===t&&C("Unhandled promise rejection",n)},Q=function(t,e){S.call(l,(function(){var n,i=e.value;if(tt(e)&&(n=P((function(){$?U.emit("unhandledRejection",i,t):J("unhandledrejection",t,i)})),e.rejection=$||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){S.call(l,(function(){$?U.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},nt=function(t,e,n,i){return function(r){t(e,n,r,i)}},it=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=2,Z(t,e,!0))},rt=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw F("Promise can't be resolved itself");var r=K(n);r?E((function(){var i={done:!1};try{r.call(n,nt(rt,t,i,e),nt(it,t,i,e))}catch(n){it(t,i,n,e)}})):(e.value=n,e.state=1,Z(t,e,!1))}catch(n){it(t,{done:!1},n,e)}}};q&&(V=function(t){y(this,V,D),v(t),i.call(this);var e=R(this);try{t(nt(rt,this,e),nt(it,this,e))}catch(t){it(this,e,t)}},(i=function(t){N(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(V.prototype,{then:function(t,e){var n=L(this),i=W(w(this,V));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=$?U.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&Z(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=R(t);this.promise=t,this.resolve=nt(rt,t,e),this.reject=nt(it,t,e)},A.f=W=function(t){return t===V||t===o?new r(t):z(t)},u||"function"!=typeof d||(a=d.prototype.then,h(d.prototype,"then",(function(t,e){var n=this;return new V((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof B&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return O(V,B.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:q},{Promise:V}),p(V,D,!1,!0),g(D),o=c[D],s({target:D,stat:!0,forced:q},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),s({target:D,stat:!0,forced:u||q},{resolve:function(t){return O(u&&this===o?V:this,t)}}),s({target:D,stat:!0,forced:X},{all:function(t){var e=this,n=W(e),i=n.resolve,r=n.reject,o=P((function(){var n=v(e.resolve),o=[],a=0,s=1;b(t,(function(t){var u=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,o[u]=t,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=W(e),i=n.reject,r=P((function(){var r=v(e.resolve);b(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(t,e,n){var i=n(3);t.exports=i.Promise},function(t,e,n){var i,r,o,a=n(3),s=n(6),u=n(11),l=n(58),c=n(51),d=n(17),h=n(237),f=a.location,p=a.setImmediate,g=a.clearImmediate,m=a.process,v=a.MessageChannel,y=a.Dispatch,_=0,b={},T=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},w=function(t){return function(){T(t)}},S=function(t){T(t.data)},E=function(t){a.postMessage(t+"",f.protocol+"//"+f.host)};p&&g||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(_),_},g=function(t){delete b[t]},"process"==u(m)?i=function(t){m.nextTick(w(t))}:y&&y.now?i=function(t){y.now(w(t))}:v&&!/(iphone|ipod|ipad).*applewebkit/i.test(h)?(o=(r=new v).port2,r.port1.onmessage=S,i=l(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(E)?i="onreadystatechange"in d("script")?function(t){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),T(t)}}:function(t){setTimeout(w(t),0)}:(i=E,a.addEventListener("message",S,!1))),t.exports={set:p,clear:g}},function(t,e,n){var i=n(34);t.exports=i("navigator","userAgent")||""},function(t,e,n){var i,r,o,a,s,u,l,c,d=n(3),h=n(4).f,f=n(11),p=n(236).set,g=n(237),m=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,_="process"==f(v),b=h(d,"queueMicrotask"),T=b&&b.value;T||(i=function(){var t,e;for(_&&(t=v.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?a():o=void 0,t}}o=void 0,t&&t.enter()},_?a=function(){v.nextTick(i)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(g)?(s=!0,u=document.createTextNode(""),new m(i).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):y&&y.resolve?(l=y.resolve(void 0),c=l.then,a=function(){c.call(l,i)}):a=function(){p.call(d,i)}),t.exports=T||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,a()),o=e}},function(t,e,n){var i=n(20),r=n(14),o=n(240);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(59),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},function(t,e,n){var i=n(3);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var i=n(2),r=n(59),o=n(240),a=n(242),s=n(158);i({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),i=n.resolve,u=n.reject,l=a((function(){var n=r(e.resolve),o=[],a=0,u=1;s(t,(function(t){var r=a++,s=!1;o.push(void 0),u++,n.call(e,t).then((function(t){s||(s=!0,o[r]={status:"fulfilled",value:t},--u||i(o))}),(function(t){s||(s=!0,o[r]={status:"rejected",reason:t},--u||i(o))}))})),--u||i(o)}));return l.error&&u(l.value),n.promise}})},function(t,e,n){var i=n(2),r=n(23),o=n(235),a=n(34),s=n(137),u=n(239),l=n(21);i({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=s(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),r||"function"!=typeof o||o.prototype.finally||l(o.prototype,"finally",a("Promise").prototype.finally)},function(t,e,n){var i=n(2),r=n(34),o=n(59),a=n(20),s=n(6),u=r("Reflect","apply"),l=Function.apply;i({target:"Reflect",stat:!0,forced:!s((function(){u((function(){}))}))},{apply:function(t,e,n){return o(t),a(n),u?u(t,e,n):l.call(t,e,n)}})},function(t,e,n){var i=n(2),r=n(34),o=n(59),a=n(20),s=n(14),u=n(48),l=n(149),c=n(6),d=r("Reflect","construct"),h=c((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),f=!c((function(){d((function(){}))})),p=h||f;i({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var r=n.prototype,c=u(s(r)?r:Object.prototype),p=Function.apply.call(t,c,e);return s(p)?p:c}})},function(t,e,n){var i=n(2),r=n(5),o=n(20),a=n(13),s=n(19);i({target:"Reflect",stat:!0,forced:n(6)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!r},{defineProperty:function(t,e,n){o(t);var i=a(e,!0);o(n);try{return s.f(t,i,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(2),r=n(20),o=n(4).f;i({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=o(r(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var i=n(2),r=n(14),o=n(20),a=n(15),s=n(4),u=n(108);i({target:"Reflect",stat:!0},{get:function t(e,n){var i,l,c=arguments.length<3?e:arguments[2];return o(e)===c?e[n]:(i=s.f(e,n))?a(i,"value")?i.value:void 0===i.get?void 0:i.get.call(c):r(l=u(e))?t(l,n,c):void 0}})},function(t,e,n){var i=n(2),r=n(5),o=n(20),a=n(4);i({target:"Reflect",stat:!0,sham:!r},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},function(t,e,n){var i=n(2),r=n(20),o=n(108);i({target:"Reflect",stat:!0,sham:!n(109)},{getPrototypeOf:function(t){return o(r(t))}})},function(t,e,n){n(2)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var i=n(2),r=n(20),o=Object.isExtensible;i({target:"Reflect",stat:!0},{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){n(2)({target:"Reflect",stat:!0},{ownKeys:n(33)})},function(t,e,n){var i=n(2),r=n(34),o=n(20);i({target:"Reflect",stat:!0,sham:!n(157)},{preventExtensions:function(t){o(t);try{var e=r("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(2),r=n(20),o=n(14),a=n(15),s=n(19),u=n(4),l=n(108),c=n(8);i({target:"Reflect",stat:!0},{set:function t(e,n,i){var d,h,f=arguments.length<4?e:arguments[3],p=u.f(r(e),n);if(!p){if(o(h=l(e)))return t(h,n,i,f);p=c(0)}if(a(p,"value")){if(!1===p.writable||!o(f))return!1;if(d=u.f(f,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=i,s.f(f,n,d)}else s.f(f,n,c(0,i));return!0}return void 0!==p.set&&(p.set.call(f,i),!0)}})},function(t,e,n){var i=n(2),r=n(20),o=n(111),a=n(110);a&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){r(t),o(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,e,n){var i=n(5),r=n(3),o=n(44),a=n(159),s=n(19).f,u=n(36).f,l=n(259),c=n(260),d=n(21),h=n(6),f=n(125),p=n(53)("match"),g=r.RegExp,m=g.prototype,v=/a/g,y=/a/g,_=new g(v)!==v;if(i&&o("RegExp",!_||h((function(){return y[p]=!1,g(v)!=v||g(y)==y||"/a/i"!=g(v,"i")})))){for(var b=function(t,e){var n=this instanceof b,i=l(t),r=void 0===e;return!n&&i&&t.constructor===b&&r?t:a(_?new g(i&&!r?t.source:t,e):g((i=t instanceof b)?t.source:t,i&&r?c.call(t):e),n?this:m,b)},T=function(t){t in b||s(b,t,{configurable:!0,get:function(){return g[t]},set:function(e){g[t]=e}})},w=u(g),S=0;w.length>S;)T(w[S++]);m.constructor=b,b.prototype=m,d(r,"RegExp",b)}f("RegExp")},function(t,e,n){var i=n(14),r=n(11),o=n(53)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(20);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(2),r=n(262);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(t,e,n){var i,r,o=n(260),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,l=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),c=void 0!==/()??/.exec("")[1];(l||c)&&(u=function(t){var e,n,i,r,u=this;return c&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),l&&(e=u.lastIndex),i=a.call(u,t),l&&i&&(u.lastIndex=u.global?i.index+i[0].length:e),c&&i&&i.length>1&&s.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=u},function(t,e,n){var i=n(5),r=n(19),o=n(260);i&&"g"!=/./g.flags&&r.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(t,e,n){var i=n(21),r=n(20),o=n(6),a=n(260),s=RegExp.prototype,u=s.toString,l=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),c="toString"!=u.name;(l||c)&&i(RegExp.prototype,"toString",(function(){var t=r(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){var i=n(155),r=n(160);t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},function(t,e,n){var i=n(2),r=n(267).codeAt;i({target:"String",proto:!0},{codePointAt:function(t){return r(this,t)}})},function(t,e,n){var i=n(40),r=n(12),o=function(t){return function(e,n){var o,a,s=String(r(e)),u=i(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var i=n(2),r=n(39),o=n(269),a=n(12),s=n(270),u="".endsWith,l=Math.min;i({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function(t){var e=String(a(this));o(t);var n=arguments.length>1?arguments[1]:void 0,i=r(e.length),s=void 0===n?i:l(r(n),i),c=String(t);return u?u.call(e,c,s):e.slice(s-c.length,s)===c}})},function(t,e,n){var i=n(259);t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var i=n(53)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){var i=n(2),r=n(41),o=String.fromCharCode,a=String.fromCodePoint;i({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,a=0;i>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(2),r=n(269),o=n(12);i({target:"String",proto:!0,forced:!n(270)("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(267).charAt,r=n(27),o=n(105),a=r.set,s=r.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var i=n(275),r=n(20),o=n(39),a=n(12),s=n(276),u=n(277);i("match",1,(function(t,e,n){return[function(e){var n=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var a=r(t),l=String(this);if(!a.global)return u(a,l);var c=a.unicode;a.lastIndex=0;for(var d,h=[],f=0;null!==(d=u(a,l));){var p=String(d[0]);h[f]=p,""===p&&(a.lastIndex=s(l,o(a.lastIndex),c)),f++}return 0===f?null:h}]}))},function(t,e,n){var i=n(18),r=n(21),o=n(6),a=n(53),s=n(262),u=a("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var h=a(t),f=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=f&&!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[h](""),!e}));if(!f||!p||"replace"===t&&!l||"split"===t&&!c){var g=/./[h],m=n(h,""[t],(function(t,e,n,i,r){return e.exec===s?f&&!r?{done:!0,value:g.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,t,v),r(RegExp.prototype,h,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)}),d&&i(RegExp.prototype[h],"sham",!0)}}},function(t,e,n){var i=n(267).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){var i=n(11),r=n(262);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){var i=n(2),r=n(106),o=n(12),a=n(39),s=n(59),u=n(20),l=n(99),c=n(259),d=n(260),h=n(18),f=n(6),p=n(53),g=n(137),m=n(276),v=n(27),y=n(23),_=p("matchAll"),b=v.set,T=v.getterFor("RegExp String Iterator"),w=RegExp.prototype,S=w.exec,E="".matchAll,O=!!E&&!f((function(){"a".matchAll(/./)})),C=r((function(t,e,n,i){b(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:i,done:!1})}),"RegExp String",(function(){var t=T(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,i=function(t,e){var n,i=t.exec;if("function"==typeof i){if("object"!=typeof(n=i.call(t,e)))throw TypeError("Incorrect exec result");return n}return S.call(t,e)}(e,n);return null===i?{value:void 0,done:t.done=!0}:t.global?(""==String(i[0])&&(e.lastIndex=m(n,a(e.lastIndex),t.unicode)),{value:i,done:!1}):(t.done=!0,{value:i,done:!1})})),A=function(t){var e,n,i,r,o,s,l=u(this),c=String(t);return e=g(l,RegExp),void 0===(n=l.flags)&&l instanceof RegExp&&!("flags"in w)&&(n=d.call(l)),i=void 0===n?"":String(n),r=new e(e===RegExp?l.source:l,i),o=!!~i.indexOf("g"),s=!!~i.indexOf("u"),r.lastIndex=a(l.lastIndex),new C(r,c,o,s)};i({target:"String",proto:!0,forced:O},{matchAll:function(t){var e,n,i,r=o(this);if(null!=t){if(c(t)&&!~String(o("flags"in w?t.flags:d.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(O)return E.apply(r,arguments);if(void 0===(n=t[_])&&y&&"RegExp"==l(t)&&(n=A),null!=n)return s(n).call(t,r)}else if(O)return E.apply(r,arguments);return e=String(r),i=new RegExp(t,"g"),y?A.call(i,e):i[_](e)}}),y||_ in w||h(w,_,A)},function(t,e,n){var i=n(2),r=n(142).end;i({target:"String",proto:!0,forced:n(280)},{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(237);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},function(t,e,n){var i=n(2),r=n(142).start;i({target:"String",proto:!0,forced:n(280)},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(9),o=n(39);i({target:"String",stat:!0},{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){n(2)({target:"String",proto:!0},{repeat:n(143)})},function(t,e,n){var i=n(275),r=n(20),o=n(47),a=n(39),s=n(40),u=n(12),l=n(276),c=n(277),d=Math.max,h=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;i("replace",2,(function(t,e,n){return[function(n,i){var r=u(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r,i):e.call(String(r),n,i)},function(t,o){var u=n(e,t,this,o);if(u.done)return u.value;var f=r(t),p=String(this),g="function"==typeof o;g||(o=String(o));var m=f.global;if(m){var v=f.unicode;f.lastIndex=0}for(var y=[];;){var _=c(f,p);if(null===_)break;if(y.push(_),!m)break;""===String(_[0])&&(f.lastIndex=l(p,a(f.lastIndex),v))}for(var b,T="",w=0,S=0;S<y.length;S++){_=y[S];for(var E=String(_[0]),O=d(h(s(_.index),p.length),0),C=[],A=1;A<_.length;A++)C.push(void 0===(b=_[A])?b:String(b));var P=_.groups;if(g){var I=[E].concat(C,O,p);void 0!==P&&I.push(P);var x=String(o.apply(void 0,I))}else x=i(E,p,O,C,P,o);O>=w&&(T+=p.slice(w,O)+x,w=O+E.length)}return T+p.slice(w)}];function i(t,n,i,r,a,s){var u=i+t.length,l=r.length,c=g;return void 0!==a&&(a=o(a),c=p),e.call(s,c,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,i);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return e;if(c>l){var d=f(c/10);return 0===d?e:d<=l?void 0===r[d-1]?o.charAt(1):r[d-1]+o.charAt(1):e}s=r[c-1]}return void 0===s?"":s}))}}))},function(t,e,n){var i=n(275),r=n(20),o=n(12),a=n(219),s=n(277);i("search",1,(function(t,e,n){return[function(e){var n=o(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var o=r(t),u=String(this),l=o.lastIndex;a(l,0)||(o.lastIndex=0);var c=s(o,u);return a(o.lastIndex,l)||(o.lastIndex=l),null===c?-1:c.index}]}))},function(t,e,n){var i=n(275),r=n(259),o=n(20),a=n(12),s=n(137),u=n(276),l=n(39),c=n(277),d=n(262),h=n(6),f=[].push,p=Math.min,g=!h((function(){return!RegExp(4294967295,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,o);for(var s,u,l,c=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,h+"g");(s=d.call(g,i))&&!((u=g.lastIndex)>p&&(c.push(i.slice(p,s.index)),s.length>1&&s.index<i.length&&f.apply(c,s.slice(1)),l=s[0].length,p=u,c.length>=o));)g.lastIndex===s.index&&g.lastIndex++;return p===i.length?!l&&g.test("")||c.push(""):c.push(i.slice(p)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,r,n):i.call(String(r),e,n)},function(t,r){var a=n(i,t,this,r,i!==e);if(a.done)return a.value;var d=o(t),h=String(this),f=s(d,RegExp),m=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),y=new f(g?d:"^(?:"+d.source+")",v),_=void 0===r?4294967295:r>>>0;if(0===_)return[];if(0===h.length)return null===c(y,h)?[h]:[];for(var b=0,T=0,w=[];T<h.length;){y.lastIndex=g?T:0;var S,E=c(y,g?h:h.slice(T));if(null===E||(S=p(l(y.lastIndex+(g?0:T)),h.length))===b)T=u(h,T,m);else{if(w.push(h.slice(b,T)),w.length===_)return w;for(var O=1;O<=E.length-1;O++)if(w.push(E[O]),w.length===_)return w;T=b=S}}return w.push(h.slice(b)),w}]}),!g)},function(t,e,n){var i=n(2),r=n(39),o=n(269),a=n(12),s=n(270),u="".startsWith,l=Math.min;i({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function(t){var e=String(a(this));o(t);var n=r(l(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return u?u.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){var i=n(2),r=n(184).trim;i({target:"String",proto:!0,forced:n(289)("trim")},{trim:function(){return r(this)}})},function(t,e,n){var i=n(6),r=n(185);t.exports=function(t){return i((function(){return!!r[t]()||"​᠎"!="​᠎"[t]()||r[t].name!==t}))}},function(t,e,n){var i=n(2),r=n(184).end,o=n(289)("trimEnd"),a=o?function(){return r(this)}:"".trimEnd;i({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},function(t,e,n){var i=n(2),r=n(184).start,o=n(289)("trimStart"),a=o?function(){return r(this)}:"".trimStart;i({target:"String",proto:!0,forced:o},{trimStart:a,trimLeft:a})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("anchor")},{anchor:function(t){return r(this,"a","name",t)}})},function(t,e,n){var i=n(12),r=/"/g;t.exports=function(t,e,n,o){var a=String(i(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,n){var i=n(6);t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("big")},{big:function(){return r(this,"big","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("blink")},{blink:function(){return r(this,"blink","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("bold")},{bold:function(){return r(this,"b","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("fixed")},{fixed:function(){return r(this,"tt","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("fontcolor")},{fontcolor:function(t){return r(this,"font","color",t)}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("fontsize")},{fontsize:function(t){return r(this,"font","size",t)}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("italics")},{italics:function(){return r(this,"i","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("link")},{link:function(t){return r(this,"a","href",t)}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("small")},{small:function(){return r(this,"small","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("strike")},{strike:function(){return r(this,"strike","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("sub")},{sub:function(){return r(this,"sub","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("sup")},{sup:function(){return r(this,"sup","","")}})},function(t,e,n){n(308)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){var i=n(2),r=n(3),o=n(5),a=n(309),s=n(131),u=n(130),l=n(133),c=n(8),d=n(18),h=n(39),f=n(134),p=n(310),g=n(13),m=n(15),v=n(99),y=n(14),_=n(48),b=n(110),T=n(36).f,w=n(312),S=n(57).forEach,E=n(125),O=n(19),C=n(4),A=n(27),P=A.get,I=A.set,x=O.f,M=C.f,k=Math.round,D=r.RangeError,R=u.ArrayBuffer,N=u.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,V=s.TYPED_ARRAY_TAG,F=s.TypedArray,j=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,B=s.isTypedArray,H=function(t,e){for(var n=0,i=e.length,r=new(U(t))(i);i>n;)r[n]=e[n++];return r},G=function(t,e){x(t,e,{get:function(){return P(this)[e]}})},W=function(t){var e;return t instanceof R||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},z=function(t,e){return B(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},$=function(t,e){return z(t,e=g(e,!0))?c(2,t[e]):M(t,e)},Y=function(t,e,n){return!(z(t,e=g(e,!0))&&y(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?x(t,e,n):(t[e]=n.value,t)};o?(L||(C.f=$,O.f=Y,G(j,"buffer"),G(j,"byteOffset"),G(j,"byteLength"),G(j,"length")),i({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:$,defineProperty:Y}),t.exports=function(t,e,n,o){var s=t+(o?"Clamped":"")+"Array",u="get"+t,c="set"+t,g=r[s],m=g,v=m&&m.prototype,O={},C=function(t,n){x(t,n,{get:function(){return function(t,n){var i=P(t);return i.view[u](n*e+i.byteOffset,!0)}(this,n)},set:function(t){return function(t,n,i){var r=P(t);o&&(i=(i=k(i))<0?0:i>255?255:255&i),r.view[c](n*e+r.byteOffset,i,!0)}(this,n,t)},enumerable:!0})};L?a&&(m=n((function(t,n,i,r){return l(t,m,s),y(n)?W(n)?void 0!==r?new g(n,p(i,e),r):void 0!==i?new g(n,p(i,e)):new g(n):B(n)?H(m,n):w.call(m,n):new g(f(n))})),b&&b(m,F),S(T(g),(function(t){t in m||d(m,t,g[t])})),m.prototype=v):(m=n((function(t,n,i,r){l(t,m,s);var o,a,u,c=0,d=0;if(y(n)){if(!W(n))return B(n)?H(m,n):w.call(m,n);o=n,d=p(i,e);var g=n.byteLength;if(void 0===r){if(g%e)throw D("Wrong length");if((a=g-d)<0)throw D("Wrong length")}else if((a=h(r)*e)+d>g)throw D("Wrong length");u=a/e}else u=f(n),o=new R(a=u*e);for(I(t,{buffer:o,byteOffset:d,byteLength:a,length:u,view:new N(o)});c<u;)C(t,c++)})),b&&b(m,F),v=m.prototype=_(j)),v.constructor!==m&&d(v,"constructor",m),V&&d(v,V,s),O[s]=m,i({global:!0,forced:m!=g,sham:!L},O),"BYTES_PER_ELEMENT"in m||d(m,"BYTES_PER_ELEMENT",e),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",e),E(s)}):t.exports=function(){}},function(t,e,n){var i=n(3),r=n(6),o=n(100),a=n(131).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,u=i.Int8Array;t.exports=!a||!r((function(){u(1)}))||!r((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||r((function(){return 1!==new u(new s(2),1,void 0).length}))},function(t,e,n){var i=n(311);t.exports=function(t,e){var n=i(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var i=n(40);t.exports=function(t){var e=i(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){var i=n(47),r=n(39),o=n(98),a=n(96),s=n(58),u=n(131).aTypedArrayConstructor;t.exports=function(t){var e,n,l,c,d,h,f=i(t),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=o(f);if(null!=v&&!a(v))for(h=(d=v.call(f)).next,f=[];!(c=h.call(d)).done;)f.push(c.value);for(m&&p>2&&(g=s(g,arguments[2],2)),n=r(f.length),l=new(u(this))(n),e=0;n>e;e++)l[e]=m?g(f[e],e):f[e];return l}},function(t,e,n){n(308)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},function(t,e,n){n(308)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){var i=n(131),r=n(79),o=i.aTypedArray;i.exportProto("copyWithin",(function(t,e){return r.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){var i=n(131),r=n(57).every,o=i.aTypedArray;i.exportProto("every",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(84),o=i.aTypedArray;i.exportProto("fill",(function(t){return r.apply(o(this),arguments)}))},function(t,e,n){var i=n(131),r=n(57).filter,o=n(137),a=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("filter",(function(t){for(var e=r(a(this),t,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),i=0,u=e.length,l=new(s(n))(u);u>i;)l[i]=e[i++];return l}))},function(t,e,n){var i=n(131),r=n(57).find,o=i.aTypedArray;i.exportProto("find",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(57).findIndex,o=i.aTypedArray;i.exportProto("findIndex",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(57).forEach,o=i.aTypedArray;i.exportProto("forEach",(function(t){r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(309),r=n(131),o=n(312);r.exportStatic("from",o,i)},function(t,e,n){var i=n(131),r=n(38).includes,o=i.aTypedArray;i.exportProto("includes",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(38).indexOf,o=i.aTypedArray;i.exportProto("indexOf",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(3),r=n(131),o=n(104),a=n(53)("iterator"),s=i.Uint8Array,u=o.values,l=o.keys,c=o.entries,d=r.aTypedArray,h=r.exportProto,f=s&&s.prototype[a],p=!!f&&("values"==f.name||null==f.name),g=function(){return u.call(d(this))};h("entries",(function(){return c.call(d(this))})),h("keys",(function(){return l.call(d(this))})),h("values",g,!p),h(a,g,!p)},function(t,e,n){var i=n(131),r=i.aTypedArray,o=[].join;i.exportProto("join",(function(t){return o.apply(r(this),arguments)}))},function(t,e,n){var i=n(131),r=n(114),o=i.aTypedArray;i.exportProto("lastIndexOf",(function(t){return r.apply(o(this),arguments)}))},function(t,e,n){var i=n(131),r=n(57).map,o=n(137),a=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("map",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(o(t,t.constructor)))(e)}))}))},function(t,e,n){var i=n(131),r=n(309),o=i.aTypedArrayConstructor;i.exportStatic("of",(function(){for(var t=0,e=arguments.length,n=new(o(this))(e);e>t;)n[t]=arguments[t++];return n}),r)},function(t,e,n){var i=n(131),r=n(118).left,o=i.aTypedArray;i.exportProto("reduce",(function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(118).right,o=i.aTypedArray;i.exportProto("reduceRight",(function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=i.aTypedArray,o=Math.floor;i.exportProto("reverse",(function(){for(var t,e=r(this).length,n=o(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this}))},function(t,e,n){var i=n(131),r=n(39),o=n(310),a=n(47),s=n(6),u=i.aTypedArray,l=s((function(){new Int8Array(1).set({})}));i.exportProto("set",(function(t){u(this);var e=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=a(t),s=r(i.length),l=0;if(s+e>n)throw RangeError("Wrong length");for(;l<s;)this[e+l]=i[l++]}),l)},function(t,e,n){var i=n(131),r=n(137),o=n(6),a=i.aTypedArray,s=i.aTypedArrayConstructor,u=[].slice,l=o((function(){new Int8Array(1).slice()}));i.exportProto("slice",(function(t,e){for(var n=u.call(a(this),t,e),i=r(this,this.constructor),o=0,l=n.length,c=new(s(i))(l);l>o;)c[o]=n[o++];return c}),l)},function(t,e,n){var i=n(131),r=n(57).some,o=i.aTypedArray;i.exportProto("some",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=i.aTypedArray,o=[].sort;i.exportProto("sort",(function(t){return o.call(r(this),t)}))},function(t,e,n){var i=n(131),r=n(39),o=n(41),a=n(137),s=i.aTypedArray;i.exportProto("subarray",(function(t,e){var n=s(this),i=n.length,u=o(t,i);return new(a(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,r((void 0===e?i:o(e,i))-u))}))},function(t,e,n){var i=n(3),r=n(131),o=n(6),a=i.Int8Array,s=r.aTypedArray,u=[].toLocaleString,l=[].slice,c=!!a&&o((function(){u.call(new a(1))})),d=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));r.exportProto("toLocaleString",(function(){return u.apply(c?l.call(s(this)):s(this),arguments)}),d)},function(t,e,n){var i=n(3),r=n(131),o=n(6),a=i.Uint8Array,s=a&&a.prototype,u=[].toString,l=[].join;o((function(){u.call({})}))&&(u=function(){return l.call(this)}),r.exportProto("toString",u,(s||{}).toString!=u)},function(t,e,n){var i,r=n(3),o=n(132),a=n(156),s=n(155),u=n(347),l=n(14),c=n(27).enforce,d=n(28),h=!r.ActiveXObject&&"ActiveXObject"in r,f=Object.isExtensible,p=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},g=t.exports=s("WeakMap",p,u,!0,!0);if(d&&h){i=u.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var m=g.prototype,v=m.delete,y=m.has,_=m.get,b=m.set;o(m,{delete:function(t){if(l(t)&&!f(t)){var e=c(this);return e.frozen||(e.frozen=new i),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(l(t)&&!f(t)){var e=c(this);return e.frozen||(e.frozen=new i),y.call(this,t)||e.frozen.has(t)}return y.call(this,t)},get:function(t){if(l(t)&&!f(t)){var e=c(this);return e.frozen||(e.frozen=new i),y.call(this,t)?_.call(this,t):e.frozen.get(t)}return _.call(this,t)},set:function(t,e){if(l(t)&&!f(t)){var n=c(this);n.frozen||(n.frozen=new i),y.call(this,t)?b.call(this,t,e):n.frozen.set(t,e)}else b.call(this,t,e);return this}})}},function(t,e,n){var i=n(132),r=n(156).getWeakData,o=n(20),a=n(14),s=n(133),u=n(158),l=n(57),c=n(15),d=n(27),h=d.set,f=d.getterFor,p=l.find,g=l.findIndex,m=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},_=function(t,e){return p(t.entries,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var n=_(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,l){var d=t((function(t,i){s(t,d,e),h(t,{type:e,id:m++,frozen:void 0}),null!=i&&u(i,t[l],t,n)})),p=f(e),g=function(t,e,n){var i=p(t),a=r(o(e),!0);return!0===a?v(i).set(e,n):a[i.id]=n,t};return i(d.prototype,{delete:function(t){var e=p(this);if(!a(t))return!1;var n=r(t);return!0===n?v(e).delete(t):n&&c(n,e.id)&&delete n[e.id]},has:function(t){var e=p(this);if(!a(t))return!1;var n=r(t);return!0===n?v(e).has(t):n&&c(n,e.id)}}),i(d.prototype,n?{get:function(t){var e=p(this);if(a(t)){var n=r(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),d}}},function(t,e,n){n(155)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(347),!1,!0)},function(t,e,n){var i=n(2),r=n(5),o=n(108),a=n(110),s=n(48),u=n(19),l=n(8),c=n(158),d=n(18),h=n(20),f=n(27),p=f.set,g=f.getterFor("AggregateError"),m=function(t,e){var n=this;if(!(n instanceof m))return new m(t,e);a&&(n=a(new Error(e),o(n)));var i=[];return c(t,i.push,i),r?p(n,{errors:i,type:"AggregateError"}):n.errors=i,void 0!==e&&d(n,"message",String(e)),n};m.prototype=s(Error.prototype,{constructor:l(5,m),message:l(5,""),name:l(5,"AggregateError"),toString:l(5,(function(){var t=h(this).name;t=void 0===t?"AggregateError":String(t);var e=this.message;return t+": "+(e=void 0===e?"":String(e))}))}),r&&u.f(m.prototype,"errors",{get:function(){return g(this).errors},configurable:!0}),i({global:!0},{AggregateError:m})},function(t,e,n){var i=n(2),r=n(46),o=Object.isFrozen,a=function(t,e){if(!o||!r(t)||!o(t))return!1;for(var n,i=0,a=t.length;i<a;)if(!("string"==typeof(n=t[i++])||e&&void 0===n))return!1;return 0!==a};i({target:"Array",stat:!0},{isTemplateObject:function(t){if(!a(t,!0))return!1;var e=t.raw;return!(e.length!==t.length||!a(e,!1))}})},function(t,e,n){var i=n(5),r=n(80),o=n(47),a=n(39),s=n(19).f;i&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?0:e-1}}),r("lastIndex"))},function(t,e,n){var i=n(5),r=n(80),o=n(47),a=n(39),s=n(19).f;i&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?void 0:t[e-1]},set:function(t){var e=o(this),n=a(e.length);return e[0==n?0:n-1]=t}}),r("lastItem"))},function(t,e,n){var i=n(2),r=n(133),o=n(18),a=n(15),s=n(53),u=n(354),l=n(23),c=s("toStringTag"),d=function(){r(this,d)};d.prototype=u,a(u,c)||o(u,c,"AsyncIterator"),i({global:!0,forced:l},{AsyncIterator:d})},function(t,e,n){var i,r,o=n(3),a=n(24),s=n(108),u=n(15),l=n(18),c=n(53),d=n(23),h=c("asyncIterator"),f=o.AsyncIterator,p=a.AsyncIteratorPrototype;if(!d)if(p)i=p;else if("function"==typeof f)i=f.prototype;else if(a.USE_FUNCTION_CONSTRUCTOR||o.USE_FUNCTION_CONSTRUCTOR)try{r=s(s(s(Function("return async function*(){}()")()))),s(r)===Object.prototype&&(i=r)}catch(t){}i||(i={}),u(i,h)||l(i,h,(function(){return this})),t.exports=i},function(t,e,n){var i=n(2),r=n(20),o=n(356)((function(t,e){var n=this,i=n.iterator;return e.resolve(r(n.next.call(i,t))).then((function(t){return r(t).done?(n.done=!0,{done:!0,value:void 0}):{done:!1,value:[n.index++,t.value]}}))}));i({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function(){return new o({iterator:r(this),index:0})}})},function(t,e,n){var i=n(35),r=n(59),o=n(20),a=n(48),s=n(18),u=n(132),l=n(53),c=n(27),d=n(34)("Promise"),h=c.set,f=c.get,p=l("toStringTag"),g=function(t){var e=f(this).iterator,n=e.return;return void 0===n?d.resolve({done:!0,value:t}):o(n.call(e,t))},m=function(t){var e=f(this).iterator,n=e.throw;return void 0===n?d.reject(t):n.call(e,t)};t.exports=function(t,e){var n=function(t){t.next=r(t.iterator.next),t.done=!1,h(this,t)};return n.prototype=u(a(i.AsyncIterator.prototype),{next:function(e){var n=f(this);if(n.done)return d.resolve({done:!0,value:void 0});try{return d.resolve(o(t.call(n,e,d)))}catch(t){return d.reject(t)}},return:g,throw:m}),e||s(n.prototype,p,"Generator"),n}},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(356)((function(t,e){var n=this;return new e((function(i,o){var a=function(){try{e.resolve(r(n.next.call(n.iterator,n.remaining?void 0:t))).then((function(t){try{r(t).done?(n.done=!0,i({done:!0,value:void 0})):n.remaining?(n.remaining--,a()):i({done:!1,value:t.value})}catch(t){o(t)}}),o)}catch(t){o(t)}};a()}))}));i({target:"AsyncIterator",proto:!0,real:!0},{drop:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,n){var i=n(2),r=n(359).every;i({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return r(this,t)}})},function(t,e,n){var i=n(59),r=n(20),o=n(34)("Promise"),a=[].push,s=function(t){var e=0==t,n=1==t,s=2==t,u=3==t;return function(t,l){r(t);var c=i(t.next),d=e?[]:void 0;return e||i(l),new o((function(i,h){var f=function(){try{o.resolve(r(c.call(t))).then((function(t){try{if(r(t).done)i(e?d:!u&&(s||void 0));else{var c=t.value;e?(a.call(d,c),f()):o.resolve(l(c)).then((function(t){n?f():s?t?f():i(!1):t?i(u||c):f()}),h)}}catch(t){h(t)}}),h)}catch(t){h(t)}};f()}))}};t.exports={toArray:s(0),forEach:s(1),every:s(2),some:s(3),find:s(4)}},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(356)((function(t,e){var n=this,i=n.filterer;return new e((function(r,a){var s=function(){try{e.resolve(o(n.next.call(n.iterator,t))).then((function(t){try{if(o(t).done)n.done=!0,r({done:!0,value:void 0});else{var u=t.value;e.resolve(i(u)).then((function(t){t?r({done:!1,value:u}):s()}),a)}}catch(t){a(t)}}),a)}catch(t){a(t)}};s()}))}));i({target:"AsyncIterator",proto:!0,real:!0},{filter:function(t){return new a({iterator:o(this),filterer:r(t)})}})},function(t,e,n){var i=n(2),r=n(359).find;i({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return r(this,t)}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(14),s=n(356),u=n(363),l=s((function(t,e){var n,i,s=this,l=s.mapper;return new e((function(c,d){var h=function(){try{e.resolve(o(s.next.call(s.iterator,t))).then((function(t){try{o(t).done?(s.done=!0,c({done:!0,value:void 0})):e.resolve(l(t.value)).then((function(t){try{if(a(t)&&void 0!==(i=u(t)))return s.innerIterator=n=i.call(t),s.innerNext=r(n.next),f();c({done:!1,value:t})}catch(t){d(t)}}),d)}catch(t){d(t)}}),d)}catch(t){d(t)}},f=function(){if(n=s.innerIterator)try{e.resolve(o(s.innerNext.call(n))).then((function(t){try{o(t).done?(s.innerIterator=s.innerNext=null,h()):c({done:!1,value:t.value})}catch(t){d(t)}}),d)}catch(t){d(t)}else h()};f()}))}));i({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(t){return new l({iterator:o(this),mapper:r(t),innerIterator:null,innerNext:null})}})},function(t,e,n){var i=n(98),r=n(53)("asyncIterator");t.exports=function(t){var e=t[r];return void 0===e?i(t):e}},function(t,e,n){var i=n(2),r=n(359).forEach;i({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return r(this,t)}})},function(t,e,n){var i=n(2),r=n(35),o=n(59),a=n(20),s=n(47),u=n(356),l=n(363),c=r.AsyncIterator,d=u((function(t){return a(this.next.call(this.iterator,t))}),!0);i({target:"AsyncIterator",stat:!0},{from:function(t){var e,n=s(t),i=l(n);if(null!=i){if((e=o(i).call(n))instanceof c)return e}else e=n;return new d({iterator:e})}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(356)((function(t,e){var n=this,i=n.mapper;return e.resolve(o(n.next.call(n.iterator,t))).then((function(t){return o(t).done?(n.done=!0,{done:!0,value:void 0}):e.resolve(i(t.value)).then((function(t){return{done:!1,value:t}}))}))}));i({target:"AsyncIterator",proto:!0,real:!0},{map:function(t){return new a({iterator:o(this),mapper:r(t)})}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(34)("Promise");i({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){var e=o(this),n=r(e.next),i=arguments.length<2,s=i?void 0:arguments[1];return r(t),new a((function(r,u){var l=function(){try{a.resolve(o(n.call(e))).then((function(e){try{if(o(e).done)i?u(TypeError("Reduce of empty iterator with no initial value")):r(s);else{var n=e.value;i?(i=!1,s=n,l()):a.resolve(t(s,n)).then((function(t){s=t,l()}),u)}}catch(t){u(t)}}),u)}catch(t){u(t)}};l()}))}})},function(t,e,n){var i=n(2),r=n(359).some;i({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return r(this,t)}})},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(356)((function(t){return this.remaining--?this.next.call(this.iterator,t):(this.done=!0,{done:!0,value:void 0})}));i({target:"AsyncIterator",proto:!0,real:!0},{take:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,n){var i=n(2),r=n(359).toArray;i({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return r(this)}})},function(t,e,n){var i=n(2),r=n(372),o=n(34),a=n(48),s=function(){var t=o("Object","freeze");return t?t(a(null)):a(null)};i({global:!0},{compositeKey:function(){return r.apply(Object,arguments).get("object",s)}})},function(t,e,n){var i=n(154),r=n(346),o=n(48),a=n(14),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(t,e){return this[t]||(this[t]=e())},s.prototype.next=function(t,e,n){var o=n?this.objectsByIndex[t]||(this.objectsByIndex[t]=new r):this.primitives||(this.primitives=new i),a=o.get(e);return a||o.set(e,a=new s),a};var u=new s;t.exports=function(){var t,e,n=u,i=arguments.length;for(t=0;t<i;t++)a(e=arguments[t])&&(n=n.next(t,e,!0));if(this===Object&&n===u)throw TypeError("Composite keys must contain a non-primitive component");for(t=0;t<i;t++)a(e=arguments[t])||(n=n.next(t,e,!1));return n}},function(t,e,n){var i=n(2),r=n(372),o=n(34);i({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?o("Symbol").for(arguments[0]):r.apply(null,arguments).get("symbol",o("Symbol"))}})},function(t,e,n){n(152)},function(t,e,n){var i=n(2),r=n(3),o=n(133),a=n(18),s=n(15),u=n(53),l=n(107).IteratorPrototype,c=n(23),d=u("iterator"),h=u("toStringTag"),f=r.Iterator,p=c||"function"!=typeof f||f.prototype!==l,g=function(){o(this,g)};c&&a(l={},d,(function(){return this})),s(l,h)||a(l,h,"Iterator"),g.prototype=l,i({global:!0,forced:p},{Iterator:g})},function(t,e,n){var i=n(2),r=n(20),o=n(377)((function(t){var e=r(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return[this.index++,e.value]}));i({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function(){return new o({iterator:r(this),index:0})}})},function(t,e,n){var i=n(35),r=n(59),o=n(20),a=n(48),s=n(18),u=n(132),l=n(53),c=n(27),d=c.set,h=c.get,f=l("toStringTag"),p=function(t){var e=h(this).iterator,n=e.return;return void 0===n?{done:!0,value:t}:o(n.call(e,t))},g=function(t){var e=h(this).iterator,n=e.throw;if(void 0===n)throw t;return n.call(e,t)};t.exports=function(t,e){var n=function(t){t.next=r(t.iterator.next),t.done=!1,d(this,t)};return n.prototype=u(a(i.Iterator.prototype),{next:function(){var e=h(this),n=e.done?void 0:t.apply(e,arguments);return{done:e.done,value:n}},return:p,throw:g}),e||s(n.prototype,f,"Generator"),n}},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(377)((function(t){for(var e,n=this.iterator,i=this.next;this.remaining;)if(this.remaining--,e=r(i.call(n)),this.done=!!e.done)return;if(e=r(i.call(n,t)),!(this.done=!!e.done))return e.value}));i({target:"Iterator",proto:!0,real:!0},{drop:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,n){var i=n(2),r=n(158),o=n(59),a=n(20);i({target:"Iterator",proto:!0,real:!0},{every:function(t){return a(this),o(t),!r(this,(function(e){if(!t(e))return r.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(377),s=n(95),u=a((function(t){for(var e,n,i=this.iterator,r=this.filterer,a=this.next;;){if(e=o(a.call(i,t)),this.done=!!e.done)return;if(n=e.value,s(i,r,n))return n}}));i({target:"Iterator",proto:!0,real:!0},{filter:function(t){return new u({iterator:o(this),filterer:r(t)})}})},function(t,e,n){var i=n(2),r=n(158),o=n(59),a=n(20);i({target:"Iterator",proto:!0,real:!0},{find:function(t){return a(this),o(t),r(this,(function(e){if(t(e))return r.stop(e)}),void 0,!1,!0).result}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(14),s=n(98),u=n(377),l=n(95),c=u((function(t){for(var e,n,i,u,c=this.iterator;;){if(u=this.innerIterator){if(!(e=o(this.innerNext.call(u))).done)return e.value;this.innerIterator=this.innerNext=null}if(e=o(this.next.call(c,t)),this.done=!!e.done)return;if(n=l(c,this.mapper,e.value),!a(n)||void 0===(i=s(n)))return n;this.innerIterator=u=i.call(n),this.innerNext=r(u.next)}}));i({target:"Iterator",proto:!0,real:!0},{flatMap:function(t){return new c({iterator:o(this),mapper:r(t),innerIterator:null,innerNext:null})}})},function(t,e,n){var i=n(2),r=n(158),o=n(20);i({target:"Iterator",proto:!0,real:!0},{forEach:function(t){r(o(this),t,void 0,!1,!0)}})},function(t,e,n){var i=n(2),r=n(35),o=n(59),a=n(20),s=n(47),u=n(377),l=n(98),c=r.Iterator,d=u((function(t){var e=a(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return e.value}),!0);i({target:"Iterator",stat:!0},{from:function(t){var e,n=s(t),i=l(n);if(null!=i){if((e=o(i).call(n))instanceof c)return e}else e=n;return new d({iterator:e})}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(377),s=n(95),u=a((function(t){var e=this.iterator,n=o(this.next.call(e,t));if(!(this.done=!!n.done))return s(e,this.mapper,n.value)}));i({target:"Iterator",proto:!0,real:!0},{map:function(t){return new u({iterator:o(this),mapper:r(t)})}})},function(t,e,n){var i=n(2),r=n(158),o=n(59),a=n(20);i({target:"Iterator",proto:!0,real:!0},{reduce:function(t){a(this),o(t);var e=arguments.length<2,n=e?void 0:arguments[1];if(r(this,(function(i){e?(e=!1,n=i):n=t(n,i)}),void 0,!1,!0),e)throw TypeError("Reduce of empty iterator with no initial value");return n}})},function(t,e,n){var i=n(2),r=n(158),o=n(59),a=n(20);i({target:"Iterator",proto:!0,real:!0},{some:function(t){return a(this),o(t),r(this,(function(e){if(t(e))return r.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(377)((function(t){if(this.remaining--){var e=r(this.next.call(this.iterator,t));return(this.done=!!e.done)?void 0:e.value}this.done=!0}));i({target:"Iterator",proto:!0,real:!0},{take:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,n){var i=n(2),r=n(158),o=n(20),a=[].push;i({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return r(o(this),a,t,!1,!0),t}})},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"Map",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(20),r=n(59);t.exports=function(){for(var t,e=i(this),n=r(e.delete),o=!0,a=0,s=arguments.length;a<s;a++)t=n.call(e,arguments[a]),o=o&&t;return!!o}},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{every:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(t,n){if(!i(n,t,e))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e,n){var i=n(23),r=n(394);t.exports=i?r:function(t){return Map.prototype.entries.call(t)}},function(t,e,n){var i=n(20),r=n(98);t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return i(e.call(t))}},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(393),d=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{filter:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Map"))),h=s(r.set);return d(n,(function(t,n){i(n,t,e)&&h.call(r,t,n)}),void 0,!0,!0),r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{find:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t,n){if(i(n,t,e))return u.stop(n)}),void 0,!0,!0).result}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{findKey:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t,n){if(i(n,t,e))return u.stop(t)}),void 0,!0,!0).result}})},function(t,e,n){n(2)({target:"Map",stat:!0},{from:n(399)})},function(t,e,n){var i=n(59),r=n(58),o=n(158);t.exports=function(t){var e,n,a,s,u=arguments.length,l=u>1?arguments[1]:void 0;return i(this),(e=void 0!==l)&&i(l),null==t?new this:(n=[],e?(a=0,s=r(l,u>2?arguments[2]:void 0,2),o(t,(function(t){n.push(s(t,a++))}))):o(t,n.push,n),new this(n))}},function(t,e,n){var i=n(2),r=n(158),o=n(59);i({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;o(e);var i=o(n.has),a=o(n.get),s=o(n.set);return r(t,(function(t){var r=e(t);i.call(n,r)?a.call(n,r).push(t):s.call(n,r,[t])})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(393),s=n(402),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{includes:function(t){return u(a(o(this)),(function(e,n){if(s(n,t))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var i=n(2),r=n(158),o=n(59);i({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;o(e);var i=o(n.set);return r(t,(function(t){i.call(n,e(t),t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(393),s=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{keyOf:function(t){return s(a(o(this)),(function(e,n){if(n===t)return s.stop(e)}),void 0,!0,!0).result}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(393),d=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{mapKeys:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Map"))),h=s(r.set);return d(n,(function(t,n){h.call(r,i(n,t,e),n)}),void 0,!0,!0),r}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(393),d=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{mapValues:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Map"))),h=s(r.set);return d(n,(function(t,n){h.call(r,t,i(n,t,e))}),void 0,!0,!0),r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{merge:function(t){for(var e=o(this),n=a(e.set),i=0;i<arguments.length;)s(arguments[i++],n,e,!0);return e}})},function(t,e,n){n(2)({target:"Map",stat:!0},{of:n(409)})},function(t,e,n){t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{reduce:function(t){var e=o(this),n=s(e),i=arguments.length<2,r=i?void 0:arguments[1];if(a(t),u(n,(function(n,o){i?(i=!1,r=o):r=t(r,o,n,e)}),void 0,!0,!0),i)throw TypeError("Reduce of empty map with no initial value");return r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{some:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t,n){if(i(n,t,e))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59);i({target:"Map",proto:!0,real:!0,forced:r},{update:function(t,e){var n=o(this),i=arguments.length;a(e);var r=n.has(t);if(!r&&i<3)throw TypeError("Updating absent value");var s=r?n.get(t):a(i>2?arguments[2]:void 0)(t,n);return n.set(t,e(s,t,n)),n}})},function(t,e,n){n(2)({target:"Map",proto:!0,real:!0,forced:n(23)},{updateOrInsert:n(414)})},function(t,e,n){var i=n(20);t.exports=function(t,e){var n,r=i(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e&&"function"!=typeof o)throw TypeError("At least one callback required");return r.has(t)?(n=r.get(t),"function"==typeof e&&(n=e(n),r.set(t,n))):"function"==typeof o&&(n=o(),r.set(t,n)),n}},function(t,e,n){n(2)({target:"Map",proto:!0,real:!0,forced:n(23)},{upsert:n(414)})},function(t,e,n){var i=n(2),r=Math.min,o=Math.max;i({target:"Math",stat:!0},{clamp:function(t,e,n){return r(n,o(e,t))}})},function(t,e,n){n(2)({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(2),r=180/Math.PI;i({target:"Math",stat:!0},{degrees:function(t){return t*r}})},function(t,e,n){var i=n(2),r=n(420),o=n(172);i({target:"Math",stat:!0},{fscale:function(t,e,n,i,a){return o(r(t,e,n,i,a))}})},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e,n){n(2)({target:"Math",stat:!0},{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,n){n(2)({target:"Math",stat:!0},{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>16,s=i>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>16)+((r*s>>>0)+(65535&u)>>16)}})},function(t,e,n){n(2)({target:"Math",stat:!0},{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,n){n(2)({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(2),r=Math.PI/180;i({target:"Math",stat:!0},{radians:function(t){return t*r}})},function(t,e,n){n(2)({target:"Math",stat:!0},{scale:n(420)})},function(t,e,n){var i=n(2),r=n(20),o=n(188),a=n(106),s=n(27),u=s.set,l=s.getterFor("Seeded Random Generator"),c=a((function(t){u(this,{type:"Seeded Random Generator",seed:t%2147483647})}),"Seeded Random",(function(){var t=l(this);return{value:(1073741823&(t.seed=(1103515245*t.seed+12345)%2147483647))/1073741823,done:!1}}));i({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var e=r(t).seed;if(!o(e))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new c(e)}})},function(t,e,n){n(2)({target:"Math",stat:!0},{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){n(2)({target:"Math",stat:!0},{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>>16,s=i>>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>>16)+((r*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){var i=n(2),r=n(40),o=n(198),a=/^[\da-z]+$/;i({target:"Number",stat:!0},{fromString:function(t,e){var n,i,s=1;if("string"!=typeof t)throw TypeError("Invalid number representation");if(!t.length)throw SyntaxError("Invalid number representation");if("-"==t.charAt(0)&&(s=-1,!(t=t.slice(1)).length))throw SyntaxError("Invalid number representation");if((n=void 0===e?10:r(e))<2||n>36)throw RangeError("Invalid radix");if(!a.test(t)||(i=o(t,n)).toString(n)!==t)throw SyntaxError("Invalid number representation");return s*i}})},function(t,e,n){var i=n(2),r=n(5),o=n(125),a=n(59),s=n(20),u=n(14),l=n(133),c=n(19).f,d=n(18),h=n(132),f=n(394),p=n(158),g=n(241),m=n(53),v=n(27),y=m("observable"),_=v.get,b=v.set,T=function(t){return null==t?void 0:a(t)},w=function(t){var e=t.cleanup;if(e){t.cleanup=void 0;try{e()}catch(t){g(t)}}},S=function(t){return void 0===t.observer},E=function(t,e){if(!r){t.closed=!0;var n=e.subscriptionObserver;n&&(n.closed=!0)}e.observer=void 0},O=function(t,e){var n,i=b(this,{cleanup:void 0,observer:s(t),subscriptionObserver:void 0});r||(this.closed=!1);try{(n=T(t.start))&&n.call(t,this)}catch(t){g(t)}if(!S(i)){var o=i.subscriptionObserver=new C(this);try{var u=e(o),l=u;null!=u&&(i.cleanup="function"==typeof u.unsubscribe?function(){l.unsubscribe()}:a(u))}catch(t){return void o.error(t)}S(i)&&w(i)}};O.prototype=h({},{unsubscribe:function(){var t=_(this);S(t)||(E(this,t),w(t))}}),r&&c(O.prototype,"closed",{configurable:!0,get:function(){return S(_(this))}});var C=function(t){b(this,{subscription:t}),r||(this.closed=!1)};C.prototype=h({},{next:function(t){var e=_(_(this).subscription);if(!S(e)){var n=e.observer;try{var i=T(n.next);i&&i.call(n,t)}catch(t){g(t)}}},error:function(t){var e=_(this).subscription,n=_(e);if(!S(n)){var i=n.observer;E(e,n);try{var r=T(i.error);r?r.call(i,t):g(t)}catch(t){g(t)}w(n)}},complete:function(){var t=_(this).subscription,e=_(t);if(!S(e)){var n=e.observer;E(t,e);try{var i=T(n.complete);i&&i.call(n)}catch(t){g(t)}w(e)}}}),r&&c(C.prototype,"closed",{configurable:!0,get:function(){return S(_(_(this).subscription))}});var A=function(t){l(this,A,"Observable"),b(this,{subscriber:a(t)})};h(A.prototype,{subscribe:function(t){var e=arguments.length;return new O("function"==typeof t?{next:t,error:e>1?arguments[1]:void 0,complete:e>2?arguments[2]:void 0}:u(t)?t:{},_(this).subscriber)}}),h(A,{from:function(t){var e="function"==typeof this?this:A,n=T(s(t)[y]);if(n){var i=s(n.call(t));return i.constructor===e?i:new e((function(t){return i.subscribe(t)}))}var r=f(t);return new e((function(t){p(r,(function(e){if(t.next(e),t.closed)return p.stop()}),void 0,!1,!0),t.complete()}))},of:function(){for(var t="function"==typeof this?this:A,e=arguments.length,n=new Array(e),i=0;i<e;)n[i]=arguments[i++];return new t((function(t){for(var i=0;i<e;i++)if(t.next(n[i]),t.closed)return;t.complete()}))}}),d(A.prototype,y,(function(){return this})),i({global:!0},{Observable:A}),o("Observable")},function(t,e,n){n(243)},function(t,e,n){var i=n(2),r=n(59),o=n(34),a=n(240),s=n(242),u=n(158);i({target:"Promise",stat:!0},{any:function(t){var e=this,n=a.f(e),i=n.resolve,l=n.reject,c=s((function(){var n=r(e.resolve),a=[],s=0,c=1,d=!1;u(t,(function(t){var r=s++,u=!1;a.push(void 0),c++,n.call(e,t).then((function(t){u||d||(d=!0,i(t))}),(function(t){u||d||(u=!0,a[r]=t,--c||l(new(o("AggregateError"))(a,"No one promise resolved")))}))})),--c||l(new(o("AggregateError"))(a,"No one promise resolved"))}));return c.error&&l(c.value),n.promise}})},function(t,e,n){var i=n(2),r=n(240),o=n(242);i({target:"Promise",stat:!0},{try:function(t){var e=r.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.toKey,s=r.set;i({target:"Reflect",stat:!0},{defineMetadata:function(t,e,n){var i=arguments.length<4?void 0:a(arguments[3]);s(t,e,o(n),i)}})},function(t,e,n){var i=n(154),r=n(346),o=n(22)("metadata"),a=o.store||(o.store=new r),s=function(t,e,n){var r=a.get(t);if(!r){if(!n)return;a.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o};t.exports={store:a,getMap:s,has:function(t,e,n){var i=s(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=s(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){s(n,i,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),i=[];return n&&n.forEach((function(t,e){i.push(e)})),i},toKey:function(t){return void 0===t||"symbol"==typeof t?t:String(t)}}},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.toKey,s=r.getMap,u=r.store;i({target:"Reflect",stat:!0},{deleteMetadata:function(t,e){var n=arguments.length<3?void 0:a(arguments[2]),i=s(o(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var r=u.get(e);return r.delete(n),!!r.size||u.delete(e)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=n(108),s=r.has,u=r.get,l=r.toKey,c=function(t,e,n){if(s(t,e,n))return u(t,e,n);var i=a(e);return null!==i?c(t,i,n):void 0};i({target:"Reflect",stat:!0},{getMetadata:function(t,e){var n=arguments.length<3?void 0:l(arguments[2]);return c(t,o(e),n)}})},function(t,e,n){var i=n(2),r=n(265),o=n(436),a=n(20),s=n(108),u=n(158),l=o.keys,c=o.toKey,d=function(t,e){var n=l(t,e),i=s(t);if(null===i)return n;var o,a,c=d(i,e);return c.length?n.length?(o=new r(n.concat(c)),u(o,(a=[]).push,a),a):c:n};i({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var e=arguments.length<2?void 0:c(arguments[1]);return d(a(t),e)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.get,s=r.toKey;i({target:"Reflect",stat:!0},{getOwnMetadata:function(t,e){var n=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),n)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.keys,s=r.toKey;i({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var e=arguments.length<2?void 0:s(arguments[1]);return a(o(t),e)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=n(108),s=r.has,u=r.toKey,l=function(t,e,n){if(s(t,e,n))return!0;var i=a(e);return null!==i&&l(t,i,n)};i({target:"Reflect",stat:!0},{hasMetadata:function(t,e){var n=arguments.length<3?void 0:u(arguments[2]);return l(t,o(e),n)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.has,s=r.toKey;i({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,e){var n=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),n)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.toKey,s=r.set;i({target:"Reflect",stat:!0},{metadata:function(t,e){return function(n,i){s(t,e,o(n),a(i))}}})},function(t,e,n){var i=n(2),r=n(23),o=n(446);i({target:"Set",proto:!0,real:!0,forced:r},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(20),r=n(59);t.exports=function(){for(var t=i(this),e=r(t.add),n=0,o=arguments.length;n<o;n++)e.call(t,arguments[n]);return t}},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"Set",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{difference:function(t){var e=a(this),n=new(u(e,o("Set")))(e),i=s(n.delete);return l(t,(function(t){i.call(n,t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(450),u=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{every:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(t){if(!i(t,t,e))return u.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(23),r=n(394);t.exports=i?r:function(t){return Set.prototype.values.call(t)}},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(450),d=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{filter:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Set"))),h=s(r.add);return d(n,(function(t){i(t,t,e)&&h.call(r,t)}),void 0,!1,!0),r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(450),u=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{find:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t){if(i(t,t,e))return u.stop(t)}),void 0,!1,!0).result}})},function(t,e,n){n(2)({target:"Set",stat:!0},{from:n(399)})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{intersection:function(t){var e=a(this),n=new(u(e,o("Set"))),i=s(e.has),r=s(n.add);return l(t,(function(t){i.call(e,t)&&r.call(n,t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:function(t){var e=o(this),n=a(e.has);return!s(t,(function(t){if(!0===n.call(e,t))return s.stop()})).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(394),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:function(t){var e=u(this),n=a(t),i=n.has;return"function"!=typeof i&&(n=new(o("Set"))(t),i=s(n.has)),!l(e,(function(t){if(!1===i.call(n,t))return l.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:function(t){var e=o(this),n=a(e.has);return!s(t,(function(t){if(!1===n.call(e,t))return s.stop()})).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(450),s=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{join:function(t){var e=o(this),n=a(e),i=void 0===t?",":String(t),r=[];return s(n,r.push,r,!1,!0),r.join(i)}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(450),d=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{map:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Set"))),h=s(r.add);return d(n,(function(t){h.call(r,i(t,t,e))}),void 0,!1,!0),r}})},function(t,e,n){n(2)({target:"Set",stat:!0},{of:n(409)})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(450),u=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{reduce:function(t){var e=o(this),n=s(e),i=arguments.length<2,r=i?void 0:arguments[1];if(a(t),u(n,(function(n){i?(i=!1,r=n):r=t(r,n,n,e)}),void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(450),u=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{some:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t){if(i(t,t,e))return u.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{symmetricDifference:function(t){var e=a(this),n=new(u(e,o("Set")))(e),i=s(n.delete),r=s(n.add);return l(t,(function(t){i.call(n,t)||r.call(n,t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{union:function(t){var e=a(this),n=new(u(e,o("Set")))(e);return l(t,s(n.add),n),n}})},function(t,e,n){var i=n(2),r=n(267).charAt;i({target:"String",proto:!0},{at:function(t){return r(this,t)}})},function(t,e,n){var i=n(2),r=n(106),o=n(12),a=n(27),s=n(267),u=s.codeAt,l=s.charAt,c=a.set,d=a.getterFor("String Iterator"),h=r((function(t){c(this,{type:"String Iterator",string:t,index:0})}),"String",(function(){var t,e=d(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=l(n,i),e.index+=t.length,{value:{codePoint:u(t,0),position:i},done:!1})}));i({target:"String",proto:!0},{codePoints:function(){return new h(String(o(this)))}})},function(t,e,n){n(278)},function(t,e,n){var i=n(2),r=n(12),o=n(259),a=n(260),s=n(53),u=n(23),l=s("replace"),c=RegExp.prototype;i({target:"String",proto:!0},{replaceAll:function(t,e){var n,i,s,d,h,f,p,g=r(this);if(null!=t){if((n=o(t))&&!~String(r("flags"in c?t.flags:a.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(i=t[l]))return i.call(t,g,e);if(u&&n)return String(g).replace(t,e)}if(s=String(g),d=String(t),h=s.split(d),"function"!=typeof e)return h.join(String(e));for(f=h[0],p=1;p<h.length;p++)f+=String(e(d,p-1,s)),f+=h[p];return f}})},function(t,e,n){n(55)("asyncDispose")},function(t,e,n){n(55)("dispose")},function(t,e,n){n(55)("observable")},function(t,e,n){n(55)("patternMatch")},function(t,e,n){n(55)("replaceAll")},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"WeakMap",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){n(2)({target:"WeakMap",stat:!0},{from:n(399)})},function(t,e,n){n(2)({target:"WeakMap",stat:!0},{of:n(409)})},function(t,e,n){n(2)({target:"WeakMap",proto:!0,real:!0,forced:n(23)},{upsert:n(414)})},function(t,e,n){var i=n(2),r=n(23),o=n(446);i({target:"WeakSet",proto:!0,real:!0,forced:r},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"WeakSet",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){n(2)({target:"WeakSet",stat:!0},{from:n(399)})},function(t,e,n){n(2)({target:"WeakSet",stat:!0},{of:n(409)})},function(t,e,n){var i=n(3),r=n(483),o=n(92),a=n(18);for(var s in r){var u=i[s],l=u&&u.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(t){l.forEach=o}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var i=n(3),r=n(483),o=n(104),a=n(18),s=n(53),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var d in r){var h=i[d],f=h&&h.prototype;if(f){if(f[u]!==c)try{a(f,u,c)}catch(t){f[u]=c}if(f[l]||a(f,l,d),r[d])for(var p in o)if(f[p]!==o[p])try{a(f,p,o[p])}catch(t){f[p]=o[p]}}}},function(t,e,n){var i=n(3),r=n(236),o=!i.setImmediate||!i.clearImmediate;n(2)({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var i=n(2),r=n(3),o=n(238),a=n(11),s=r.process,u="process"==a(s);i({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=u&&s.domain;o(e?e.bind(t):t)}})},function(t,e,n){var i=n(2),r=n(3),o=n(237),a=[].slice,s=function(t){return function(e,n){var i=arguments.length>2,r=i?a.call(arguments,2):void 0;return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(t,e,n){n(273);var i,r=n(2),o=n(5),a=n(489),s=n(3),u=n(49),l=n(21),c=n(133),d=n(15),h=n(203),f=n(94),p=n(267).codeAt,g=n(490),m=n(56),v=n(491),y=n(27),_=s.URL,b=v.URLSearchParams,T=v.getState,w=y.set,S=y.getterFor("URL"),E=Math.floor,O=Math.pow,C=/[A-Za-z]/,A=/[\d+\-.A-Za-z]/,P=/\d/,I=/^(0x|0X)/,x=/^[0-7]+$/,M=/^\d+$/,k=/^[\dA-Fa-f]+$/,D=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,R=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\u0009\u000A\u000D]/g,V=function(t,e){var n,i,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=j(e.slice(1,-1))))return"Invalid host";t.host=n}else if(Y(t)){if(e=g(e),D.test(e))return"Invalid host";if(null===(n=F(e)))return"Invalid host";t.host=n}else{if(R.test(e))return"Invalid host";for(n="",i=f(e),r=0;r<i.length;r++)n+=z(i[r],B);t.host=n}},F=function(t){var e,n,i,r,o,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(n=[],i=0;i<e;i++){if(""==(r=u[i]))return t;if(o=10,r.length>1&&"0"==r.charAt(0)&&(o=I.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)a=0;else{if(!(10==o?M:8==o?x:k).test(r))return t;a=parseInt(r,o)}n.push(a)}for(i=0;i<e;i++)if(a=n[i],i==e-1){if(a>=O(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*O(256,3-i);return s},j=function(t){var e,n,i,r,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,d=0,h=function(){return t.charAt(d)};if(":"==h()){if(":"!=t.charAt(1))return;d+=2,c=++l}for(;h();){if(8==l)return;if(":"!=h()){for(e=n=0;n<4&&k.test(h());)e=16*e+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;for(i=0;h();){if(r=null,i>0){if(!("."==h()&&i<4))return;d++}if(!P.test(h()))return;for(;P.test(h());){if(o=parseInt(h(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;d++}u[l]=256*u[l]+r,2!=++i&&4!=i||l++}if(4!=i)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;u[l++]=e}else{if(null!==c)return;d++,c=++l}}if(null!==c)for(a=l-c,l=7;0!=l&&a>0;)s=u[l],u[l--]=u[c+a-1],u[c+--a]=s;else if(8!=l)return;return u},U=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=E(t/256);return e.join(".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,o=0;o<8;o++)0!==t[o]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},B={},H=h({},B,{" ":1,'"':1,"<":1,">":1,"`":1}),G=h({},H,{"#":1,"?":1,"{":1,"}":1}),W=h({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(t,e){var n=p(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(t){return d($,t.scheme)},q=function(t){return""!=t.username||""!=t.password},X=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},K=function(t,e){var n;return 2==t.length&&C.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Z=function(t){var e;return t.length>1&&K(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},J=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&K(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},it={},rt={},ot={},at={},st={},ut={},lt={},ct={},dt={},ht={},ft={},pt={},gt={},mt={},vt={},yt={},_t={},bt={},Tt=function(t,e,n,r){var o,a,s,u,l,c=n||tt,h=0,p="",g=!1,m=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(N,"")),e=e.replace(L,""),o=f(e);h<=o.length;){switch(a=o[h],c){case tt:if(!a||!C.test(a)){if(n)return"Invalid scheme";c=nt;continue}p+=a.toLowerCase(),c=et;break;case et:if(a&&(A.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",c=nt,h=0;continue}if(n&&(Y(t)!=d($,p)||"file"==p&&(q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(Y(t)&&$[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?c=ft:Y(t)&&r&&r.scheme==t.scheme?c=it:Y(t)?c=st:"/"==o[h+1]?(c=rt,h++):(t.cannotBeABaseURL=!0,t.path.push(""),c=yt)}break;case nt:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=bt;break}c="file"==r.scheme?ft:ot;continue;case it:if("/"!=a||"/"!=o[h+1]){c=ot;continue}c=ut,h++;break;case rt:if("/"==a){c=lt;break}c=vt;continue;case ot:if(t.scheme=r.scheme,a==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==a||"\\"==a&&Y(t))c=at;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=_t;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=vt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=bt}break;case at:if(!Y(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=vt;continue}c=lt}else c=ut;break;case st:if(c=ut,"/"!=a||"/"!=p.charAt(h+1))continue;h++;break;case ut:if("/"!=a&&"\\"!=a){c=lt;continue}break;case lt:if("@"==a){g&&(p="%40"+p),g=!0,s=f(p);for(var y=0;y<s.length;y++){var _=s[y];if(":"!=_||v){var b=z(_,W);v?t.password+=b:t.username+=b}else v=!0}p=""}else if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(g&&""==p)return"Invalid authority";h-=f(p).length+1,p="",c=ct}else p+=a;break;case ct:case dt:if(n&&"file"==t.scheme){c=gt;continue}if(":"!=a||m){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(Y(t)&&""==p)return"Invalid host";if(n&&""==p&&(q(t)||null!==t.port))return;if(u=V(t,p))return u;if(p="",c=mt,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),p+=a}else{if(""==p)return"Invalid host";if(u=V(t,p))return u;if(p="",c=ht,n==dt)return}break;case ht:if(!P.test(a)){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)||n){if(""!=p){var T=parseInt(p,10);if(T>65535)return"Invalid port";t.port=Y(t)&&T===$[t.scheme]?null:T,p=""}if(n)return;c=mt;continue}return"Invalid port"}p+=a;break;case ft:if(t.scheme="file","/"==a||"\\"==a)c=pt;else{if(!r||"file"!=r.scheme){c=vt;continue}if(a==i)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==a)t.host=r.host,t.path=r.path.slice(),t.query="",c=_t;else{if("#"!=a){Z(o.slice(h).join(""))||(t.host=r.host,t.path=r.path.slice(),J(t)),c=vt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=bt}}break;case pt:if("/"==a||"\\"==a){c=gt;break}r&&"file"==r.scheme&&!Z(o.slice(h).join(""))&&(K(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=vt;continue;case gt:if(a==i||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&K(p))c=vt;else if(""==p){if(t.host="",n)return;c=mt}else{if(u=V(t,p))return u;if("localhost"==t.host&&(t.host=""),n)return;p="",c=mt}continue}p+=a;break;case mt:if(Y(t)){if(c=vt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=i&&(c=vt,"/"!=a))continue}else t.fragment="",c=bt;else t.query="",c=_t;break;case vt:if(a==i||"/"==a||"\\"==a&&Y(t)||!n&&("?"==a||"#"==a)){if(".."===(l=(l=p).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(J(t),"/"==a||"\\"==a&&Y(t)||t.path.push("")):Q(p)?"/"==a||"\\"==a&&Y(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&K(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==i||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",c=_t):"#"==a&&(t.fragment="",c=bt)}else p+=z(a,G);break;case yt:"?"==a?(t.query="",c=_t):"#"==a?(t.fragment="",c=bt):a!=i&&(t.path[0]+=z(a,B));break;case _t:n||"#"!=a?a!=i&&("'"==a&&Y(t)?t.query+="%27":t.query+="#"==a?"%23":z(a,B)):(t.fragment="",c=bt);break;case bt:a!=i&&(t.fragment+=z(a,H))}h++}},wt=function(t){var e,n,i=c(this,wt,"URL"),r=arguments.length>1?arguments[1]:void 0,a=String(t),s=w(i,{type:"URL"});if(void 0!==r)if(r instanceof wt)e=S(r);else if(n=Tt(e={},String(r)))throw TypeError(n);if(n=Tt(s,a,null,e))throw TypeError(n);var u=s.searchParams=new b,l=T(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},o||(i.href=Et.call(i),i.origin=Ot.call(i),i.protocol=Ct.call(i),i.username=At.call(i),i.password=Pt.call(i),i.host=It.call(i),i.hostname=xt.call(i),i.port=Mt.call(i),i.pathname=kt.call(i),i.search=Dt.call(i),i.searchParams=Rt.call(i),i.hash=Nt.call(i))},St=wt.prototype,Et=function(){var t=S(this),e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,l=e+":";return null!==r?(l+="//",q(t)&&(l+=n+(i?":"+i:"")+"@"),l+=U(r),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Ot=function(){var t=S(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Y(t)?e+"://"+U(t.host)+(null!==n?":"+n:""):"null"},Ct=function(){return S(this).scheme+":"},At=function(){return S(this).username},Pt=function(){return S(this).password},It=function(){var t=S(this),e=t.host,n=t.port;return null===e?"":null===n?U(e):U(e)+":"+n},xt=function(){var t=S(this).host;return null===t?"":U(t)},Mt=function(){var t=S(this).port;return null===t?"":String(t)},kt=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Dt=function(){var t=S(this).query;return t?"?"+t:""},Rt=function(){return S(this).searchParams},Nt=function(){var t=S(this).fragment;return t?"#"+t:""},Lt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&u(St,{href:Lt(Et,(function(t){var e=S(this),n=String(t),i=Tt(e,n);if(i)throw TypeError(i);T(e.searchParams).updateSearchParams(e.query)})),origin:Lt(Ot),protocol:Lt(Ct,(function(t){var e=S(this);Tt(e,String(t)+":",tt)})),username:Lt(At,(function(t){var e=S(this),n=f(String(t));if(!X(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=z(n[i],W)}})),password:Lt(Pt,(function(t){var e=S(this),n=f(String(t));if(!X(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=z(n[i],W)}})),host:Lt(It,(function(t){var e=S(this);e.cannotBeABaseURL||Tt(e,String(t),ct)})),hostname:Lt(xt,(function(t){var e=S(this);e.cannotBeABaseURL||Tt(e,String(t),dt)})),port:Lt(Mt,(function(t){var e=S(this);X(e)||(""==(t=String(t))?e.port=null:Tt(e,t,ht))})),pathname:Lt(kt,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],Tt(e,t+"",mt))})),search:Lt(Dt,(function(t){var e=S(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Tt(e,t,_t)),T(e.searchParams).updateSearchParams(e.query)})),searchParams:Lt(Rt),hash:Lt(Nt,(function(t){var e=S(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Tt(e,t,bt)):e.fragment=null}))}),l(St,"toJSON",(function(){return Et.call(this)}),{enumerable:!0}),l(St,"toString",(function(){return Et.call(this)}),{enumerable:!0}),_){var Vt=_.createObjectURL,Ft=_.revokeObjectURL;Vt&&l(wt,"createObjectURL",(function(t){return Vt.apply(_,arguments)})),Ft&&l(wt,"revokeObjectURL",(function(t){return Ft.apply(_,arguments)}))}m(wt,"URL"),r({global:!0,forced:!a,sham:!o},{URL:wt})},function(t,e,n){var i=n(6),r=n(53),o=n(23),a=r("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,i){e.delete("b"),n+=i+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){var i=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(t){return t+22+75*(t<26)},l=function(t,e,n){var i=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;i+=36)t=a(t/35);return a(i+36*t/(t+38))},c=function(t){var e,n,i=[],r=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e}(t)).length,c=128,d=0,h=72;for(e=0;e<t.length;e++)(n=t[e])<128&&i.push(s(n));var f=i.length,p=f;for(f&&i.push("-");p<r;){var g=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=c&&n<g&&(g=n);var m=p+1;if(g-c>a((2147483647-d)/m))throw RangeError(o);for(d+=(g-c)*m,c=g,e=0;e<t.length;e++){if((n=t[e])<c&&++d>2147483647)throw RangeError(o);if(n==c){for(var v=d,y=36;;y+=36){var _=y<=h?1:y>=h+26?26:y-h;if(v<_)break;var b=v-_,T=36-_;i.push(s(u(_+b%T))),v=a(b/T)}i.push(s(u(v))),h=l(d,m,p==f),d=0,++p}}++d,++c}return i.join("")};t.exports=function(t){var e,n,o=[],a=t.toLowerCase().replace(r,".").split(".");for(e=0;e<a.length;e++)n=a[e],o.push(i.test(n)?"xn--"+c(n):n);return o.join(".")}},function(t,e,n){n(104);var i=n(2),r=n(489),o=n(21),a=n(132),s=n(56),u=n(106),l=n(27),c=n(133),d=n(15),h=n(58),f=n(20),p=n(14),g=n(394),m=n(98),v=n(53)("iterator"),y=l.set,_=l.getterFor("URLSearchParams"),b=l.getterFor("URLSearchParamsIterator"),T=/\+/g,w=Array(4),S=function(t){return w[t-1]||(w[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},E=function(t){try{return decodeURIComponent(t)}catch(e){return t}},O=function(t){var e=t.replace(T," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(S(n--),E);return e}},C=/[!'()~]|%20/g,A={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(t){return A[t]},I=function(t){return encodeURIComponent(t).replace(C,P)},x=function(t,e){if(e)for(var n,i,r=e.split("&"),o=0;o<r.length;)(n=r[o++]).length&&(i=n.split("="),t.push({key:O(i.shift()),value:O(i.join("="))}))},M=function(t){this.entries.length=0,x(this.entries,t)},k=function(t,e){if(t<e)throw TypeError("Not enough arguments")},D=u((function(t,e){y(this,{type:"URLSearchParamsIterator",iterator:g(_(t).entries),kind:e})}),"Iterator",(function(){var t=b(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n})),R=function(){c(this,R,"URLSearchParams");var t,e,n,i,r,o,a,s,u,l=arguments.length>0?arguments[0]:void 0,h=this,v=[];if(y(h,{type:"URLSearchParams",entries:v,updateURL:function(){},updateSearchParams:M}),void 0!==l)if(p(l))if("function"==typeof(t=m(l)))for(n=(e=t.call(l)).next;!(i=n.call(e)).done;){if((a=(o=(r=g(f(i.value))).next).call(r)).done||(s=o.call(r)).done||!o.call(r).done)throw TypeError("Expected sequence with length 2");v.push({key:a.value+"",value:s.value+""})}else for(u in l)d(l,u)&&v.push({key:u,value:l[u]+""});else x(v,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},N=R.prototype;a(N,{append:function(t,e){k(arguments.length,2);var n=_(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){k(arguments.length,1);for(var e=_(this),n=e.entries,i=t+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;e.updateURL()},get:function(t){k(arguments.length,1);for(var e=_(this).entries,n=t+"",i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){k(arguments.length,1);for(var e=_(this).entries,n=t+"",i=[],r=0;r<e.length;r++)e[r].key===n&&i.push(e[r].value);return i},has:function(t){k(arguments.length,1);for(var e=_(this).entries,n=t+"",i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){k(arguments.length,1);for(var n,i=_(this),r=i.entries,o=!1,a=t+"",s=e+"",u=0;u<r.length;u++)(n=r[u]).key===a&&(o?r.splice(u--,1):(o=!0,n.value=s));o||r.push({key:a,value:s}),i.updateURL()},sort:function(){var t,e,n,i=_(this),r=i.entries,o=r.slice();for(r.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===n&&r.push(t)}i.updateURL()},forEach:function(t){for(var e,n=_(this).entries,i=h(t,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new D(this,"keys")},values:function(){return new D(this,"values")},entries:function(){return new D(this,"entries")}},{enumerable:!0}),o(N,v,N.entries),o(N,"toString",(function(){for(var t,e=_(this).entries,n=[],i=0;i<e.length;)t=e[i++],n.push(I(t.key)+"="+I(t.value));return n.join("&")}),{enumerable:!0}),s(R,"URLSearchParams"),i({global:!0,forced:!r},{URLSearchParams:R}),t.exports={URLSearchParams:R,getState:_}},function(t,e,n){n(2)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})}])}()}).call(this,n(35))},function(t,e,n){var i=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n,i){var r=e&&e.prototype instanceof c?e:c,o=Object.create(r.prototype),a=new w(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return E()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function c(){}function d(){}function h(){}var f={};f[r]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(S([])));g&&g!==e&&n.call(g,r)&&(f=g);var m=h.prototype=c.prototype=Object.create(f);function v(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var i;this._invoke=function(r,o){function a(){return new e((function(i,a){!function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function S(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=m.constructor=h,h.constructor=d,h[a]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new y(s(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),m[a]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=S,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(1)),s=i(n(4)),u=i(n(2)),l=i(n(229)),c=i(n(56));n(48);var d=i(n(18)),h=i(n(39)),f=i(n(30)),p=i(n(115)),g=i(n(236)),m=i(n(237)),v=i(n(31)),y=i(n(64)),_=i(n(87)),b=i(n(15)),T=i(n(40)),w=i(n(82)),S=i(n(81)),E=i(n(67)),O=i(n(46)),C=i(n(117)),A=i(n(103)),P=i(n(98)),I=i(n(83)),x=i(n(78)),M=i(n(166)),k=i(n(79)),D=i(n(525)),R=i(n(69)),N=i(n(11)),L=i(n(12));n(533);var V=n(99),F=n(215),j=null,U=null,B={documentVersion:null,issue:null};u.default.absorb({editMode:d.default.getEditModeFromQueryParam()});var H=N.default.hasFeature(L.default.ACCESSIBILITY);u.default.absorb({shouldReduceMotion:u.default.editMode||H&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}),O.default=u.default.editMode&&F.EditorPermissionsService.isEditorEnabled()?V.editorViewportModule:O.default,u.default.editMode&&F.EditorPermissionsService.isEditorEnabled()&&(F.EditorPermissionsService.asyncEnforceEditorPermissionsInPreviewer(),k.default=D.default);var G=function(){u.default.previewMode&&u.default.privatePreviewer&&g.default.pollForSession()},W=function(t,e){var n=o.default.once((function(){var n=t.state();"resolved"===n?r.default.debug("ScrollProxy received viewport dimensions, rendering experience"):"pending"===n?r.default.warn("ScrollProxy viewport dimensions promise timed out"):r.default.warn("ScrollProxy viewport dimensions promise was rejected"),e()}));t.done(n),setTimeout(n,2e3)},z=function(){b.default.detect(),q().done((function(){X().done((function(){$(),Y()}))}))},$=function(){nt(),pt(),Tt(),E.default.load({}),A.default.load(),S.default.load(),ft()},Y=function(){k.default.attachModuleViews(B.issue),O.default.renderPages().always((function(){M.default.initialize(B.issue,B.documentVersion,C.default.getUserToken())}));var t=O.default.getFirstPageReadyPromise();t.fail((function(){k.default.show404()}));var e=[j.promise(),t];a.default.when.apply(a.default,e).then((function(){r.default.debug("About to render initial pages."),k.default.showDocument(),U.mark(U.MARKS.PLAYER.SPINNER_HIDDEN),P.default.bindPopstate(),document.hidden?document.addEventListener("visibilitychange",K):K()}))},q=function(){return B.documentVersion.createManifestCollection(),B.documentVersion.loadPageModels().done((function(){r.default.debug("Page models loaded")}))},X=function(){return ht().done((function(){r.default.debug("initViewportAndPreloadMedia done. About to render initial pages.")})).fail((function(){k.default.show404()}))},K=function(){document.hidden||(r.default.debug("First page(s) media is loaded. Showing first page."),O.default.activateFirstPage()),document.removeEventListener("visibilitychange",K)},Z=function(){c.default.remove("mobile-help-overlay")},J=function(){var t=Q();u.default.heightOverridesPerLayout=t,u.default.heightOverride=o.default.get(t,"desktop",null),b.default.on("change",(function(e){u.default.heightOverride=o.default.get(t,e,null)}))},Q=function(){var t={desktop:"heightOverride"};return o.default.each(T.default.getExistingVariants(),(function(e){t[e]=o.default.lowerFirst(e)+"HeightOverride"})),o.default.mapValues(t,(function(t){var e=new RegExp("[\\?&]"+t+"=(\\d+)(&|$)"),n=window.location.search.match(e);return n?+n[1]:null}))},tt=function(){C.default.init({application:u.default.analyticsApplicationKey,analyticsTrackers:u.default.analyticsTrackers}),U=C.default.getPerformanceTracker(),window.cerosPlayerLoadStart&&U.startTracking(window.cerosPlayerLoadStart),h.default.onPriorityQueueCompletion((function(){U.mark(U.MARKS.PLAYER.PRIORITY_QUEUE_EMPTIED)})),h.default.onAllResourcesLoaded((function(){U.mark(U.MARKS.PLAYER.ALL_RESOURCES_LOADED)}))},et=function(){var t=null;u.default.previewMode?x.default.initialize():t=window.docVersionRequest,B.issue=new s.default.Model(u.default.issue),B.documentVersion=new m.default(u.default.docVersion,{docVersionRequest:t})},nt=function(){if(r.default.isEnabled("debug")){var t=[k.default,y.default,_.default,O.default,E.default,C.default,A.default,I.default];u.default.isEmbedded||(t=t.concat([w.default,P.default])),o.default.each(t,(function(t){o.default.each(t.publishedEvents,(function(e){t.on(e,(function(t){r.default.debug("EVENT: "+e,t)}))}))}))}},it=function(){if(!j){j=new a.default.Deferred;var t=u.default.publicAssetsBaseUrl+"ceros-fonts-2021-11-16.css",e=h.default.addCustomWebFont(["CerosIcons-Regular"],t,"").loadNow(),n=h.default.addGoogleWebFont("Montserrat:400,700:latin").loadNow();a.default.when(e,n).always((function(){j.resolve()})),setTimeout((function(){"resolved"!==j.state()&&(r.default.devWarn("Font loading timed out"),j.resolve())}),5e3)}return j.promise().then((function(){r.default.debug("InitialFontsReady promise is resolved.")}))},rt=function(){return u.default.previewMode&&u.default.allowAdaptiveLayouts},ot=function(){rt()&&(k.default.setupAdaptiveLayoutsPreviewerTouchDeviceView(),k.default.setupAdaptiveLayoutsPreviewerFrameView())},at=function(){T.default.setDocVersion(B.documentVersion),rt()&&(T.default.on(T.default.EVENTS.UPDATE_URL,(function(t){P.default.navigateToLayout(t)})),T.default.detectPreviewerFrameSizeFromUrl(),k.default.setupAdaptiveLayoutsPreviewerSelectionView())},st=function(){return u.default.gracePeriodExpired&&it().done((function(){y.default.showUnavailableScreen(a.default("body"),{theme:B.documentVersion.get("theming")});var t=B.documentVersion.getPageInfoByNumberOrSlug(d.default.parsePageFromLocation());C.default.viewExperience({page_slug:t.slug,page_num:t.number,grace_period_expired:!0})})),u.default.gracePeriodExpired},ut=function(){if(u.default.previewMode){var t={"X-Powered-By":"Ceros Player/HTML5"};u.default.revalidateWithCore&&(t["Cache-Control"]="must-revalidate"),a.default.ajaxSetup({timeout:6e4,cache:u.default.ajaxCaching,headers:t,statusCode:{404:function(){a.default(o.default.bind(k.default.show404,k.default))}}}),a.default.ajaxPrefilter((function(t){t.crossDomain&&(t.headers={})}))}},lt=function(){var t=a.default.Deferred();p.default.init(B.issue.get("slug")),ct();var e=!1;p.default.on(p.default.EVENTS.UPDATE_POSITION,(function(n){var i=O.default.getCurrentPageHeight(),r=i&&n.top<i&&n.top<n.bottom;t.resolve(),!e&&r&&(C.default.resetPageTrackingMinMaxY(),e=!0)}));var n=function(t){v.default.getInstance().setPositionData(t)};return f.default.on("sdk.experience.container.ready",n),f.default.on("sdk.experience.container.scrolled",o.default.debounce(n,50)),f.default.on("sdk.experience.container.resized",n),t.promise()},ct=function(){var t=function(){if(T.default.hasVariants()){var t=b.default.getVariant();p.default.announceVariantDetection(t)}};b.default.on("change",t),b.default.hasDetectedVariant()&&t()},dt=function(){var t=new a.default.Deferred;return r.default.debug("Fetching docVersion"),B.documentVersion.fetch().done(t.resolve).fail(t.reject),t.promise()},ht=function(){var t=new a.default.Deferred;return r.default.debug("Init viewport"),O.default.init(B.documentVersion,{performanceTracker:U,marginTopCallback:function(){return w.default.shouldShow()&&!w.default.initiallyHidden()?w.default.getHeight():0}}),r.default.debug("About to preload media"),O.default.preloadPageMedia(),o.default.defer(t.resolve),t.promise()},ft=function(){l.default.on("*",o.default.bind(C.default.handleApiRequest,C.default)).on("ceros.sdk.ping",(function(t,e){e.data="pong"})).on("ceros.sdk.productPanel.close",A.default.deactivate),l.default.bindToIframe(A.default.iframe())},pt=function(){f.default.registerEvents(_.default.publishedEvents,_.default),f.default.registerEvents(P.default.publishedEvents,P.default),vt(),_t(),yt(),bt(),gt(),mt()},gt=function(){O.default.on(O.default.publishedEvents.SCALE,(function(t){var e=O.default.getFirstPageReadyPromise();"pending"===e.state()?e.done(O.default.scale):O.default.scale()}))},mt=function(){O.default.on(O.default.publishedEvents.SCALE,(function(t){E.default.updateScale(t)})),O.default.on(O.default.publishedEvents.PAGE_CHANGE,(function(t){E.default.determineFlipperState(t.isFirstPage,t.isLastPage,!0),O.default.removeClickShield(),O.default.enableGestures(),M.default.announcePageChanged(O.default.getCurrentPageNumber())})),O.default.on(O.default.publishedEvents.PAGE_CHANGING,(function(t){E.default.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady),M.default.announcePageChanging(O.default.getCurrentPageNumber())})),O.default.on(O.default.publishedEvents.PAGE_UPDATE,(function(t){E.default.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),O.default.on(O.default.publishedEvents.PAGE_ENABLED_CHANGE,(function(t){E.default.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),O.default.on(O.default.publishedEvents.PAGE_BATCH_LOAD_START,(function(){O.default.addClickShield(),O.default.disableGestures()})),O.default.on(O.default.publishedEvents.TIMED_LIGHTBOX,(function(t){A.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton),M.default.announceTimedInteraction(t),C.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),O.default.on(O.default.publishedEvents.TIMED_PRODUCT_PANEL,(function(t){A.default.showProduct(t.productPanelId),M.default.announceTimedInteraction(t),C.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),O.default.on(O.default.publishedEvents.TIMED_SHOPPING_CART,(function(t){A.default.showShoppingCart(),M.default.announceTimedInteraction(t),C.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),E.default.on(E.default.publishedEvents.NEXT_PAGE,(function(){O.default.nextPage()})),E.default.on(E.default.publishedEvents.PREVIOUS_PAGE,(function(){O.default.previousPage()})),_.default.on(_.default.publishedEvents.PAGE_ACTIVATED,(function(){E.default.updateFlipperHrefs()}))},vt=function(){O.default.on(O.default.publishedEvents.SCALE,(function(t){y.default.scale()})),O.default.on(O.default.publishedEvents.CURRENT_PAGE_DELETED,(function(t){y.default.showDeletedPageWarning(a.default("body"))}))},yt=function(){S.default.on(S.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(t){window.open(S.default.getBrandingUrl())}))},_t=function(){w.default.shouldShow()&&(w.default.initiallyHidden()&&(O.default.on(O.default.publishedEvents.LONGPRESS,(function(t){w.default.toggle()})),_.default.on(_.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){w.default.hide(!0)}))),w.default.on(w.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){O.default.shareCurrentPageOnSocial(t.action,B.issue)})),w.default.on(w.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){A.default.showShoppingCart()})),w.default.on(w.default.publishedEvents.CHROME_TITLE_CLICK,(function(t){O.default.jumpToPage(1,!1)})),O.default.on(O.default.publishedEvents.PAGE_CHANGE,(function(t){w.default.setMenuLinkHrefs(O.default.getCurrentPageNumber())})))},bt=function(){f.default.on(_.default.publishedEvents.PAGE_ACTION_SCROLL_TO,(function(t){var e=O.default.scrollTo(t.scrollTargetType,t.scrollTargetScranchor);M.default.announceScrollTo(e),p.default.announceScrollTo(e)})),f.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE,(function(t){O.default.previousPage()})),f.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE,(function(t){O.default.nextPage()})),f.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_PAGE,(function(t){O.default.jumpToPage(t.pageTarget)})),f.default.on(_.default.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES,(function(t){o.default.each(t.pageTargets,(function(t,e){t?O.default.enablePage(e):O.default.disablePage(e)}))})),f.default.on(_.default.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION,(function(t){O.default.toggleReducedMotion()})),u.default.isEmbedded||_.default.on(_.default.publishedEvents.PAGE_ACTIVATED,(function(t){if(t.slug&&B.issue.get("slug")){var e=u.default.docVersion.pageNamesInTitle?t.pageName:void 0,n=B.issue.get("title");e&&(n+=" - "+e),u.default.usePageSlugsInNavigation?P.default.navigateToPageSlug(t.slug,n):P.default.navigateToPageNumber(B.documentVersion.getPageNumberBySlug(t.slug),n)}})),f.default.on(P.default.publishedEvents.POPSTATE,(function(t){if(t.pageNumber)O.default.jumpToPage(t.pageNumber);else if(t.pageSlug){var e=B.documentVersion.getPageNumberBySlug(t.pageSlug);O.default.jumpToPage(e)}})),_.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){var e;e=o.default.get(u.default,"analyticsTrackers.googleAnalyticsTracker"),u.default.isEmbedded&&e&&e.enabled&&e.trackingID?p.default.announceGotoUrl(t.url,t.urlOpenInNewWindow):t.urlOpenInNewWindow?window.open(t.url):top.location=t.url})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){A.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton)})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){A.default.showProduct(t.productPanelId)})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){A.default.showShoppingCart()})),f.default.on(_.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){O.default.shareCurrentPageOnSocial(t.action,B.issue)})),f.default.on(_.default.publishedEvents.TIMED_INTERACTION,(function(t){M.default.announceTimedInteraction(t)})),f.default.on(_.default.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY,(function(t){if(R.default.isShowLayersInteraction(t)&&M.default.announceLayersShown(t.layerTargets),R.default.isHideLayersInteraction(t)&&M.default.announceLayersHidden(t.layerTargets),"toggle-layers"===t.action){var e=[],n=[];o.default.each(t.layerTargets,(function(t){O.default.isLayerVisible(t)?e.push(t):n.push(t)})),e.length>0&&M.default.announceLayersShown(e),n.length>0&&M.default.announceLayersHidden(n)}}))},Tt=function(){if(u.default.analyticsApplicationKey){O.default.on(O.default.publishedEvents.SCALE,(function(t){var e=t.ratio;C.default.updateScale(e)})),_.default.on(_.default.publishedEvents.PAGE_SCROLL,(function(t){C.default.trackPageScroll({page_slug:t.slug,page_num:B.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight})})),_.default.on(_.default.publishedEvents.PAGE_ACTIVATED,(function(t){C.default.viewExperience({page_slug:t.slug,page_num:B.documentVersion.getPageNumberBySlug(t.slug),page_name:O.default.getPageNameBySlug(t.slug),grace_period_expired:!1}),B.documentVersion.isAutoTransitioning()||C.default.viewPage({page_slug:t.slug,page_name:t.pageName,page_num:B.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})}));var t=function(t){var e={experience_slug:B.issue.get("slug"),experience_version_slug:B.documentVersion.get("slug"),page_slug:t.pageSlug,page_num:B.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:O.default.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,video_slug:t.videoSlug,component_name:t.componentName,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload};return t.videoLength&&(e.video_length=t.videoLength),e};_.default.on(_.default.publishedEvents.PAGE_VIDEO_PLAY,(function(e){C.default.playVideo(o.default.extend(t(e),{video_position:e.videoPosition})),M.default.announceVideoPlayed(e.componentSlug)})),_.default.on(_.default.publishedEvents.PAGE_VIDEO_PROGRESS_TIME,(function(e){C.default.trackVideoProgressTime(o.default.extend(t(e),{video_position:e.videoPosition,video_play_time:e.videoPlayTime}))})),_.default.on(_.default.publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,(function(e){C.default.trackVideoProgressPercent(o.default.extend(t(e),{video_progress_percent:e.progressPercent}))})),_.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){C.default.clickLink({page_slug:t.pageSlug,page_num:B.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:O.default.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,outgoing_url:t.url,outgoing_domain:t.domain,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){C.default.clickLightbox({page_slug:t.pageSlug,page_num:B.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:O.default.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,lightbox_url:t.lightboxUrl,lightbox_width:t.lightboxWidth,lightbox_height:t.lightboxHeight,lightbox_has_close_button:!!t.lightboxHasCloseButton,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){C.default.clickProduct({page_slug:t.pageSlug,page_num:B.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,product_id:t.productPanelId})})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){C.default.clickShoppingCart({page_slug:t.pageSlug,page_num:B.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType})})),_.default.on(_.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){C.default.clickComponent({page_slug:t.pageSlug,page_num:B.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:O.default.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,click_x:t.clickX,click_y:t.clickY,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),_.default.on(_.default.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,(function(t){C.default.hoverComponent({page_slug:t.pageSlug,page_num:B.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:O.default.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),_.default.on(_.default.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,(function(t){C.default.formSubmit({page_slug:t.pageSlug,page_num:B.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:O.default.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,form_origin:t.formOrigin,form_origin_account_id:t.formOriginAccountId,form_origin_form_id:t.formOriginFormId,form_origin_form_name:t.formOriginFormName,interaction_triggered:!!t.interactionTriggered,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),w.default.on(w.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){C.default.clickShoppingCart({page_slug:O.default.getCurrentPageSlug(),page_num:O.default.getCurrentPageNumber()})})),f.default.on(_.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){C.default.clickPageShare({page_slug:t.pageSlug,page_num:B.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,service:t.action})})),w.default.on(w.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){C.default.clickPageShare({page_slug:O.default.getCurrentPageSlug(),page_num:O.default.getCurrentPageNumber(),service:t.action})})),S.default.on(S.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(){C.default.clickCerosBranding({page_slug:O.default.getCurrentPageSlug(),page_num:O.default.getCurrentPageNumber()})})),a.default(document).on("click",C.default.registerUserActivity)}};e.default={run:function(){Z(),tt(),G(),U.mark(U.MARKS.PLAYER.RUN_START),r.default.init(u.default.logging),r.default.debug("Player.run() start"),et(),st()||(ut(),a.default((function(){U.mark(U.MARKS.PLAYER.DOM_READY),r.default.debug("jquery.ready: About to load the doc version."),k.default.setupInitialDom(),ot(),k.default.showLoadingExperience(),U.mark(U.MARKS.PLAYER.SPINNER_SHOWN),it().then(o.default.bind(k.default.showPreviewerFadingMessage,k.default)),w.default.load();var t=dt();t.done((function(){r.default.debug("Doc Version is loaded"),U.mark(U.MARKS.PLAYER.DOC_VERSION_LOADED),at(),J();var t=lt();u.default.isEmbedded&&T.default.hasVariants()?(r.default.debug("Waiting for ScrollProxy to send first message with viewport dimensions"),W(t,z)):z()})),t.fail(o.default.bind(k.default.show404,k.default))})))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(1)),s={},u=[],l={bindToIframe:function(t){return new f(t)},on:function(t,e){if(o.default.isFunction(e))return"*"===t?(u.push(e),o.default.each(s,(function(t){t.push(e)}))):(o.default.has(s,t)||(s[t]=u.slice()),s[t].push(e)),this;r.default.warn("handler is not a function")},unbindAll:function(){s={},u=[]},handleRequest:function(t,e){if(o.default.has(s,t.name)){var n=s[t.name].slice(),i={},a=function(){e(i)},u=function(t){r.default.warn("Error:",t),i={error:"Unable to process request due to an error"},a()},l=function(){try{var e=n.shift();if(!e)return void a();var r=e(t,i);if(r&&o.default.isFunction(r.done)&&o.default.isFunction(r.fail)&&o.default.isFunction(r.always)){var s=setTimeout((function(){u(new Error("handler timed out"))}),1e4);r.done((function(){l()})).fail((function(){a()})).always((function(){clearTimeout(s)}))}else!1===r?a():l()}catch(t){u(t)}};l()}else r.default.warn("No handler for "+t.name)}},c=function(t){if(o.default.isUndefined(t.client))throw new Error("No client object given");if(o.default.isUndefined(t.name))throw new Error("No name given");this.name=t.name,this.client=t.client,this.params=t.params||{}},d=[],h=!1,f=function(t){d.push(this),this.iframe=t,h||(h=!0,o.default.isUndefined(window.postMessage)?r.default.warn("This browser does not support inter-frame communication"):(r.default.debug("listening for iframe messages"),a.default(window).on("message",(function(t){var e=t.originalEvent.source,n=null;if(o.default.each(d,(function(t){e===t.getWindow()&&(n=t)})),n&&o.default.isString(t.originalEvent.data)){var i;try{i=JSON.parse(t.originalEvent.data)}catch(e){return void r.default.warn("Could not parse data: ["+t.originalEvent.data+"]")}if(i.name){if(0!==i.name.indexOf("ceros.sdk.player")){var a=i.uuid,s=new c({name:i.name,params:i.params,client:{type:"iframe",sdkVersion:i.version}});l.handleRequest(s,(function(t){var n=JSON.stringify({uuid:a,response:t});e.postMessage(n,"*")}))}}else r.default.warn('Data has no "name" property')}}))))};f.prototype={getWindow:function(){return this.iframe.contentWindow}},e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={VARIANTS:{FULL:"full",HALF:"half",QUARTER:"quarter",TENTH:"tenth"},getThumbnailVariant:function(t,e){var n=null;return r.default.has(t,e)?n=t[e]:r.default.has(t,this.VARIANTS.FULL)&&(n=t[this.VARIANTS.FULL]),n},getComponentImageThumbnail:function(t,e){if(!e)return this.getThumbnailVariant(t,this.VARIANTS.FULL);var n=[];r.default.each(t,(function(t){n.push(t)})),n.sort((function(t,e){return t.width<e.width?-1:t.width>e.width?1:0}));var i=r.default.find(n,(function(t){return t.width>=e}));return r.default.isObject(i)||(i=this.getThumbnailVariant(t,this.VARIANTS.FULL)),i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(59)),a=i(n(62));function s(){o.default.call(this)}r.default.extend(s.prototype,o.default.prototype,{createCacheKey:function(t,e){var n=a.default.createCropDimensionsString(e);return r.default.isString(n)&&n.length>0?t+"|"+n:t}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(29)),a=i(n(113)),s=function(t){a.default.call(this),t.done(r.default.bind((function(t){this.initImage(t)}),this)).fail(r.default.bind((function(){this.resourceReady.reject()}),this))};(s.prototype=Object.create(a.default.prototype)).constructor=s,r.default.extend(s.prototype,{initImage:function(t){this.image.onerror=r.default.bind((function(){o.default.revokeObjectURL(t),this.resourceReady.reject()}),this),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.src=t}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=function(t){return this.url=t,this.deferred=r.default.Deferred(),this.cssLinkResource=r.default("<link>",{rel:"stylesheet",type:"text/css",href:t}),this.data=this.cssLinkResource,this.cssLinkResource.on("load",o.default.bind((function(){this.deferred.resolve()}),this)),this.cssLinkResource.appendTo("head"),this};a.prototype={onload:function(){return this.deferred.done.apply(this.deferred,arguments),this.deferred},ready:function(){return"resolved"==this.deferred.state()},remove:function(){delete this.cssLinkResource}},e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(1)),a=i(n(0)),s=i(n(3)),u={},l=0,c=s.default.desktop()?2:1,d=!1,h={PENDING:1,LOADING:2,LOADED:3,ERROR:4,CANCELED:5},f=function(){this.queue=[],this.finished=o.default.Deferred()};f.prototype=a.default.extend(f.prototype,{push:function(t){this.queue.push(t)},getNextItem:function(){if(0===this.length())return null;var t=this.queue.shift();return 0===this.length()&&(this.finished.resolve(),this.finished=o.default.Deferred()),t},length:function(){return this.queue.length},flush:function(){this.queue=[],this.finished.resolve(),this.finished=o.default.Deferred()},onFinish:function(t){this.finished.done(t)}});var p=new f,g=new f,m=function(t,e,n){var i=h.PENDING,s=new o.default.Deferred;this.getStatus=function(){return i},this.setStatus=function(t){a.default.includes(a.default.values(h),t)&&(i=t)},this.getPromise=function(){return s.promise()},this.load=function(){i=h.LOADING;var u=a.default.isFunction(e)?e():o.default.noop();return u.promise?(u.then((function(){i=h.LOADED,s.resolve.apply(this,arguments)}),(function(){i=h.ERROR,s.reject(),r.default.devWarn("Resource failed to load",{key:t})})),u.always((function(){a.default.isFunction(n)&&n()})),this.getPromise()):(s.reject(),r.default.warn("onLoadBegin must be a function that returns a deferred promise and resolves with necessary resource data",{key:t}),this.getPromise())},this.getKey=function(){return t}};m.prototype.loadNow=function(){return this.getStatus()===h.PENDING&&(g.push(this),y()),this.getPromise()},m.prototype.isLoading=function(){return this.getStatus()===h.LOADING},m.prototype.isLoaded=function(){return this.getStatus()===h.LOADED},m.prototype.isError=function(){return this.getStatus()===h.ERROR},m.prototype.isPending=function(){return this.getStatus()==h.PENDING},m.prototype.isCanceled=function(){return this.getStatus()==h.CANCELED},m.prototype.cancel=function(){this.setStatus(h.CANCELED)};var v=o.default.Deferred(),y=function(){if(!(l>=c&&0===g.length())){var t=_();a.default.isNull(t)?v.resolve():(l++,t.load().always((function(){l--,y()})))}},_=function(){var t=null;return g.length()>0&&(t=b(g)),d||a.default.isNull(t)&&(t=b(p)),t},b=function(t){for(var e=null;t.length()>0&&!(e=t.getNextItem()).isPending();)e=null;return e};e.default={add:function(t,e,n){if(a.default.isNull(t)||a.default.isUndefined(t))return null;if(u.hasOwnProperty(t))u[t].isCanceled()&&(u[t].setStatus(h.PENDING),p.push(u[t]));else{var i=new m(t,e,n);u[t]=i,p.push(i)}return y(),u[t]},get:function(t){return a.default.isNull(t)||a.default.isUndefined(t)?null:u.hasOwnProperty(t)?u[t].isError()?(r.default.warn("An error was encountered while trying to load the resource",{key:t}),null):u[t]:(r.default.warn("No resource exists for the provided key",{key:t}),null)},has:function(t){return u.hasOwnProperty(t)},cancelPending:function(){for(g.flush();p.length()>0;){p.getNextItem().status=h.CANCELED}},pause:function(){d=!0},resume:function(){d&&(d=!1,y())},onPriorityQueueCompletion:function(t){g.onFinish(t)},onAllResourcesLoaded:function(t){v.done(t)},purgeResourceCache:function(){u={}}}},function(t,e){t.exports=WebFont},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(2)),a=function(){var t=this;this.POLL_TIMEOUT=1e4,this.STATUS_SESSION_ENDED=410,this.STATUS_CONCURRENT_LOGIN=409,this.KEEP_ALIVE_URL="/rest/v1/keep-alive",this.pollForSession=function(){r.default.get(t.KEEP_ALIVE_URL).then(t.setPollTimeout).catch(t.onError)},this.setPollTimeout=function(){setTimeout(t.pollForSession,t.POLL_TIMEOUT)},this.onError=function(e){t.redirectToLogin(e.status)},this.redirectToLogin=function(e){var n="";switch(e){case t.STATUS_SESSION_ENDED:n="invalidSession";break;case t.STATUS_CONCURRENT_LOGIN:n="concurrentLogin"}var i=o.default.adminUrl+"/signin";n.length>0&&(i+="?"+n+"=yes"),t.redirect(i)},this.redirect=function(t){window.location.replace(t)}};e.default=new a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(4)),s=i(n(2)),u=i(n(6)),l=i(n(78)),c=i(n(167)),d=i(n(523)),h=i(n(168)),f=i(n(169)),p=i(n(28)),g=i(n(61)),m=i(n(60)),v=i(n(86)),y=i(n(15)),_=a.default.Collection.extend({model:d.default}),b=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/document-versions",MANIFEST_ADD_PAGE:"manifestAddPage",MANIFEST_REMOVE_PAGE:"manifestRemovePage",MANIFEST_MOVE_PAGE:"manifestMovePage",initialize:function(t,e){if(a.default.Model.prototype.initialize.call(this,t,e),!s.default.previewMode&&!e.docVersionRequest)throw new Error("A doc version request must be passed in when not in preview mode");this.docVersionRequest=e.docVersionRequest,this.pages=[]},fetch:function(t){return this.loadBackgroundImageInfo(),s.default.previewMode?this.fetchForPreviewMode(t):this.fetchForPublished(t)},fetchForPreviewMode:function(t){var e=o.default.Deferred();try{l.default.getConnection().openExisting(this._getDocumentName(),r.default.bind((function(t,n){if(t)u.default.warn(t),e.reject();else if(n){l.default.listenForReadOnlyConnectionLimitError(n);var i=JSON.parse(JSON.stringify(n.snapshot));this.set(i),e.resolve(i,n)}}),this))}catch(t){u.default.warn(t),e.reject()}e.then(r.default.bind((function(t,e){this.bindToDocChanges(e)}),this));var n=this.loadResolvedMedia().fail((function(){u.default.warn("Could not fetch docversion media!")}));return o.default.when(e,n)},fetchForPublished:function(t){return this.docVersionRequest.then(r.default.bind((function(t){m.default.putMediaArray(t.media),delete t.media,this.set(t)}),this))},loadPageModels:function(){u.default.debug("Loading page models");var t=[],e=this.editorPagesManifest.map(r.default.bind((function(e,n){var i=this.createPageModel(e,n);return t.push(i),i.fetch()}),this));return this.pages=t,o.default.when.apply(o.default,e)},createPageModel:function(t,e){var n={slug:t.getSlug(),disabled:t.get("initiallyDisabled",{doNotFallbackToDesktop:!0})};if(!s.default.previewMode){var i=this.get("pages")[t.getSlug()];m.default.putMediaArray(i.media),delete i.media,n=r.default.extend(n,i)}var o=new c.default(n,{documentVersion:this,pageIndex:e});return t.on("change:initiallyDisabled change:overrides",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),y.default.on("change",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),o},processRemoteOps:function(t,e){for(var n=!1,i=!1,o=0;o<e.length;o++){var a=e[o],s=a.p[0];"editorPagesManifest"===s?this.processManifestRemoteOp(a):(this.set(s,JSON.parse(JSON.stringify(t.snapshot[s]))),"smartgroups"===s?(n=n||f.default.isMediaReloadRequiredForOp(t,a),i=!0):"fonts"===s&&this.processFontRemoteOp(a))}n?this.loadResolvedMedia().done(r.default.bind((function(){this.trigger("reload")}),this)):i&&this.trigger("reload")},processFontRemoteOp:function(t){2===t.p.length&&t.p[1]===p.default.EXPERIENCE_FAMILY_GUIDS_KEY&&o.default.when(this.loadFontMetrics()).done(r.default.bind((function(t){s.default.fontManifest=t,this.trigger("reload")}),this))},createManifestCollection:function(){this.editorPagesManifest=new _(this.get("editorPagesManifest")),s.default.previewMode&&this.bindToManifestChanges()},bindToDocChanges:function(t){t.on("shout",r.default.bind((function(t){"updateViewportSize"!==(t=JSON.parse(t)).name&&"updateScaleExperience"!==t.name&&"updateTextMode"!==t.name||window.location.reload()}),this)),t.on("remoteop",r.default.bind((function(e){this.processRemoteOps(t,e)}),this))},bindToManifestChanges:function(){this.editorPagesManifest.on("add",r.default.bind((function(t,e,n){var i=n.at,o=this.createPageModel(t,i);this.pages.splice(i,0,o),o.fetch().done(r.default.bind((function(){this.trigger(this.MANIFEST_ADD_PAGE,t,n.at)}),this))}),this)),this.editorPagesManifest.on("remove",r.default.bind((function(t,e,n){this.pages.splice(n.index,1),this.trigger(this.MANIFEST_REMOVE_PAGE,n.index)}),this)),this.editorPagesManifest.on("move",r.default.bind((function(t,e){this.pages.splice(e,0,this.pages.splice(t,1)[0]),this.trigger(this.MANIFEST_MOVE_PAGE,t,e)}),this))},processManifestRemoteOp:function(t){var e,n=t.p[1];if(2===t.p.length)if(r.default.isUndefined(t.li))if(r.default.isUndefined(t.ld)){if(!r.default.isUndefined(t.lm)){var i=t.lm;e=this.editorPagesManifest.at(n),this.editorPagesManifest.remove(e,{silent:!0}),this.editorPagesManifest.add(e,{at:i,silent:!0}),this.editorPagesManifest.trigger("move",n,i)}}else e=this.editorPagesManifest.at(n),this.editorPagesManifest.remove(e);else this.editorPagesManifest.add(t.li,{at:n});else if(3===t.p.length&&!r.default.isUndefined(t.oi)){var o=t.p[2];this.editorPagesManifest.at(n).set(o,t.oi)}},getPageNumberBySlug:function(t){var e=this.editorPagesManifest;if(r.default.isEmpty(e))return null;var n=null;return e.find((function(e,i){return e.getSlug()===t&&(n=i+1,!0)})),n},getPageInfoByNumberOrSlug:function(t){var e=this.editorPagesManifest,n=null,i=null;return r.default.isString(t)?(n=this.getPageNumberBySlug(t))?i=t:n=1:((n=parseInt(t,10))<1||n>e.length)&&(n=1),!i&&e.at(n-1)&&(i=e.at(n-1).getSlug()),{number:n,slug:i}},getExperienceWidth:function(){return this.getOverrideablePropertyForCurrentVariant("viewportWidth")},getExperienceHeight:function(){return this.getOverrideablePropertyForCurrentVariant("viewportHeight")},getScaleExperience:function(){var t=this.getScaleExperienceType();return"string"==typeof t?t!==v.default.SCALE_EXPERIENCE_TYPE.NO_SCALING:this.getOverrideablePropertyForCurrentVariant("scaleExperience")},getScaleExperienceType:function(){return this.getOverrideablePropertyForCurrentVariant("scaleExperienceType")},getPages:function(){return this.pages},getEnabledPageIndexes:function(){var t=[];return r.default.each(this.pages,(function(e,n){e.get("disabled")||t.push(n)})),t},getNearestEnabledPage:function(t){var e=r.default.clamp(t,1,this.pages.length)-1;if(!this.pages[e].get("disabled"))return e+1;for(var n=1;e-n>=0||e+n<this.pages.length;n++){if(this.pages[e+n]&&!this.pages[e+n].get("disabled"))return e+n+1;if(this.pages[e-n]&&!this.pages[e-n].get("disabled"))return e-n+1}},isCarousel:function(){var t=this.editorPagesManifest,e=this.get("carousel");return e&&e.enabled&&t.length>1},isAutoTransitioning:function(){var t=this.get("carousel");return this.isCarousel()&&t.autoTransition},shouldLoadLowRes:function(){return this.get("loadLowRes")},shouldLazyLoad:function(){return this.get("lazyLoading")},getTextMode:function(){return this.get("textMode")},getAutoTransitionDelay:function(){var t=this.get("carousel");return t?t.autoTransitionDelay:0},_getDocumentName:function(){return this.get("uri").replace(/\//g,"_")},getSwipeEnabled:function(){return this.get("theming")&&this.get("theming").swipeEnabled},getSmartgroupDefinition:function(t){return r.default.find(this.get("smartgroups"),(function(e){return e.id===t}))},loadBackgroundImageInfo:function(){var t=r.default.get(s.default,"themeObj.backgroundImage",null);t&&m.default.put(t.id,t)},loadResolvedMedia:function(){return g.default.loadMediaForRestUri(this.getUri())},loadFontMetrics:function(){return o.default.ajax({url:this.getUri()+"/font-metrics",type:"GET",dataType:"json"})},getUri:function(){return"/rest"+a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)}});r.default.extend(b.prototype,h.default),e.default=b},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(9)),a=i(n(0)),s=i(n(1)),u=i(n(40)),l=i(n(15)),c=i(n(239));e.default=r.default.View.extend({events:{"click .previewer-variant-option":"handleOptionClick","click .reload-btn":"reloadExperience"},initialize:function(){var t=u.default.isViewportWidthDetection();this.$el.show(),this.$el.html(o.default.render(c.default,{showTablet:!t||u.default.doesVariantExist("tablet"),showMobile:!t||u.default.doesVariantExist("mobile"),allLayoutsExist:!t||2===u.default.getNumberOfExistingVariants()})),l.default.on("change",a.default.bind(this.updateIcons,this)),u.default.on(u.default.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,a.default.bind(this.updateIcons,this)),u.default.on(u.default.EVENTS.RELOAD_TRIGGERED,a.default.bind(this.loadSpinner,this)),this.updateIcons()},updateIcons:function(){var t=u.default.getPreviewerFrameSize();this.$el.find(".previewer-variant-option").removeClass("-selected");var e="."+t+"-option";this.$el.find(e).addClass("-selected")},handleOptionClick:function(t){var e=s.default(t.currentTarget).data("option");e!==u.default.getPreviewerFrameSize()&&u.default.setPreviewerFrameSize(e)},showSpinner:function(){this.$(".reload-container div").removeClass("ceros-replay-icon").addClass("loader-spinner")},hideSpinner:function(){this.$(".reload-container div").removeClass("loader-spinner").addClass("ceros-replay-icon")},loadSpinner:function(){this.showSpinner(),setTimeout(a.default.bind(this.hideSpinner,this),750)},reloadExperience:function(){u.default.isDocVersionSet()&&(u.default.triggerReload(),this.loadSpinner())}})},function(t,e,n){"use strict";n.r(e),e.default='<ul class="previewer-options-list {{#allLayoutsExist}}-all-layouts-exist{{/allLayoutsExist}}">\n    <li class="previewer-variant-option desktop-option" data-option="desktop">\n        <div class="desktop-option-icon"></div>\n    </li>\n    {{#showTablet}}\n    <li class="previewer-variant-option tablet-option" data-option="tablet">\n        <div class="tablet-option-icon"></div>\n    </li>\n    {{/showTablet}}\n    {{#showMobile}}\n    <li class="previewer-variant-option mobile-option" data-option="mobile">\n        <div class="mobile-option-icon"></div>\n    </li>\n    {{/showMobile}}\n    <li class="reload-container">\n        <div\n            title="To replay animations press \'Option+R\' on Mac or \'Alt+R\' on Windows"\n            class="ceros-icon ceros-replay-icon reload-btn">\n        </div>\n    </li>\n\n</ul>\n'},function(t,e,n){var i={"./analytics/module":117,"./branding/module":81,"./chrome/module":82,"./error/module":83,"./flippers/module":67,"./lightbox/module":103,"./page/module":87,"./sdk-backend/module":166,"./splash-screen/module":64,"./url-navigation/module":98,"./viewport/module":46};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=240},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(1)),s=i(n(3)),u=i(n(242)),l=i(n(122)),c=i(n(259)),d=i(n(8)),h=n(65),f=function(){this.ready=!1,this.lastPageLoadedAttr=null};f.prototype={init:function(t){this.options=o.default.extend({application:"player"},t||{}),this.analyticsTrackerManager=new u.default(t.analyticsTrackers),this.performanceTracker=new l.default,this.performanceTracker.on(this.performanceTracker.EVENTS.PERFORMANCE_MARK,this.sendPerformanceMarkEvent,this),this.playerPageViewTracker=new c.default,this.playerPageViewTracker.on(this.playerPageViewTracker.EVENTS.USER_ACTIVITY_PING,this.sendPageDwellEvent,this),this.ready=!0},getPerformanceTracker:function(){return this.performanceTracker},updateScale:function(t){return this.analyticsTrackerManager.updateScale(t)},unsupportedOpen:function(t){return this._track(this.options.application+".unsupported_browser.open",t)},_openExperience:function(t){this._track(this.options.application+".experience.open",t)},viewExperience:function(t){if(window.cerosPlayerLoadStart){var e=new Date,n=(e-window.cerosPlayerLoadStart)/1e3;r.default.info("First Page Load Time: "+n),n<0&&(r.default.warn(new Error("Analytics: negative load time calculated. Start time: "+window.cerosPlayerLoadStart+", End time: "+e)),n=0),this._openExperience(o.default.extend({load_time:n},t)),window.cerosPlayerLoadStart=null}},viewPage:function(t){s.default.isBot()||this._trackViewPage(t)},playVideo:function(t){this._track(this.options.application+".video.play",t)},trackVideoProgressTime:function(t){this._track(this.options.application+".video.progress_time",t)},trackVideoProgressPercent:function(t){this._track(this.options.application+".video.progress_percent",t)},clickComponent:function(t){this._track(this.options.application+".component.click",t)},hoverComponent:function(t){this._track(this.options.application+".component.hover",t)},clickLink:function(t){this._track(this.options.application+".link.click",t)},clickLightbox:function(t){this._track(this.options.application+".lightbox.click",t)},clickProduct:function(t){this._track(this.options.application+".product.click",t)},clickShoppingCart:function(t){this._track(this.options.application+".shopping_cart.click",t)},clickPageShare:function(t){this._track(this.options.application+".page.share",t)},clickCerosBranding:function(t){this._track(this.options.application+".ceros_branding.click",t)},experienceLoadInteraction:function(t){this._track(this.options.application+".experience_load.timed",t)},formSubmit:function(t){o.default.isNil(t.form_origin_form_id)||((t=o.default.clone(t)).form_origin_form_id=""+t.form_origin_form_id),this._track(this.options.application+".component.form_submit",t)},handleApiRequest:function(t,e){this._track(this.options.application+".ceros.api.request",{sdk_event_name:t.name,sdk_version:t.client.sdkVersion})},sendPerformanceMarkEvent:function(t){this._track(this.options.application+".performance.marker",t,!0)},_trackViewPage:function(t){this.lastPageLoadedAttr&&this.lastPageLoadedAttr.page_num===t.page_num||(this._track(this.options.application+".page.view",t),this.playerPageViewTracker.activatePage(t.topY,t.bottomY,t.pageHeight),this.lastPageLoadedAttr=t)},_track:function(t,e,n){if(!this.ready)throw Error("please call init() before attempting to capture analytics!");return s.default.isBot()?a.default.Deferred().resolve():(n||this.playerPageViewTracker.registerUserActivity(),this.analyticsTrackerManager.sendEvent(t,e))},resetPageTrackingMinMaxY:function(){this.playerPageViewTracker.resetYMinMax()},trackPageScroll:function(t){this.lastPageLoadedAttr&&this.lastPageLoadedAttr.page_slug===t.page_slug&&this.playerPageViewTracker.trackPageScroll(t.topY,t.bottomY)},registerUserActivity:function(){this.playerPageViewTracker.registerUserActivity()},registerUserActivityIfVisible:function(){this.playerPageViewTracker.registerUserActivityIfNotPaused()},sendPageDwellEvent:function(t){if(!s.default.isBot()&&this.isPlayer()&&this.lastPageLoadedAttr){var e={page_slug:this.lastPageLoadedAttr.page_slug,page_num:this.lastPageLoadedAttr.page_num,page_height:this.lastPageLoadedAttr.pageHeight,min_y:t.minY,max_y:t.maxY,dwell_time:t.dwellTime};r.default.debug("SENDING PING, min_y: "+e.min_y+", max_y: "+e.max_y+", Dur: "+e.dwell_time+", page_height: "+e.page_height),this.analyticsTrackerManager.sendEvent(this.options.application+".page.dwell",e)}},isPlayer:function(){return"player"===this.options.application},getUserToken:function(){var t=d.default.getExperiencePath(),e=h.AnalyticsLocalStorage.getDomainTracker(t);return e?e.user_token:null}},e.default=new f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(2)),u=i(n(8)),l=i(n(30)),c=i(n(243)),d=i(n(250)),h=i(n(253)),f=i(n(255)),p=i(n(256)),g=i(n(257)),m=n(65),v=function(t){this.options=t||{},this.trackers=[];var e=this.hasUserConsentForAnalytics();this.options.cerosPlayerTracker&&this.trackers.push(new c.default(this.options.cerosPlayerTracker,e)),this.options.googleAnalyticsTracker&&this.trackers.push(new d.default(this.options.googleAnalyticsTracker,e)),this.options.googleTagManagerTracker&&this.trackers.push(new h.default(this.options.googleTagManagerTracker)),this.options.marketoTracker&&this.trackers.push(new f.default(this.options.marketoTracker)),this.options.eloquaTracker&&this.trackers.push(new p.default(this.options.eloquaTracker)),this.options.universalAnalyticsTracker&&this.trackers.push(new g.default(this.options.universalAnalyticsTracker)),this.registerSdkAnalyticsUserConsentEventListeners()};o.default.extend(v.prototype,{hasUserConsentForAnalytics:function(){var t=u.default.getExperiencePath(),e=m.AnalyticsLocalStorage.getUserConsent(t);return!!e||!s.default.docVersion.requireUserConsentForAnalytics&&!1!==e},registerSdkAnalyticsUserConsentEventListeners:function(){l.default.on("sdk.experience.analytics.user.consent.granted",o.default.bind((function(){var t=u.default.getExperiencePath();m.AnalyticsLocalStorage.setUserConsent(!0,t),this.trackers.forEach((function(t){return t.applyUserConsentGranted()}))}),this)),l.default.on("sdk.experience.analytics.user.consent.denied",o.default.bind((function(){var t=u.default.getExperiencePath();m.AnalyticsLocalStorage.setUserConsent(!1,t),this.trackers.forEach((function(t){return t.applyUserConsentDenied()}))}),this))},sendEvent:function(t,e){if(a.default.isBot())return r.default.Deferred().resolve();var n=[];return o.default.each(this.trackers,(function(i){i.isEnabled()&&n.push(i.sendEvent(t,e))})),r.default.when.apply(r.default,n).promise()},updateScale:function(t){o.default.each(this.trackers,(function(e){e.isEnabled()&&e.updateScale(t)}))}}),e.default=v},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(118)),s=i(n(15)),u=i(n(2)),l=["previewer.component.hover","player.component.hover","previewer.video.progress_time","previewer.video.progress_percent"],c=["previewer.page.view","player.page.view"],d=["previewer.video.play","player.video.play","previewer.video.progress_time","player.video.progress_time","previewer.video.progress_percent","player.video.progress_percent"],h=["page_slug","page_num"],f=function(t,e){a.default.call(this,o.default.extend({trackInitialReferrer:!0,application:u.default.analyticsApplicationKey,hasUserConsentForAnalytics:e},t))};(f.prototype=Object.create(a.default.prototype)).constructor=f,o.default.extend(f.prototype,{sendEvent:function(t,e){return o.default.includes(l,t)?r.default.Deferred().resolve():(e=this.filterEventData(t,e),a.default.prototype.track.call(this,t,e))},getCommonProps:function(t){var e=a.default.prototype.getCommonProps.call(this,t);return o.default.extend(e,{experience_alias:u.default.issueAliasSlug,experience_slug:u.default.issue.slug,experience_version_slug:u.default.docVersion.slug,project_slug:u.default.appSlug,current_layout:s.default.hasDetectedVariant()?s.default.getVariant():"unknown"})},filterEventData:function(t,e){return o.default.includes(c,t)?e=o.default.pick(e,h):o.default.includes(d,t)&&(e=o.default.omit(e,["component_name"])),e=o.default.omit(e,["page_name","sdk_tags","sdk_payload"])}}),e.default=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(2)),s=i(n(8)),u=i(n(57)),l=window.navigator.userAgent,c=function(){};c.prototype={data:null,scale:null,initialScale:null,getData:function(){return this.data||(this.data=r.default.extend(this.getStandardParams(),this.getCampaignParams())),r.default.extend(this.data,this.getDynamicTrackingInfo())},updateScale:function(t){this.initialScale=this.initialScale||t,this.scale=t},getDynamicTrackingInfo:function(){var t=u.default.getDimensions(),e={screen_width:t.width,screen_height:t.height};return this.initialScale&&(e.initial_scale=this.initialScale),this.scale&&(e.scale=this.scale),e},getBrowserAndVersionUsingMixpanelAlgorithm:function(t,e,n){var i=function(e){var n=t.match(e);return n&&n[1]},o=null,a=null;e=e||"",r.default.includes(t,"PhantomJS")?(o="PhantomJS",a=i(/PhantomJS\/(\d+)/)):r.default.includes(t,"jsdom")?(o="jsdom",a=i(/jsdom\/([0-9._a-z]+)/)):n?o=r.default.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?o="BlackBerry":r.default.includes(t,"Edg")?(o="Microsoft Edge",a=i(/Edg\/(\d+)/)):r.default.includes(t,"FBIOS")?o="Facebook Mobile":r.default.includes(t,"Chrome")?(o="Chrome",a=i(/Chrome\/(\d+)/)):r.default.includes(t,"CriOS")?(o="Chrome iOS",a=i(/CriOS\/(\d+)/)):r.default.includes(e||"","Apple")?(o=r.default.includes(t,"Mobile")?"Mobile Safari":"Safari",a=i(/Version\/(\d+)/)):r.default.includes(t,"Android")?o="Android Mobile":r.default.includes(t,"Konqueror")?o="Konqueror":r.default.includes(t,"Firefox")?(o="Firefox",a=i(/Firefox\/(\d+)/)):r.default.includes(t,"Gecko")&&(o="Mozilla");var s={};return o&&(s.name=o),a&&(s.version=a),s},getStandardParams:function(){var t=window.document.referrer,e=this.getSearchEngine(t),n=this.getBrowserAndVersionUsingMixpanelAlgorithm(l,navigator.vendor,window.opera);return{browser:n.name,trial:!!a.default.isTrialAccount,browser_version:n.version,user_agent:l,device_type:o.default.deviceType(),player_type:o.default.playerType(),initial_orientation:o.default.orientation(),cookies_enabled:!!o.default.cookies(),embedded:!!o.default.isIframe(),https:"https:"===window.location.protocol,device:this.getDevice(),device_pixel_ratio:o.default.pixelRatio(),search_engine:e,search_keyword:this.getSearchKeyword(e,t),os:o.default.os.name,os_version:o.default.os.version,referrer:t||null,referring_domain:this.extractReferringDomain(t)}},extractReferringDomain:function(t){var e=null;return t&&((e=s.default.extractDomain(t))||(e=t)),e},getDevice:function(){return/Windows Phone/i.test(l)||/WPDesktop/.test(l)?"Windows Phone":o.default.isIpad()?"iPad":/iPod/.test(l)?"iPod Touch":/iPhone/.test(l)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(l)?"BlackBerry":/Android/.test(l)?"Android":null},getSearchEngine:function(t){return 0===t.search("https?://(.*)google.([^/?]*)")?"google":0===t.search("https?://(.*)bing.com")?"bing":0===t.search("https?://(.*)yahoo.com")?"yahoo":0===t.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},getSearchKeyword:function(t,e){var n="yahoo"!=t?"q":"p";if(null!==t){var i=s.default.getUrlParams(e)[n];if(i&&i.length)return i}return null},getCampaignParams:function(){return r.default.pick(s.default.getUrlParams(window.document.URL),"utm_source","utm_medium","utm_campaign","utm_content","utm_term")}},e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=function(){this.queue=[],this.timerId=null};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{AGGREGATE_EVENT:"aggregate-event"},addEvent:function(t){this.queue.push(t),this.startTimer()},isEmpty:function(){return 0===this.queue.length},popEvents:function(){var t=this.queue.splice(0,5);return this.clearTimer(),r.default.isEmpty(this.queue)||this.startTimer(),t},startTimer:function(){null===this.timerId&&(this.timerId=setTimeout(r.default.bind(this.postEvents,this),5e3))},clearTimer:function(){null!==this.timerId&&(clearTimeout(this.timerId),this.timerId=null)},postEvents:function(){this.queue.length>0?this.trigger(this.EVENTS.AGGREGATE_EVENT,this.popEvents()):this.clearTimer()}}),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CookieName=void 0,function(t){t.CEROS_ID="ceros_id",t.CEROS_USER="ceros_user",t.AUTH_REFERER="auth_referer",t.ORIGINAL_REFERER="original_referer",t.CEROS_DOMAIN_TRACKING="cerosdomaintracking",t.CEROS_EXPERIENCE_TRACKING="cerosexperiencetracking",t.USER_CONSENT="user_consent"}(e.CookieName||(e.CookieName={}))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataUtils=void 0;var r=i(n(0)),o=function(){function t(){}return t.isNullOrUndefined=function(t){return r.default.isNull(t)||r.default.isUndefined(t)},t}();e.DataUtils=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.storageFactory=void 0,e.storageFactory=function(t){var e={};function n(){try{var e="__some_random_key_you_are_not_going_to_use__";return t().setItem(e,e),t().removeItem(e),!0}catch(t){return!1}}return{getItem:function(i){return n()?t().getItem(i):e.hasOwnProperty(i)?e[i]:null},setItem:function(i,r){n()?t().setItem(i,r):e[i]=String(r)},removeItem:function(i){n()?t().removeItem(i):delete e[i]},clear:function(){n()?t().clear():e={}},key:function(i){return n()?t().key(i):Object.keys(e)[i]||null},get length(){return n()?t().length:Object.keys(e).length}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringUtils=void 0;var i=function(){function t(){}return t.getEmailDomain=function(t){var e=null==t?void 0:t.split("@");return 2===(null==e?void 0:e.length)?e[1]:null},t.pluralize=function(t,e,n){return void 0===n&&(n="s"),1===e?t:""+t+n},t.isEmail=function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)},t}();e.StringUtils=i},function(t,e,n){"use strict";(function(t){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(2)),s=i(n(18)),u=i(n(49)),l=i(n(251)),c=i(n(252)),d=function(t,e){u.default.call(this,t),this.options=t,this.hasUserConsentForAnalytics=e,this.initUserConsent(),this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))};(d.prototype=Object.create(u.default.prototype)).constructor=d,o.default.extend(d.prototype,{initUserConsent:function(){this.hasUserConsentForAnalytics?this.applyUserConsentGranted():this.applyUserConsentDenied()},applyUserConsentGranted:function(){if(this.options.trackingID&&!a.default.isEmbedded){this.hasUserConsentForAnalytics=!0;var t=new c.default.GtagFunctionConfig(this.options.trackingID,{anonymize_ip:!1,send_page_view:!1});this.invokeGtagFunctionStandalone("GA anonymize IP disabled",t);var e=new c.default.GtagFunctionConsentUpdate({analytics_storage:"granted"});this.invokeGtagFunctionStandalone("GA cookies enabled",e)}},applyUserConsentDenied:function(){if(this.options.trackingID&&!a.default.isEmbedded){this.hasUserConsentForAnalytics=!1;var t=new c.default.GtagFunctionConfig(this.options.trackingID,{anonymize_ip:!0,send_page_view:!1});this.invokeGtagFunctionStandalone("GA anonymize IP enabled",t);var e=new c.default.GtagFunctionConsentUpdate({analytics_storage:"denied"});this.invokeGtagFunctionStandalone("GA cookies disabled",e)}},isEnabled:function(){return this.options.enabled&&!!this.options.trackingID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e=new c.default.GtagFunctionEvent("page_view",{send_to:this.options.trackingID,page_path:s.default.buildUriForPageNumber(t.page_num)});this.invokeGtagFunctionStandalone("GA page view event",e)},handleClickComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.clickEventAction,eventLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.hoverEventAction,eventLabel:t.component_name})},sendCustomEvent:function(t){var e=new c.default.GtagFunctionEvent(t.eventAction,{send_to:this.options.trackingID,event_category:t.eventCategory,event_label:t.eventLabel}),n=new l.default(t);this.invokeGtagFunctionStandaloneOrEmbedded("GA custom event",e,n)},invokeGtagFunctionStandalone:function(e,n){a.default.previewMode?r.default.forceInfo(e,n.toString()):t.isEmbedded||n.invoke()},invokeGtagFunctionStandaloneOrEmbedded:function(t,e,n){a.default.previewMode?r.default.forceInfo(t,e.toString()):a.default.isEmbedded?this.invokeOnParentPage([e,n]):e.invoke()}}),e.default=d}).call(this,n(35))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(66)),o=function(t){r.default.call(this,"ga",["send",t])};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(66)),o=function(t,e){r.default.call(this,"gtag",["event",t,e])};(o.prototype=Object.create(r.default.prototype)).constructor=o;var a=function(t){r.default.call(this,"gtag",["consent","update",t])};(a.prototype=Object.create(r.default.prototype)).constructor=a;var s=function(t,e){r.default.call(this,"gtag",["config",t,e])};(s.prototype=Object.create(r.default.prototype)).constructor=s,e.default={GtagFunctionEvent:o,GtagFunctionConsentUpdate:a,GtagFunctionConfig:s}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(2)),s=i(n(18)),u=i(n(49)),l=i(n(254)),c=function(t){u.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))};(c.prototype=Object.create(u.default.prototype)).constructor=c,o.default.extend(c.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.containerID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e={event:"ceros-pageview",cerosPagePath:s.default.buildUriForPageNumber(t.page_num),cerosPageTitle:t.page_name,cerosPageLocation:window.location.href},n=new l.default(e);a.default.previewMode?r.default.forceInfo("GTM page view event",n.toString()):n.invoke()},handleClickComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.clickEventAction,cerosLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.hoverEventAction,cerosLabel:t.component_name})},sendCustomEvent:function(t){var e=new l.default(t);a.default.previewMode?r.default.forceInfo("GTM custom event",e.toString()):a.default.isEmbedded?this.invokeOnParentPage(e):e.invoke()}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(66)),o=function(t){r.default.call(this,"dataLayer.push",t)};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(2)),s=i(n(49)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{didInit:!1,isEnabled:function(){return this.options.enabled&&!!this.options.accountId},isPageViewTrackingEnabled:function(){return this.isEnabled()},init:function(t){this.didInit=!!a.default.previewMode||!!window.Munchkin,a.default.previewMode&&r.default.forceInfo("Marketo page view event",JSON.stringify(this.formatPageUri(t.page_num))),window.Munchkin&&window.Munchkin.init(this.options.accountId)},formatPageUri:function(t){var e=window.location.pathname;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),{url:e}},handlePageEvent:function(t){if(this.didInit){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Marketo page view event",JSON.stringify(e)):window.Munchkin.munchkinFunction("visitWebPage",e)}else this.init(t)}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(2)),s=i(n(49)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent)),this.isEnabled()&&(window._elqQ=window._elqQ||[],window._elqQ.push(["elqSetSiteId",this.options.siteId]),t.cookieDomain&&window._elqQ.push(["elqUseFirstPartyCookie",this.options.cookieDomain]))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.siteId},isPageViewTrackingEnabled:function(){return this.isEnabled()},formatPageUri:function(t){var e=window.location.href;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),e},handlePageEvent:function(t){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Eloqua page view event",e):window._elqQ.push(["elqTrackPageView",e])}}),e.default=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(6)),u=a(n(2)),l=a(n(18)),c=a(n(258)),d=a(n(49)),h=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.globalContext=u.default,n.isEmbedded=n.globalContext.isEmbedded,n.registerEventHandler("experience.open",n.handleExperienceOpenEvent),n.registerEventHandler("page.view",n.handlePageViewEvent),n.registerEventHandler("component.click",n.handleClickComponentEvent),n.registerEventHandler("component.hover",n.handleHoverComponentEvent),n.registerEventHandler("video.play",n.handleVideoPlayEvent),n.registerEventHandler("video.progress_percent",n.handleVideoProgressPercentEvent),n.registerEventHandler("video.progress_time",n.handleVideoProgressTimeEvent),n.registerEventHandler("component.form_submit",n.handleFormSubmitEvent),n.registerEventHandler("link.click",n.handleLinkClickEvent),n.registerEventHandler("lightbox.click",n.handleLightboxClickEvent),n}return r(e,t),e.prototype.handleExperienceOpenEvent=function(t){this.sendCustomEvent("experience-open",{pageNum:t.page_num,pageName:t.page_name})},e.prototype.handlePageViewEvent=function(t){this.sendCustomEvent("page-view",{page:l.default.buildUriForPageNumber(t.page_num),pageNum:t.page_num,pageName:t.page_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleClickComponentEvent=function(t){this.sendCustomEvent("component-click",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleLinkClickEvent=function(t){this.sendCustomEvent("link-click",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,url:t.outgoing_url,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleLightboxClickEvent=function(t){this.sendCustomEvent("lightbox-click",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,lightboxUrl:t.lightbox_url,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleHoverComponentEvent=function(t){this.sendCustomEvent("component-hover",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleVideoPlayEvent=function(t){this.sendCustomEvent("video-play",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleVideoProgressTimeEvent=function(t){this.sendCustomEvent("video-progress-time",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,videoPosition:t.video_position,videoPlayTime:t.video_play_time,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleVideoProgressPercentEvent=function(t){this.sendCustomEvent("video-progress-percent",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,videoProgressPct:t.video_progress_percent,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleFormSubmitEvent=function(t){this.sendCustomEvent("form-submit",{pageNum:t.page_num,pageName:t.page_name,formId:t.form_origin_form_id,formName:t.form_origin_form_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.sendCustomEvent=function(t,e){var n=Object.assign({},e,{eventType:t,experienceName:this.globalContext.issue.name});n.pageName||delete n.pageName,n.sdkPayload||delete n.sdkPayload,n.sdkTags&&0!==n.sdkTags.length?n.sdkTags=o(n.sdkTags):delete n.sdkTags;var i=new c.default("ceros-analytics-event",n);this.globalContext.previewMode&&s.default.forceInfo("Ceros Analytics Event: ",i.toString()),i.invoke(),this.globalContext.isEmbedded&&this.invokeOnParentPage(i)},e}(d.default);e.default=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,"document.body.dispatchEvent",new CustomEvent(e,{detail:n}))||this}return r(e,t),e.prototype.toJSON=function(){return{functionPath:this.functionPath,args:[this.args[0].type,{detail:this.args[0].detail}]}},e}(o(n(66)).default);e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(6)),a=i(n(0)),s=i(n(123)),u=function(){s.default.call(this)};(u.prototype=Object.create(s.default.prototype)).constructor=u;a.default.extend(u.prototype,{activatePage:function(t,e,n){this.timerId&&(o.default.debug("Stopping page ping timer"),clearTimeout(this.timerId),this.timerId=null),t=isNaN(t)?0:t,e=isNaN(e)?n:e,this.minY=t,this.maxY=e,this.lastTopY=t,this.lastBottomY=e,this.pageHeight=n,this.pageActivated=!0,this.registerUserActivity()},resetYMinMax:function(){this.minY=void 0,this.maxY=void 0},trackPageScroll:a.default.throttle((function(t,e){isNaN(t)||isNaN(e)||(this.minY=void 0===this.minY?t:Math.min(t,this.minY),this.maxY=void 0===this.maxY?e:Math.max(e,this.maxY),this.lastTopY=t,this.lastBottomY=e,this.registerUserActivity())}),200),setPostEventFireData:function(){this.minY=this.lastTopY,this.maxY=this.lastBottomY},shouldStartPagePingEventTimer:function(){return this.isUserActive()||this.isLightboxOpen()},getDwellTimeEventData:function(){var t=Math.max(0,this.minY),e=this.maxY;return this.pageHeight&&(e=Math.min(this.pageHeight,e)),{minY:t,maxY:e,dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},isLightboxOpen:function(){return r.default(".ceros-lightbox").is(":visible")},logDebug:function(t){o.default.debug(t)}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(2)),u=i(n(22)),l=i(n(39)),c=i(n(261)),d=s.default.publicAssetsBaseUrl+"PoweredByCeros.svg";e.default=u.default.extend({id:"ceros-branding",initialize:function(){this.poweredByUrl=this.getBrandingLinkUrl(),u.default.prototype.initialize.call(this),this.render(),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.$el,o.default.bind(this._clickCerosBranding,this))},render:function(){if(this.$el.empty().html(c.default),this.$el.find("a").attr("href",this.poweredByUrl),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.setCustomTheming(),!this.options.whiteLabeling){var t={color:this.options.menuForegroundColor},e={alt:"Powered By Ceros",width:"100%",height:"100%"};l.default.addVectorImage(d).loadNow().done(o.default.bind((function(n){n.createImageElement(t,e).done(o.default.bind((function(t){this.$el.find("a").append(t)}),this))}),this))}},setCustomTheming:function(){this.$el.css("background-color",this.options.menuBackgroundColor);var t=this.options.menuHoverOpacity,e=this.$el.find("a");a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",t)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",t)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this._positionCerosBranding()},_positionCerosBranding:function(){a.default.isIphoneFullscreenMobileSafari(r.default(window).width(),r.default(window).height())?this.$el.css({right:"42px","border-radius":"3px 3px 0 0"}):this.$el.css({right:0,"border-radius":"3px 0 0 0"})},getBrandingLinkUrl:function(){return"http://www3.ceros.com/poweredbyceros?"+["utm_source=M-W-CerosPower","account="+encodeURIComponent(s.default.accountSlug),"experience="+encodeURIComponent(s.default.issueAliasSlug)].join("&")},_onResize:function(){this._positionCerosBranding()},_clickCerosBranding:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.BRANDING_CEROS_BRANDING_CLICK)}})},function(t,e,n){"use strict";n.r(e),e.default='\n    <a href="#" class="label"><span class="sr-only">Powered by Ceros</span></a>'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(22)),u=i(n(263)),l=i(n(41)),c=i(n(8)),d=i(n(18)),h=i(n(63));e.default=s.default.extend({id:"chrome",initialize:function(){s.default.prototype.initialize.call(this),this.autoHideTimer=null,this.render(),this.clickOverlay=r.default('<div class="click-overlay"></div>'),this.bindInteraction(this.clickOverlay,o.default.bind(this._hideShareMenu,this)),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.title,o.default.bind(this._clickTitle,this)),this.bindInteraction(this.share,o.default.bind(this._activateShareMenu,this)),this.bindInteraction(this.shareMenu.find("a"),o.default.bind(this._sharePage,this)),this.bindInteraction(this.cart,o.default.bind(this._activateCart,this))},render:function(){this.$el.empty().html(u.default),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.chromeMenu=this.$el.find("#chrome-menu"),this.title=this.chromeMenu.find(".title"),this.share=this.chromeMenu.find(".share"),this.$shareBtn=this.chromeMenu.find(".share-button"),this.shareMenu=this.chromeMenu.find(".share-menu"),this.shareMenuArrow=this.chromeMenu.find(".arrow"),this._renderShareMenuArrow(),this.cart=this.chromeMenu.find(".cart"),!1===this.options.showChromeMenu&&this.chromeMenu.hide(),this.setCustomTheming(),this.options.allowCommerceIntegration&&this.options.commerceSettings.shoppingCartUrl||this.cart.remove(),this.chromeMenu.addClass("icon-"+this.chromeMenu.find("div.button").length)},_renderShareMenuArrow:function(){var t=r.default('<canvas width="39" height="18"></canvas>');this.shareMenuArrow.empty().append(t);var e=t[0].getContext("2d");e.save(),e.clearRect(0,0,39,18),e.fillStyle=this.options.menuBackgroundColor,e.beginPath(),e.moveTo(19.5,0),e.lineTo(39,18),e.lineTo(0,18),e.lineTo(19.5,0),e.fill(),e.restore()},setCustomTheming:function(){this.chromeMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.find("li").css("border-color",this.options.menuBorderColor);var t=this.options.menuForegroundColor;this.$el.find(".title,.label,.icon").css("color",t);var e=this.$el.find("a"),n=this.options.menuHoverOpacity;a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",n)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",n)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))},toggle:function(){this.chromeMenu.fadeToggle({duration:"fast",queue:!1,complete:o.default.bind(this.setAutoHideTimer,this)})},setAutoHideTimer:function(){this.cancelAutoHide(),this.chromeMenu.is(":visible")&&(this.autoHideTimer=setTimeout(o.default.bind((function(){"none"===this.shareMenu.css("display")&&this.hide(!0)}),this),5e3))},cancelAutoHide:function(){clearTimeout(this.autoHideTimer)},show:function(t){this.cancelAutoHide(),t?this.$el.fadeIn("fast"):this.$el.show()},hide:function(t){this.cancelAutoHide(),t?this.chromeMenu.fadeOut("fast"):this.chromeMenu.hide()},getHeight:function(){return!1===this.options.showChromeMenu?0:a.default.mobile()?50:42},setTitle:function(t){this.chromeMenu.find(".title").text(t)},_onResize:function(){this._positionShareMenu()},_showShareMenu:function(){this._positionShareMenu(),this.shareMenuArrow.show(),this.shareMenu.attr("aria-expanded","true"),this.shareMenu.slideDown(150,o.default.bind((function(){this.$el.after(this.clickOverlay),this.clickOverlay.show()}),this)),o.default.defer(o.default.bind((function(){this.bindInteraction(this.$el,o.default.bind(this._hideShareMenu,this))}),this)),this.bindShareMenuFocusStateWatcher(),this.bindShareMenuEscWatcher()},bindShareMenuFocusStateWatcher:function(){this.focusCallback=function(){this.shareMenu[0].contains(document.activeElement)||(this.removeShareMenuWatchers(),this._hideShareMenu())}.bind(this),document.addEventListener("focus",this.focusCallback,!0)},bindShareMenuEscWatcher:function(){this.escCallback=function(t){"Escape"!==t.code&&t.keyCode!==h.default.ESC||(this.removeShareMenuWatchers(),this.$shareBtn.focus(),this._hideShareMenu())}.bind(this),document.addEventListener("keydown",this.escCallback,!0)},removeShareMenuWatchers:function(){document.removeEventListener("keydown",this.escCallback,!0),document.removeEventListener("focus",this.focusCallback,!0)},_hideShareMenu:function(){this.shareMenu.attr("aria-expanded","false"),this.shareMenu.slideUp(100,o.default.bind((function(){this.shareMenuArrow.hide(),this.clickOverlay.detach(),this.unbindInteraction(this.$el)}),this)),a.default.mobile()&&this.setAutoHideTimer()},_positionShareMenu:function(){if(this.options.showChromeMenu){var t,e=r.default(window).width(),n=this.chromeMenu.height()+10;t=e<=480?this.share.position().left+this.share.width()/2-this.shareMenu.width()/2:this.share.position().left,this.shareMenu.css({top:n+"px",left:t+"px"})}},setMenuLinkHrefs:function(t){var e=c.default.removeEmbedParams(d.default.buildUriForPageNumber(t)),n=window.location.protocol+"//"+window.location.host+e,i=this.$el.find("[data-share='facebook']"),r=this.$el.find("[data-share='twitter']"),o=this.$el.find("[data-share='linkedin']"),a=this.$el.find("[data-share='pinterest']"),s=this.$el.find("[data-share='email']");this.title.attr("href",d.default.buildUriForPageNumber(1)),i.attr("href",l.default.urlForFacebook(n)),r.attr("href",l.default.urlForTwitter(n)),o.attr("href",l.default.urlForLinkedIn(n)),a.attr("href",l.default.urlForPinterest(n)),s.attr("href",l.default.urlForEmail(n))},_clickTitle:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.CHROME_TITLE_CLICK)},_activateCart:function(){this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHOPPING_CART)},_activateShareMenu:function(t){"none"===this.shareMenu.css("display")?(this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE),this._showShareMenu()):this._hideShareMenu()},_sharePage:function(t){t.preventDefault();var e="share-"+r.default(t.currentTarget).attr("data-share");this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE_PAGE,{action:e}),this._hideShareMenu()}})},function(t,e,n){"use strict";n.r(e),e.default='<nav id="chrome-menu">\n    <a href="#" class="title" title="Home"></a>\n    <div class="menu-buttons">\n        <div class="share button">\n            <button class="menu-button share-button" aria-controls="shareMenu"><span class="sr-only">Social Sharing Menu</span><span class="icon">&#xe000;</span></button>\n            <div class="arrow">\x3c!-- A dynamically rendered HTML5 canvas or VML element is inserted here --\x3e</div>\n        </div>\n        <div id="shareMenu" class="share-menu" style="display:none;" aria-expanded="false">\n            <ul>\n                <li><a href="#" data-share="facebook" title="Share on Facebook"><span class="sr-only">Share on Facebook</span><span class="icon ceros-facebook-icon"></span></a></li>\n                <li><a href="#" data-share="twitter" title="Share on Twitter"><span class="sr-only">Share on Twitter</span><span class="icon ceros-twitter-icon"></span></a></li>\n                <li><a href="#" data-share="linkedin" title="Share on LinkedIn"><span class="sr-only">Share on LinkedIn</span><span class="icon ceros-linkedin-icon"></span></a></li>\n                <li><a href="#" data-share="pinterest" title="Share on Pinterest"><span class="sr-only">Share on Pinterest</span><span class="icon ceros-pinterest-icon"></span></a></li>\n                <li><a href="#" data-share="email" title="Share via Email"><span class="sr-only">Share on Email</span><span class="icon ceros-email-icon"></span></a></li>\n            </ul>\n        </div>\n        <div class="cart button" aria-controls="cartModal">\n            <button class="menu-button" aria-controls="lightbox"><span class="sr-only">Open Cart</span><span class="icon">&#xe004;</span></button>\n        </div>\n    </div>\n</nav>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(9)),o=i(n(22)),a=i(n(265));e.default=o.default.extend({id:"errorModal",initialize:function(t){o.default.prototype.initialize.call(this,t),this.options=t,this.render()},render:function(){var t=r.default.render(a.default,{title:this.options.title,message:this.options.message,imageCssClass:this.options.imageCssClass});this.$el.html(t)}})},function(t,e,n){"use strict";n.r(e),e.default='<div id="float"></div>\n<div id="dialog">\n    <div id="content">\n        <div id="title">\n            {{title}}\n        </div>\n        <div id="image" {{#imageCssClass}}class="{{imageCssClass}}"{{/imageCssClass}}></div>\n        <div id="message">\n            {{{message}}}\n        </div>\n    </div>\n</div>'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(31)),u=i(n(46)),l=i(n(98)),c=i(n(22)),d=i(n(3)),h=i(n(381)),f=i(n(18)),p=n(99);u.default=a.default.editMode?p.editorViewportModule:u.default;e.default=c.default.extend({id:"flippers",leftArrow:null,rightArrow:null,scaleData:null,currentPageNumber:0,smallWindowThreshold:600,options:null,initialize:function(){c.default.prototype.initialize.call(this),d.default.desktop()&&r.default(document).on("keydown",o.default.bind(this.keyHandler,this)),this.render(),this.bindInteraction(this.leftArrow,o.default.bind(this._previousPage,this)),this.bindInteraction(this.rightArrow,o.default.bind(this._nextPage,this)),this.bindInteraction(this.$el)},onClose:function(){c.default.prototype.initialize.call(this),this.unbindInteraction(this.leftArrow),this.unbindInteraction(this.rightArrow),this.unbindInteraction(this.$el)},_previousPageHref:function(){if(!this.currentPageNumber)return"#";var t=f.default.parseLayoutFromLocation();return f.default.buildUri(l.default.PAGE_MODES.NUMBER,Math.max(1,this.currentPageNumber-1),t)},_nextPageHref:function(){if(!this.currentPageNumber)return"#";var t=f.default.parseLayoutFromLocation();return f.default.buildUri(l.default.PAGE_MODES.NUMBER,this.currentPageNumber+1,t)},replaceHrefs:function(){this.currentPageNumber=u.default.currentPageNumber(),this.$(".prev.left a").attr("href",this._previousPageHref()),this.$(".next.right a").attr("href",this._nextPageHref())},render:function(){var t=a.default.isEmbedded?"<button>":"<a>";this.leftArrow=r.default("<div>",{class:"prev left",css:{"background-color":this.options.menuBackgroundColor}}),this.leftArrowA=r.default(t,{title:"Previous Page",html:h.default.LEFT_ARROW,attr:{"aria-label":"Previous Page"},css:{color:this.options.menuForegroundColor}}),this.leftArrow.append(this.leftArrowA),this.rightArrow=r.default("<div>",{class:"next right",css:{"background-color":this.options.menuBackgroundColor}}),this.rightArrowA=r.default(t,{title:"Next Page",html:h.default.RIGHT_ARROW,attr:{"aria-label":"Next Page"},css:{color:this.options.menuForegroundColor}}),this.rightArrow.append(this.rightArrowA),a.default.isEmbedded||(this.leftArrowA.attr("href",this._previousPageHref()),this.rightArrowA.attr("href",this._nextPageHref()));var e=this.options.menuHoverOpacity;d.default.touch()&&(this.leftArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))),d.default.desktop()&&(this.leftArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")}))),this.disableNext(),this.disablePrevious(),this.$el.append(this.leftArrow),this.$el.append(this.rightArrow),!1===this.options.arrowsEnabled&&this.hide()},scale:function(t){t&&(this.scaleData=t);var e=this.scaleData.height,n=this.scaleData.marginTop,i=this.scaleData.originalWindowWidth;this.scaleData.windowHeight<this.smallWindowThreshold||i<this.smallWindowThreshold?(this.rightArrow.addClass("small"),this.leftArrow.addClass("small")):(this.leftArrow.removeClass("small"),this.rightArrow.removeClass("small"));var r,o=parseFloat(this.rightArrowA.css("height")),a=s.default.getInstance();r=a.isActive()?a.getVerticalCenterOfVisibleArea(e)-o/2:e/2-o/2+n,r=Math.round(r)+"px",this.leftArrow.css("top",r),this.rightArrow.css("top",r)},isPreviousDisabled:function(){return this.leftArrow.hasClass("disabled")},isNextDisabled:function(){return this.rightArrow.hasClass("disabled")},disablePrevious:function(){this.isPreviousDisabled()||(this.leftArrow.addClass("disabled"),this.leftArrow.attr("aria-hidden",!0),this.leftArrowA.attr("title",""),this.leftArrowA.attr("tabindex","-1"))},disableNext:function(){this.isNextDisabled()||(this.rightArrow.addClass("disabled"),this.rightArrow.attr("aria-hidden",!0),this.rightArrowA.attr("title",""),this.rightArrowA.attr("tabindex","-1"))},enablePrevious:function(){this.isPreviousDisabled()&&(this.leftArrow.removeClass("disabled"),this.leftArrow.removeAttr("aria-hidden"),this.leftArrowA.attr("title","Previous Page"),this.leftArrowA.removeAttr("tabindex"))},enableNext:function(){this.isNextDisabled()&&(this.rightArrow.removeClass("disabled"),this.rightArrow.removeAttr("aria-hidden"),this.rightArrowA.attr("title","Next Page"),this.rightArrowA.removeAttr("tabindex"))},show:function(){!0===this.options.arrowsEnabled&&this.$el.show()},hide:function(){this.$el.hide()},_nextPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.NEXT_PAGE)},_previousPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.PREVIOUS_PAGE)},keyHandler:function(t){(!t.target||"SELECT"!=t.target.tagName&&"INPUT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName)&&(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey||this.options.arrowsEnabled&&(39!==t.keyCode||this.isNextDisabled()?37!==t.keyCode||this.isPreviousDisabled()?37!==t.keyCode&&39!==t.keyCode||(t.stopPropagation(),t.preventDefault()):(t.stopPropagation(),t.preventDefault(),this._previousPage(t)):(t.stopPropagation(),t.preventDefault(),this._nextPage(t))))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(1)),a=i(n(0)),s=i(n(2)),u=i(n(33)),l=i(n(125)),c=i(n(39)),d=i(n(126)),h=i(n(3)),f=i(n(22)),p=i(n(127)),g=i(n(268)),m=i(n(40)),v=n(269),y=n(271),_=i(n(11)),b=i(n(12)),T=i(n(48)),w=i(n(85)),S=n(273),E=i(n(15)),O=i(n(86)),C=0,A=1,P=2;e.default=f.default.extend({id:"viewport",documentVersion:null,module:null,pageJumpFrom:null,currentPage:null,currentPageSlug:null,pageViews:null,leftThresholdA:null,leftThresholdB:null,rightThresholdA:null,rightThresholdB:null,clickShield:null,isPageTransitionInProgress:!1,autoTransitionDelay:null,backgroundImage:null,scaleContext:null,scrollPositionsByPage:{},viewportContainer:null,backgroundContainerEl:null,backgroundImageEl:null,backgroundImageResource:null,backgroundImageInfo:null,mainContentLink:null,viewportTopAnchor:null,zoomControls:null,MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:2,pageTransitionAriaLiveTimeout:null,initialize:function(){this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.module=this.options.module,this.mainContentLink=new v.MainContentLinkView({docVersion:this.documentVersion}),this.viewportTopAnchor=new y.ViewportTopAnchor,this.hasAccessibilityFeature=_.default.hasFeature(b.default.ACCESSIBILITY),f.default.prototype.initialize.call(this),this.hasAccessibilityFeature&&(this.viewportTopAnchor.initializeViewportTopAnchor(),this.$el.append(this.viewportTopAnchor.$viewportTop),this.$el.append(this.mainContentLink.$el),this.$el.prop("tabindex",-1),this.shouldDisplayZoomControls()&&this.initZoomControls(),s.default.previewMode&&E.default.on("change",this.handleVariantChange.bind(this))),o.default(window).on("resize",a.default.bind(this.scale,this)),this.documentVersion.getSwipeEnabled()?h.default.touch()&&(l.default.mergeDelegates(this,g.default),this.configureGestures()):h.default.isIosSafari()&&o.default("body").css({overflow:"auto"}),this.clickShield=o.default('<div class="click-shield"></div>'),this.addClickShield(),this.reset(null),s.default.previewMode&&this.listenForRemoteChanges(),a.default.each(this.documentVersion.pages,a.default.bind((function(t){t.on("change:disabled",(function(){this.module.trigger(this.module.publishedEvents.PAGE_ENABLED_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this)}),this)),this.backgroundImageInfo=a.default.get(s.default,"themeObj.backgroundImage",null)},listenForRemoteChanges:function(){this.documentVersion.on("change:carousel",a.default.bind((function(){this.getCurrentPage()&&this.currentPageSlug&&(this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),this.setAutoTransitionDelay())}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_ADD_PAGE,a.default.bind((function(t,e){var n=this.module.createSinglePageView(t,e);this.pageViews.splice(e,0,n),n.prepare().done(a.default.bind((function(){n.attach(),this.$el[0].appendChild(n.el()[0]),this.scale(),n.makePending(),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_REMOVE_PAGE,a.default.bind((function(t){t+1===this.currentPage?this.module.trigger(this.module.publishedEvents.CURRENT_PAGE_DELETED):(this.pageViews.splice(t,1),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_MOVE_PAGE,a.default.bind((function(t,e){var n=this.pageViews.splice(t,1)[0];this.pageViews.splice(e,0,n),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this))},getNextPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage+1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t++,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=1;this.pageViews[t-1].isDisabled()&&t<this.currentPage;)t++;t>=this.currentPage&&(t=!1)}else t=!1}return t},getPreviousPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage-1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t--,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=this.pageViews.length;this.pageViews[t-1].isDisabled()&&t>this.currentPage;)t--;t<=this.currentPage&&(t=!1)}else t=!1}return t},isFirstPage:function(){return!1===this.getPreviousPageIndex()},isLastPage:function(){return!1===this.getNextPageIndex()},getCurrentPage:function(){return null!==this.pageViews&&this.pageViews[this.currentPage-1]},getPageNameBySlug:function(t){if(this.pageViews)for(var e=0,n=this.pageViews;e<n.length;e++){var i=n[e];if(i.getSlug()===t)return i.getName()}},getNextPage:function(){var t=!1,e=this.getNextPageIndex();return e&&(t=this.pageViews[e-1]),t},getPreviousPage:function(){var t=!1,e=this.getPreviousPageIndex();return e&&(t=this.pageViews[e-1]),t},getPageCount:function(){return null===this.pageViews?0:this.pageViews.length},getPageViewportWidth:function(){return this.getCurrentPage().getScaleContext().originalWindowWidth},getExperienceWidth:function(){return this.documentVersion.getExperienceWidth()},getExperienceHeight:function(){return this.documentVersion.getExperienceHeight()},reset:function(t,e){if((this.zoomControls?this.$el.children().not(this.zoomControls.$el):this.$el.children()).not("#ceros-branding").not(this.mainContentLink.$el).not(this.viewportTopAnchor.$viewportTop).remove(),a.default.isNull(e)?this.currentPage=1:this.currentPage=e,null!==this.pageViews&&a.default.each(this.pageViews,(function(t){t.close()})),this.pageViews=t,this.viewportContainer=document.createDocumentFragment(),null!==this.pageViews){this._updatePageCss();var n=[];a.default.each(this.pageViews,(function(t){n.unshift(t.el()[0])})),a.default.each(n,a.default.bind((function(t){this.viewportContainer.appendChild(t)}),this)),this.$el[0].appendChild(this.viewportContainer),this.scale()}},disablePage:function(t){this.pageViews[t-1].disable()},enablePage:function(t){this.pageViews[t-1].enable()},nextPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getNextPageIndex();if(e){var n=this.getCurrentPage(),i=this.getNextPage();this._preTransition(n,i),this.switchPage(e,P,t)}}},previousPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getPreviousPageIndex();if(e){var n=this.getCurrentPage(),i=this.getPreviousPage();this._preTransition(n,i),this.switchPage(e,A,t)}}},doTransitionAnimation:function(t,e,n,i){if(n===C)return(new o.default.Deferred).resolve().promise();var r=new o.default.Deferred;this.isPageTransitionInProgress=!0,r.done(a.default.bind((function(){this.isPageTransitionInProgress=!1}),this)),e.makeInTransition();var s=this.getPageViewportWidth()*(n===P?-1:1);return t.pauseAnimations(),t.el().animate({"background-position-x":s},{duration:i,easing:"easeOutCubic",step:a.default.bind((function(n){t.setBackgroundPositionAndScaleTransform(n,this.isPageTransitionInProgress),e.setBackgroundPositionAndScaleTransform(n-s,this.isPageTransitionInProgress)}),this),complete:r.resolve}),r.promise()},_storePageScrollPosition:function(t){this.scrollPositionsByPage[t.getSlug()]=t.getScrollPosition()},_getStoredPageScrollPosition:function(t){return!a.default.isUndefined(t)&&a.default.has(this.scrollPositionsByPage,t.getSlug())?this.scrollPositionsByPage[t.getSlug()]:0},_preTransition:function(t,e){var n=t.getScaleContext();this._storePageScrollPosition(t),n.constrainedByHeight&&(this._hidePageScrollbar(t),this._hidePageScrollbar(e))},jumpToPage:function(t){if(null!==this.pageViews){var e=this.pageViews.length;t>=1&&t<=e&&(this.pageViews[t-1].isDisabled()||this.switchPage(t,C))}},isPageTransitioning:function(){return this.isPageTransitionInProgress},switchPage:function(t,e,n){var i=this;this.isPageTransitioning()||(this.clearAutoTransitionDelay(),e==C||this.documentVersion.isAutoTransitioning()||this.getCurrentPage().pauseAnimations(),this.getCurrentPage().resetTimedTriggers(),this.getCurrentPage()._handleMouseLeave(),this.showPage(t,e,n).done((function(){var t=i.getCurrentPage();i.activatePage(t),i.hasAccessibilityFeature&&(i.setPageTransitionAriaLiveText(t),i.$el.focus()),t.doCustomScaling()})))},showPage:function(t,e,n){e=!s.default.shouldReduceMotion&&e||C,n=n||500;var i=null;this.currentPage!==t&&(i=this.pageViews[this.currentPage-1]);var r,u=t-1;(this.currentPage=t,this.currentPageSlug=this.pageViews[u].getSlug(),this.module.trigger(this.module.publishedEvents.PAGE_CHANGING,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),i&&i.reset(),this.documentVersion.shouldLazyLoad())?r=[u]:r=new p.default(this.documentVersion.getEnabledPageIndexes(),this.documentVersion.isCarousel()).getPageIndexesToLoad(u);var l=new o.default.Deferred;this.attachPages(r,u).always(a.default.bind((function(){l.resolve()}),this));var c=this.doTransitionAnimation(i,this.getCurrentPage(),e,n);return c.done(a.default.bind((function(){this._updatePageCss(),this._adjustPage()}),this)),o.default.when(l,c)},_adjustPage:function(){var t=this.getCurrentPage();t.setScrollPosition(this._getStoredPageScrollPosition(t)),this._showPageScrollbar(t),this._focusOnPageScrollContainer(t)},_focusOnPageScrollContainer:function(t){t&&(s.default.isEmbedded||this.hasAccessibilityFeature&&"keyboard"===T.default.ask()||this.zoomControls&&this.zoomControls.$("button:focus").length>0||t.focusScrollContainer())},activatePage:function(t){this.module.trigger(this.module.publishedEvents.PAGE_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage()}),t.activate(),this.hasAccessibilityFeature&&this.mainContentLink.setPageView(t).render(),this.setAutoTransitionDelay()},setPageTransitionAriaLiveText:function(t){var e,n=o.default("#page-transition-aria-live"),i=t.model.get("name");e=this.documentVersion.get("pageNamesInTitle")&&i?i+" Page":"Page "+(t.model.pageIndex+1),n.text(e),window.clearTimeout(this.pageTransitionAriaLiveTimeout),this.pageTransitionAriaLiveTimeout=window.setTimeout((function(){return n.text("")}),3e3)},attachPages:function(t,e){var n=new o.default.Deferred;setTimeout(a.default.bind((function(){a.default.each(t,a.default.bind((function(t){this.pageViews[t].attach()}),this)),"pending"===n.state()&&(r.default.devWarn("Page media took over 10 seconds"),n.reject())}),this),1e4),this.module.trigger(this.module.publishedEvents.PAGE_BATCH_LOAD_START);var i=[];return a.default.each(t,a.default.bind((function(t){var n=this.pageViews[t],r=n.prepare();r.always(a.default.bind(n.attach,n)),(a.default.isUndefined(e)||t===e)&&i.push(r)}),this)),o.default.when.apply(o.default,i).done(n.resolve),o.default.when.apply(o.default,i).fail(n.reject),n.promise()},_updatePageCss:function(){var t;a.default.each(this.pageViews,a.default.bind((function(e,n){(t=n+1)<this.currentPage&&!e.isViewed()?e.makeViewed():t!==this.currentPage||e.isTop()?t>this.currentPage&&!e.isPending()&&e.makePending():e.makeTop()}),this))},scalePageComponents:function(){a.default.each(this.pageViews,(function(t){t.scale()}))},_showPageScrollbar:function(t){!h.default.isIos()&&this._doesPageFitInViewport(t)?t.$pageContainer.css("overflow-y","hidden"):t.$pageContainer.css("overflow-y","scroll")},_hidePageScrollbar:function(t){t.$pageContainer.css("overflow-y","hidden")},_doesPageFitInViewport:function(t){var e=t.getScaleContext(),n=t.model.getPageHeight(this.documentVersion),i=this.documentVersion.getExperienceWidth(),r=Math.round(e.windowHeight/e.ratio),o=Math.round(e.windowWidth/e.ratio);return(n<=(s.default.heightOverride||this.documentVersion.getExperienceHeight())||n<=r)&&i<=o},scale:function(t){var e,n,i=this.scaleContext.getCurrentWindowScaleContext(),r=this.getExperienceWidth(),s=this.documentVersion.getScaleExperience();o.default("#main").css({height:i.originalWindowHeight+"px",width:i.originalWindowWidth+"px"}),this.$el.css({height:i.originalWindowHeight+"px",width:i.originalWindowWidth+"px","margin-top":i.marginTop+"px"}),null!==this.pageViews&&a.default.each(this.pageViews,a.default.bind((function(t){var o=t.model.getPageHeight(this.documentVersion),a=t.getScaleContext(),u=this._doesPageFitInViewport(t),l=u?0:d.default.getScrollbarWidth();if(n=this.getPageViewOffsetTop(t,a),e=this.getPageViewOffsetLeft(t,a,l),a.constrainedByWidth&&a.windowWidth<a.originalWindowWidth&&u){var c=(a.originalWindowWidth-a.windowWidth)/a.ratio;e+=c/2}var h=s?"hidden":"scroll";t.$pageContainer.css({width:"100%",height:"100%","overflow-y":"scroll","overflow-x":h,position:"relative"}),this._showPageScrollbar(t);var f=0;t.isPending()?f=i.originalWindowWidth:t.isViewed()&&(f=-1*i.originalWindowWidth),s?this.setPageViewScaleTransformCss(t,a):t.$el.css({height:"100%",width:"100%"}),t.setBackgroundPositionAndScaleTransform(f,this.isPageTransitionInProgress),s?t.$pageScroll.css({height:o+"px",width:r,left:e>=1?e:0,top:n>=1?n:0}):this.setPageScrollUnscaledCss(t,o,r,a),t.$pinnedContainer&&this.setPinnedContainerCss(o,a,e,n,l,r,t)}),this));var u=this.getCurrentPage();!1!==u&&(this._focusOnPageScrollContainer(u),this.module.isFirstPageReadyToShow()&&u.onScrollAndWindowResize()),this.module.trigger(this.module.publishedEvents.SCALE,i)},setPageScrollUnscaledCss:function(t,e,n,i){t.$pageScroll.css({height:e+"px",width:n});var r="";e<=i.height?(r+="translateY(-50%) ",t.$pageScroll.css({top:"50%"})):t.$pageScroll.css({top:""}),n<=i.windowWidth?(r+="translateX(-50%)",t.$pageScroll.css({left:"50%"})):t.$pageScroll.css({left:""}),t.$pageScroll.css({transform:r})},setPinnedContainerCss:function(t,e,n,i,r,o,s){var u={height:t+"px",width:e.width/e.ratio,left:n>=1?n:0,top:i>=1?i:0};r?a.default.extend(u,{"max-width":o,width:e.originalWindowWidth/e.ratio-r}):a.default.extend(u,{width:o}),s.$pinnedContainer.css(u)},setPageViewScaleTransformCss:function(t,e){var n,i;this.zoomControls&&w.default.getInstance().hasZoom()?t.$pageContainer.css("overflow-x","auto"):t.$pageContainer.css("overflow-x","hidden"),this.scaleContext.useZoom(e.ratio)?(n="zoom",i=e.ratio):(n="transform",i="scale("+e.ratio+","+e.ratio+")"),t.storeScaleTransform(n,i);var r={height:e.height/e.ratio+"px",width:e.originalWindowWidth/e.ratio+"px"};r[n]=i,t.$el.css(r)},addClickShield:function(){this.$el.before(this.clickShield),this.clickShield.show()},removeClickShield:function(){this.clickShield.detach()},setAutoTransitionDelay:function(){this.clearAutoTransitionDelay(),this.documentVersion.isAutoTransitioning()&&(this.autoTransitionDelay=a.default.delay(a.default.bind((function(){this.clearAutoTransitionDelay(),this.nextPage()}),this),1e3*this.documentVersion.getAutoTransitionDelay()))},clearAutoTransitionDelay:function(){clearTimeout(this.autoTransitionDelay),this.autoTransitionDelay=null},preloadMedia:function(){this.getBackgroundImagePromise()},getBackgroundImagePromise:function(){return this.backgroundImageResource?this.backgroundImageResource.getPromise():a.default.isNull(this.backgroundImageInfo)?o.default.Deferred().reject().promise():(this.loadBackgroundImage(),this.backgroundImageResource.getPromise())},loadBackgroundImage:function(){this.backgroundImageResource&&this.backgroundImageResource.cancel();var t=this.calculateBackgroundImageDimensions();this.bgImageWidth=t.width,this.bgImageHeight=t.height;var e=u.default.calculateWidthForDevicePixelRatio(this.bgImageWidth);return this.backgroundImageResource=c.default.addRasterImage(this.backgroundImageInfo.id,e),this.backgroundImageResource.loadNow(),this.backgroundImageResource},showBackground:function(t){t&&(this.backgroundContainerEl=o.default("#backgroundContainer"),this.backgroundImageEl=o.default("<img>",{width:20,height:20}),this.backgroundContainerEl.empty().append(this.backgroundImageEl),this.backgroundImageEl.on("load",a.default.bind(this.scaleBackground,this)).attr("src",t.getSrc()),o.default(window).on("resize",a.default.throttle(a.default.bind(this.resizeBackgroundImage,this),200)),this.backgroundContainerEl.fadeIn())},resizeBackgroundImage:function(){this.loadBackgroundImage().getPromise().then(a.default.bind((function(t){o.default(this.backgroundImageEl).attr("src")===t.getSrc()?this.scaleBackground():o.default(this.backgroundImageEl).attr("src",t.getSrc())}),this))},scaleBackground:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();this.backgroundContainerEl.width(t).height(e),this.backgroundImageEl.width(this.bgImageWidth).height(this.bgImageHeight).css({left:"-"+(this.bgImageWidth>t?this.bgImageWidth/2-t/2:0)+"px"})},getWindowWidth:function(){var t=o.default(window);return m.default.getExperienceContainerWidth(t)},getWindowHeight:function(){var t=o.default(window),e=m.default.getExperienceContainerHeight(t);return e+=h.default.getSlackHeight(e)},getPageViewOffsetTop:function(t,e){return this.documentVersion.getScaleExperience()&&e.constrainedByHeight?0:Math.max(0,(e.height/e.ratio-t.model.getPageHeight(this.documentVersion))/2)},getPageViewOffsetLeft:function(t,e,n){var i,r=this.documentVersion.getScaleExperience();n?i=n:i=this._doesPageFitInViewport(t)?0:d.default.getScrollbarWidth();return r&&e.constrainedByWidth?0:Math.max(0,(e.windowWidth/e.ratio-this.getExperienceWidth()-i)/2)},calculateBackgroundImageDimensions:function(){var t=this.backgroundImageInfo.original.width,e=this.backgroundImageInfo.original.height,n=this.getWindowWidth()/t,i=this.getWindowHeight()/e,r=n>i?n:i;return{width:Math.round(r*t),height:Math.round(r*e)}},initZoomControls:function(){var t=this;this.zoomControls=new S.ZoomControlsView({docVersion:this.documentVersion}).render(),this.$el.append(this.zoomControls.$el),w.default.getInstance().on("zoom",(function(){t.scale()}))},destroyZoomControls:function(){this.zoomControls.remove(),this.zoomControls=null,w.default.getInstance().adjustZoom(1),w.default.getInstance().off("zoom")},shouldDisplayZoomControls:function(){return this.documentVersion.get("zoomControlsEnabled")&&this.documentVersion.getScaleExperienceType()!==O.default.SCALE_EXPERIENCE_TYPE.NO_SCALING&&"desktop"===E.default.getVariant()&&!h.default.mobile()},handleVariantChange:function(t){this.zoomControls&&"desktop"!==t?this.destroyZoomControls():!this.zoomControls&&this.shouldDisplayZoomControls()&&this.initZoomControls()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=i(n(3)),s=i(n(124)),u={startX:null,startY:null,lastDirection:null,xDistance:0,yDistance:0,gesturesEnabled:!0,swipeDirection:null,originalDirection:null};e.default={offsetTimeout:null,disableGestures:function(){u.gesturesEnabled=!1},enableGestures:function(){u.gesturesEnabled=!0},configureGestures:function(){var t={};t.inputClass=s.default.TouchInput,a.default.isMobileSafari()&&(t.touchAction="pan-x pan-y");var e=new s.default.Manager(this.$el[0],t);e.add(new s.default.Press({time:500})),a.default.isMobileSafari()&&(e.add(new s.default.Pinch),e.add(new s.default.Tap),e.get("pinch").set({enable:!0}),e.on("pinch pinchend pinchstart tap",(function(t){"tap"===t.type&&2!==t.tapCount||t.preventDefault()}))),e.on("press",r.default.bind((function(t){u.gesturesEnabled&&(t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.LONGPRESS))}),this)),e.on("hammer.input",r.default.bind((function(t){var e=t.eventType,n=t.deltaTime;if(u.gesturesEnabled){if(t.srcEvent.target)for(var i=t.srcEvent.target;i;){if(i.classList.contains("video-js"))return;i=i.parentElement}var a=this.getCurrentPage();if(this.isPageTransitioning())t.preventDefault();else switch(e){case s.default.INPUT_START:this.pauseAnimationsOnMove=r.default.once(r.default.bind((function(){a.pauseAnimations()}),this)),this.clearAutoTransitionDelay();break;case s.default.INPUT_MOVE:var l=t.deltaX,c=t.deltaY;if(u.xDistance=Math.abs(l),u.yDistance=Math.abs(c),!u.swipeDirection&&(u.xDistance>10||u.yDistance>10))u.xDistance>u.yDistance?u.swipeDirection=s.default.DIRECTION_HORIZONTAL:u.swipeDirection=s.default.DIRECTION_VERTICAL;else if(!u.swipeDirection)return;if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL?u.lastDirection=l>0?s.default.DIRECTION_RIGHT:s.default.DIRECTION_LEFT:u.swipeDirection==s.default.DIRECTION_VERTICAL&&(u.lastDirection=c>0?s.default.DIRECTION_DOWN:s.default.DIRECTION_UP),r.default.isNull(u.originalDirection)||(u.originalDirection=u.lastDirection),u.originalDirection!=u.lastDirection&&(u.changedDirection=!0),u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!o.default.themeObj.swipeEnabled)return;if(this.getPageCount()<=1&&this.documentVersion.getScaleExperience())return void t.preventDefault();var d=this.getNextPage(),h=this.getPreviousPage();if(!this.isValidHorizontalSwipe())return;if(r.default.isFunction(this.pauseAnimationsOnMove)&&this.pauseAnimationsOnMove(),o.default.isEmbedded&&(this._isSwipeRight()&&!h||this._isSwipeLeft()&&!d))return;d&&this._isSwipeLeft()&&(d.makeInTransition(),d.setBackgroundPositionAndScaleTransform(l+this.getPageViewportWidth(),!0)),h&&this._isSwipeRight()&&(h.makeInTransition(),h.setBackgroundPositionAndScaleTransform(l-this.getPageViewportWidth(),!0));var f=l;this._isSwipeOutOfPageBounds()&&(f=this._getRubberbandHorizontalDistance(),this._isSwipeLeft()&&(f*=-1)),this.getCurrentPage().setBackgroundPositionAndScaleTransform(f,!0),t.preventDefault()}break;case s.default.INPUT_END:case s.default.INPUT_CANCEL:if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!this.isValidHorizontalSwipe())return;if(this.pauseAnimationsOnMove=null,!o.default.themeObj.swipeEnabled)return void this.setAutoTransitionDelay();var p=u.xDistance/n;if(!this._isSwipeOutOfPageBounds()&&e==s.default.INPUT_END&&(this._isDistancePageChangeSwipe(u.xDistance)||this._isVelocityPageChangeSwipe(p))){var g=this.calculateRemainingTransitionTime(u.xDistance,n);this._isSwipeLeft()?this._slideLeft(g):this._isSwipeRight()&&this._slideRight(g)}else this._abortSlide(n)}u.xDistance=0,u.yDistance=0,u.lastDirection=null,u.swipeDirection=null,u.originalDirection=null,u.changedDirection=!1;break;default:t.preventDefault()}}}),this))},isValidHorizontalSwipe:function(){if(!this.documentVersion.getScaleExperience()){if(!this._isAtLeft()&&!this._isAtRight())return!1;if(this._isAtLeft()&&!this._isSwipeRight())return!1;if(this._isAtRight()&&!this._isSwipeLeft())return!1}return!0},_getPageTopWithOffset:function(){var t=this.getCurrentPage();return this._isAtTop()?this._getPageTop(t):this._isAtBottom()?this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET/2},_isAtTop:function(){return this.getCurrentPage().$el.scrollTop()<=0},_isAtBottom:function(){var t=this.getCurrentPage(),e=t.$el.height(),n=t.$pageScroll.height()-e;return t.$el.scrollTop()>=n},_isAtLeft:function(){return-1*this.getCurrentPage().$pageScroll.offset().left<=0},_isAtRight:function(){var t=this.getCurrentPage(),e=t.$el.width(),n=t.$pageScroll.width()-e;return-1*t.$pageScroll.offset().left>=n},_isSwipeOutOfPageBounds:function(){return this.isFirstPage()&&this._isSwipeRight()||this.isLastPage()&&this._isSwipeLeft()},_getRubberbandHorizontalDistance:function(){var t=this.getPageViewportWidth();return u.xDistance>=.5*t?.25*t:(t-u.xDistance)/t*u.xDistance},_isSwipeLeft:function(){return u.lastDirection==s.default.DIRECTION_LEFT},_isSwipeRight:function(){return u.lastDirection==s.default.DIRECTION_RIGHT},_isSwipeUp:function(){return u.lastDirection==s.default.DIRECTION_UP},_isSwipeDown:function(){return u.lastDirection==s.default.DIRECTION_DOWN},_abortSlide:function(t){var e=this.getCurrentPage();if(0!==e.getLeft()){this.isPageTransitionInProgress=!0;var n=this.calculateTransitionTime(u.xDistance,t);e.el().animate({"background-position-x":0},{duration:n,easing:"easeOutCubic",step:r.default.bind((function(t,n){e.setBackgroundPositionAndScaleTransform(t,!0),this.getNextPage()&&this.getNextPage().setBackgroundPositionAndScaleTransform(t+this.getPageViewportWidth(),!0),this.getPreviousPage()&&this.getPreviousPage().setBackgroundPositionAndScaleTransform(t-this.getPageViewportWidth(),!0)}),this),complete:r.default.bind((function(){this.isPageTransitionInProgress=!1;var t=this.getNextPage();t&&t.makePending();var n=this.getPreviousPage();n&&n.makeViewed(),e.resumeAnimations(),this.setAutoTransitionDelay()}),this)})}},_isDistancePageChangeSwipe:function(t){return t>=.2*this.getPageViewportWidth()},_isVelocityPageChangeSwipe:function(t){return t>.6},_slideRight:function(t){return this._slide("right",this.getPreviousPage(),t)},_slideLeft:function(t){return this._slide("left",this.getNextPage(),t)},_slide:function(t,e,n){"left"===t?this.nextPage(n):this.previousPage(n)},calculateTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!1)},calculateRemainingTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!0)},_calculateTransitionTimeInternal:function(t,e,n){var i=1e3,r=t/e,o=t/this.getPageViewportWidth();n&&(o=1-o);var a=(i*=o)/r;return a>i&&(a=i),a}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MainContentLinkView=void 0;var s=a(n(1)),u=a(n(0)),l=n(128),c=n(14),d=n(84),h=n(5),f=function(t){function e(n){return t.call(this,o(o({},e.DEFAULT_ATTRIBUTES),n))||this}return r(e,t),e.prototype.setPageView=function(t){return this.currentPageView=t,this},e.prototype.initialize=function(t){var n=u.default.get(t,"docVersion.attributes.mainContentLinkText"),i=u.default.get(t,"docVersion.attributes.theming.menuBgColor"),r=u.default.get(t,"docVersion.attributes.theming.menuFgColor");this.$el.html(n||c.MAIN_CONTENT_LINK_DEFAULT_TEXT),this.$el.css("background-color",i||e.DEFAULT_BACKGROUND_COLOR),this.$el.css("color",r||e.DEFAULT_FOREGROUND_COLOR),this.$el.on({click:this.onClick.bind(this)})},e.prototype.render=function(){return this.targetId=s.default(".page-viewport.top main:first").attr("id"),this.targetId?(this.$el.attr("href","#"+this.targetId),this.$el.removeAttr("aria-hidden"),this.$el.css("visibility","")):(this.$el.removeAttr("href"),this.$el.removeAttr("tabindex"),this.$el.attr("aria-hidden","true"),this.$el.css("visibility","hidden")),t.prototype.render.call(this)},e.prototype.onClick=function(t){(t.preventDefault(),this.targetId)&&new l.ScrollToObjectInteraction({layerTargets:[this.targetId],trigger:"click",action:h.ActionTypes.scrollToObject},this.currentPageView).triggerAction(o(o({},t),{clickX:t.clientX,clickY:t.clientY,componentSlug:this.options.id,componentName:"Main Content Link",componentType:"main-content-link",pageSlug:this.currentPageView.model.get("slug"),pageName:this.currentPageView.model.get("name")}))},e.DEFAULT_BACKGROUND_COLOR="#000000",e.DEFAULT_FOREGROUND_COLOR="#FFFFFF",e.DEFAULT_ATTRIBUTES={className:"main-content-link",tagName:"a"},e}(d.JsTsViewGlue);e.MainContentLinkView=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionInvocation=void 0;var r=i(n(0)),o=function(t,e){var n=r.default.assign({},t,e);delete n.pageView,r.default.assign(this,n)};e.InteractionInvocation=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportTopAnchor=void 0;var r=i(n(1)),o=n(14),a=function(){function t(){}return t.prototype.initializeViewportTopAnchor=function(){var t=this;this.$viewportTop=r.default('<a tabindex="-1" id="'+o.VIEWPORT_TOP_ID+'"></a>'),this.$viewportTop.on("focus",(function(){t.$viewportTop.attr("tabindex",0)})).on("blur",(function(){t.$viewportTop.attr("tabindex",-1)}))},t}();e.ViewportTopAnchor=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=function(){function t(){r.default.extend(this,o.default.Events)}return t.prototype.on=function(t,e,n){},t.prototype.off=function(t,e,n){},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.bind=function(t,e,n){},t.prototype.unbind=function(t,e,n){},t.prototype.once=function(t,e,n){},t.prototype.listenTo=function(t,e,n){},t.prototype.listenToOnce=function(t,e,n){},t.prototype.stopListening=function(t,e,n){},t}();e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomControlsView=void 0;var s=a(n(9)),u=n(84),l=a(n(274)),c=a(n(0)),d=n(26),h=n(130),f=a(n(85)),p=a(n(3)),g=function(t){function e(e){return t.call(this,e)||this}var n;return r(e,t),n=e,e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),f.default.getInstance().on("zoom",this.updateZoomControls.bind(this))},e.prototype.render=function(){var e=c.default.get(this.options,"docVersion.attributes.theming.menuBgColor",n.DEFAULT_BACKGROUND_COLOR),i=c.default.get(this.options,"docVersion.attributes.theming.menuFgColor",n.DEFAULT_FOREGROUND_COLOR);return this.$el.html(s.default.render(l.default,{backgroundColor:e,zoomValue:Math.trunc(100*f.default.getInstance().getCurrentZoom()),textColor:i,disabledColor:this.getDisabledColor(i)})),this.disableOrEnableZoomButtons(),t.prototype.render.call(this)},e.prototype.getDisabledColor=function(t){var e=h.ColorUtils.colorToRGB(t);return"rgba("+e.r+", "+e.g+", "+e.b+", 0.5)"},e.prototype.updateZoomControls=function(){var t=f.default.getInstance().getCurrentZoom();this.$("#zoom-value-display").text(Math.trunc(100*t)+"%"),this.disableOrEnableZoomButtons(),p.default.isDesktopSafari()?this.$el.css("zoom",t):this.$el.css("transform","scale("+t+")")},e.prototype.handleZoomIn=function(){f.default.getInstance().incrementZoom()},e.prototype.handleZoomOut=function(){f.default.getInstance().decrementZoom()},e.prototype.disableOrEnableZoomButtons=function(){f.default.getInstance().canDecrementZoom()?this.$("#zoom-out-button").removeAttr("disabled"):this.$("#zoom-out-button").attr("disabled",""),f.default.getInstance().canIncrementZoom()?this.$("#zoom-in-button").removeAttr("disabled"):this.$("#zoom-in-button").attr("disabled","")},e.prototype.removeFocusOutline=function(t){"BUTTON"===t.target.tagName?$(t.target).blur():$(t.target).closest("button").blur()},e.DEFAULT_BACKGROUND_COLOR="#000000",e.DEFAULT_FOREGROUND_COLOR="#FFFFFF",e=n=o([d.BackboneShim({tagName:"div",className:"zoom-controls",events:{"click #zoom-in-button":"handleZoomIn","click #zoom-out-button":"handleZoomOut","mouseout button":"removeFocusOutline"}})],e)}(u.JsTsViewGlue);e.ZoomControlsView=g},function(t,e,n){"use strict";n.r(e),e.default='<button id="zoom-out-button" title="Zoom Out" aria-label="Zoom Out">\n  <span class="ceros-icon ceros-minus-thin-icon"></span>\n</button>\n<div id="zoom-value-display">{{zoomValue}}%</div>\n<button id="zoom-in-button" title="Zoom In" aria-label="Zoom In">\n  <span class="ceros-icon ceros-add-icon"></span>\n</button>\n<style>\n  .zoom-controls {\n      font-family: Montserrat, "Open Sans", Arial, Verdana, sans-serif;\n      background-color: {{backgroundColor}};\n      display: flex;\n  }\n\n  .zoom-controls > * {\n      color: {{textColor}}\n  }\n\n  .zoom-controls button:disabled {\n      color: {{disabledColor}}\n  }\n</style>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageView=void 0;var a=o(n(131)),s=n(375),u=o(n(3)),l=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.activeClicksForInteractions=[],n.activeBringToFrontInteractionTargets=[],n.activeChangeStateInteractionTargets=[],n}return r(e,t),e.prototype.addStateUnderActiveState=function(t,e,n){var i=this.findChildView(t);i&&i.addStateUnderActiveState(e,n)},e.prototype.invokeObjectState=function(t,e){var n=this.findChildView(t);n&&(n.invokeObjectState(e),n.isInNonDefaultState()?this.activeChangeStateInteractionTargets.push(n.id):this.activeChangeStateInteractionTargets=this.activeChangeStateInteractionTargets.filter((function(t){return t!==n.id})))},e.prototype.revokeObjectState=function(t,e){var n=this.findChildView(t);n&&(n.revokeObjectState(e),n.isInNonDefaultState()||(this.activeChangeStateInteractionTargets=this.activeChangeStateInteractionTargets.filter((function(t){return t!==n.id}))))},e.prototype.hasActiveHover=function(t){var e=t.getParentsWithLinkInteraction();return!!this.activeHoversGroupedByInteraction.find((function(n){return!!n.find((function(n){return n.target.id===t.id||!!e.find((function(t){return n.target.id===t}))}))}))},e.prototype.removeAllActiveStates=function(t){var e=this.findChildView(t);e&&e.removeAllActiveStates()},e.prototype.removeActiveState=function(t,e){var n=this.findChildView(t);n&&n.removeActiveState(e)},e.prototype.addActiveState=function(t,e){var n=this.findChildView(t);n&&n.addActiveState(e)},e.prototype.addActiveClickAndBindMouseEvents=function(t,e){var n;if(0===this.activeClicksForInteractions.length){var i=u.default.touch()?"touchend":"mouseup";this.$pageScroll.on(i,this.handleMouseUp.bind(this)),null===(n=this.$pinnedContainer)||void 0===n||n.on(i,this.handleMouseUp.bind(this))}this.activeClicksForInteractions.push({object:t,interaction:e})},e.prototype.deactivateClicks=function(){var t;this.activeClicksForInteractions=[];var e=u.default.touch()?"touchend":"mouseup";this.$pageScroll.off(e),null===(t=this.$pinnedContainer)||void 0===t||t.off(e)},e.prototype.handleMouseUp=function(){this.activeClicksForInteractions.forEach((function(t){t.object.triggerMouseUpAction(t.interaction)})),this.deactivateClicks()},e.prototype.deactivateInteraction=function(t){if("hover"===t.trigger){var e=this.activeHoversGroupedByInteraction.map((function(e){var n=e.findIndex((function(e){return e.interaction===t}));return-1!==n&&e.splice(n,1),e})).filter((function(t){return!!t.length}));this.activeHoversGroupedByInteraction=e,this.activeHoversGroupedByInteraction.length||this.deactivateHovers()}else if("click"===t.trigger||"mouseDown"===t.trigger){var n=this.activeClicksForInteractions.filter((function(e){return e.interaction!==t}));this.activeClicksForInteractions=n,this.activeClicksForInteractions.length||this.deactivateClicks()}},e.prototype.disableHoverArea=function(t){var e=this.findChildView(t);e&&e.isComponent()&&!e.isHoverAreaDisabled()&&e.disableHoverArea()},e.prototype.enableHoverArea=function(t){var e=this.findChildView(t);e&&e.isComponent()&&e.isHoverAreaDisabled()&&e.enableHoverArea()},e.prototype.isHoverAreaDisabled=function(t){var e=this.findChildView(t);return!(!e||!e.isComponent())&&e.isHoverAreaDisabled()},e.prototype.getHighestIndex=function(){return this.childViews.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})).getCurrentHighestZIndex()},e.prototype.invokeBringToFront=function(t,e,n,i){var r=this.getHighestIndex()+1;this.setZIndex(t,r,e),this.activeBringToFrontInteractionTargets.push(t),(n||i)&&this.revokeAllBringToFrontInteractions(t),n&&this.revokeAllObjectStates(t)},e.prototype.revokeBringToFront=function(t){this.resetZIndex(t),this.activeBringToFrontInteractionTargets=this.activeBringToFrontInteractionTargets.filter((function(e){return t!==e}))},e.prototype.revokeAllBringToFrontInteractions=function(t){var e=this;this.activeBringToFrontInteractionTargets=this.activeBringToFrontInteractionTargets.filter((function(n){return n!==t&&e.resetZIndex(n),n!==t}))},e.prototype.revokeAllObjectStates=function(t){var e=this;this.activeChangeStateInteractionTargets=this.activeChangeStateInteractionTargets.filter((function(n){return n!==t&&e.invokeObjectState(n,"default"),n===t}))},e.prototype.setZIndex=function(t,e,n){var i=this.findChildView(t);i&&i.setZIndex(e,n)},e.prototype.resetZIndex=function(t){var e=this.findChildView(t);e&&e.resetZIndex()},e.prototype.hasActiveClickStateWithLock=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveClickStateWithLock()},e.prototype.hasActiveCustomStateWithLock=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveCustomStateWithLock()},e.prototype.hasActiveBringToFront=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveBringToFront()},e.prototype.createHoverArea=function(t){return s.HoverAreaComponentFactory.createHoverAreaComponent(t)},e}(a.default);e.PageView=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FolderView=void 0;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isComponent=!1,e}return r(e,t),e.prototype.addStateUnderActiveState=function(t,e,n){var i=this.childViews;i&&i.forEach((function(t){t.addStateUnderActiveState(e,n)}))},e.prototype.invokeObjectState=function(t){this.childViews&&this.childViews.forEach((function(e){e.invokeObjectState(t)}))},e.prototype.revokeObjectState=function(t,e){this.childViews&&this.childViews.forEach((function(n){n.revokeObjectState(t,e)}))},e.prototype.removeAllActiveStates=function(){this.childViews&&this.childViews.forEach((function(t){t.removeAllActiveStates()}))},e.prototype.addActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.addActiveState(t)}))},e.prototype.removeActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.removeActiveState(t)}))},e.prototype.setZIndex=function(t,e){var n;null===(n=this.childViews)||void 0===n||n.forEach((function(n){n.setZIndex(t,e)}))},e.prototype.resetZIndex=function(){var t;null===(t=this.childViews)||void 0===t||t.forEach((function(t){t.resetZIndex()}))},e.prototype.getCurrentHighestZIndex=function(){return this.childViews&&this.childViews.length?this.childViews.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})).getCurrentHighestZIndex():0},e.prototype.hasActiveClickStateWithLock=function(){return!!this.childViews&&this.childViews.every((function(t){return t.hasActiveClickStateWithLock()}))},e.prototype.hasActiveCustomStateWithLock=function(){return!!this.childViews&&this.childViews.every((function(t){return t.hasActiveCustomStateWithLock()}))},e.prototype.isInNonDefaultState=function(){return!!this.childViews&&this.childViews.some((function(t){return t.isInNonDefaultState()}))},e.prototype.hasActiveBringToFront=function(){var t;return!!this.childViews&&(null===(t=this.childViews)||void 0===t?void 0:t.some((function(t){return t.hasActiveBringToFront()})))},e}(o(n(277)).default);e.FolderView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=n(133),s=i(n(36));e.default=a.AbstractPageChildView.extend({initialize:function(){a.AbstractPageChildView.prototype.initialize.call(this),this.childViews={}},hide:function(){o.default.each(this.childViews,(function(t){t.hide()}))},addContainerId:function(t){o.default.each(this.childViews,(function(e){e.addContainerId(t)}))},addParentView:function(t){this.parentViews.push(t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},isHovered:function(t){return o.default.some(this.childViews,(function(e){e.isHovered(t)}))},addPointerEvents:function(){o.default.each(this.childViews,(function(t){t.addPointerEvents()}))},runAllChildViewExitAnimations:function(t){this.runningExitAnimations=!0,t=t||[],o.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}));var e=this;return r.default.when.apply(r.default,t).done((function(){e.runningExitAnimations=!1})),t},reset:function(){this.runningExitAnimations=!1},getExtents:function(){var t;return this.childViews?o.default.each(this.childViews,function(e){var n=e.getExtents();t=t?s.default.getSmallestContainingRectangle(t,n):n}.bind(this)):t={},t},getFirstAvailableZIndex:function(){var t=0;return this.childViews&&this.childViews.length>0&&(t="folder"===this.childViews[0].options.type?this.childViews[0].getFirstAvailableZIndex():this.childViews[0].$el.css("zIndex")||0),t},isFixedPosition:function(){return!1}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(22));e.default=r.default.extend({initiallyVisible:!0,mediaHasBeenLoaded:!0,childViews:null,keepVisibleForScreenReaders:!1,wasShownByFocusInteraction:!1,exitAnimations:[],cancelHide:!1,initialize:function(){r.default.prototype.initialize.call(this),this.parentViews=[],this.visible=this.options.visible,this.initiallyVisible=this.options.visible,this.mediaHasBeenLoaded=this.options.visible},close:function(){},preloadMedia:function(){},preloadMediaNow:function(){},attachMedia:function(){},scaleComponent:function(){},doCustomScaling:function(){},getRatioForCustomScaling:function(){return 1},onAttach:function(){},pauseAnimations:function(){},resumeAnimations:function(){},reset:function(){},getExtents:function(){},getId:function(){return this.id},isInitiallyVisible:function(){return this.initiallyVisible},runAllChildViewExitAnimaions:function(){},areAllParentsVisible:function(){},childrenUseBlendingModes:function(){return!1},hasActiveBlendingMode:function(){return!1},isMaskImage:function(){return!1}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(23);e.default=i.AbstractComponentView.extend({type:"canvas-background",initialize:function(t){t.height=t.pageView.getPageHeight(),t.width=t.pageView.documentVersion.getExperienceWidth(),i.AbstractComponentView.prototype.initialize.apply(this,arguments)},applyChanges:function(t){t.height=this.options.pageView.getPageHeight(),t.width=this.options.pageView.documentVersion.getExperienceWidth(),i.AbstractComponentView.prototype.applyChanges.apply(this,arguments)}})},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(1)),l=s(n(0)),c=s(n(3)),d=s(n(32)),h=s(n(2)),f=n(133),p=s(n(135)),g=s(n(284)),m=s(n(285)),v=n(27),y=n(88),_=s(n(30)),b=n(136),T=s(n(36)),w=s(n(69)),S=a(n(16)),E=s(n(15)),O=n(50),C=s(n(11)),A=s(n(12)),P=s(n(80)),I=n(5),x=n(137),M=s(n(48));e.default=f.AbstractPageChildView.extend({COMMERCE_ACTIONS:["product","shopping-cart"],LIGHTBOX_ACTION:"lightbox",className:"component",timedTriggersCreatedAtLeastOnce:!1,entryAnimations:[],exitAnimations:[],initialize:function(){f.AbstractPageChildView.prototype.initialize.call(this),this.hasAccessibilityFeature=C.default.hasFeature(A.default.ACCESSIBILITY),this.$el.addClass("page-object"),this.$el.addClass(this.type),this.$el.css({position:"absolute"}),this.options.rotation||(this.options.rotation=0),this.options.actualRotation=this.options.rotation,this.timedTriggerTimeouts=[],this.shouldRestartEntryAnimations=!1,this._activatedEntryAnimations=!1,this.runningExitAnimations=!1,this.wasInsideVisibleBoundaries=!1,this.timedTriggersActivated=!1,this.exitAnimationPromise=null,this.validInteractions={},this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y,this.options.absoluteX=this.options.x,this.options.absoluteY=this.options.y,this.options.absoluteBoundaryX=this.options.x,this.options.absoluteBoundaryY=this.options.y,this.$window=u.default(window),this.options.animationsRepeatAll=!!this.options.animationsRepeatAll,this.defaultTagName=this.tagName,this._handleOnEscKeyPressed=l.default.bind(this._handleOnEscKeyPressed,this)},tagOverride:function(){var t=void 0;(this.hasAccessibilityFeature&&this.options.htmlLandmarkTag&&(t={tagName:this.options.htmlLandmarkTag}),Array.isArray(this.options.interactions))&&(t=this.options.interactions.reduce((function(t,e){var n=e.domTagOverride;return n?t?n.priority>t.priority?n:t:n:t}),void 0)||t);return t},getSpecifiedAttributes:function(t){return l.default.transform(t,(function(t,e){e.specified&&(t[e.name]=e.value)}),{})},applyAccessibilityFeatures:function(){!this.isMask()?(this.applyTagOverride(),this.hasAccessibilityFeature&&(this.enableAutomaticHoverInteraction(),this.setAriaLabel())):this.hasAccessibilityFeature&&this.setAriaLabel()},setAriaLabel:function(){this.options.ariaLabel?this.getAriaElement().attr("aria-label",this.options.ariaLabel):this.getAriaElement()&&this.getAriaElement().removeAttr("aria-label"),this.setAriaRole()},setAriaRole:function(){},getAriaElement:function(){return this.$el},applyTabindex:function(){var t=this;this.hasAccessibilityFeature&&(this.hasHoverInteraction()?(this.$el.attr("tabindex",0),this.$el.off("focus.hover").on("focus.hover",(function(e){x.FocusArbiter.prepareTargetOutlineForFocus(t.$el)}))):(this.hasClickInteraction()||this.$el.removeAttr("tabindex"),this.$el.off("focus.hover")))},applyTagOverride:function(){var t=this.tagOverride();if(t&&t.tagName){this.tagName=l.default.get(t,"tagName",this.tagName);var e=this.attributes||{};if(this.attributes=l.default.assign({},this.attributes,l.default.get(t,"attributes")),this.$el.is(this.tagName)&&l.default.isEqual(e,this.attributes))return;var n=l.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),i=u.default("<"+this.tagName+">",n).append(this.$el.contents());this.$el.replaceWith(i),this.setElement(i)}else if(!this.$el.is(this.defaultTagName)){n=l.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),i=u.default("<"+this.defaultTagName+">",n).append(this.$el.contents());this.$el.replaceWith(i),this.setElement(i)}},getOpacity:function(){return this.options.opacity},setParentSmartgroup:function(t){this.options.parentSmartgroup=t,this.options.parentSmartgroup.options.rotation&&(delete this.options.allWidth,delete this.options.allHeight,this._configureAllWidthAllHeight(),this._applyAnimations()),this.configureAbsoluteCoordinates()},addParentView:function(t){this.parentViews.push(t),t.options.rotation&&(delete this.options.allWidth,delete this.options.allHeight,this._configureAllWidthAllHeight(),this._applyAnimations()),this.configureAbsoluteCoordinates()},hasParents:function(){return this.parentViews.length>0},configureAbsoluteCoordinates:function(){var t=new S.Point(this.options.x+this.options.width/2,this.options.y+this.options.height/2),e=this.parentViews;l.default.each(e,(function(e){if(e.options.rotation){var n=e.options.width/2,i=e.options.height/2;t.rotate(n,i,-Math.toRad(e.options.rotation))}t.x+=e.options.x||0,t.y+=e.options.y||0})),this.options.absoluteX=t.x-this.options.width/2,this.options.absoluteY=t.y-this.options.height/2,this.options.absoluteBoundaryX=t.x-this.options.allWidth/2,this.options.absoluteBoundaryY=t.y-this.options.allHeight/2,this.hoverArea&&(this.hoverArea.updatePosition(),this.hoverArea.updateRotation(),this.hoverArea.setWidthAndHeight())},areAllParentsVisible:function(){var t=l.default.every(this.parentViews,(function(t){return t.visible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.visible:t},areAllParentsInitiallyVisible:function(){var t=l.default.every(this.parentViews,(function(t){return t.initiallyVisible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.initiallyVisible:t},areAnyParentsNotVisible:function(){var t=l.default.some(this.parentViews,(function(t){return!t.visible}));return this.options.parentSmartgroup?t||!this.options.parentSmartgroup.visible:t},idBelongsToParent:function(t){return l.default.some(this.parentViews,(function(e){return e.id===t}))},addContainerId:function(t){var e=this.$el.attr("data-container-id")?this.$el.attr("data-container-id")+",":"";this.$el.attr("data-container-id",e+t)},onClose:function(){},_configureAllWidthAllHeight:function(){if(l.default.isUndefined(this.options.allWidth)&&l.default.isUndefined(this.options.allHeight)){var t,e,n=this.options.rotation?this.options.rotation:0;if(this.options.parentSmartgroup&&this.options.parentSmartgroup.options.rotation&&(n+=this.options.parentSmartgroup.options.rotation,n%=360),this.hasParents()&&!this.isMaskImage()&&(n+=l.default.reduce(this.parentViews,(function(t,e){return t+(e.options.rotation||0)}),0)),this.options.actualRotation=n,n>180&&(n=360-n),n>90&&(n=180-n),0!==(n=Math.toRad(n))){t=Math.cos(n),e=Math.sin(n);var i=T.default.getExtentsFromDimensions(this.options.x,this.options.y,this.options.width,this.options.height,n,this.options.border&&this.options.border.width?this.options.border.width:0);this.options.allWidth=i.x2-i.x1,this.options.allHeight=i.y2-i.y1}else this.options.allWidth=this.options.width,this.options.allHeight=this.options.height;this._configureAllWidthAllHeightForShadow(),this._configureAllWidthAllHeightForBorder(n,e,t)}},_configureAllWidthAllHeightForShadow:function(){l.default.isEmpty(this.options.shadow)||""===this.options.shadow||(this.options.allWidth+=l.default.isNumber(this.options.shadow.x)?Math.abs(this.options.shadow.x):0,this.options.allHeight+=l.default.isNumber(this.options.shadow.y)?Math.abs(this.options.shadow.y):0,this.options.allWidth+=l.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.allHeight+=l.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.shadow.blur>Math.abs(this.options.shadow.x)&&(this.options.allWidth+=this.options.shadow.blur-Math.abs(this.options.shadow.x)),this.options.shadow.blur>Math.abs(this.options.shadow.y)&&(this.options.allHeight+=this.options.shadow.blur-Math.abs(this.options.shadow.y)))},_configureAllWidthAllHeightForBorder:function(t,e,n){!l.default.isEmpty(this.options.border)&&""!==this.options.border&&l.default.isNumber(this.options.border.width)&&(0!==t?(this.options.allWidth+=2*(this.options.border.width*n+this.options.border.width*e),this.options.allHeight+=2*(this.options.border.width*n+this.options.border.width*e)):(this.options.allWidth+=2*this.options.border.width,this.options.allHeight+=2*this.options.border.width))},enablePointerEventsForIPadSafariDesktop:function(){if(this.options.fixedPosition){var t=c.default.isDesktopSafari()||c.default.isMobileSafari();c.default.isIpadPretendingToBeDesktop()&&c.default.isIosGreaterThanOrEqualTo(13)&&t&&(this.hasClickInteraction()||this.hasMouseDownInteraction())&&this.$el.css("pointer-events","all")}},render:function(){if(this.applyTabindex(),this.applyAccessibilityFeatures(),this.$el.css("transform",""),this.updateFixedPosition(),this.enablePointerEventsForIPadSafariDesktop(),this._configureAllWidthAllHeight(),this.configureAbsoluteCoordinates(),this._applyPosition(this.options.x,this.options.y,this.options.border),this._applyRotation(this.options.rotation,this.options.width,this.options.height),this._applyDimensions(this.options.width,this.options.height),this._applyOpacity(this.getOpacity()),this._applyVisibility(this.options.visible),this.$onClickShowHideTriggers=void 0,this._configureInteractions(),y.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)&&y.WebkitUtils.hardwareAccelerateTransform(this.$el),"image"===this.type&&c.default.isDesktopSafari()&&this.hasActiveBlendingMode()){var t=this.$el.find("img");y.WebkitUtils.hardwareAccelerateTransform(t)}return this.doCustomScaling(),this._applyAnimations(),this._applyBorder(this.options.border),this._applyBackground(this.options.background),this._applyShadow(this.options.shadow,this.options.rotation,this.options.border,this.options.background),this},scaleComponent:function(){this.updateFixedPosition()},updateFixedPosition:function(){if(this.options.fixedPosition&&!c.default.desktop()){var t=this.options.pageView.$pageScroll,e=parseFloat(t.css("left")),n=parseFloat(t.css("top"));this.options.x=this.options.unfixedX+e,this.options.y=this.options.unfixedY+n,this._applyPosition(this.options.x,this.options.y,this.options.border)}},attachMedia:function(){return(new u.default.Deferred).resolve().promise()},applyChanges:function(t){h.default.allowAdaptiveLayouts&&(t=l.default.extend(t,t.overrides[E.default.getVariant()])),this.options=l.default.extend(this.options,t),this.render(),this.attachMedia(),this.rerunActivationAndEntryAnimations()},getApplyPositionTarget:function(){return this.$el},_applyPosition:function(t,e,n){t=l.default.isNil(t)?this.options.x:t,e=l.default.isNil(e)?this.options.y:e,n=l.default.isNil(n)?this.options.border:n||{};var i=this.getApplyPositionTarget();!l.default.isEmpty(n)&&l.default.isNumber(n.width)&&(t-=n.width,e-=n.width),i.css("left",t+"px"),i.css("top",e+"px")},getApplyDimensionsTarget:function(){return this.$el},_applyDimensions:function(t,e){t=l.default.isNil(t)?this.options.width:t,e=l.default.isNil(e)?this.options.height:e;var n=this.getApplyDimensionsTarget();n.css("width",t+"px"),n.css("height",e+"px"),n.css("transform-origin","center")},getApplyOpacityTarget:function(){return this.$el},_applyOpacity:function(t){t=l.default.isNil(t)?this.getOpacity():t,this.options.parentSmartgroup&&this.options.parentSmartgroup.getOpacity()<1&&(t*=this.options.parentSmartgroup.getOpacity()),this.getApplyOpacityTarget().css("opacity",t)},_applyVisibility:function(t){t?this.show():this.hide()},_applyRotation:function(t){((t=l.default.isNil(t)?this.options.rotation:t)||0===t)&&v.CssUtils.setTransformToElement(this.$el,{rotate:t})},getApplyBorderTarget:function(){return this.$el},_applyBorder:function(t){t=l.default.isNil(t)?this.options.border:t;var e=this.getApplyBorderTarget();l.default.isEmpty(t)?e.css("border","none"):(t.width?(e.css("borderWidth",t.width+"px"),t.color&&""!==t.color&&e.css("borderColor",t.color),t.style&&""!==t.style&&t.style.match(/(solid|dashed|dotted)/)?e.css("borderStyle",t.style):e.css("borderStyle","solid")):e.css("borderWidth","0"),e.css("borderRadius",this.getBorderRadius(t)))},getBorderRadius:function(t){if(t.radius){var e=(t.radius+"").split(",");return 1===e.length?parseInt(e[0],10)+"px":parseInt(e[0],10)+"px "+parseInt(e[1],10)+"px "+parseInt(e[2],10)+"px "+parseInt(e[3],10)+"px"}return""},entryAnimationsActivated:function(){return this._activatedEntryAnimations},isEntryAnimationConfiguredToReplayOnScroll:function(){return this.options.animationsReplayOnScroll},setWasInsideVisibleBoundaries:function(t){this.wasInsideVisibleBoundaries=t},getWasInsideVisibleBoundaries:function(){return this.wasInsideVisibleBoundaries},isAnyPartOfComponentWithinBoundaries:function(t,e){var n=(e=e||this.getComponentBoundaries()).componentTop<t.bottomY&&e.componentBottom>=t.topY;return t.hasXBoundaries&&(n=n&&e.componentLeft<t.rightX&&e.componentRight>=t.leftX),n},isAnyPartOfComponentWithinEntryAnimationBoundaries:function(t,e){return this.isAnyPartOfComponentWithinBoundaries(t.getEntryAnimationVisibleBoundaries(this.options.pageHeight,this.options.pageWidth),e)},isOutsideOfPage:function(){var t=new b.VisibleBoundaries(0,this.options.pageHeight,0,this.options.pageWidth);return!1===this.isAnyPartOfComponentWithinBoundaries(t)},getComponentActualWidthHeight:function(){var t=this.options.width,e=this.options.height,n=this.options.parentSmartgroup;return n&&(t*=n.options.scaleWidth,e*=n.options.scaleHeight),{width:t,height:e}},getComponentBoundaries:function(){var t=this.options.absoluteBoundaryX,e=this.options.absoluteBoundaryY,n=this.options.allHeight,i=this.options.allWidth,r=this.options.parentSmartgroup,o=this.isFixedPosition();if(r){t*=r.options.scaleWidth,t+=r.options.originalX,e*=r.options.scaleHeight,e+=r.options.originalY;var a=Math.toRad(r.options.rotation);if(a){var s=r.options.x+r.options.width/2,u=r.options.y+r.options.height/2,l=Math.rotateCoord(t,e,s,u,-a);t=l.x,e=l.y}n*=r.options.scaleHeight}var c=e+n,d=t+i;if(o){var h=this.getTopAndBottomFixedPosition(e,c);e=h.top,c=h.bottom}return{componentTop:e,componentLeft:t,componentBottom:c,componentRight:d}},getTopAndBottomFixedPosition:function(t,e){var n=this.options.pageView.$pinnedContainer,i=this.options.pageView.scaleContext,r=this.options.pageView.getScaleContext(),o=n?n.offset():{left:0,top:0},a=this.options.pageView.$pageScroll.offset().top-o.top;return i.useZoom(r.ratio)||(a/=r.ratio),{top:Math.floor(t-a),bottom:Math.floor(e-a)}},isFixedPosition:function(){if(this.options.fixedPosition||this.options.parentSmartgroup&&this.options.parentSmartgroup.options.fixedPosition)return!0;if(!l.default.isEmpty(this.parentViews))for(var t=0;t<this.parentViews.length;++t){var e=this.parentViews[t];if(void 0!==e.isFixedPosition&&e.isFixedPosition())return!0}return!1},_hasInteraction:function(t){var e=this.options.interactions;return!(!l.default.isArray(e)||0===e.length)&&this.getValidInteractionsByTrigger(t).length>0},hasClickInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.CLICK)},hasMouseDownInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.MOUSEDOWN)},hasHoverInteraction:function(){return c.default.desktop()&&this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.HOVER)},getResettableHoverInteractions:function(){if(this.hasHoverInteraction()){var t=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);return l.default.filter(t,(function(t){return t.resetWhenScrolledOffscreen}))}return null},hasResettableHoverInteractions:function(){var t=this.getResettableHoverInteractions();return t&&t.length>0},getValidInteractionsByTrigger:function(t){if(!this.validInteractions[t]||h.default.previewMode){var e=this.options.interactions,n=this;(e=l.default.filter(e,(function(e){return!!n._isValidInteraction(e)&&(l.default.isUndefined(t)||e.trigger===t||e.config&&e.config.trigger===t)}))).sort(this._sortInteractions),this.validInteractions[t]=e}return this.validInteractions[t]},_sortInteractions:function(t,e){var n=-1!==["page-goto","page-next","page-prev"].indexOf(t.action),i=-1!==["page-goto","page-next","page-prev"].indexOf(e.action),r="page-enable-disable"===t.action,o="page-enable-disable"===e.action,a="bring-to-front"===t.action,s="bring-to-front"===e.action,u="change-state"===t.action,l="change-state"===e.action;return r&&i?-1:o&&n?1:a&&l?-1:s&&u?1:0},_isValidInteraction:function(t){return!(-1!==l.default.indexOf(this.COMMERCE_ACTIONS,t.action)&&!this.options.allowCommerceIntegration)&&t.isValid()},createTimedTriggers:function(){var t=this.getModule(),e=this;if(this.canCreateTimedTriggers()){var n=l.default.groupBy(e.getValidInteractionsByTrigger(t.INTERACTION_TRIGGERS.VIEW),(function(t){return t.delay}));l.default.forOwn(n,(function(n,i){var r=l.default.filter(n,(function(t){return!e.timedTriggersCreatedAtLeastOnce||t.repeat}));if(r.length>0){var o=setTimeout((function(){l.default.each(r,(function(n){!function n(r){var o="cycle-next"===r.action||"cycle-previous"===r.action;h.default.shouldReduceMotion&&o||(e.simulateClick(!0,r),_.default.trigger(t.publishedEvents.TIMED_INTERACTION,e.addComponentAndClickDataToEvent(r))),o&&e.timedTriggerTimeouts.push(setTimeout((function(){n(r)}),1e3*i))}(n)}))}),1e3*i);e.timedTriggerTimeouts.push(o)}})),this.timedTriggersCreatedAtLeastOnce=!0,this.timedTriggersActivated=!0}},canCreateTimedTriggers:function(){if(this.timedTriggersActivated)return!1;if(!this.visible)return!1;var t=this.getModule();return!!this._hasInteraction(t.INTERACTION_TRIGGERS.VIEW)&&this.areAllParentsVisible()},simulateClick:function(t,e){var n={clientX:-1,clientY:-1,preventDefault:u.default.noop};this._handleClickInteraction(n,t,e)},_handleClickInteraction:function(t,e,n,i){var r=this.getModule(),o=!1;t.preventDefault();var a=[];if(e){if(!n)return;a=[n]}else a=this.getValidInteractionsByTrigger(r.INTERACTION_TRIGGERS.CLICK);l.default.each(a,l.default.bind((function(e){i&&!e.shouldTriggerOnKeyboardNavigation()||this._triggerClickAction(t,e)&&(o=!0)}),this));var s=this.addComponentAndClickDataToEvent({},t);if(_.default.trigger(r.publishedEvents.PAGE_COMPONENT_CLICKED,s),o){t.handledByComponent=!0;var u=this._hasParentWithLinkInteraction();e||u||r.trigger(r.publishedEvents.PAGE_COMPONENT_INTERACTION,s)}!e&&"mouse"===M.default.ask()&&this.$el.is(":focus")&&this.$el.blur()},handleClickWithoutInteraction:function(t){var e=this.getModule(),n=this.addComponentAndClickDataToEvent({},t);_.default.trigger(e.publishedEvents.PAGE_COMPONENT_CLICKED,n)},_triggerClickAction:function(t,e){var n=this.addComponentAndClickDataToEvent({},t);return e.triggerAction(n)},addComponentAndClickDataToEvent:function(t,e){var n=e&&e.originalEvent&&window.TouchEvent&&e.originalEvent instanceof TouchEvent?e.touches[0]:e,r=n&&!(n.originalEvent instanceof KeyboardEvent);return u.default.extend(t,i({clickX:r?n.clientX:-1,clickY:r?n.clientY:-1},this.getEventInteractionData()))},_hasParentWithLinkInteraction:function(){var t=this.getParentsWithLinkInteraction();return t&&t.length>0},_handleMouseDownInteraction:function(t,e){var n=this,i=this.getModule(),r=this.getValidInteractionsByTrigger(i.INTERACTION_TRIGGERS.MOUSEDOWN),o=[];this.isMask()&&(o=this.getSiblingsWithInteraction(this.getModule().INTERACTION_TRIGGERS.MOUSEDOWN));for(var a=!1,s=this._hasParentWithLinkInteraction(),u=0,l=r;u<l.length;u++){var c=l[u];c.action===I.ActionTypes.changeState&&s?a=!0:e&&!c.shouldTriggerOnKeyboardNavigation()||this._triggerMouseDownAction(t,c)}if(this.isMask()&&o.forEach((function(t){t.getValidInteractionsByTrigger(n.getModule().INTERACTION_TRIGGERS.MOUSEDOWN).forEach((function(e){t._triggerMouseDownAction(t.getEventInteractionData(),e)}))})),!a){var d=this.getValidInteractionsByTrigger(i.INTERACTION_TRIGGERS.CLICK);if(!d||d.length<1){t.stopPropagation();var h=this.addComponentAndClickDataToEvent({},t);_.default.trigger(i.publishedEvents.PAGE_COMPONENT_CLICKED,h),s||i.trigger(i.publishedEvents.PAGE_COMPONENT_INTERACTION,h)}}},_copyCallingInteractionValuesForLinkInteraction:function(t,e){return t.lockState=e.lockState,t.hasOutTrigger=e.hasOutTrigger,t},_triggerMouseDownAction:function(t,e){var n=this.addComponentAndClickDataToEvent({},t);e.hasOutTrigger&&this.options.pageView.addActiveClickAndBindMouseEvents(this,e),e.triggerAction(n)},_handleMouseOverInteraction:function(t){var e=this,n=(this.getModule(),this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER)),i=[];if(this.isMask()&&(i=this.getSiblingsWithInteraction(this.getModule().INTERACTION_TRIGGERS.HOVER)),n.length>0||(null==i?void 0:i.length)>0){if(this.options.pageView.isMouseOverAnActiveHoverAreaWithHigherZIndex(this,t))return;this.options.pageView.deactivateNonParentHovers(this),n.forEach((function(t){if(t.action===I.ActionTypes.changeState){if(e._hasParentWithLinkInteraction())return;if(t.targets&&1===t.targets.length&&t.targets[0].id===e.options.id&&e.options.pageView.hasActiveHover(e))return}e._triggerMouseOverAction(t,e.getEventInteractionData())})),this.isMask()&&i.forEach((function(t){t.getValidInteractionsByTrigger(e.getModule().INTERACTION_TRIGGERS.HOVER).forEach((function(e){t._triggerMouseOverAction(e,t.getEventInteractionData())}))})),this.options.linkInteraction&&!this.isMaskImage()||this.sendPublishedHoverEvents()}},getSiblingsWithInteraction:function(t){return this.parentViews[0]&&this.parentViews[0].childViews?this.parentViews[0].childViews.filter((function(e){return e.getValidInteractionsByTrigger(t).length>0})):[]},enableAutomaticHoverInteraction:function(t){if(this.hasHoverInteraction()){var e=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);0!==e.length&&this.options.pageView.automaticHoverInteractionCollection.add(this,e,this.options.pageView)}else this.options.pageView.automaticHoverInteractionCollection.remove(this.$el)},_triggerMouseOverAction:function(t,e){if(w.default.hasCustomFiringHoverAction(t)){var n=t.layerTargets,i=w.default.isHoverInteractionShowingLayers(t);n=l.default.filter(n,l.default.bind((function(t){var e=this.options.pageView.findChildView(t),n=this.options.pageView.isChildVisible(e);return i?!n:n}),this)),i?this.options.pageView.invokeShowAction(n):this.options.pageView.invokeHideAction(n),w.default.isTemporaryHoverInteractionShowingOrHidingLayers(t)&&this.options.pageView.addActiveHoverAndBindMouseEvents(this,t)}else t.hasOutTrigger&&(this.options.pageView.addActiveHoverAndBindMouseEvents(this,t),this.activateHoverArea()),t.triggerAction(e)},triggerMouseOutAction:function(t){var e=this;l.default.each(t.layerTargets,(function(t){e.options.pageView.findChildView(t).addPointerEvents()})),w.default.isShowLayersOnHoverInteraction(t)?this.options.pageView.invokeHideAction(t.layerTargets):w.default.isHideLayersInteraction(t)?this.options.pageView.invokeShowAction(t.layerTargets):t.hasOutTrigger&&t.triggerOutAction()},getApplyAnimationsTarget:function(){return this.$el},getAnimatedObjectModelData:function(){return{x:this.options.x,y:this.options.y,allWidth:this.options.allWidth,allHeight:this.options.allHeight,width:this.options.width,height:this.options.height,rotation:this.options.rotation,opacity:this.getOpacity(),scaleWidth:this.options.scaleWidth,scaleHeight:this.options.scaleHeight,pageWidth:this.options.pageWidth,pageHeight:this.options.pageHeight,parentSmartgroup:this.options.parentSmartgroup,requiresHardwareAcceleration:y.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)}},_applyAnimations:function(){var t=this.getAnimatedObjectModelData();this.animatedObjectModel=new m.default(t);var e=this.getApplyAnimationsTarget();this.cleanupAnimations(),this.entryAnimations=this.buildAnimationPhases(e,this.options.animations,this.options.animationsRepeatAll,this.animatedObjectModel),this.exitAnimations=this.buildAnimationPhases(e,this.options.exitAnimations,!1,this.animatedObjectModel),this.resetToInitialState()},buildAnimationPhases:function(t,e,n,i){var r=[];if(e&&e.length>0)for(var o=function(t){t.play()},a=0;a<e.length;a++){n&&(e[a].loop=!1);var s=g.default.compileNewSequence(t,e[a],i);if(l.default.isNull(s))break;if(r.push(s),r[r.length-2]&&r[r.length-2].on(p.default.END_EVENT,l.default.bind((function(){l.default.defer(o,this)}),s)),!0===e[a].loop)break}return r},reset:function(){this.resetAnimations()},resetAnimations:function(){this.cleanupAnimations(),this.resetToInitialState(),this.runningExitAnimations=!1,this._activatedEntryAnimations=!1},resetTimers:function(){l.default.each(this.timedTriggerTimeouts,(function(t){window.clearTimeout(t)})),this.timedTriggerTimeouts=[],this.timedTriggersActivated=!1},whenLeavingVisibleBoundaries:function(){var t=this.entryAnimationsActivated()&&this.isEntryAnimationConfiguredToReplayOnScroll(),e=this.getModule(),n=!l.default.isEmpty(this.getValidInteractionsByTrigger(e.INTERACTION_TRIGGERS.VIEW))&&this.initiallyVisible&&this.areAllParentsInitiallyVisible();this.isOutsideOfPage()||(t&&(this.resetAnimations(),this.exitAnimationPromise&&(this.exitAnimationPromise.resolve(),this.exitAnimationPromise=null),this.visible&&"none"===this.$el.css("display")&&this.$el.show()),n&&this.resetTimers())},onActivationStart:function(){},onActivationEnd:function(){this.shouldRestartEntryAnimations=this.hasEntryAnimation()&&(this.options.animationsRepeatAll||this.options.animations[this.options.animations.length-1].loop)},onExitStart:function(){},onExitEnd:function(){},activateAndRunEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()&&!this.entryAnimationsActivated()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},rerunActivationAndEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},restartRepeatEntryAnimations:function(){this.onActivationStart();var t=this.options.animationsRepeatAll&&!h.default.shouldReduceMotion?0:this.options.animations.length-1,e=this;this.runEntryAnimations(t).done((function(){e.onActivationEnd()}))},runEntryAnimations:function(t){var e=this.getModule();if(t=t||0,!this.runningExitAnimations){l.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.entryAnimations[t].resetToInitialState();var n=this,i=new u.default.Deferred,r=function(){l.default.last(n.entryAnimations).off(p.default.END_EVENT,r),n.options.animationsRepeatAll&&!h.default.shouldReduceMotion?l.default.defer(l.default.bind(n.runEntryAnimations,n)):(i.resolve(),_.default.trigger(e.publishedEvents.PAGE_COMPONENT_ANIMATION_END,n.id))};return l.default.last(this.entryAnimations).on(p.default.END_EVENT,r),this.entryAnimations[t].play(),this.entryAnimations.length>0&&_.default.trigger(e.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id),i.promise()}return(new u.default.Deferred).resolve().promise()},runAllChildViewExitAnimations:function(t){if(t=t||[],!this.runningExitAnimations&&this.visible&&this.areAllParentsVisible()){var e=this;this.runningExitAnimations=!0,this.onExitStart();var n=this.runExitAnimations().then((function(){e.runningExitAnimations=!1,e.onExitEnd()}));t.push(n),this.childViews&&l.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}))}return t},runExitAnimations:function(){var t=this.getModule();this.entryAnimations&&l.default.each(this.entryAnimations,(function(t){t.cleanup()}));var e=new u.default.Deferred;if(this.exitAnimationPromise=e,l.default.isEmpty(this.exitAnimations)||"none"===this.$el.css("display"))_.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_END,this.id),e.resolve();else{var n=this,i=function(){_.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_END,n.id),e.resolve(),l.default.last(n.exitAnimations).off(p.default.END_EVENT,i)};l.default.last(this.exitAnimations).on(p.default.END_EVENT,i),l.default.each(this.exitAnimations,(function(t){t.cleanup()})),this.exitAnimations[0].resetToInitialState(),this.exitAnimations[0].play(),this.exitAnimations.length>0&&_.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id)}return e.promise()},cleanupAnimations:function(){this.entryAnimations&&l.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.exitAnimations&&l.default.each(this.exitAnimations,(function(t){t.cleanup()}))},hasEntryAnimation:function(){return this.entryAnimations&&l.default.size(this.entryAnimations)>0},doTriggerOnScroll:function(){return this.hasEntryAnimation()||this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.VIEW)||"html"===this.type},resetToInitialState:function(){if(l.default.isEmpty(this.entryAnimations)){if(!l.default.isEmpty(this.exitAnimations)){var t=l.default.first(this.exitAnimations);if(!!(t.isEntryAnimation()||this.options.visible&&0===t.initialState.opacity))return void t.setToFinalState();t.resetToInitialState()}}else l.default.first(this.entryAnimations).resetToInitialState()},pauseAnimations:function(){this.entryAnimations&&l.default.each(this.entryAnimations,(function(t){t.pause()})),this.exitAnimations&&l.default.each(this.exitAnimations,(function(t){t.pause()}))},resumeAnimations:function(){this.entryAnimations&&l.default.each(this.entryAnimations,(function(t){t.resume()})),this.exitAnimations&&l.default.each(this.exitAnimations,(function(t){t.resume()}))},hasShadow:function(t){return!l.default.isEmpty(t)&&(t.x>0||t.x<0||t.y>0||t.y<0||t.blur>0)},getApplyShadowTarget:function(){return this.$el},_applyShadow:function(t,e){var n=this.getApplyShadowTarget();if(t=l.default.isNil(t)?this.options.shadow:t,e=l.default.isNil(e)?this.options.rotation:e,this.hasShadow(t)){var i={x:l.default.isNumber(t.x)?t.x:0,y:l.default.isNumber(t.y)?t.y:0};e&&0!==e&&this._rotateShadowCoordinates(i,e);var r="";r+=Math.round(i.x)+"px",r+=" "+Math.round(i.y)+"px",r+=t.blur?" "+t.blur+"px":" 0",r+=t.spread?" "+t.spread+"px":" 0",r+=" "+t.color,n.css("boxShadow",r)}else n.css("boxShadow","none")},_rotateShadowCoordinates:function(t,e){e=Math.toRad(e);var n=t.x*Math.cos(e)+t.y*Math.sin(e),i=-1*t.x*Math.sin(e)+t.y*Math.cos(e);t.x=n,t.y=i},_flipShadowCoordinates:function(t,e,n){e&&(t.x*=-1),n&&(t.y*=-1)},getApplyBackgroundTarget:function(){return this.$el},_applyBackground:function(t){if(!this.isMaskImage()){t=l.default.isNil(t)?this.options.background:t;var e=this.getApplyBackgroundTarget();if(!t)return e.css("backgroundColor","transparent"),void e.css("backgroundImage","none");t.color?e.css("backgroundColor",t.color):e.css("backgroundColor","transparent"),t.gradient?e.css("backgroundImage","linear-gradient("+parseInt(t.gradient.angle,10)+"deg,"+d.default.buildStops(t.gradient.stops)+")"):e.css("backgroundImage","none")}},getExtents:function(){var t=this.getExtentsDimensionData(),e=T.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth);return this._transformPointsToExtents(e)},_transformPointsToExtents:function(t){var e=this.transformPointToPageCoordinateSpace(t[0]),n=this.transformPointToPageCoordinateSpace(t[1]),i=this.transformPointToPageCoordinateSpace(t[2]),r=this.transformPointToPageCoordinateSpace(t[3]);return{x1:Math.round(Math.min(e.x,n.x,i.x,r.x)),y1:Math.round(Math.min(e.y,n.y,i.y,r.y)),x2:Math.round(Math.max(e.x,n.x,i.x,r.x)),y2:Math.round(Math.max(e.y,n.y,i.y,r.y))}},transformPointToPageCoordinateSpace:function(t){var e=new S.Point(t.x,t.y),n=this.parentViews;if(l.default.each(n,(function(t){if(t.options.rotation){var n=t.options.width/2,i=t.options.height/2;e.rotate(n,i,-Math.toRad(t.options.rotation))}e.x+=t.options.x||0,e.y+=t.options.y||0})),this.options.parentSmartgroup){var i=this.options.parentSmartgroup.options.x,r=this.options.parentSmartgroup.options.y,o=this.options.parentSmartgroup.options.width/2,a=this.options.parentSmartgroup.options.height/2,s=-Math.toRad(this.options.parentSmartgroup.options.rotation);0!==s&&e.rotate(o,a,s),e.x+=i,e.y+=r}return e},isFlipped:function(){return!l.default.isNil(this.options.flipHorizontal)||!l.default.isNil(this.options.flipVertical)},childrenUseBlendingModes:function(){return!!this.childViews&&this.childViews.some((function(t){return t.hasActiveBlendingMode()||t.childrenUseBlendingModes()}))},hasActiveBlendingMode:function(){var t=this.options.blendingMode&&!O.BlendingModes.isDefaultBlendingMode(this.options.blendingMode),e=!!this.options.state&&l.default.some(this.options.states,(function(t){return t.config.blendingMode&&!O.BlendingModes.isDefaultBlendingMode(t.config.blendingMode)}));return t||e},show:function(){if(f.AbstractPageChildView.prototype.show.call(this),this.addPointerEvents(),this.hasAccessibilityFeature){if(void 0===this.$onClickShowHideTriggers&&this.populateOnClickShowHideTriggers(),this.$onClickShowHideTriggers.length){var t=this.isCarouselSlide?"aria-current":"aria-expanded";this.$onClickShowHideTriggers.attr(t,"true")}this.wasShownByFocusInteraction=!1}},hide:function(){if(f.AbstractPageChildView.prototype.hide.call(this),this.removePointerEvents(),this.hasAccessibilityFeature&&(void 0===this.$onClickShowHideTriggers&&this.populateOnClickShowHideTriggers(),this.$onClickShowHideTriggers.length)){if(this.isCarouselSlide?this.$onClickShowHideTriggers.removeAttr("aria-current"):this.$onClickShowHideTriggers.attr("aria-expanded","false"),this.wasShownByFocusInteraction)return void(this.wasShownByFocusInteraction=!1);if(!("keyboard"!==M.default.ask()||document.activeElement&&document.activeElement.classList.contains("ceros-no-return-focus"))){if(void 0===this.$outsideClickShowHideTriggers){var t=this;this.$outsideClickShowHideTriggers=this.$onClickShowHideTriggers.filter((function(){return t.id!==this.id&&!u.default.contains(t.$el[0],this)}))}1!==this.$outsideClickShowHideTriggers.length||this.$outsideClickShowHideTriggers.is(":focus")||this.$outsideClickShowHideTriggers.focus()}}},populateOnClickShowHideTriggers:function(){this.$onClickShowHideTriggers=u.default("[aria-controls~='"+this.id+"']")},parentsHaveInteractions:function(){var t=this.options.parentSmartGroup||this.parentViews;if(t&&(!Array.isArray(t)||t.length)){var e=[];if(this.options.parentSmartGroup)e=this.options.parentSmartGroup.interactions;else for(var n=0;n<this.parentViews.length;++n)this.parentViews[n].validInteractions&&(e.push(this.parentViews[n].validInteractions.click),e.push(this.parentViews[n].validInteractions.hover),e.push(this.parentViews[n].validInteractions.view));return!!l.default.filter(l.default.flatten(e)).length}},sendPublishedHoverEvents:function(){var t=this.getModule();t.trigger(t.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,this.getEventInteractionData())},_handleOnEscKeyPressed:function(t){var e=this;P.default.isEscKeyPressed(t)&&this.$el.attr("aria-controls")&&(void 0===this.hideableTargets&&(this.hideableTargets=l.default.reduce(this.$el.attr("aria-controls").split(" "),(function(t,n){var i=e.options.pageView.findChildView(n);return i&&i.$el.hasClass("ceros-hideable")&&t.push(n),t}),[])),this.hideableTargets.length&&this.options.pageView.invokeHideAction(this.hideableTargets),t.stopPropagation())}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a="undefined"!=typeof WebKitAnimationEvent?"-webkit-":"undefined"!=typeof AnimationEvent?"":null,s=function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]};o.default.extend(s.prototype,{reset:function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]},_generateKeyframe:function(t,e,n,i){var r=t+"|"+JSON.stringify(e);if(0!==i&&(r+="|"+n+"|"+i),this.keyframeMap.hasOwnProperty(r))return this.keyframeMap[r];var s="@"+a+"keyframes keyframe"+this.keyframeInc+"{",u=o.default.sortBy(o.default.keys(e),(function(t){return parseInt(t,10)}));if(0===i)o.default.each(u,(function(n){s+=n+"{"+t+":"+e[n]+"}"}));else{var l=o.default.round(i/(i+n)*100,5),c=100-l;s+="0%{"+t+":"+e["0%"]+"}"+l+"%{"+t+":"+e["0%"]+"}",o.default.each(u,(function(n){"0%"!=n&&(s+=Math.round(l+c*(parseInt(n,10)/100))+"%{"+t+":"+e[n]+"}")}))}return s+="}",this.ruleBuffer.push(s),this.keyframeMap[r]="keyframe"+this.keyframeInc++,this.keyframeMap[r]},_generatePauseClass:function(t){var e="sequencePause"+t;if(!o.default.includes(this.pauseClassCache,e)){this.pauseClassCache.push(e);var n=[];o.default(t).times((function(){n.push("paused")})),this.ruleBuffer.push("."+e+"{"+a+"animation-play-state:"+n.join(",")+" !important;}")}return e},_generateRunClass:function(t,e,n,i){var r="sequenceRun"+this.sequenceInc++;return this.ruleBuffer.push("."+r+"{"+a+"animation-name:"+t.join(",")+";"+a+"animation-duration:"+e.join(",")+";"+a+"animation-timing-function:"+n.join(",")+";"+a+"animation-fill-mode:"+o.default.map(t,(function(){return"both"})).join(",")+";"+a+"animation-play-state:"+o.default.map(t,(function(){return"running"})).join(",")+";"+a+"animation-iteration-count:"+i.join(",")+";}"),r},generate:function(t){var e=o.default.map(t,(function(t){return t.getKey()})).join("&");if(!this.sequenceMap.hasOwnProperty(e)){var n=[],i=[],r=[],s=[],u=this;o.default.each(t,(function(t){var e="transform"==t.property?a+"transform":t.property;n.push(u._generateKeyframe(e,t.frames,t.duration,t.delay)),i.push(t.duration+t.delay+"ms"),r.push(t.easing),s.push(t.iterations)})),this.sequenceMap[e]={runClass:this._generateRunClass(n,i,r,s),pauseClass:this._generatePauseClass(t.length)}}return this.sequenceMap[e]},flush:function(){this.ruleBuffer.length>0&&(r.default("head").append(r.default("<style></style>").html(this.ruleBuffer.join("\n"))),this.ruleBuffer=[])}});var u=null;e.default=(null===u&&(u=new s),u)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={Tween:function(t,e,n,i,r,o){if(this.property=t,this.frames=e,this.duration=n,this.delay=i||0,this.iterations=r,this.easing=o,!this.frames.hasOwnProperty("0%"))throw Error("Tween must define 0% keyframe!");if(!this.frames.hasOwnProperty("100%"))throw Error("Tween must define 100% keyframe!");this._normalize()}};o.Tween.prototype={_normalize:function(){r.default.isUndefined(this.iterations)?this.iterations=1:r.default.isNumber(this.iterations)?(this.iterations=parseInt(this.iterations,10),this.iterations<0&&(this.iterations=0)):this.iterations="infinite"},getKey:function(){for(var t=r.default.values(this),e=0;e<t.length;e++)"object"==typeof t[e]&&(t[e]=JSON.stringify(t[e]));return t.join("|")}},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=["noDirection","center","left","right","up","down","topRight","topLeft","bottomRight","bottomLeft","backwards","forwards","verticalCenter","horizontalCenter","clockwise","counterClockwise","diagonal1","diagonal2"],a={},s={"Entry Effects":{FADE_IN:{label:"Fade In",directions:{noDirection:"fadeIn",left:"fadeLeft",right:"fadeRight",up:"fadeUp",down:"fadeDown"}},SPIN_FADE_IN:{label:"Spin and Fade In",directions:{counterClockwise:"spinLeftFade",clockwise:"spinRightFade"}},SLIDE_IN:{label:"Slide In",directions:{center:"enlargeFadeIn",left:"slideLeft",right:"slideRight",up:"slideUp",down:"slideDown",topRight:"slideTopRight",topLeft:"slideTopLeft",bottomRight:"slideBottomRight",bottomLeft:"slideBottomLeft"}},BOUNCE_IN:{label:"Bounce In",directions:{left:"bounceRight",right:"bounceLeft",up:"bounceUp",down:"bounceDown"}},LIGHTSPEED_IN:{label:"Light Speed In",directions:{left:"lightSpeedLeftIn",right:"lightSpeedRightIn"}},ROLL_IN:{label:"Roll In",directions:{left:"rollLeftIn",right:"rollRightIn"}},FLIP_IN:{label:"Rock In",directions:{verticalCenter:"flipInX",horizontalCenter:"flipInY"}},SHIFT_IN:{label:"Shift In",directions:{left:"shiftLeft",right:"shiftRight",up:"shiftUp",down:"shiftDown"}},SWING:{label:"Swing",directions:{left:"swingLeft",right:"swingRight",up:"swingTop",down:"swingBottom",bottomRight:"swingTopLeft",bottomLeft:"swingTopRight",topRight:"swingBottomLeft",topLeft:"swingBottomRight"}},SCALE_UP:{label:"Scale Up",directions:{left:"scaleUpLeft",right:"scaleUpRight",center:"enlarge",up:"scaleUpTop",down:"scaleUpBottom"}},EXPAND:{label:"Expand",directions:{left:"scaleUpHorizontalLeft",right:"scaleUpHorizontalRight",down:"scaleUpVerticalTop",up:"scaleUpVerticalBottom",horizontalCenter:"scaleUpHorizontalCenter",verticalCenter:"scaleUpVerticalCenter"}}},"Attention Seekers":{SPIN:{label:"Spin",directions:{clockwise:"spinRight",counterClockwise:"spinLeft"}},FLASH:{label:"Flash",directions:{noDirection:"flash"}},PULSE:{label:"Pulse",directions:{noDirection:"pulse"}},BOB:{label:"Bob",directions:{noDirection:"bob"}},TADA:{label:"Tada",directions:{noDirection:"tada"}},FLIP:{label:"Flip",directions:{horizontalCenter:"flip",verticalCenter:"flipHorizontal",diagonal2:"flipDiagonalRight",diagonal1:"flipDiagonalLeft"}},ROTATE_90:{label:"Rotate 90°",directions:{clockwise:"rotateCW90",counterClockwise:"rotateCCW90"}},SHAKE:{label:"Shake",directions:{noDirection:"shake"}},JELLO:{label:"Jello",directions:{noDirection:"jelloHorizontal"}},WOBBLE:{label:"Wobble",directions:{down:"wobbleTop",up:"wobbleBottom",right:"wobbleLeft",left:"wobbleRight"}},VIBRATE:{label:"Vibrate",directions:{noDirection:"vibrate"}},KEN_BURNS:{label:"Ken Burns",directions:{up:"kenBurnsTop",down:"kenBurnsBottom",left:"kenBurnsLeft",right:"kenBurnsRight"}}},"Exit Effects":{FADE_OUT:{label:"Fade Out",directions:{noDirection:"fadeOut",left:"fadeLeftOut",right:"fadeRightOut",up:"fadeUpOut",down:"fadeDownOut"}},SPIN_FADE_OUT:{label:"Spin and Fade Out",directions:{counterClockwise:"spinLeftFadeOut",clockwise:"spinRightFadeOut"}},SLIDE_OUT:{label:"Slide Out",directions:{right:"slideLeftOut",left:"slideRightOut",up:"slideUpOut",down:"slideDownOut",noDirection:"shrinkFadeOut",topRight:"slideTopRightOut",topLeft:"slideTopLeftOut",bottomRight:"slideBottomRightOut",bottomLeft:"slideBottomLeftOut"}},BOUNCE_OUT:{label:"Bounce Out",directions:{left:"bounceLeftOut",right:"bounceRightOut",up:"bounceUpOut",down:"bounceDownOut"}},LIGHTSPEED_OUT:{label:"Light Speed Out",directions:{left:"lightSpeedLeftOut",right:"lightSpeedRightOut"}},ROLL_OUT:{label:"Roll Out",directions:{left:"rollLeftOut",right:"rollRightOut"}},FLIP_OUT:{label:"Rock Out",directions:{verticalCenter:"flipOutX",horizontalCenter:"flipOutY"}},SHIFT_OUT:{label:"Shift Out",directions:{left:"shiftLeftOut",right:"shiftRightOut",up:"shiftUpOut",down:"shiftDownOut"}},SCALE_DOWN:{label:"Scale Down",directions:{left:"scaleDownLeft",right:"scaleDownRight",center:"shrink",down:"scaleDownTop",up:"scaleDownBottom"}},SHRINK:{label:"Shrink",directions:{down:"scaleDownVerticalTop",up:"scaleDownVerticalBottom",left:"scaleDownHorizontalLeft",right:"scaleDownHorizontalRight",verticalCenter:"scaleDownVerticalCenter",horizontalCenter:"scaleDownHorizontalCenter"}}}},u={},l={},c={};r.default.each(s,(function(t,e){c[e]={},r.default.each(t,(function(t,n){u[n]=t,c[e][n]=t.label,r.default.each(o,(function(e){t.directions.hasOwnProperty(e)&&(l[t.directions[e]]={title:n,direction:e})}))}))})),e.default={DIRECTIONS:o,EFFECT_MAP:u,DROPDOWN_OPTIONS:c,getTypeFromTitleAndDirection:function(t,e){return e||(e="noDirection"),u[t].directions[e]},getTitleAndDirectionFromType:function(t){return l[t]},getDirectionsForTitle:function(t){return r.default.keys(u[t].directions)},isEntryAnimation:function(t){if(a.hasOwnProperty(t))return a[t];for(var e=!1,n=s["Entry Effects"],i=Object.keys(n),o=0;o<i.length;++o){var u=r.default.values(n[i[o]].directions);if(r.default.includes(u,t)){e=!0;break}}return a[t]=e,e}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(6)),a=i(n(135)),s=i(n(3)),u={0:[0,0],15:[-30,6],30:[15,-6],45:[-15,3.6],60:[9,-2.4],75:[-6,1.2],100:[0,0]},l={0:[1,1],30:[1.25,.75],40:[.75,1.25],50:[1.15,.85],65:[.95,1.15],75:[1.05,.95],100:[1,1]},c={0:0,10:2,20:-4,30:4,40:-4,50:4,60:-4,70:4,80:-2,90:2,100:0},d={0:[0,0,0],20:[-3,-.1,-.1],30:[3,.1,.1],40:[-3,.1,.1],50:[3,.1,.1],60:[-3,.1,.1],70:[3,.1,.1],80:[-3,.1,.1],90:[3,.1,.1],100:[0,0,0]},h={0:[0,0],5:[-2,2],10:[-2,-2],15:[2,2],20:[2,-2],25:[-2,2],30:[-2,-2],35:[2,2],40:[2,-2],45:[-2,2],50:[-2,-2],55:[2,2],60:[2,-2],65:[-2,2],70:[-2,-2],75:[2,2],80:[2,-2],85:[-2,2],90:[-2,-2],95:[2,2],100:[0,0]};e.default={compileNewSequence:function(t,e,n){var i=null;if(r.default.isString(e.type)&&!r.default.isEmpty(e.type)&&r.default.isNumber(e.duration)&&e.duration>0){var s={$el:t,name:e.type,requiresHardwareAcceleration:n.get("requiresHardwareAcceleration")};(i=new a.default(s)).precompile(),!r.default.isUndefined(e.delay)&&r.default.isNumber(e.delay)||(e.delay=0),!0===e.loop&&i.setLoop(!0),r.default.isFunction(this[e.type])?this[e.type](i,e,n):o.default.warn("Animation type not supported: "+JSON.stringify(e)),i.compile()}return i},getIterations:function(t){var e=t.iterations?t.iterations:1;return!0===t.loop&&(e="infinite"),e},getDuration:function(t){return 1e3*t.duration},getDelay:function(t){return 1e3*t.delay},getEasing:function(t){return t.easing},buildTween:function(t,e,n){return new a.default.Tween(e,n,this.getDuration(t),this.getDelay(t),this.getIterations(t),this.getEasing(t))},fadeIn:function(t,e,n){t.add(this.buildTween(e,"opacity",{"0%":0,"100%":n.get("opacity")}))},fadeOut:function(t,e,n){t.add(this.buildTween(e,"opacity",{"0%":n.get("opacity"),"100%":0}))},spinSequence:function(t,e,n,i,r){var o=n.getScale(),a=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":a,"100%":a}))},spinRight:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i-360,i)},spinLeft:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i+360,i)},rotateCW90:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i-90,i)},rotateCCW90:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i+90,i)},slideInXSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("x");s.default.mobile()?t.add(this.buildTween(e,"left",{"0%":i.x+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(i.x-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateX(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInYSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("y");s.default.mobile()?t.add(this.buildTween(e,"top",{"0%":i.y+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateY("+(i.y-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateY(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInXYSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),u=n.get("x"),l=n.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":i.x+"px","100%":u+"px"})),t.add(this.buildTween(e,"top",{"0%":r.y+"px","100%":l+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(i.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeft:function(t,e,n){this.slideLeftIn(t,e,n)},slideLeftIn:function(t,e,n){var i=n.getOffPageRight();this.slideInXSequence(t,e,n,i)},slideRight:function(t,e,n){this.slideRightIn(t,e,n)},slideRightIn:function(t,e,n){var i=n.getOffPageLeft();this.slideInXSequence(t,e,n,i)},slideDown:function(t,e,n){this.slideDownIn(t,e,n)},slideDownIn:function(t,e,n){var i=n.getOffPageTop();this.slideInYSequence(t,e,n,i)},slideUp:function(t,e,n){this.slideUpIn(t,e,n)},slideUpIn:function(t,e,n){var i=n.getOffPageBottom();this.slideInYSequence(t,e,n,i)},slideTopRight:function(t,e,n){var i=n.getOffPageBottom(),r=n.getOffPageLeft();this.slideInXYSequence(t,e,n,r,i)},slideTopLeft:function(t,e,n){var i=n.getOffPageRight(),r=n.getOffPageBottom();this.slideInXYSequence(t,e,n,i,r)},slideBottomRight:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageLeft();this.slideInXYSequence(t,e,n,r,i)},slideBottomLeft:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageRight();this.slideInXYSequence(t,e,n,r,i)},slideOutSequence:function(t,e,n,i){var r=n.get("x"),o=n.get("y");t.add(this.buildTween(e,"left",{"0%":r+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":o+"px","100%":i.y+"px"}))},slideOutXYSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),u=n.get("x"),l=n.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":u+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":l+"px","100%":r.y+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX("+(i.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeftOut:function(t,e,n){var i=n.getOffPageRight();this.slideOutSequence(t,e,n,i)},slideRightOut:function(t,e,n){var i=n.getOffPageLeft();this.slideOutSequence(t,e,n,i)},slideDownOut:function(t,e,n){var i=n.getOffPageBottom();this.slideOutSequence(t,e,n,i)},slideUpOut:function(t,e,n){var i=n.getOffPageTop();this.slideOutSequence(t,e,n,i)},slideTopRightOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageRight();this.slideOutXYSequence(t,e,n,r,i)},slideTopLeftOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageLeft();this.slideOutXYSequence(t,e,n,r,i)},slideBottomRightOut:function(t,e,n){var i=n.getOffPageRight(),r=n.getOffPageBottom();this.slideOutXYSequence(t,e,n,i,r)},slideBottomLeftOut:function(t,e,n){var i=n.getOffPageLeft(),r=n.getOffPageBottom();this.slideOutXYSequence(t,e,n,i,r)},shake:function(t,e,n){var i=n.get("rotation"),o=n.getTransformOriginString(.5,.5,!0),a=n.getScale(),s={};r.default.each(c,(function(t,e){s[e+"%"]="rotate("+(i+t)+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform",s)),t.add(this.buildTween(e,"transform-origin",{"0%":o,"100%":o}))},shiftInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale();i.x*=o.x,i.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeft:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.shiftInSequence(t,e,n,r)},shiftRight:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.shiftInSequence(t,e,n,r)},shiftDown:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,-1*i);this.shiftInSequence(t,e,n,r)},shiftUp:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,i);this.shiftInSequence(t,e,n,r)},shiftOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale();i.x*=o.x,i.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeftOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.shiftOutSequence(t,e,n,r)},shiftRightOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.shiftOutSequence(t,e,n,r)},shiftDownOut:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,i);this.shiftOutSequence(t,e,n,r)},shiftUpOut:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,-1*i);this.shiftOutSequence(t,e,n,r)},flash:function(t,e,n){var i=n.get("opacity");t.add(this.buildTween(e,"opacity",{"0%":i,"50%":0,"100%":i}))},pulse:function(t,e,n){var i=n.get("rotation"),r=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+r.x+","+r.y+")","50%":"rotate("+i+"deg) scale("+(r.x+.1)+","+(r.y+.1)+")","100%":"rotate("+i+"deg) scale("+r.x+","+r.y+")"}))},bob:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.getRelativeRotatedPoint(0,-30),a=n.getRelativeRotatedPoint(0,-15);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","40%":"translate("+o.x+"px,"+o.y+"px) rotate("+i+"deg) scale("+r.x+","+r.y+")","50%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","60%":"translate("+a.x+"px,"+a.y+"px) rotate("+i+"deg) scale("+r.x+","+r.y+")","80%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","100%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")"}))},tada:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(d,(function(t,e){a[e+"%"]="rotate("+(i+t[0])+"deg) scale("+(o.x+t[1])+", "+(o.y+t[2])+")"})),t.add(this.buildTween(e,"transform",a));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},flipSequence:function(t,e,n,i,r){var o=n.getOffsetRotation(),a=Math.rotateCoord(i,r,0,0,o),s=n.get("rotation"),u=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate3d("+a.x+","+a.y+", 0, 180deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")","100%":"rotate3d("+a.x+","+a.y+", 0, 0deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")"}));var l=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":l,"100%":l}))},flip:function(t,e,n){this.flipSequence(t,e,n,0,1)},flipHorizontal:function(t,e,n){this.flipSequence(t,e,n,1,0)},flipDiagonalRight:function(t,e,n){this.flipSequence(t,e,n,1,1)},flipDiagonalLeft:function(t,e,n){this.flipSequence(t,e,n,-1,1)},flipInX:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipInY:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipOutX:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},flipOutY:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},fadeUp:function(t,e,n){this.fadeUpIn(t,e,n)},fadeUpIn:function(t,e,n){var i=n.getRelativeRotatedPoint(0,25);this.fadeInSequence(t,e,n,i)},fadeDown:function(t,e,n){this.fadeDownIn(t,e,n)},fadeDownIn:function(t,e,n){var i=n.getRelativeRotatedPoint(0,-25);this.fadeInSequence(t,e,n,i)},fadeRight:function(t,e,n){this.fadeRightIn(t,e,n)},fadeRightIn:function(t,e,n){var i=n.getRelativeRotatedPoint(-25,0);this.fadeInSequence(t,e,n,i)},fadeLeft:function(t,e,n){this.fadeLeftIn(t,e,n)},fadeLeftIn:function(t,e,n){var i=n.getRelativeRotatedPoint(25,0);this.fadeInSequence(t,e,n,i)},fadeOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeUpOut:function(t,e,n){var i=n.getRelativeRotatedPoint(0,-25);this.fadeOutSequence(t,e,n,i)},fadeDownOut:function(t,e,n){var i=n.getRelativeRotatedPoint(0,25);this.fadeOutSequence(t,e,n,i)},fadeRightOut:function(t,e,n){var i=n.getRelativeRotatedPoint(25,0);this.fadeOutSequence(t,e,n,i)},fadeLeftOut:function(t,e,n){var i=n.getRelativeRotatedPoint(-25,0);this.fadeOutSequence(t,e,n,i)},bounceInSequence:function(t,e,n,i,r,o){var a=n.get("x"),s=n.get("y"),u=n.get("opacity");t.add(this.buildTween(e,"left",{"0%":i.x+"px","60%":a+r.x+"px","80%":a+o.x+"px","100%":a+"px"})),t.add(this.buildTween(e,"top",{"0%":i.y+"px","60%":s+r.y+"px","80%":s+o.y+"px","100%":s+"px"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},bounceUp:function(t,e,n){this.bounceUpIn(t,e,n)},bounceUpIn:function(t,e,n){var i=n.getOffPageBottom(),r=n.getRelativeRotatedPoint(0,-30),o=n.getRelativeRotatedPoint(0,10);this.bounceInSequence(t,e,n,i,r,o)},bounceDown:function(t,e,n){this.bounceDownIn(t,e,n)},bounceDownIn:function(t,e,n){var i=n.getOffPageTop(),r=n.getRelativeRotatedPoint(0,30),o=n.getRelativeRotatedPoint(0,-10);this.bounceInSequence(t,e,n,i,r,o)},bounceLeft:function(t,e,n){this.bounceLeftIn(t,e,n)},bounceLeftIn:function(t,e,n){var i=n.getOffPageLeft(),r=n.getRelativeRotatedPoint(30,0),o=n.getRelativeRotatedPoint(-10,0);this.bounceInSequence(t,e,n,i,r,o)},bounceRight:function(t,e,n){this.bounceRightIn(t,e,n)},bounceRightIn:function(t,e,n){var i=n.getOffPageRight(),r=n.getRelativeRotatedPoint(-30,0),o=n.getRelativeRotatedPoint(10,0);this.bounceInSequence(t,e,n,i,r,o)},bounceOutSequence:function(t,e,n,i,r,o){var a=n.get("x"),s=n.get("y"),u=n.get("opacity");t.add(this.buildTween(e,"left",{"0%":a+"px","20%":a+r.x+"px","40%":a+o.x+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":s+"px","20%":s+r.y+"px","40%":s+o.y+"px","100%":i.y+"px"})),t.add(this.buildTween(e,"opacity",{"0%":u,"60%":u,"100%":0}))},bounceUpOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getRelativeRotatedPoint(0,-10),o=n.getRelativeRotatedPoint(0,30);this.bounceOutSequence(t,e,n,i,r,o)},bounceDownOut:function(t,e,n){var i=n.getOffPageBottom(),r=n.getRelativeRotatedPoint(0,10),o=n.getRelativeRotatedPoint(0,-30);this.bounceOutSequence(t,e,n,i,r,o)},bounceLeftOut:function(t,e,n){var i=n.getOffPageLeft(),r=n.getRelativeRotatedPoint(-10,0),o=n.getRelativeRotatedPoint(30,0);this.bounceOutSequence(t,e,n,i,r,o)},bounceRightOut:function(t,e,n){var i=n.getOffPageRight(),r=n.getRelativeRotatedPoint(10,0),o=n.getRelativeRotatedPoint(-30,0);this.bounceOutSequence(t,e,n,i,r,o)},spinFadeInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+(r+i)+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFade:function(t,e,n){this.spinRightFadeIn(t,e,n)},spinRightFadeIn:function(t,e,n){this.spinFadeInSequence(t,e,n,-90)},spinLeftFade:function(t,e,n){this.spinLeftFadeIn(t,e,n)},spinLeftFadeIn:function(t,e,n){this.spinFadeInSequence(t,e,n,90)},spinFadeOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+(r+i)+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFadeOut:function(t,e,n){this.spinFadeOutSequence(t,e,n,90)},spinLeftFadeOut:function(t,e,n){this.spinFadeOutSequence(t,e,n,-90)},lightSpeedInSequence:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale(),u=n.get("opacity"),l="right"===o?1:-1;t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) skewX("+30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","60%":"translate("+r.x+"px,"+r.y+"px) skewX("+-30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","80%":"translate(0,0) skewX("+15*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","100%":"translate(0,0) skewX(0deg) rotate("+a+"deg) scale("+s.x+","+s.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},lightSpeedRight:function(t,e,n){this.lightSpeedRightIn(t,e,n)},lightSpeedRightIn:function(t,e,n){var i=n.getScale(),r=n.get("width")*i.x,o=n.get("pageWidth"),a=n.getRelativeRotatedPoint(-1*o,0),s=n.getRelativeRotatedPoint(Math.round(.6*r),0);this.lightSpeedInSequence(t,e,n,a,s,"right")},lightSpeedLeft:function(t,e,n){this.lightSpeedLeftIn(t,e,n)},lightSpeedLeftIn:function(t,e,n){var i=n.getScale(),r=n.get("width")*i.x,o=n.get("pageWidth"),a=n.getRelativeRotatedPoint(o,0),s=n.getRelativeRotatedPoint(-1*Math.round(.6*r),0);this.lightSpeedInSequence(t,e,n,a,s,"left")},lightSpeedOutSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity"),u=30*("right"===r?-1:1);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","60%":"translate("+i.x+"px,"+i.y+"px) skewX("+u+"deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+i.x+"px,"+i.y+"px) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"60%":0,"100%":0}))},lightSpeedRightOut:function(t,e,n){var i=n.get("pageWidth"),r=n.getRelativeRotatedPoint(i,0);this.lightSpeedOutSequence(t,e,n,r,"right")},lightSpeedLeftOut:function(t,e,n){var i=n.get("pageWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.lightSpeedOutSequence(t,e,n,r,"left")},rollInSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity");i.x*=a.x,i.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")","100%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":s}));var u=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeft:function(t,e,n){this.rollLeftIn(t,e,n)},rollRightIn:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.rollInSequence(t,e,n,r,-120)},rollRight:function(t,e,n){this.rollRightIn(t,e,n)},rollLeftIn:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.rollInSequence(t,e,n,r,120)},rollOutSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity");i.x*=a.x,i.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"100%":0}));var u=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeftOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.rollOutSequence(t,e,n,r,-120)},rollRightOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.rollOutSequence(t,e,n,r,120)},enlargeFadeIn:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale(0)","100%":"rotate("+i+"deg) scale("+r.x+","+r.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":o}))},shrinkFadeOut:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+r.x+","+r.y+")","100%":"rotate("+i+"deg) scale(0)"})),t.add(this.buildTween(e,"opacity",{"0%":o,"100%":0}))},scale:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale(),u="rotate("+a+"deg) scale(0, 0)",l="rotate("+a+"deg) scale("+s.x+","+s.y+")";o&&(u="rotate("+a+"deg) scale("+("x"===o?0:s.x)+","+("y"===o?0:s.y)+")");var c={"0%":u,"100%":l};if("down"===i&&(c={"0%":l,"100%":u}),t.add(this.buildTween(e,"transform",c)),r){var d=r;0===a&&1===s.x&&1===s.y||(d=n.getTransformOriginString(.5,.5,!0)),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":d}))}},enlarge:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5,!0))},scaleUpRight:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,.5))},scaleUpLeft:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,.5))},scaleUpBottom:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,0))},scaleUpTop:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,1))},scaleUpVerticalTop:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,0),"y")},scaleUpVerticalBottom:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,1),"y")},scaleUpVerticalCenter:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5),"y")},scaleUpHorizontalLeft:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,1),"x")},scaleUpHorizontalRight:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,0),"x")},scaleUpHorizontalCenter:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5),"x")},shrink:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5,!0))},scaleDownLeft:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,.5))},scaleDownRight:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,.5))},scaleDownTop:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,1))},scaleDownBottom:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,0))},scaleDownVerticalTop:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,1),"y")},scaleDownVerticalBottom:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,0),"y")},scaleDownVerticalCenter:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5),"y")},scaleDownHorizontalLeft:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,0),"x")},scaleDownHorizontalRight:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,1),"x")},scaleDownHorizontalCenter:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5),"x")},swing:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale();t.add(this.buildTween(e,"transform",{"0%":i+" rotate("+o+"deg) scale("+a.x+", "+a.y+")","100%":"rotateX(0) rotateY(0) rotate("+o+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":n.getTransformOriginString(.5,.5,!0)})),t.add(this.buildTween(e,"transform-box",{"0%":"fill-box","100%":"fill-box"}))},swingTopLeft:function(t,e,n){this.swing(t,e,n,"rotateX(180deg) rotateY(-180deg)",n.getTransformOriginString(0,0))},swingTopRight:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg) rotateY(-180deg)",n.getTransformOriginString(1,0))},swingBottomLeft:function(t,e,n){this.swing(t,e,n,"rotateX(180deg) rotateY(180deg)",n.getTransformOriginString(0,1))},swingBottomRight:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg) rotateY(180deg)",n.getTransformOriginString(1,1))},swingLeft:function(t,e,n){this.swing(t,e,n,"rotateY(180deg)",n.getTransformOriginString(1,.5))},swingRight:function(t,e,n){this.swing(t,e,n,"rotateY(-180deg)",n.getTransformOriginString(0,.5))},swingTop:function(t,e,n){this.swing(t,e,n,"rotateX(180deg)",n.getTransformOriginString(.5,1))},swingBottom:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg)",n.getTransformOriginString(.5,0))},jelloHorizontal:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(l,(function(t,e){a[e+"%"]="scale("+t[0]*o.x+", "+t[1]*o.y+") rotate("+i+"deg)"})),t.add(this.buildTween(e,"transform",a))},wobble:function(t,e,n,i,o){var a=n.get("rotation"),s=n.getTransformOriginString(.5,.5,!0),l=n.getScale(),c="translate"+i,d=o?1:-1,h={};r.default.each(u,(function(t,e){var n=a+t[1]*d;h[e+"%"]=c+"("+t[0]+"px) rotate("+n+"deg) scale("+l.x+", "+l.y+")"})),t.add(this.buildTween(e,"transform",h)),t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},wobbleTop:function(t,e,n){this.wobble(t,e,n,"X",!0)},wobbleBottom:function(t,e,n){this.wobble(t,e,n,"X",!1)},wobbleLeft:function(t,e,n){this.wobble(t,e,n,"Y",!0)},wobbleRight:function(t,e,n){this.wobble(t,e,n,"Y",!1)},vibrate:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(h,(function(t,e){a[e+"%"]="translate("+t[0]+"px, "+t[1]+"px) rotate("+i+"deg) scale("+o.x+", "+o.y+")"})),t.add(this.buildTween(e,"transform",a))},kenBurns:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"scale("+s.x+", "+s.y+") translate(0, 0) rotate("+a+"deg)","100%":"scale("+1.25*s.x+", "+1.25*s.y+") translate("+i+") rotate("+a+"deg)"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":o}))},kenBurnsTop:function(t,e,n){this.kenBurns(t,e,n,"0, -15px",n.getTransformOriginString(.5,.16),n.getTransformOriginString(.5,0))},kenBurnsBottom:function(t,e,n){this.kenBurns(t,e,n,"0, 15px",n.getTransformOriginString(.5,.84),n.getTransformOriginString(.5,1))},kenBurnsLeft:function(t,e,n){this.kenBurns(t,e,n,"-20px, 0",n.getTransformOriginString(.16,.5),n.getTransformOriginString(0,.5))},kenBurnsRight:function(t,e,n){this.kenBurns(t,e,n,"20px, 0",n.getTransformOriginString(.84,.5),n.getTransformOriginString(1,.5))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4));e.default=o.default.Model.extend({getCenter:function(){return{x:this.get("x")+this.get("width")/2,y:this.get("y")+this.get("height")/2}},getScale:function(){return{x:r.default.isUndefined(this.get("scaleWidth"))?1:this.get("scaleWidth"),y:r.default.isUndefined(this.get("scaleHeight"))?1:this.get("scaleHeight")}},getOffsetX:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleWidth;if(1===t)return this.get("parentSmartgroup").options.x;var e=this.get("parentSmartgroup").options.width/2-this.get("parentSmartgroup").options.width*t/2;return this.get("parentSmartgroup").options.x+e},getOffsetY:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleHeight;if(1===t)return this.get("parentSmartgroup").options.y;var e=this.get("parentSmartgroup").options.height/2-this.get("parentSmartgroup").options.height*t/2;return this.get("parentSmartgroup").options.y+e},getOffsetRotation:function(){return this.get("parentSmartgroup")?Math.toRad(this.get("parentSmartgroup").options.rotation):0},getRelativeRotatedPoint:function(t,e){var n=this.getOffsetRotation();if(n){var i=this.get("allWidth")/2,r=this.get("allHeight")/2;t+=i,e+=r;var o=Math.rotateCoord(t,e,i,r,n);t=o.x-i,e=o.y-r}return{x:t,y:e}},getRotatedPoint:function(t,e){var n=this.getOffsetRotation();if(n){var i=this.get("allWidth")/2,r=this.get("allHeight")/2,o=this.getCenter();t+=i,e+=r;var a=Math.rotateCoord(t,e,o.x,o.y,n);t=a.x-i,e=a.y-r}return{x:t,y:e}},getRotatedCenter:function(){var t=this.getOffsetRotation(),e=this.get("parentSmartgroup"),n=this.getCenter();if(e&&t>0){var i=e.options.width/2,r=e.options.height/2;return Math.rotateCoord(n.x,n.y,i,r,-1*t)}return{x:n.x,y:n.y}},getOffPageY:function(t){var e=this.get("x"),n=this.get("parentSmartgroup"),i=this.getOffsetRotation();if(n&&i>0){var r=this.getCenter();return t-=this.getRotatedCenter().y-r.y,this.getRotatedPoint(e,t)}return{x:e,y:t}},getOffPageTop:function(){var t=-1*(1+this.getOffsetY());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t-=this.get("allHeight"),this.getOffPageY(t)},getOffPageBottom:function(){var t=this.get("pageHeight")+1-this.getOffsetY();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t+=this.get("allHeight")-this.get("height"),this.getOffPageY(t)},getOffPageX:function(t){var e=this.get("y"),n=this.get("parentSmartgroup"),i=this.getOffsetRotation();if(n&&i>0){var r=this.getCenter();return t-=this.getRotatedCenter().x-r.x,this.getRotatedPoint(t,e)}return{x:t,y:e}},getOffPageLeft:function(){var t=-1*(1+this.getOffsetX());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t-=this.get("allWidth"),this.getOffPageX(t)},getOffPageRight:function(){var t=this.get("pageWidth")+1-this.getOffsetX();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t+=this.get("allWidth")-this.get("width"),this.getOffPageX(t)},getTransformOriginString:function(t,e,n){var i=this.get("width")*t,r=this.get("height")*e;if(!n){var o=this.getScale();i*=o.x,r*=o.y}return i+"px "+r+"px"}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(23),a=i(n(33)),s=i(n(32));e.default=o.AbstractComponentView.extend({type:"shape",render:function(){if(this.isMaskImage()&&(this.options.allWidth=void 0,this.options.allHeight=void 0,this._configureAllWidthAllHeight()),o.AbstractComponentView.prototype.render.call(this),this.isMaskImage()){var t=this.createMaskImage();this.renderAsMask(t)}else!r.default.isEmpty(this.options.background)||!r.default.isEmpty(this.options.border)&&0!==this.options.border.width||r.default.isEmpty(this.options.action)||this.$el.css({"background-color":"white",opacity:0});return this},hasShadow:function(t){return!r.default.isEmpty(this.options.background)&&o.AbstractComponentView.prototype.hasShadow.call(this,t)},createMaskImage:function(){var t=this.options,e=t.x,n=t.y,i=t.width,r=t.height,o=t.allHeight,s=t.allWidth,u=t.rotation,l=this.getBorderForMask(),c='\n        <svg\n          id="mask-'+this.options.id+'"\n          overflow="visible"\n          xmlns="http://www.w3.org/2000/svg">\n           <rect\n                width="'+i+'"\n                height="'+r+'"\n                style="fill:rgb(0,0,0);\n                stroke-width:0;\n                stroke:rgb(0,0,0)"\n                rx="'+l+'"\n                transform="rotate('+u+", "+s/2+", "+o/2+") translate("+e+", "+n+')"/>\n        </svg>\n      ';return a.default.encodedSvgStringAsBase64(c)},renderAsMask:function(t){var e={"-webkit-mask-image":t,"mask-image":t,"-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"0px 0px"};this.$el.css(e)},isMaskImage:function(){return!(!this.options.maskInfo||!this.options.maskInfo.maskedObjectId)},_applyRotation:function(t){this.isMaskImage()||o.AbstractComponentView.prototype._applyRotation.call(this,t)},_applyPosition:function(t,e){this.isMaskImage()?o.AbstractComponentView.prototype._applyPosition.call(this,0,0):o.AbstractComponentView.prototype._applyPosition.call(this,t,e)},_applyDimensions:function(t,e){this.isMaskImage()?o.AbstractComponentView.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):o.AbstractComponentView.prototype._applyDimensions.call(this,t,e)},_applyBorder:function(t){this.isMaskImage()||o.AbstractComponentView.prototype._applyBorder.call(this,t)},applyMaskProperties:function(){var t,e=this.$el,n=this.options.background;if((null==n?void 0:n.color)&&e.css("background",n.color),(null==n?void 0:n.gradient)&&(null===(t=null==n?void 0:n.gradient)||void 0===t?void 0:t.stops)){var i=n.gradient.angle;e.css("backgroundImage","linear-gradient("+i+"deg,"+s.default.buildStops(n.gradient.stops)+")")}},_applyBackground:function(t){o.AbstractComponentView.prototype._applyBackground.call(this,t),this.isMaskImage()&&this.applyMaskProperties()},getBorderForMask:function(){var t=this.options.border;if(t.radius){var e=(t.radius+"").split(",");if(1==e.length)return parseInt(e[0],10)}return 0},getApplyShadowTarget:function(){return this.isMaskImage()&&this.parentViews.length>0?this.parentViews[0].$el:o.AbstractComponentView.prototype.getApplyShadowTarget.call(this)}})},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(6)),u=a(n(0)),l=a(n(288)),c=a(n(289)),d=a(n(3)),h=o(n(16));e.default=l.default.extend({type:"shape",render:function(){var t=this.canvasElement();if(!u.default.isFunction(t[0].getContext))return this;this.scale=c.default.getScale(),this.startX=0,this.startY=0;var e={width:this.options.width,height:this.options.height};if("square"===this.options.shape)throw Error("This component view cannot be used for square!");this.addShadowPadding(e),this.addBorderPadding(e),this.options.allWidth=e.width,this.options.allHeight=e.height,l.default.prototype.render.call(this);var n=this.options.shadow,i=this.options.border,r=this.options.background,o=e.width,a=e.height;!u.default.isEmpty(r)||!u.default.isEmpty(i)&&0!==i.width||u.default.isEmpty(this.options.action)||t.css({"background-color":"white",opacity:0}),this._applyDimensions(o,a),t[0].width=o*(d.default.retina()?2:1),t[0].height=a*(d.default.retina()?2:1);var s=this.getContextAndApplyBorderShadowStyles();return this.renderBackground(s,i,r,n),this},addShadowPadding:function(t){var e=this.options.shadow;if(!u.default.isEmpty(e)&&!u.default.isEmpty(this.options.background)&&""!==e){var n=this.options.rotation;if(n&&0!==n){var i=u.default.isNumber(e.x)?e.x:0,r=u.default.isNumber(e.y)?e.y:0;n=Math.toRad(n),e.x=i*Math.cos(n)+r*Math.sin(n),e.y=-1*i*Math.sin(n)+r*Math.cos(n)}e.blur=u.default.isNumber(e.blur)?Math.abs(e.blur):0,e.x=u.default.isNumber(e.x)?e.x:0,e.y=u.default.isNumber(e.y)?e.y:0,d.default.retina()&&!e.retinaReady&&(e.blur*=2,e.x*=2,e.y*=2,e.retinaReady=!0),e.x<0&&(this.options.x-=Math.abs(e.x)+e.blur,this.startX+=Math.abs(e.x)+e.blur),e.y<0&&(this.options.y-=Math.abs(e.y)+e.blur,this.startY+=Math.abs(e.y)+e.blur),t.width+=Math.abs(e.x)+e.blur,t.height+=Math.abs(e.y)+e.blur,e.blur>Math.abs(e.x)&&this._applyShadowXOffset(t,e),e.blur>Math.abs(e.y)&&this._applyShadowYOffset(t,e),this.options.shadow=e}},_applyShadowXOffset:function(t,e){var n=e.blur-Math.abs(e.x),i=this.options.isXAdjusted?0:n;t.width+=n,this.startX+=n,this.options.x-=i,this.options.isXAdjusted=!0},_applyShadowYOffset:function(t,e){var n=e.blur-Math.abs(e.y),i=this.options.isYAdjusted?0:n;t.height+=n,this.startY+=n,this.options.y-=i,this.options.isYAdjusted=!0},addBorderPadding:function(t){var e=this.options.border;!u.default.isEmpty(e)&&""!==e&&u.default.isNumber(e.width)&&(t.width+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),t.height+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),this.options.x-=e.width+this._offsetForPointyShapes(e),this.options.y-=e.width+this._offsetForPointyShapes(e),this.startX+=e.width+this._offsetForPointyShapes(e),this.startY+=e.width+this._offsetForPointyShapes(e))},getContextAndApplyBorderShadowStyles:function(){var t=this.canvasElement().get(0).getContext("2d");d.default.retina()&&t.scale(2,2),t.translate(this.startX,this.startY);var e=this.options.border;u.default.isEmpty(e)||""===e||(t.lineWidth=1==e.width?1.0001:e.width,t.strokeStyle=e.color);var n=this.options.shadow;return u.default.isEmpty(n)||u.default.isEmpty(this.options.background)||""===n||(t.shadowOffsetX=n.x,t.shadowOffsetY=n.y,t.shadowColor=n.color,t.shadowBlur=n.blur),t},_applyShadow:function(){},_applyBorder:function(){},_applyBackground:function(){},_sizeFactorForPointyShapes:function(){return"star2"==this.options.shape||"double-arrow"==this.options.shape?2:1},_offsetForPointyShapes:function(t){return"star2"==this.options.shape||"double-arrow"==this.options.shape||"single-arrow"==this.options.shape?t.width:0},renderBackground:function(t,e,n,i){t.save(),(u.default.isUndefined(this.options.pathData)||u.default.isNull(this.options.pathData)||""===this.options.pathData)&&(this.path=c.default.getPathFunc(this.options.shape)),"square"==this.options.shape||(null!==this.path?(t.save(),t.scale(this.options.width/this.scale.x,this.options.height/this.scale.y),t.beginPath(),this.path(t),t.closePath(),t.restore()):s.default.error("Unsupported shape")),t.save(),n&&n.gradient?this._renderGradient(t,n.gradient):n&&n.color&&(t.fillStyle=n.color,t.fill()),t.restore(),e&&e.width>0&&t.stroke(),t.restore()},_applyPosition:function(t,e,n){t=u.default.isNil(t)?this.options.x:t,e=u.default.isNil(e)?this.options.y:e;var i=this.getApplyPositionTarget();"square"==this.options.shape?l.default.prototype._applyPosition.call(this,t,e,n):(i.css("left",t+"px"),i.css("top",e+"px"))},_renderGradient:function(t,e){var n=h.calcRotatedLineIntersect(e.angle,this.options.width,this.options.height),i=n.startPt,r=n.endPt,o=t.createLinearGradient(Math.round(i.getX()),Math.round(i.getY()),Math.round(r.getX()),Math.round(r.getY()));u.default.each(e.stops,u.default.bind((function(t){o.addColorStop(t.stop,t.color)}),this)),t.fillStyle=o,t.fill()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=n(23);e.default=a.AbstractComponentView.extend({tagName:"canvas",canvasElement:function(){return this.$el.is("canvas")?this.$el:this.$el.find("canvas")},getApplyDimensionsTarget:function(){return this.$el.add(this.$el.find("canvas"))},applyTagOverride:function(){var t=this.tagOverride(),e=this.canvasElement();if(t){var n=this.getSpecifiedAttributes(this.$el[0].attributes),i=o.default("<"+t.tagName+"></"+t.tagName+">");i.attr(r.default.assign({},n,t.attributes));var a=this.getSpecifiedAttributes(i[0].attributes);if(this.$el.is(t.tagName)&&r.default.isEqual(n,a))return;this.unbindInteractions(),this.$el.replaceWith(i),e.css("left",0),e.css("top",0),this.setElement(i.append(e))}else this.$el.is("canvas")||(this.unbindInteractions(),e.attr("style",this.$el.attr("style")),this.$el.replaceWith(e),this.setElement(e))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(290)),s=i(n(76)),u=i(n(291)),l=function(){this.shapes=r.default(u.default),this.scale={x:parseInt(this.shapes.filter(":first").attr("width"),10),y:parseInt(this.shapes.filter(":first").attr("height"),10)},this.paths={},this.shapes.find("g").each(o.default.bind((function(t,e){var n,i=(e=r.default(e)).attr("id"),o=e.children(),s=this.getScale().x,u=this.getScale().y;this.paths[i]=null,o.length>0&&(o.is("path")?(n=a.default.parse(o.attr("d")),this.paths[i]=function(t){a.default.trace(t,n)}):o.is("polygon")?(n=a.default.pointsToPath(o.attr("points")),this.paths[i]=function(t){a.default.trace(t,n)}):o.is("circle")?this.paths[i]=function(t){var e=s>u?u/2:s/2;t.translate(s/2,u/2),t.scale(s>u?s/u:1,u>s?u/s:1),t.arc(0,0,e,0,Math.toRad(360),!0)}:o.is("rect")&&(this.paths[i]=function(t){t.rect(0,0,s,u)}))}),this))};o.default.extend(l.prototype,{getScale:function(){return this.scale},getPathFunc:function(t){return this.paths[t]},getAllShapes:function(){return o.default.keys(this.paths)},hasShape:function(t){return o.default.has(this.paths,t)},getImageResource:function(t,e,n,i,a){var u=r.default('<canvas width="'+e+'" height="'+n+'"></canvas>'),l=u[0].getContext("2d");l.save(),l.clearRect(0,0,e,n),o.default.isUndefined(i)||(l.fillStyle=i),o.default.isUndefined(a)||(l.strokeStyle=a);var c=this.getPathFunc(t);null!==c&&(l.scale(e/this.getScale().x,n/this.getScale().y),l.beginPath(),c(l),o.default.isUndefined(i)||l.fill(),o.default.isUndefined(a)||l.stroke()),l.restore();var d=new s.default(u[0].toDataURL());return u.remove(),d}}),e.default=new l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s=i(n(6)),u=i(n(0));e.default=(o=function(t,e){"string"==typeof e&&(e=r(e)),t.beginPath();var n,i,o,a,l,c,d=0,h=0,f=null,p=null;u.default.each(e,(function(e,r){var u=e.coords;switch(e.op){case"m":d+=u[0],h+=u[1],t.moveTo(d,h);break;case"M":f=d=u[0],p=h=u[1],t.moveTo(d,h);break;case"c":n=d+u[0],i=h+u[1],o=d+u[2],a=h+u[3],d+=u[4],h+=u[5],l=2*d-o,c=2*h-a,t.bezierCurveTo(n,i,o,a,d,h);break;case"C":n=u[0],i=u[1],o=u[2],a=u[3],d=u[4],h=u[5],l=2*d-o,c=2*h-a,t.bezierCurveTo(n,i,o,a,d,h);break;case"s":o=d+u[0],a=h+u[1],d+=u[2],h+=u[3],t.bezierCurveTo(l,c,o,a,d,h),l=2*d-o,c=2*h-a;break;case"q":n=d+u[0],i=h+u[1],d+=u[2],h+=u[3],l=2*d-n,c=2*h-i,t.quadraticCurveTo(n,i,d,h);break;case"t":d+=u[0],h+=u[1],t.quadraticCurveTo(l,c,d,h),l=2*d-l,c=2*h-c;break;case"l":d+=u[0],h+=u[1],t.lineTo(d,h);break;case"L":d=u[0],h=u[1],t.lineTo(d,h);break;case"h":d+=u[0],t.lineTo(d,h);break;case"H":d=u[0],t.lineTo(d,h);break;case"v":h+=u[0],t.lineTo(d,h);break;case"V":h=u[0],t.lineTo(d,h);break;case"z":case"Z":t.lineTo(f,p);break;default:s.default.warn("UNKNOWN SVG OP: "+e.op)}}))},{pointsToPath:function(t){t=t.replace(/(\s+)/g,";").split(";");var e="M";return u.default.each(t,(function(t,n){t.length>0&&(e+=(0===n?"":"L")+t)})),e+="z"},parse:r=function(t){var e=t.replace(/([MmZzLlHhVvCcSsQqTtAa])\s/g,"$1").replace(/\s-/g,"-").replace(/\s/g,",").match(/([MmZzLlHhVvCcSsQqTtAa](-?\d+[\.\s]?\d*,?)*)/g),n=[];return u.default.each(e,(function(t,i){var r=t.substr(1).replace(/-/g,",-").replace(/(^,)/,"").split(",");u.default.each(r,(function(t,e){r[e]=parseFloat(t)})),n.push({op:e[i].substr(0,1),coords:r})})),n},render:a=function(t,e,n,i){e&&null!==e&&(o(t,e),i&&t.stroke(),n&&t.fill())},stroke:function(t,e){a(t,e,!1,!0)},fill:function(t,e){a(t,e,!0,!1)},trace:o})},function(t,e,n){"use strict";n.r(e),e.default='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n\t y="0px" width="1000px" height="1000px" viewBox="0 0 1000 1000" xml:space="preserve">\n<g id="single-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M0,346.2l696.6,0V0L1000,500\n\t\tl-303.4,500V653.9L0,653.9V346.2z"/>\n</g>\n<g id="double-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M232.8,653.9V1000L0,500\n\t\tL232.8,0v346.1l534.5,0V0L1000,500l-232.8,500V653.9L232.8,653.9z"/>\n</g>\n<g id="rounded-square" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,883.3\n\t\tc0,64.2-52.5,116.7-116.7,116.7H116.7C52.5,1000,0,947.5,0,883.3V116.7C0,52.5,52.5,0,116.7,0h766.7C947.5,0,1000,52.5,1000,116.7\n\t\tV883.3z"/>\n</g>\n<g id="triangle" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0L0,1000h1000L500,0"/>\n</g>\n<g id="right-triangle" display="none">\n\t<polygon display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" points="0.1,1000.5\n\t\t1000.5,1000.5 1000.5,0.1 \t"/>\n</g>\n<g id="single-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M454.5,0L1000,500l-545.5,500\n\t\tV700H0V300h454.5V0z"/>\n</g>\n<g id="double-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M517,680.3L517,680.3l-252,0\n\t\tV1000L0,500L265,0v319.6h218v0h252V0l265,500l-265,500V680.3H517z"/>\n</g>\n<g id="round-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M650.3,786.5\n\t\tC516.5,972.5,288.8,1000,288.8,1000c75.1-73.8,98.5-146,100.4-204.9C166.4,754.5,0,594.2,0,402.5C0,180.2,223.9,0,500,0\n\t\ts500,180.2,500,402.5C1000,582.6,853,735.1,650.3,786.5z"/>\n</g>\n<g id="square-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M796.5,800H648.4l-302.2,200\n\t\tl54.9-200H203.5C91.1,800,0,705.2,0,588.3V211.7C0,94.8,91.1,0,203.5,0h592.9C908.9,0,1000,94.8,1000,211.7v376.7\n\t\tC1000,705.2,908.9,800,796.5,800z"/>\n</g>\n<g id="star" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0l154.5,329.2L1000,382\n\t\tL750,638.2l59,361.8L500,829.2L191,1000l59-361.8L0,382l345.5-52.8L500,0z"/>\n</g>\n<g id="star2" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500.3,0l-98.1,410.7L0,382.3\n\t\tl339.8,225.2L191,999.6l308.1-270.4L808.7,1000L659,607.7l341-225.5l-402.3,28.2L500.3,0z"/>\n</g>\n<g id="pentagon" display="none">\n\t<path display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,382l-191,618H191L0,382L500,0L1000,382z"/>\n</g>\n<g id="circle" display="none">\n\t<circle display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" cx="500" cy="500" r="500"/>\n</g>\n<g id="square" display="none">\n\t<rect x="0" y="0" display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" width="1000" height="1000"/>\n</g>\n</svg>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=n(23);e.default=s.AbstractComponentView.extend({type:"html",onActivationStart:function(){if(this.previousCustomHtml!==this.options.customHtml)if(this.previousCustomHtml=this.options.customHtml,-1!==this.options.customHtml.indexOf("http:")&&"https:"===location.protocol)if(a.default.previewMode){this.$el.html("<p style='background-color:white'>Can't load an insecure resource on a secure page. Please publish your experience or change the embed code to use https.</p>")}else this.$el.empty();else if(this._hasHubspotCall()){var t=window.hbspt.forms.create;window.hbspt.forms.create=o.default.bind((function(e){e&&!e.target&&(e.target="#"+r.default.escapeSelector(this.el.id)),t(e)}),this),this._parseHtml(),window.hbspt.forms.create=t}else this._parseHtml()},_parseHtml:function(){this.$el.empty().html(r.default.parseHTML(this.options.customHtml,document,!0))},_hasHubspotCall:function(){return-1!==this.options.customHtml.indexOf("hbspt.forms.create")},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=n(23);e.default=o.AbstractComponentView.extend({type:"chartblocks-chart",renderHash:null,render:function(){o.AbstractComponentView.prototype.render.call(this);var t=this.generateRenderHash();if(t!==this.renderHash){this.oldX=this.options.x,this.oldY=this.options.y;var e=r.default("<iframe />");e.attr({width:this.options.width,height:this.options.height,src:this.getEmbedUrl(),frameBorder:"0"}),this.$el.empty(),this.$el.append(e),this.renderHash=t}},getEmbedUrl:function(){return"//embed.chartblocks.com/1.0/?c="+this.options.chartId+"&t="+this.options.requestToken},generateRenderHash:function(){return[this.options.width,this.options.height,this.options.chartId,this.options.requestToken].join(":")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(3)),s=i(n(295)),u=i(n(18)),l=i(n(139));e.default=l.default.extend({type:"hubspot-form",getContainerDivId:function(){return"hubspot-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"hubspot-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<div id="'+this.getContainerDivId()+'"></div>');t.addClass(this.getContainerClassName()),this.$el.append(t),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormSubmit:r.default.bind(this.handleSubmit,this)})},handleSubmit:function(t){this.doIframeHack(t),this.triggerSubmitInteractions("hubspot",this.options.hubId)},scaleComponent:function(){var t=this.options.pageView.getScaleContext().ratio,e=this.$("#"+this.getContainerDivId());this.options.pageView.scaleContext.useZoom(t)?e.css({zoom:1/t,transform:"scale("+t+")","transform-origin":"0 0",width:100/t+"%","-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0","-ms-transform-origin":"0 0"}):e.css({zoom:"initial",transform:"initial","transform-origin":"initial",width:"initial","-moz-transform-origin":"initial","-webkit-transform-origin":"initial","-ms-transform-origin":"initial"}),l.default.prototype.scaleComponent.call(this)},doIframeHack:function(t){if(a.default.isIos()||a.default.edge||a.default.isDesktopSafari()||a.default.msie){var e=!1,n=null,i=o.default(t).find("input[name=hs_context]").val();if(!r.default.isEmpty(i))try{var s=JSON.parse(i),l=u.default.getLocationWithoutParamsAndLayoutOrPageNumber();s.redirectUrl&&0===s.redirectUrl.indexOf(l)&&(n=s.redirectUrl),e=r.default.isEmpty(s.redirectUrl)||Boolean(n)}catch(t){}if(e){o.default("#hubspot-submit").remove();var c=o.default("<iframe></iframe>");c.attr("id","hubspot-submit"),c.attr("name","hubspot-submit"),c.css({position:"absolute",left:"99999px"}),o.default(document.body).append(c),o.default(t).attr("target","hubspot-submit"),n&&this.doThankYouMessageHack(t,n)}}},doThankYouMessageHack:function(t,e){var n=window.location.href,i=e+"&submissionGuid=1";window.history.replaceState({},"",i),r.default.defer(r.default.bind((function(){o.default(t).remove(),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormReady:function(){window.history.replaceState({},"",n)}})}),this))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1));e.default={renderForm:function(t){t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var e=null;t.onTimeout&&(e=setTimeout(t.onTimeout,1e4)),this.removeStyleTagForDomId(t.domId),window.hbspt.forms.create({portalId:t.portalId,formId:t.formId,css:t.css,target:"#"+t.domId,onFormReady:function(n,i){e&&clearTimeout(e);var r=o.default("head style").last();-1!==r.text().indexOf(t.css)&&r.attr("data-hubspot-form",t.domId),t.onFormReady(n,i)},onFormSubmit:t.onFormSubmit})},removeStyleTagForDomId:function(t){o.default("style[data-hubspot-form="+t+"]").remove()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(297)),s=i(n(139));e.default=s.default.extend({type:"marketo-form",getContainerDivId:function(){return"marketo-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"marketo-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<form id="'+this.getContainerDivId()+'"></form>');t.addClass(this.getContainerClassName()),this.$el.append(t),a.default.renderForm({munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl,domId:this.getContainerDivId(),renderingElement:t,onFormSubmit:r.default.bind(this.handleSubmit,this),onFormReady:r.default.bind(this.handleReady,this),onTimeout:function(){window.Rollbar&&window.Rollbar.error("Marketo form failed to load. (Timeout error.)",{munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl})}})},handleReady:function(t){},handleSubmit:function(t,e){return this.triggerSubmitInteractions("marketo",this.options.munchkinId),r.default.defer(r.default.bind(this.renderForm,this)),!1}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(9)),s=i(n(298));e.default={renderForm:function(t){var e=this;t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var n=null;t.onTimeout&&(n=setTimeout(t.onTimeout,1e4)),window.MktoForms2.loadForm(t.marketoInstanceUrl,t.munchkinId,t.formId,(function(i){i?(i.render(t.renderingElement),n&&clearTimeout(n),i.getFormElem().find(".cf_widgetLoader").length>0?e.waitForSocialSignonRender(i).done((function(){i.onSuccess(t.onFormSubmit),t.onFormReady(i)})).fail((function(){t.onTimeout&&t.onTimeout()})):(i.onSuccess(t.onFormSubmit),t.onFormReady(i))):(n&&clearTimeout(n),t.onError&&t.onError(a.default.render("Your form, {{formName}}, has been deleted from your Marketo account. Please make a new form in Marketo or choose an existing form for this experience.",{formName:t.formName})))}))},waitForSocialSignonRender:function(t){var e=new o.default.Deferred,n=r.default.bind((function(){return o.default.trim(t.getFormElem().find(".cf_widget_socialsignon").html())}),this);return s.default.waitFor(n,125,1e4).done((function(){e.resolve()})).fail((function(){e.reject()})),e.promise()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(90));e.default={waitFor:function(t,e,n){var i=new r.default.Deferred,a=o.default(),s=function(){t()?i.resolve():o.default()-a>n?i.reject():setTimeout(s,e)};return s(),i.promise()}}},function(t,e,n){var i={"./i-live-here":140,"./i-live-here.js":140};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=299},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(23);e.default=i.AbstractComponentView.extend({type:"hotspot",render:function(){return i.AbstractComponentView.prototype.render.call(this),this.$el.css({"background-color":"transparent"}),this},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){},isUsingHoverAreaForMouseOut:function(){return!1}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="media-loading__media-type-icon {{#isImage}}-image{{/isImage}}{{^isImage}}-video{{/isImage}}"></div>\n<div class="media-loading__spinner"><div class="loader-spinner"></div></div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AlphaMaskCanvasImage=void 0;var r=i(n(33)),o=function(){function t(){this.image=new Image,this.image.crossOrigin="Anonymous",this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}return t.prototype.createMaskImageOnCanvas=function(t){var e=this;return this.image.src!==t?new Promise((function(n,i){e.image.onload=function(){n(e.image)},e.image.onerror=i,e.image.src=t})):Promise.resolve(this.image)},t.prototype.renderAndReturnMask=function(t,e){var n=this;return this.createMaskImageOnCanvas(t).then((function(t){return n.fetchRenderedMaskFromCanavas(t,e)}))},t.prototype.setOpacity=function(t,e){e<1&&(t.globalAlpha=e*t.globalAlpha)},t.prototype.fetchRenderedMaskFromCanavas=function(t,e){var n=e.x,i=e.y,o=e.width,a=e.height,s=e.allWidth,u=e.allHeight,l=e.rotation,c=e.opacity;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.width=s,this.canvas.height=u,t.width=o,t.height=a;var d=s/2,h=u/2,f=r.default.getScaleValueFromFlip(e),p=f.scaleXValue,g=f.scaleYValue;this.ctx.save(),this.setOpacity(this.ctx,c),this.ctx.translate(d,h),this.ctx.rotate(Math.toRad(l)),this.ctx.translate(-d,-h),this.ctx.scale(p,g);var m=e.flipHorizontal?-o-n:n,v=e.flipVertical?-a-i:i;return this.ctx.drawImage(t,m,v,o,a),this.ctx.restore(),this.canvas.toDataURL("image/png")},t}();e.AlphaMaskCanvasImage=o},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(91),a=r(n(141)),s=r(n(320)),u=r(n(144));function l(t){var e=i(i({},t),{imageLoader:t.posterLoader});return new a.default(e)}function c(t){return s.default.isNoSupport()?function(t){if(t.noAutoplayFallbackOption===u.default.NO_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE)return l(t);return new o.VideoComponentView(t)}(t):s.default.isMutedSupport()?function(t){var e=t.mutedAutoplayFallbackOption;if(e===u.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.TAP_TO_PLAY)return new o.VideoComponentView(t);if(e===u.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE)return l(t);return t.tapToPlay=!1,t.muted=!0,new o.VideoComponentView(t)}(t):(t.tapToPlay=!1,new o.VideoComponentView(t))}e.default={create:function(t){return t.videoAutoPlay?c(t):new o.VideoComponentView(t)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(305)),a=function(t){this.$videoElement=t};r.default.extend(a.prototype,o.default,{on:function(t,e){this.$videoElement.on(t,e)},getPosition:function(){return this.$videoElement.currentTime()},getLength:function(){return this.$videoElement.duration()},isPlaying:function(){return!1===this.$videoElement.ended()&&!1===this.$videoElement.paused()&&this.$videoElement.currentTime()>0},getCurrentSource:function(){return this.$videoElement.currentSource()}}),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={on:function(t,e){throw new Error("on() must be defined by child class")},getPosition:function(){throw new Error("getPosition() must be defined by child class")},getLength:function(){throw new Error("getLength() must be defined by child class")},isPlaying:function(){throw new Error("isPlaying() must be defined by child class")},getCurrentSource:function(){throw new Error("getCurrentSource() must be defined by child class")}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=function(t,e){this.video=t,this.loadedMetaData=!1,this.playedVideoBeforeMetaDataLoaded=!1,this.sentInitialPlayEvent=!1,this.progressPercents=[],this.isPlaying=!1,this.isTransitioningToPaused=!1,this.videoLength=e||!1,this.enabled=!0,this.currentPosition=0,this.lastPosition=0,this.progressStartPosition=0,this.isWindowVisible="hidden"!==document.visibilityState,this.addEventListeners()};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{PLAY:"play",PROGRESS_TIME:"progress_time",PROGRESS_PERCENT:"progress_percent"},enableTracking:function(){this.enabled||(this.enabled=!0,this.isWindowVisible&&this.restartProgressTracking())},disableTracking:function(){this.enabled&&(this.isWindowVisible&&this.triggerProgressEvent(this.lastPosition),this.enabled=!1)},addEventListeners:function(){document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?(this.isWindowVisible=!1,this.enabled&&this.triggerProgressEvent(this.lastPosition)):"visible"===document.visibilityState&&(this.isWindowVisible=!0,this.enabled&&this.restartProgressTracking())}),this));var t=this;r.default.each("loadedmetadata,timeupdate".split(","),(function(e){t.video.on(e,(function(){switch(t.currentPosition=t.video.getPosition(),t.videoLength&&(t.currentPosition=Math.min(t.currentPosition,t.videoLength)),t.isTransitioningToPaused=t.isPlaying&&!t.video.isPlaying(),t.isPlaying=t.video.isPlaying(),e){case"loadedmetadata":t.handleLoadedMetadataEvent();break;case"timeupdate":t.handleTimeUpdateEvent();break;default:throw new Error("Missing handler function for video event: "+e)}t.lastPosition=t.currentPosition}))}))},handleLoadedMetadataEvent:function(){this.loadedMetaData=!0,this.videoLength||!this.video.getLength()||this.video.getLength()===1/0||isNaN(this.video.getLength())||(this.videoLength=this.video.getLength()),this.playedVideoBeforeMetaDataLoaded&&(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0)},sendInitialPlayEvent:function(){this.sentInitialPlayEvent||this.playedVideoBeforeMetaDataLoaded||(this.loadedMetaData?(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0):this.playedVideoBeforeMetaDataLoaded=!0)},triggerPlayEvent:function(){this.triggerEvent(this.EVENTS.PLAY,{videoPosition:this.sanitizeVideoPosition(this.currentPosition)})},handleTimeUpdateEvent:function(){this.isPlaying&&this.sendInitialPlayEvent(),this.enabled&&this.isWindowVisible&&(this.currentPosition<this.lastPosition||Math.abs(this.currentPosition-this.lastPosition)>1?this.triggerProgressEvent(this.lastPosition):(this.isTransitioningToPaused||this.currentPosition-this.progressStartPosition>=10)&&this.triggerProgressEvent(),(this.isPlaying||this.isTransitioningToPaused)&&this.trackProgressPercent())},trackProgressPercent:function(){var t=this.videoLength?Math.floor(this.videoLength):this.videoLength;if(t&&100!==this.progressPercents.length){var e=Math.round(this.currentPosition/t*100);e=Math.max(1,Math.min(100,e));var n=1;t<100&&(n=Math.ceil(100/t));for(var i=0;i<n&&(this.addProgressPercentViewed(e),!(--e<=0));i++);}},addProgressPercentViewed:function(t){if(!r.default.includes(this.progressPercents,t)){this.progressPercents.push(t);var e=this.progressPercents.length;this.triggerEvent(this.EVENTS.PROGRESS_PERCENT,{progressPercent:e})}},triggerProgressEvent:function(t){var e=(t=t||this.currentPosition)-this.progressStartPosition;e>.1&&this.triggerEvent(this.EVENTS.PROGRESS_TIME,{videoPosition:this.sanitizeVideoPosition(this.progressStartPosition),videoPlayTime:this.round(e)}),this.restartProgressTracking()},triggerEvent:function(t,e){this.videoLength&&(e.videoLength=this.round(this.videoLength)),this.trigger(t,e)},restartProgressTracking:function(){this.progressStartPosition=this.currentPosition},round:function(t){return Math.round(100*t)/100},sanitizeVideoPosition:function(t){var e=this.round(t);return e<0&&(e=0),e}}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Video=void 0;var o=r(n(34)),a=n(312),s=n(313),u=n(314),l=n(315),c=n(316),d=n(317),h=n(318);e.Video=function(t,e,n,r){void 0===n&&(n={mobile:!1,nativeTextTracks:!1}),o.default.registerComponent("BigPlayButton",a.BigPlayButton),o.default.registerComponent("VolumeBar",u.VolumeBar),o.default.registerComponent("MouseTimeDisplay",l.MouseTimeDisplay),o.default.registerComponent("SeekBar",s.SeekBar),o.default.registerComponent("ProgressControl",c.ProgressControl),o.default.registerComponent("SubsCapsButton",d.SubsCapsButton),o.default.registerComponent("TextTrackDisplay",h.TextTrackDisplay),o.default.log.level("error");var f={};return n.mobile&&(f={volumePanel:{inline:!1},children:["progressControl","playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","remainingTimeDisplay","subsCapsButton","fullscreenToggle"]}),o.default(t,i(i({},e),{controlBar:i({pictureInPictureToggle:!1,children:["progressControl","playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},f),html5:{nativeAudioTracks:!1,nativeTextTracks:n.nativeTextTracks}}),r)}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(309),r=n(310),o=n(311);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,e,n)}function l(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=s(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|f(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(c(e),t=s(t,e<0?0:0|f(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|f(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(i)return U(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function m(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,r){var o,a=1,s=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var c=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var d=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){d=!1;break}if(d)return o}return-1}function _(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,i){return H(U(e,t.length-n),t,n,i)}function T(t,e,n,i){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return T(t,e,n,i)}function S(t,e,n,i){return H(B(e),t,n,i)}function E(t,e,n,i){return H(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function O(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,u,l=t[r],c=null,d=l>239?4:l>223?3:l>191?2:1;if(r+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,d=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return d(null,t)},u.allocUnsafeSlow=function(t){return d(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(i,r),c=t.slice(e,n),d=0;d<s;++d)if(l[d]!==c[d]){o=l[d],a=c[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function P(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function I(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=j(t[o]);return r}function x(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,i,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function D(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function R(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function N(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,i,o){return o||N(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function V(t,e,n,i,o){return o||N(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);k(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);k(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:U(new u(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(35))},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=l(t),a=i[0],s=i[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,o,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?r-1:0,h=n?-1:1,f=t[e+d];for(d+=h,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+d],d+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=l}return(f?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+d>=1?h/u:h*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(e*u-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[n+f]=255&a,f+=p,a/=256,l-=8);t[n+f-p]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BigPlayButton=void 0;var l=s(n(34)),c=u(n(3)),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isPromise=function(t){return null!=t&&"function"==typeof t.then},e.prototype.silencePromise=function(t){this.isPromise(t)&&t.then(null,(function(){}))},e.prototype.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;if(this.silencePromise(e),!this.player_.tech(!0)||c.default.isWindows()||n||this.player_.tech(!0).focus(),!c.default.isWindows())return}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};this.isPromise(e)?e.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},e}(l.getComponent("BigPlayButton"));e.BigPlayButton=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SeekBar=void 0;var u=s(n(34)),l=n(92),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.calculateDistance=function(t){var e=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,n=l.getPointerPosition(this.el_,t,e);return this.vertical()?n.y:n.x},e}(u.getComponent("SeekBar"));e.SeekBar=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.VolumeBar=void 0;var u=s(n(34)),l=n(92),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.calculateDistance=function(t){var e=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,n=l.getPointerPosition(this.el_,t,e);return this.vertical()?n.y:n.x},e}(u.getComponent("VolumeBar"));e.VolumeBar=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTimeDisplay=void 0;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t,e){var n=this,i=(0,this.options_.playerOptions.getExperienceScale)().scale,r=e*this.player_.duration(),o=1*t.width/i;this.getChild("timeTooltip").updateTime(t,e,r,(function(){n.el_.style.left=o*e+"px"}))},e}(s(n(34)).getComponent("MouseTimeDisplay"));e.MouseTimeDisplay=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressControl=void 0;var u=s(n(34)),l=n(92);var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("playProgressBar"),i=e.getChild("mouseTimeDisplay");if(n||i){var r,o,a,s=e.el(),u=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,c=l.getBoundingClientRect(s,u),d=l.getPointerPosition(s,t,u).x;r=0,o=1,a=d,d=Math.min(Math.max(a,r),o),i&&i.update(c,d),n&&n.update(c,e.getProgress())}}},e}(u.getComponent("progressControl"));e.ProgressControl=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SubsCapsButton=void 0;var c=l(n(1)),d=u(n(34)),h=function(t){function e(e,n){var i=t.call(this,e,n)||this;return t.prototype.controlText.call(i,"Toggle Captions"),i}return r(e,t),e.prototype.createEl=function(e,n,i){var r=t.prototype.createEl.call(this,e,o(o({},n),{className:"vjs-subs-caps-button vjs-control vjs-button",title:"Toggle Captions",innerHTML:'<span class=\'captions-icon-active\' aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16">\n    <g fill="none" fill-rule="evenodd">\n        <g fill="#FFF">\n            <g>\n                <g>\n                    <path d="M16 0c1.105 0 2 .895 2 2v12c0 1.105-.895 2-2 2H2c-1.105 0-2-.895-2-2V2C0 .895.895 0 2 0h14zM5.957 5.133c-1.086 0-1.086 0-1.789.71-.809.817-.809.817-.809 2.325 0 1.395 0 1.395.711 2.195.711.797.711.797 1.953.797 1.004 0 1.004 0 1.647-.59.571-.524.571-.524.758-1.326l.04-.205h-1.19c-.122.445-.122.445-.305.668-.332.414-.332.414-.965.414-.617 0-.617 0-1.018-.482-.4-.483-.4-.483-.4-1.451 0-.97 0-.97.379-1.499.379-.529.379-.529 1.035-.529.644 0 .644 0 .973.375.146.169.146.169.25.468l.05.157H8.48c-.027-.539-.027-.539-.398-1.074-.672-.953-.672-.953-2.125-.953zm5.777 0c-1.086 0-1.086 0-1.789.71-.808.817-.808.817-.808 2.325 0 1.395 0 1.395.71 2.195.712.797.712.797 1.954.797 1.004 0 1.004 0 1.646-.59.571-.524.571-.524.758-1.326l.041-.205h-1.191c-.121.445-.121.445-.305.668-.332.414-.332.414-.965.414-.617 0-.617 0-1.017-.482-.4-.483-.4-.483-.4-1.451 0-.97 0-.97.378-1.499.379-.529.379-.529 1.035-.529.645 0 .645 0 .973.375.147.169.147.169.251.468l.05.157h1.203c-.028-.539-.028-.539-.399-1.074-.671-.953-.671-.953-2.125-.953z" transform="translate(-996 -856) translate(636 571) translate(360 285)"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n</span><span aria-hidden="true" class="captions-icon-inactive"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16">\n    <g fill="none" fill-rule="evenodd" opacity=".8">\n        <g>\n            <g>\n                <g transform="translate(-996 -429) translate(636 144) translate(360 285)">\n                    <path fill="#FFF" fill-rule="nonzero" d="M6.023 11.16c.67 0 1.219-.196 1.647-.59.428-.393.695-.903.799-1.53H7.277c-.08.296-.182.519-.304.667-.222.276-.543.414-.965.414-.412 0-.75-.16-1.018-.482-.267-.322-.4-.806-.4-1.451 0-.646.126-1.146.379-1.499.252-.352.597-.529 1.035-.529.43 0 .754.125.973.375.122.14.222.35.3.625H8.48c-.018-.36-.15-.717-.398-1.074-.448-.635-1.156-.953-2.125-.953-.724 0-1.32.237-1.789.71-.54.545-.809 1.32-.809 2.325 0 .93.237 1.661.711 2.195.474.532 1.125.797 1.953.797zm5.778 0c.67 0 1.218-.196 1.646-.59.429-.393.695-.903.8-1.53h-1.192c-.081.296-.183.519-.305.667-.221.276-.543.414-.965.414-.411 0-.75-.16-1.017-.482-.267-.322-.4-.806-.4-1.451 0-.646.125-1.146.378-1.499.253-.352.598-.529 1.035-.529.43 0 .754.125.973.375.122.14.223.35.3.625h1.204c-.018-.36-.151-.717-.399-1.074-.448-.635-1.156-.953-2.125-.953-.724 0-1.32.237-1.789.71-.539.545-.808 1.32-.808 2.325 0 .93.237 1.661.71 2.195.475.532 1.126.797 1.954.797z"/>\n                    <rect width="16" height="14" x="1" y="1" stroke="#FFF" stroke-width="2" rx="2"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n</span>'}),o(o({},i),{"aria-pressed":!1}));return c.default(r).on("mouseout",this.removeFocusOutline.bind(this)),r},e.prototype.handleClick=function(){if(!this.track)if(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)this.track=this.player().el_.getElementsByTagName("track")[0].track;else for(var t=this.player_.textTracks(),e=0;e<t.length;e++)"captions"===t[e].kind&&(this.track=t[e]);"showing"!==this.track.mode?(this.track.mode="showing",this.el_.classList.add("captions-active"),this.el_.setAttribute("aria-pressed","true")):(this.track.mode="disabled",this.el_.classList.remove("captions-active"),this.el_.setAttribute("aria-pressed","false"))},e.prototype.removeFocusOutline=function(t){"BUTTON"===t.target.tagName?c.default(t.target).blur():c.default(t.target).closest("button").blur()},e}(d.getComponent("Button"));e.SubsCapsButton=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextTrackDisplay=void 0;var l=s(n(34)),c=u(n(3)),d=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.updateDisplayState=function(e){if(t.prototype.updateDisplayState.call(this,e),this.shouldUpdateTrackCss()){var n=this.options_.playerOptions.getExperienceScale().scale;if(1!==n)for(var i=0;i<e.activeCues.length;i++){var r=e.activeCues[i].displayState;r&&(r.style.width=parseFloat(r.style.width)/n+"px",r.style.top=parseFloat(r.style.top)/n+"px",r.style.height=parseFloat(r.style.height)/n+"px",r.style["font-size"]=parseFloat(r.style["font-size"])/n+"px")}}},e.prototype.shouldUpdateTrackCss=function(){return c.default.isIpadPretendingToBeDesktop()&&!this.player_.isFullscreen()||c.default.isBrowserFirefox()&&!this.player_.isFullscreen()},e}(l.getComponent("TextTrackDisplay"));e.TextTrackDisplay=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.BigPauseButton=void 0;var l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return t.prototype.controlText.call(i,"Pause Video"),i}return r(e,t),e.prototype.createEl=function(e,n,i){return t.prototype.createEl.call(this,e,o(o({},n),{className:"big-pause-button",title:"Pause Video",innerHTML:'<span class="vjs-icon-pause" aria-hidden="true"></span>'}),i)},e}(u(n(34)).getComponent("Button"));e.BigPauseButton=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a="full",s="muted",u="none",l=r.default.once((function(){return o.default.isIos()?o.default.isIosLessThan(10)?u:s:o.default.isAndroid()&&o.default.isBrowserChrome()?o.default.isBrowserChromeLessThan(53)?u:s:o.default.isDesktopSafari()&&!o.default.isDesktopSafariLessThan(11)||o.default.desktop()&&o.default.isBrowserChrome()&&!o.default.isBrowserChromeLessThan(66)||o.default.desktop()&&o.default.isBrowserFirefoxGreaterThanOrEqualTo(63)?s:a}));e.default={isFullSupport:function(){return l()===a},isMutedSupport:function(){return l()===s},isNoSupport:function(){return l()===u}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=n(145),s=n(27),u=i(n(36));e.default=a.AbstractTransformableGroupView.extend({sizeAdjusted:!1,initialize:function(){a.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("smart-group"),this.childViews={},this.setSizeFromExtents()},setSizeFromExtents:function(){o.default.previewMode&&(this.options=r.default.clone(this.options)),this.options.scaleWidth=this.options.width/100,this.options.scaleHeight=this.options.height/100;var t=[];r.default.each(this.options.layers,(function(e){!function e(n){if("folder"===n.type)r.default.each(n.items,(function(t){e(t)}));else{var i=n,o=u.default.getExtentsFromDimensions(i.x,i.y,i.width,i.height,Math.toRad(i.rotation),i.border&&i.border.width?i.border.width:0);t.push(o)}}(e)}));var e=u.default.getSmallestContainingRectangle.apply(u.default,t);this.options.width=e.x2-e.x1,this.options.height=e.y2-e.y1;var n=this.options.width/2,i=this.options.height/2,a=this.options.width/2*this.options.scaleWidth,s=this.options.height/2*this.options.scaleHeight;this.options.originalX=this.options.x,this.options.originalY=this.options.y,this.options.x=this.options.x-(n-a),this.options.y=this.options.y-(i-s),this.options.fixedPosition&&(this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y),this.sizeAdjusted=!0},_applyDimensions:function(t,e){a.AbstractTransformableGroupView.prototype._applyDimensions.call(this,t,e),s.CssUtils.setTransformToElement(this.$el,{scale:{x:this.options.scaleWidth,y:this.options.scaleHeight}})},render:function(){this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.render.call(this)},applyChanges:function(t){this.sizeAdjusted=!1,a.AbstractTransformableGroupView.prototype.applyChanges.call(this,t)},getAnimatedObjectModelData:function(){return this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.getAnimatedObjectModelData.call(this)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=n(23),a=n(37);e.default=o.AbstractComponentView.extend({render:function(){o.AbstractComponentView.prototype.render.apply(this,arguments),this.$el.off("focus.resize").on("focus.resize",this.applyFocusDimensions.bind(this)),this.$el.off("blur.resize").on("blur.resize",this._applyDimensions.bind(this))},applyFocusDimensions:function(){this.$el.css({height:this.options.height,width:this.options.width})},_applyDimensions:function(t,e){this.$el.css({height:r.default.webkit?"1px":"",width:r.default.webkit?"1px":""});var n=this.options.width/2+"px "+this.options.height/2+"px";this.$el.css("transform-origin",n),this.$el.css("-moz-transform-origin",n),this.$el.css("-webkit-transform-origin",n),this.$el.css("-ms-transform-origin",n)},callObjectStateInvoker:function(t,e){a.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)}})},function(t,e,n){"use strict";n.r(e),e.default='<svg\n  id="{{componentId}}"\n  name="{{svgName}}"\n  overflow="visible"\n  xmlns="http://www.w3.org/2000/svg"\n  class="custom-path-component"\n  aria-hidden="true"\n>\n  <linearGradient id="{{gradientName}}">\n    <stop id="{{gradientStop0Name}}" offset="0%" style="stop-color:{{gradientStop0.color}};stop-opacity:1" />\n    <stop id="{{gradientStop1Name}}" offset="100%" style="stop-color:{{gradientStop1.color}};stop-opacity:1" />\n  </linearGradient>\n  {{{subview}}}\n</svg>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotPathComponentView=void 0;var s=n(71),u=n(51),l=a(n(9)),c=a(n(325)),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="hotspot-path",e}return r(e,t),e.prototype.callObjectStateInvoker=function(){},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=u.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return l.default.render(c.default,o({path:e},t))},e.prototype.getShapeElement=function(){return this.$el.find("path")},e.prototype.isUsingHoverAreaForMouseOut=function(){return!1},e}(s.AbstractCustomPathComponentView);e.HotspotPathComponentView=d},function(t,e,n){"use strict";n.r(e),e.default='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  ></path>'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CircleComponentView=void 0;var s=a(n(9)),u=n(71),l=a(n(327)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("ellipse")},e.prototype.getCircleDimensions=function(){var t=this.options.width/2,e=this.options.height/2;return{cx:t,cy:e,rx:t,ry:e}},e.prototype.renderShape=function(t){return void 0===t&&(t={}),s.default.render(l.default,o(o({},this.getCircleDimensions()),t))},e}(u.AbstractCustomPathComponentView);e.CircleComponentView=c},function(t,e,n){"use strict";n.r(e),e.default='<ellipse\n  cx="{{cx}}"\n  cy="{{cy}}"\n  rx="{{rx}}"\n  ry="{{ry}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n  transform="{{transform}}"\n/>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LineComponentView=void 0;var s=a(n(9)),u=n(147),l=n(51),c=a(n(148)),d=n(37),h=function(t){function e(e){var n=t.call(this,e)||this;n.type="line",n.options=e;var i=e.x,r=e.x2,o=e.y,a=e.y2;return n.options.width=Math.abs(i-r)||1,n.options.height=Math.abs(o-a)||1,n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this._applyBorder(),this},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints(),n=l.CustomPathSVGUtil.generateCurveCoords(e,!1);return this.currentPath=n,s.default.render(c.default,o({path:n},t))},e.prototype.getPoints=function(t,e,n,i){return void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===n&&(n=this.options.x2),void 0===i&&(i=this.options.y2),[{x:0,y:0},{x:n-t,y:i-e}]},e.prototype._applyBorder=function(e){void 0===e&&(e={}),e.color||(e.color=this.options.color),e.width||(e.width=this.options.lineWidth),t.prototype._applyBorder.call(this,e)},e.prototype.applyPoints=function(e,n){void 0===e&&(e=this.getPoints()),e=this.getPoints(e[0].x,e[0].y,e[1].x,e[1].y),t.prototype.applyPath.call(this,e,!1,n)},e.prototype.callObjectStateInvoker=function(t,e){d.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e}(u.CustomShapeComponentView);e.LineComponentView=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TriangleComponentView=void 0;var s=a(n(9)),u=n(71),l=a(n(330)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="triangle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("polygon")},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints();return s.default.render(l.default,o({points:this.coodinatesToPointsString(e)},t))},e.prototype.getPoints=function(t,e){return void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),"right-triangle"===this.options.shape?{top:{x:t,y:0},left:{x:0,y:e},right:{x:t,y:e}}:{top:{x:t/2,y:0},left:{x:0,y:e},right:{x:t,y:e}}},e.prototype.coodinatesToPointsString=function(t){return Object.values(t).map((function(t){return t.x+","+t.y})).join(" ")},e}(u.AbstractCustomPathComponentView);e.TriangleComponentView=c},function(t,e,n){"use strict";n.r(e),e.default='<polygon\n  points="{{points}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n  transform="{{transform}}"\n/>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextComponentView=void 0;var a=o(n(332)),s=n(37),u=o(n(95)),l=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.applyJustification=function(t){void 0===t&&(t=this.options.justify),t&&t.match(/(left|right|center|justify)/)&&(this.$el.css("textAlign",t),this.$el.find(".text-line").css("width","100%"))},e.prototype.callObjectStateInvoker=function(t,e){s.ObjectStateInvoker.invokeTextObjectState(this,t,e)},e.prototype.setDefaultTextStyle=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid});this.$el.css("textTransform","none"),this.$el.css("fontWeight",e.getFontWeight()),this.$el.css("fontStyle",e.getFontStyle()),this.$el.css("fontSize",t.fontSize+"px"),this.setFontColor(t)},e.prototype.applyDefaultFont=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid}).getCssFamilyName(),n=u.default.formatFamilyNameForCSS(e);this.$el.css("fontFamily",n)},e.prototype.applyLineHeight=function(t,e){void 0===t&&(t=this.options.leading),void 0===e&&(e=this.options.defaultSpan),this.$el.css("lineHeight",t+"px");var n=this._getDefaultBaselineOffset();n-=(t-e.fontSize)/2,this.$el.find(this.getCurrentHtmlTag()).css("top",n)},e.prototype.setFontColor=function(t){void 0===t&&(t=this.options.defaultSpan),this.$el.css("color",t.fontColor)},e.prototype.getHoverTarget=function(){return this.isParagraphMode()?this.$el.find(this.getCurrentHtmlTag()):this.$el.find("span")},e.prototype.isEditable=function(){return this.isParagraphMode()},e}(a.default);e.TextComponentView=l},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(6)),a=r(n(1)),s=r(n(0)),u=r(n(3)),l=r(n(2)),c=n(23),d=r(n(94)),h=r(n(95)),f=r(n(333)),p=r(n(334)),g=r(n(152)),m=r(n(335)),v=n(42),y=n(42),_=n(336),b={},T={},w=function(t,e){return t.getCssFamilyName()+":"+e};e.default=c.AbstractComponentView.extend({type:"text",textSpans:null,textContent:null,textUpdatedViaSdk:!1,initialize:function(){c.AbstractComponentView.prototype.initialize.call(this),this.fontLoader=this.options.fontLoader,this.defaultVariant=this._getVariant(this.options.defaultSpan),this.textMode=this.options.textMode||y.TextRenderMode.PARAGRAPH,this.isRerendering=!1,this.tooSmallToRender=!1},render:function(){if(!(this.options.width<=1||this.options.height<=1))return this.tooSmallToRender=!1,c.AbstractComponentView.prototype.render.call(this),u.default.webkit&&this.$el.css("-webkit-filter","blur(0px)"),this._applyDimensions(this.options.width,this.options.height),this.setDefaultTextStyle(),this.prepareTextContentAndSpans(),this.allFontsReady=new a.default.Deferred,this.variantsMeasured=0,this.fontLoader.onVariantLoaded(this.measureBaselineOffsetAndRenderText,this),this.fontLoader.onLoadFail(this.allFontsReady.reject,this.allFontsReady),this;this.tooSmallToRender=!0},prepareTextContentAndSpans:function(){this.textContent=this._applyTextTransform(this.options.textContent),this.textSpans=f.default.padTextSpans(this.textContent,this.options.defaultSpan,this.options.textSpans)},setTextFromSDK:function(t){var e,n;t=t||"",this.textUpdatedViaSdk=!0,this.options.textContent=t,this.textSpans&&this.textSpans.length>0&&(this.textSpans[0].fontColor&&(e=this.textSpans[0].fontColor),this.textSpans[0].variantGuid&&(n=this.textSpans[0].variantGuid)),this.options.textSpans=[],this.prepareTextContentAndSpans(),this.textSpans&&this.textSpans.length>0&&(e&&(this.textSpans[0].fontColor=e),n&&(this.textSpans[0].variantGuid=n)),"resolved"===this.allFontsReady.state()&&this._layoutContent(),this.$el.css("columns","unset")},measureBaselineOffsetAndRenderText:function(t){(function(t,e){var n=w(t,e);if(s.default.has(T,n))return T[n].promise();var i=new a.default.Deferred;return T[n]=i,h.default.measureFontBaselineOffset(t,e,e).then(i.resolve,i.reject),i.then((function(t){b[n]=t}))})(t,this.options.defaultSpan.fontSize).then(s.default.bind((function(){this.variantsMeasured++,this.variantsMeasured===this.fontLoader.getAllVariants().length&&this.allFontsReady.resolve()}),this))},_getPadding:function(){return{left:s.default.isNumber(this.options.paddingLeft)?this.options.paddingLeft:0,right:s.default.isNumber(this.options.paddingRight)?this.options.paddingRight:0,top:s.default.isNumber(this.options.paddingTop)?this.options.paddingTop:0,bottom:s.default.isNumber(this.options.paddingBottom)?this.options.paddingBottom:0}},_getColumnWidth:function(){var t=this._getPadding();return(this.options.width-t.left-t.right-(this.options.columns-1)*this.options.columnGap)/this.options.columns},_getVariant:function(t){return h.default.resolveFont(t.variantGuid)},_getDefaultBaselineOffset:function(){var t=0,e=this._getVariant(this.options.defaultSpan),n=w(e,this.options.defaultSpan.fontSize);return e&&s.default.has(b,n)&&(t=b[n]),t},_layoutContent:function(){var t,e=this._getDefaultBaselineOffset();this.defaultVariant=this._getVariant(this.options.defaultSpan);var n=this.options.glyphMetrics&&this.options.glyphMetrics!==p.default.EMPTY_METRICS&&s.default.isString(this.options.glyphMetrics);n&&(this.$el.css("lineHeight",this.options.defaultSpan.fontSize+"px"),t=this.glyphMetrics=p.default.decode(this.options.glyphMetrics,this.textContent));var i=!0===this.options.showOverflow?"visible":"hidden";this.$el.css("overflow",i),this.$el.empty(),!n||this.isParagraphMode()||this._useParagraphLayout(t)?(l.default.previewMode||n||this.isParagraphMode()||o.default.warn("no glyph metrics! using paragraph layout..."),this._layoutParagraphs(e)):this._useCharacterLayout(t)?this._layoutGlyphs(t,e):this._layoutLines(t,e)},_useParagraphLayout:function(t){return t.totalLines>=250},isLineMode:function(){return this.textMode===y.TextRenderMode.LINE&&!this.hasAccessibilityFeature},isParagraphMode:function(){return!(this.textMode!==y.TextRenderMode.PARAGRAPH&&!this.textUpdatedViaSdk&&!this.hasAccessibilityFeature)},isHiddenFromScreenReaders:function(){return this.options.hiddenFromScreenReaders&&this.hasAccessibilityFeature},getCurrentHtmlTag:function(){return this.options.htmlTag||"p"},_useCharacterLayout:function(t){return!this.isParagraphMode()&&this.textMode===y.TextRenderMode.CHAR&&t.totalCharacters<=250},_applyTextTransform:function(t){switch(this.options.textTransform){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))}return t},_applyStyle:function(t,e){void 0===e&&(e={});var n={},i=s.default.extend({},this.options.defaultSpan,e),r=this._getVariant(i);if(e.fontColor&&(n.color=e.fontColor),r.getFontWeight()!==this.defaultVariant.getFontWeight()&&(n["font-weight"]=r.getFontWeight()),r.getFontStyle()!==this.defaultVariant.getFontStyle()&&(n["font-style"]=r.getFontStyle()),r.getCssFamilyName()!==this.defaultVariant.getCssFamilyName()&&(n["font-family"]=r.getCssFamilyName()),e.underline&&(n["text-decoration"]="underline"),e.letterSpacing&&(n["letter-spacing"]=m.default.unitsToCss(e.letterSpacing)),s.default.isEmpty(n)&&this.isParagraphMode()&&!e.hyperlink)return t.content;n=s.default.extend(n,s.default.pick(t,["position","top","left"]));var o="<span";return s.default.isEmpty(n)||(o+=' style="',s.default.each(n,(function(t,e){o+=e+":"+t+";"})),o+='"'),o+">"+t.content+"</span>"},_getNumSpaces:function(t){return s.default.reduce(t,(function(t,e){return t+(" "===e.ch||"\n"===e.ch?1:0)}),0)},_layoutGlyphsChars:function(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var a=e+o,u=t[o];if("\n"!==u.ch&&!s.default.isUndefined(u.ch)){var l=f.default.findTextSpanForCharIndex(a,this.textSpans),c=" "===u.ch?"&nbsp;":u.ch,d=a===l.index+l.length-1,h=o<t.length-1&&s.default.isUndefined(t[o+1].ch);!l.underline||d||u.eol||h||(c+="&nbsp"),r.push(this._applyStyle({content:c,top:u.y+n+i.top+"px",left:u.x+i.left+"px"},l))}}return r},_layoutGlyphs:function(t,e){for(var n=this._getPadding(),i=0,r=[],o=0;o<t.lines.length;o++){var a=t.lines[o],u=i;if(i+=a.length,0!==a.length)if(1!==a.length||!s.default.isUndefined(a[0].ch))this._getNumSpaces(a)!=a.length&&(r=r.concat(this._layoutGlyphsChars(a,u,e,n)))}this.$el.append(this.applyHyperlinks(this.textSpans,r,y.TextRenderMode.DEFAULT))},_applyTextSpans:function(t,e){var n=s.default.map(t,s.default.bind((function(t){var n=this.textContent.substr(t.index,t.length),i={content:n=this._escapeHtmlSpecialCharacters(n),position:"relative"};return e&&(i.left=e),this._applyStyle(i,t)}),this));return this.applyHyperlinks(t,n,y.TextRenderMode.LINE)},_escapeHtmlSpecialCharacters:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\s/g,"&nbsp;")},_kernLongLines:function(){var t=String.fromCharCode(160),e=this._getColumnWidth();this.$("span.text-line").each(s.default.bind((function(n,i){var r=(i=a.default(i)).width();if(r>e){var o,u=r-e,l=a.default(i).find("span"),c=s.default.reduce(l,(function(t,e){return t+a.default(e).text()}),""),d=u/(c.trim().split(t).length-1),h=-1*Math.ceil(u),p=parseInt(a.default(i).attr("index"),10);i.empty();for(var g=c.lastIndexOf(t);g>0;){o=c.lastIndexOf(t,g-1);var m=f.default.findTextSpansForLine(p+o+1,g-o,this.textSpans),v=o<0?"0px":h+"px",y=this._applyTextSpans(m,v);i.prepend(y),h+=d,g=o}}}),this))},_layoutLines:function(t,e){var n=this._getPadding();this.chIndex=0;for(var i=['<div style="width:110%;position:relative">'],r=0;r<t.lines.length;r++){var o=t.lines[r];if(0!==o.length){for(var a="",u=!1,l=this.chIndex,c=0,d=0;d<o.length;d++)s.default.isUndefined(o[d].ch)||(a+=o[d].ch,u="\n"===o[d].ch,c++);if(a.trim().length>0){var h=f.default.findTextSpansForLine(l,c,this.textSpans),p=this._applyTextSpans(h),g=o[0].y+e+n.top+"px",m=o[0].x+n.left+"px";i.push('<span class="text-line" index="'+l+'" style="top:'+g+";left:"+m+'">'+p+"</span>")}u&&i.push("<br/>"),this.chIndex+=c}}i.push("</div>"),this.$el.append(i.join("")),this._onReflow(this.$("span:first"),s.default.bind((function(){this._kernLongLines()}),this))},_layoutParagraphs:function(t){var e=this;t-=(this.options.leading-this.options.defaultSpan.fontSize)/2;var n=this.options,r=n.width,o=n.height;this.options.textTransform&&this.$el.css("textTransform",this.options.textTransform),this.$el.empty();var u=a.default("<"+this.getCurrentHtmlTag()+' style="position:relative;top:'+t+'px;"/>');this.$el.append(u),"center"!==this.options.justify&&"right"!==this.options.justify||this.textContent.indexOf("  ")>-1?this.$el.css("whiteSpace","pre-wrap"):this.$el.css("whiteSpace","pre-line");var l=f.default.generateUnstyledHtmlSpansForParagraph(this.textContent,this.textSpans).map((function(t){return e._applyStyle.apply(e,t)}));u.append(this.applyHyperlinks(this.textSpans,l,y.TextRenderMode.PARAGRAPH)),this.applyJustification(this.options.justify),this.$el.css("padding",0),s.default.each(["Top","Right","Bottom","Left"],s.default.bind((function(t){this.options["padding"+t]&&(this.$el.css("padding"+t,parseInt(this.options["padding"+t],10)+"px"),"Top"!=t&&"Bottom"!=t||(o-=parseInt(this.options["padding"+t],10)),"Left"!=t&&"Right"!=t||(r-=parseInt(this.options["padding"+t],10)))}),this)),"button"===this.tagName&&u.css({height:o});var c=this.$el.find("> *");if(this.options.columns>1){var d=this.options.columnGap||0,h=Math.abs(this.options.leading-this.options.defaultSpan.fontSize),p=o-t+h,g=v.COLUMN_OVERRUN_PADDING_PERCENTAGE/this.options.columns;d+=r*g/100,c.css(i({columnCount:this.options.columns,columnWidth:"auto",columnFill:"auto",columnGap:d+"px",height:p},this.getOverrunPaddingCSS(g)))}else c.css(this.getOverrunPaddingCSS(v.COLUMN_OVERRUN_PADDING_PERCENTAGE));this.$el.css("lineHeight",this.options.leading+"px"),this._applyDimensions(r,o)},getOverrunPaddingCSS:function(t){return"left"===this.options.justify?{paddingRight:t+"%"}:"right"===this.options.justify?{paddingLeft:t+"%"}:{paddingLeft:t/2+"%",paddingRight:t/2+"%"}},applyHyperlinks:function(t,e,n){return new _.InlineLinkProcessor(this,t).decorateLinks(e,n)},_onReflow:function(t,e){if(!s.default.isEmpty(t)){var n=function(){t.width()>0?e():setTimeout(n,1)};setTimeout(n,1)}},applyChanges:function(t){var e=s.default.cloneDeep(t);d.default.reconcileComponentForCurrentVariant(e),this.fontLoader=new g.default(e),this.fontLoader.load(),c.AbstractComponentView.prototype.applyChanges.call(this,t)},applyAccessibilityFeatures:function(){c.AbstractComponentView.prototype.applyAccessibilityFeatures.call(this),this.setScreenReaderVisibilityStatus()},attachMedia:function(){return this.tooSmallToRender?a.default.Deferred().resolve():(this.fontLoader.loadNow(),this.allFontsReady.always(s.default.bind((function(){this.applyDefaultFont(),this._layoutContent()}),this)),this.allFontsReady.promise())},setScreenReaderVisibilityStatus:function(){this.isHiddenFromScreenReaders()?this.$el.attr("aria-hidden","true"):this.$el.removeAttr("aria-hidden")},scaleComponent:function(){this.rerenderByTogglingVisibility()},rerenderByTogglingVisibility:s.default.debounce((function(){if(!this.isRerendering){this.isRerendering=!0;var t=this.$el.css("display");this.$el.css("display","none"),s.default.delay(s.default.bind((function(){this.$el.css("display",t),this.isRerendering=!1}),this),1)}}),100),containsHyperlinks:function(){return s.default.some(this.textSpans,"hyperlink")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=function(t,e){for(var n=0;n<e.length;n++)if(t>=e[n].index&&t<e[n].index+e[n].length)return n;return-1},s=function(t,e){var n=a(t,e);return-1!=n?e[n]:void 0};e.default={padTextSpans:function(t,e,n){var i=[],r=0;if(n&&n.length>0){for(var a=0;a<n.length;a++){var s=n[a];s.index>r&&i.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:s.index-r}),r=s.index+s.length,i.push(o.default.extend(!0,{underline:e.underline,letterSpacing:e.letterSpacing},s))}return r<t.length&&i.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:t.length-r}),i}return[{underline:e.underline,letterSpacing:e.letterSpacing,index:0,length:t.length}]},findTextSpanForCharIndex:s,findTextSpansForLine:function(t,e,n){var i=[],s=a(t,n),u=a(t+e-1,n);if(-1!==s&&-1!==u){i=o.default.extend(!0,[],n.slice(s,u+1));var l=r.default.first(i),c=r.default.last(i);t>l.index&&(l.length-=t-l.index,l.index=t),t+e<c.index+c.length&&(c.length=t+e-c.index)}return i},generateUnstyledHtmlSpansForParagraph:function(t,e){void 0===t&&(t=""),void 0===e&&(e=[]);for(var n=function(t){return{position:"relative",content:r.default.escape(t)}},i=[],o=r.default.first(e),a="",u=0;u<t.length;++u){var l=s(u,e),c=r.default.isEqual(o,l);c&&(a+=t.charAt(u),u!==t.length-1)||(a&&i.push([n(a),o]),u!==t.length-1?(a=t.charAt(u),o=l):a&&!c&&i.push([n(t.charAt(u)),l]))}return i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={EMPTY_METRICS:"[]",encode:function(t){if(r.default.isEmpty(t.glyphMetrics))return this.EMPTY_METRICS;var e="",n=null;return r.default.each(t.glyphMetrics,(function(t){var i=parseFloat(t.x.toFixed(2)),r=parseFloat(t.y.toFixed(2));e+=i+",",r!=n&&(e+=r),e+=",",n=r})),","==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),"["+e+"]"},decode:function(t,e){var n,i,o,a=JSON.parse(t.replace(/,,/g,",null,").replace(/,]/,",null]")),s=[],u=null,l=a.length/2;for(n=0;n<l;n++){var c=a[2*n],d=a[2*n+1];o={x:c,y:null===d?u:d,ch:e[n]},r.default.isNumber(d)&&(o.sol=!0),(r.default.isNumber(a[2*(n+1)+1])||n===l-1)&&(o.eol=!0),s.push(o),null!==d&&(u=d)}var h,f=[];for(n=0;n<s.length;n++)(o=s[n]).sol&&(h=[]),h.push(o),o.eol&&f.push(h);for(n=0;n<f.length;n++){for(i=f[n].length-1;i>0&&(" "===f[n][i].ch||"\n"===f[n][i].ch);)delete f[n][i].eol,i--;f[n][i].eol=!0}return{totalCharacters:s.length,totalLines:f.length,lines:f}}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={MIN_LETTER_SPACING_VALUE:-9999,MAX_LETTER_SPACING_VALUE:99999,unitsToEms:function(t){return t/1e3},unitsToCss:function(t){return i.unitsToEms(t)+"em"},unitsToPixels:function(t,e){return i.unitsToEms(t)*e}};e.default=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InlineLinkProcessor=void 0;var r=i(n(1)),o=i(n(0)),a=n(42),s=i(n(30)),u=n(153),l=n(155),c=n(130),d=n(70),h=n(5),f=function(){function t(t,e){void 0===e&&(e=[]),this.textComponent=t,this.allTextSpans=e}return t.prototype.decorateLinks=function(t,e){for(var n=0;n<this.allTextSpans.length;++n){if(this.allTextSpans[n].hyperlink&&!this.isLinkContinuation(n)){var i=this.compileLinkSpans(n),r=this.prepareLinkSplice(i,n,e),o=t.splice.apply(t,r);t.splice(r[0],0,this.decorateLink(o.join(""),i[0]))}}return t.join("")},t.prototype.decorateLink=function(t,e){var n=this.interactionForLink(e.hyperlink),i=n.domTagOverride;if(!i)return t;var o=r.default("<"+i.tagName+">",i.attributes).addClass("span-at-"+e.index).addClass("inline-link").html(t);return this.activateClickEvents(n,e),this.activateHoverEvents(e),o.get(0).outerHTML},t.prototype.activateClickEvents=function(t,e){var n=this,i="#"+d.escapeComponentId(this.textComponent.options.id)+" .span-at-"+e.index;this.textComponent.options.pageView.$pageContainer.off("click",i).on({click:function(e){e.preventDefault();var i=n.textComponent.addComponentAndClickDataToEvent({},e);t.triggerAction(i),s.default.trigger(n.textComponent.module.publishedEvents.PAGE_COMPONENT_CLICKED,i),n.textComponent.module.trigger(n.textComponent.module.publishedEvents.PAGE_COMPONENT_INTERACTION,i)}},i)},t.prototype.activateHoverEvents=function(t){var e="#"+d.escapeComponentId(this.textComponent.options.id)+" .span-at-"+t.index;this.textComponent.options.pageView.$pageContainer.off("hover",e).on({mouseenter:function(t){t.preventDefault();r.default(t.target).parent(".inline-link").find("span").each((function(t,e){var n=r.default(e);if(!n.attr("data-original-color")){var i=n.css("color"),o=c.ColorUtils.isLight(i)?c.ColorUtils.darken(i,35):c.ColorUtils.lighten(i,35);n.attr("data-original-color",i),n.css("color",o)}}))},mouseleave:function(t){t.preventDefault(),r.default(t.target).parent(".inline-link").find("span").each((function(t,e){var n=r.default(e);if(n.attr("data-original-color")){var i=n.attr("data-original-color");n.css("color",i),n.removeAttr("data-original-color")}}))}},e)},t.prototype.interactionForLink=function(t){var e={trigger:"click"};return t.type===l.InlineLinkType.PAGE?"next"===t.location||"prev"===t.location?"next"===t.location?e.action=h.ActionTypes.nextPage:e.action=h.ActionTypes.prevPage:(e.action=h.ActionTypes.gotoPage,e.pageTarget=parseInt(t.location)):t.type===l.InlineLinkType.POSITION?(e.action=h.ActionTypes.scrollTo,"top"===t.location||"bottom"===t.location?e.scrollTargetType=t.location:(e.scrollTargetType="scranchor",e.scrollTargetScranchor=t.location)):t.type===l.InlineLinkType.OBJECT?(e.action=h.ActionTypes.scrollToObject,e.layerTargets=[this.textComponent.options.parentSmartgroup?this.textComponent.options.parentSmartgroup.id+"|"+t.location:t.location]):(e.action=h.ActionTypes.url,e.url=t.location,e.urlOpenInNewWindow=t.newTab),new(u.InteractionFactory.constructorFor(e.action))(e,this.textComponent.options.pageView)},t.prototype.isLinkContinuation=function(t){if(this.isLoneNewLineAfterLink(this.allTextSpans[t])&&this.allTextSpans[t-1]&&this.allTextSpans[t-1].hyperlink)return!0;var e=1;return this.isLoneNewLineAfterLink(this.allTextSpans[t-1])&&++e,!!this.allTextSpans[t].hyperlink&&o.default.isEqual(this.allTextSpans[t].hyperlink,o.default.get(this.allTextSpans[t-e],"hyperlink"))},t.prototype.compileLinkSpans=function(t){var e=[],n=o.default.get(this.allTextSpans,t+".hyperlink");if(!n)return e;var i=t;do{e.push(this.allTextSpans[i]),this.isLoneNewLineAfterLink(this.allTextSpans[i+1])&&++i}while(o.default.isEqual(n,o.default.get(this.allTextSpans[++i],"hyperlink")));return e},t.prototype.prepareLinkSplice=function(t,e,n){var i;if(n===a.TextRenderMode.PARAGRAPH){for(var r=0,s=0;s<t.length-1;++s)t[s].index+t[s].length!==t[s+1].index&&++r;i=[e,t.length+r]}else i=n===a.TextRenderMode.LINE?[e,t.length]:this.prepareCharacterModeLinkSplice(t);return i.concat(o.default.fill(new Array(i[1]-1),""))},t.prototype.prepareCharacterModeLinkSplice=function(t){var e=this,n=t.reduce((function(t,e){return t+e.length}),0),i=this.countUnrenderedWhiteSpaceInRange(0,t[0].index),r=t.reduce((function(t,n){return e.countUnrenderedWhiteSpaceInRange(n.index,n.length)+t}),0),o=t[0].index-i;return[o,o+n-r-o]},t.prototype.countUnrenderedWhiteSpaceInRange=function(t,e){for(var n=/^\s*$/g,i=0,r=0,a=0,s=o.default.get(this.textComponent.glyphMetrics,"lines")||[];a<s.length;a++){var u=s[a];if(!((i+=u.length)<t)){var l=o.default.map(u,"ch").join(""),c=Math.max(t,i-u.length),d=Math.min(t+e,i);if(l.match(n)?r+=d-Math.max(t,c):r+=this.countNewLinesInRange(c,d-c),i>=t+e)break}}return r},t.prototype.countNewLinesInRange=function(t,e){return this.textComponent.options.textContent.substr(t,e).split("\n").length-1},t.prototype.isLoneNewLineAfterLink=function(t){return!!t&&!t.hyperlink&&1===t.length&&"\n"===this.textComponent.options.textContent.charAt(t.index)},t}();e.InlineLinkProcessor=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoToURLInteraction=void 0;var a=o(n(1)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.domain=a.default("<a>",{href:e.url}).get(0).hostname||void 0,i.urlOpenInNewWindow=e.urlOpenInNewWindow||!1,i.url=e.url||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.constructUrl=function(){return this.url},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_URL},e.prototype.isValid=function(){return("submit"!==this.trigger||!this.urlOpenInNewWindow)&&(!!this.url&&t.prototype.isValid.call(this))},e}(n(68).BaseURLInteraction);e.GoToURLInteraction=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NextPageInteraction=void 0;var a=n(96),s=o(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t+1:0},e}(a.BasePageURLInteraction);e.NextPageInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareLinkedInInteraction=void 0;var a=n(53),s=o(n(41)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForLinkedIn(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareLinkedInInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareEmailInteraction=void 0;var a=n(53),s=o(n(41)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForEmail(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareEmailInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareFacebookInteraction=void 0;var a=n(53),s=o(n(41)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForFacebook(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareFacebookInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SharePinterestInteraction=void 0;var a=n(53),s=o(n(41)),u=o(n(2)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){var t=u.default.previewMode?void 0:this.pageView.getThumbnail();return s.default.urlForPinterest(this.urlForCurrentPage(),t)},e}(a.SocialMediaInteraction);e.SharePinterestInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareTwitterInteraction=void 0;var a=n(53),s=o(n(41)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForTwitter(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareTwitterInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoToPageInteraction=void 0;var a=o(n(0)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.pageTarget=0,a.default.isString(e.pageTarget)?i.pageTarget=parseInt(String(e.pageTarget).replace(/#/,""),10):e.pageTarget&&(i.pageTarget=e.pageTarget),i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PAGE},e.prototype.isValid=function(){return!!this.pageTarget&&t.prototype.isValid.call(this)},e.prototype.getTargetPageNumber=function(){return this.pageTarget},e}(n(96).BasePageURLInteraction);e.GoToPageInteraction=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PreviousPageInteraction=void 0;var a=n(96),s=o(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t-1:0},e}(a.BasePageURLInteraction);e.PreviousPageInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HideLayersInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeHideAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(97).BaseLayerVisibilityInteraction);e.HideLayersInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleLayersInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeToggleAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(97).BaseLayerVisibilityInteraction);e.ToggleLayersInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CyclePreviousInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeCyclePreviousAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(43).BaseVisibilityInteraction);e.CyclePreviousInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CycleNextInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeCycleNextAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(43).BaseVisibilityInteraction);e.CycleNextInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShowLayersInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.createHoverArea=!!e.createHoverArea,i}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeShowAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e.prototype.getHoverTargets=function(){var t=this;if(!this.createHoverArea)return this.layerTargets;if(!this.layerTargets)return[];var e=[];return this.layerTargets.forEach((function(n){e.push(n);var i=t.pageView.findChildView(n);i&&i.childViews&&i.childViews.forEach((function(n){t.getAllValidLayerTargets(n,e)}))})),e},e.prototype.shouldCreateHoverArea=function(){return this.createHoverArea},e.prototype.getAllValidLayerTargets=function(t,e){var n=this;void 0===e&&(e=[]),t.visible&&e.push(t.id),"folder"===t.options.type&&t.childViews&&t.childViews.forEach((function(t){n.getAllValidLayerTargets(t,e)}))},e}(n(97).BaseLayerVisibilityInteraction);e.ShowLayersInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HideComponentInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeHideOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(43).BaseVisibilityInteraction);e.HideComponentInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShowComponentInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeShowOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(43).BaseVisibilityInteraction);e.ShowComponentInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageVisibilityInteraction=void 0;var a=o(n(0)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.pageTargets=e.pageTargets||[],i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES},e.prototype.isValid=function(){return!a.default.isEmpty(this.pageTargets)},e}(n(25).BaseInteraction);e.PageVisibilityInteraction=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LightboxVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.lightboxHasCloseButton=e.lightboxHasCloseButton||!1,i.lightboxHeight=e.lightboxHeight||0,i.lightboxWidth=e.lightboxWidth||0,i.lightboxUrl=e.lightboxUrl||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX},e}(n(25).BaseInteraction);e.LightboxVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ProductPanelVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.productPanelId=e.productPanelId||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL},e.prototype.isValid=function(){return!!this.productPanelId&&t.prototype.isValid.call(this)},e}(n(25).BaseInteraction);e.ProductPanelVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShoppingCartVisibilityInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART},e}(n(25).BaseInteraction);e.ShoppingCartVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FullScreenInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.triggerAction=function(t){var e=document.body;return e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),!0},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(n(25).BaseInteraction);e.FullScreenInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleReducedMotionInteraction=void 0;var a=n(25),s=o(n(11)),u=o(n(12)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION},e.prototype.isValid=function(){return s.default.hasFeature(u.default.ACCESSIBILITY)},e}(a.BaseInteraction);e.ToggleReducedMotionInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BringToFrontInteraction=void 0;var a=n(25),s=n(154),u=o(n(11)),l=o(n(12)),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.hasOutTrigger=!0,i.targetsSelf=!0,i.config=e,i.hasOutTrigger="hover"===i.config.trigger,i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_BRING_TO_FRONT},e.prototype.triggerAction=function(e){return!!t.prototype.triggerAction.call(this,e)&&(!this.hasActiveValidInteractions(this.componentId)&&(this.pageView.invokeBringToFront(this.componentId,this.trigger,this.config[s.BringToFrontReverseOption.resetPositionsAndStates],this.config[s.BringToFrontReverseOption.resetPositions]),!0))},e.prototype.triggerOutAction=function(){return!this.hasActiveValidInteractions(this.componentId,!0)&&(("hover"!==this.trigger||!this.pageView.hasActiveClickStateWithLock(this.componentId))&&(this.pageView.revokeBringToFront(this.componentId),!0))},e.prototype.hasActiveValidInteractions=function(t,e){return!("hover"!==this.trigger||!this.pageView.hasActiveBringToFront(t))||(!(e||"hover"!==this.trigger||!this.pageView.hasActiveClickStateWithLock(t))||!(e||!this.pageView.hasActiveCustomStateWithLock(t)))},e.prototype.isValid=function(){return u.default.hasFeature(l.default.POSITION_INTERACTIONS)},e.prototype.getHoverTargets=function(){return[this.componentId]},e}(a.BaseInteraction);e.BringToFrontInteraction=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStateInteraction=void 0;var a=n(43),s=n(361),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.state=e.state,i.lockState=e.lockState,i.hasOutTrigger=!e.lockState,i.targets=e.layerTargets,i.disableHoverArea=!!e.disableHoverArea,i}return r(e,t),e.prototype.isValid=function(){return!(!this.layerTargets||!this.layerTargets.length)},e.prototype.triggerAction=function(e){var n=this,i=this.getTargets();return!!i&&(i.forEach((function(t){n.disableHoverArea&&n.pageView.disableHoverArea(t),n.hasActiveStatesWithLocks(t)?n.pageView.addStateUnderActiveState(t,n.state,n):(n.disableHoverArea||n.pageView.enableHoverArea(t),n.pageView.invokeObjectState(t,n.state),n.pageView.addActiveState(t,n))})),t.prototype.triggerAction.call(this,e))},e.prototype.triggerOutAction=function(){var t=this;return!!this.hasOutTrigger&&(this.getTargets().forEach((function(e){t.pageView.revokeObjectState(e,t.state),t.hasActiveStatesWithLocks(e)||t.pageView.removeActiveState(e,t)})),!0)},e.prototype.hasActiveStatesWithLocks=function(t){return"default"!==this.state&&(!("hover"!==this.state||!this.pageView.hasActiveClickStateWithLock(t))||!("hover"!==this.state&&"click"!==this.state||!this.pageView.hasActiveCustomStateWithLock(t)))},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_CHANGE_STATE},e.prototype.getTargets=function(){var t=this;if(!this.targets)return[];if(this.cachedTargets)return this.cachedTargets;var e=[];return this.targets.forEach((function(n){var i,r=t.pageView.findChildView(n);if(r)if(t.isValidTarget(r)&&(i=n),r.childViews){var o=[];r.childViews.forEach((function(e){t.getAllValidChildrenLayerTargets(e,o,r.isComponent()&&r.linkInteraction)})),o.length&&(i&&e.push(i),e.push.apply(e,o))}else i&&e.push(i)})),this.cachedTargets=e||[],e},e.prototype.getAllValidChildrenLayerTargets=function(t,e,n){var i=this;this.isValidTarget(t)&&e.push(t.id),t.isComponent()&&t.childViews&&(t.linkInteraction||n)&&t.childViews.forEach((function(t){i.getAllValidChildrenLayerTargets(t,e,!0)}))},e.prototype.getHoverTargets=function(){return this.getTargets()},e.prototype.isValidTarget=function(t){return t.isComponent()&&(t.linkInteraction||!!t.hasObjectState(this.state))},e.prototype.shouldTriggerOnKeyboardNavigation=function(){return!(!1===this.lockState&&"mouseDown"===this.trigger)},e=o([s.InteractionOptions({hasOutTrigger:!0})],e)}(a.BaseVisibilityInteraction);e.ChangeStateInteraction=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOptions=void 0;var i=n(26);e.InteractionOptions=function(t){return i.BackboneShim(t)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidInteraction=void 0;var o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.isValid=function(){return!1},e}(n(25).BaseInteraction);e.InvalidInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ResetPositionsInteraction=void 0;var a=n(43),s=o(n(12)),u=o(n(11)),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.config=e,i}return r(e,t),e.prototype.isValid=function(){return u.default.hasFeature(s.default.POSITION_INTERACTIONS)},e.prototype.triggerAction=function(e){var n,i=this;return!!t.prototype.triggerAction.call(this,e)&&(null===(n=this.layerTargets)||void 0===n||n.forEach((function(t){i.pageView.revokeBringToFront(t),i.config.resetObjectStates&&i.pageView.invokeObjectState(t,"default")})),!0)},e}(a.BaseVisibilityInteraction);e.ResetPositionsInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VectorImageComponentView=void 0;var a=o(n(0)),s=n(27),u=n(93),l=n(37),c=o(n(365)),d=o(n(29)),h=o(n(33)),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasRenderedGradient=!1,e.children=[],e}return r(e,t),e.prototype._applyBackground=function(t,e){void 0===t&&(t=this.options.background||{}),void 0===e&&(e=this.options.transition);var n=this.getCerosGradientElement(),i=this.getCerosGradientStopElements(),r=0;t.color&&(t={gradient:d.default.colorToGradient(t.color)});for(var o=0,a=this.children;o<a.length;o++){a[o].setFill(n,t)}t.gradient&&(i.first().css("stop-color",t.gradient.stops[0].color),i.last().css("stop-color",t.gradient.stops[1].color),r=t.gradient.angle||0),u.AnimateSVGUtil.renderGradientAnimation(this.getSVGElement(),this.getCerosGradientElement(),r,this.hasRenderedGradient?e:null),this.hasRenderedGradient=!0},e.prototype._applyImageFlip=function(t){if(!this.isMaskImage()){a.default.isEmpty(t)&&(t={});var e=h.default.getScaleValueFromFlip(t),n=e.scaleXValue,i=e.scaleYValue;s.CssUtils.setTransformToElement(this.$innerElement,{scale:{x:n,y:i}})}},e.prototype.getSVGElement=function(){return this.$el.children("svg")},e.prototype.getCerosGradientStopElements=function(){return this.getCerosGradientElement().find("stop")},e.prototype.getGradientElement=function(){return this.$innerElement.find("linearGradient")},e.prototype.getCerosGradientElement=function(){return this.$innerElement.find("linearGradient.cerosgradient")},e.prototype.callObjectStateInvoker=function(t,e){l.ObjectStateInvoker.invokeAbstractImageObjectState(this,t,e,!0)},e.prototype.applyTransitionToTarget=function(e,n){t.prototype.applyTransitionToTarget.call(this,e,n),this.getSVGElement().css("transition",e),this.getSVGElement().css("transition-property",n||"none"),this.getSvgChildren().css("transition",e),this.getSvgChildren().css("transition-property",n||"none"),this.getCerosGradientStopElements().css("transition",e),this.getCerosGradientStopElements().css("transition-property",n||"none")},e}(c.default);e.VectorImageComponentView=f},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(6)),a=r(n(1)),s=r(n(0)),u=n(142),l=n(366),c=r(n(33));e.default=u.AbstractImageComponentView.extend({initialize:function(){u.AbstractImageComponentView.prototype.initialize.call(this),this.loadImage=s.default.once(this.loadImage,this),this.vectorImageReady=new a.default.Deferred},attachMedia:function(){if(this.imageLoader){var t=this.imageLoader.getCurrentResource();s.default.isNull(t)?o.default.warn("Image should have been added to resource loader during preload"):t.loadNow().done(s.default.bind((function(t){this.loadImage(t,this.vectorImageReady,this.options.background,this.options.altText)}),this)).fail(s.default.bind((function(){this.vectorImageReady.reject()}),this))}return this.vectorImageReady.promise()},loadImage:function(t,e,n,r){var o;n.backgroundHasBeenSet=this.options.backgroundHasBeenSet;var u=(null===(o=this.options.interactions)||void 0===o?void 0:o.length)>0,l=t.createXMLDoc(n,r,u),c=a.default(l).children();if(c[0]){var d=this.$innerElement.attr("width"),h=this.$innerElement.attr("height"),f=this.getApplyShadowTarget(),p={};if(!s.default.isNil(f[0])){var g=f[0].style.webkitFilter;p={filter:f[0].style.filter,"-webkit-filter":g}}var m=a.default(c[0]);this.isMaskImage()||(m.css(i({width:d,height:h},p)),this.setDimensionsAsAttributes(m,d,h));var v=parseInt(m.attr("width"),10),y=parseInt(m.attr("height"),10);if(!m.attr("viewBox")){var _=t.getOriginalAspectRatio();!_||isNaN(_.width)||isNaN(_.height)?isNaN(v)||isNaN(y)||m.attr("viewBox","0 0 "+v+" "+y):m.attr("viewBox","0 0 "+_.width+" "+_.height)}this.isMaskImage()?this.renderAsMask(m[0]):(m.css("display","block"),this.replaceInnerElement(m),this.setChildren(),this.isFlipped()&&this._applyImageFlip({flipHorizontal:this.options.flipHorizontal,flipVertical:this.options.flipVertical}),this.applyTransition()),e.resolve()}else e.reject(new Error("An unexpected error occurred"))},replaceInnerElement:function(t){if(this.getAnimateElements(t).length>0){var e=a.default("<div>");e.append(t),this.$innerElement.replaceWith(e),this.$innerElement=e,this.$innerElement.html(this.$innerElement.html())}else this.$innerElement.replaceWith(t),this.$innerElement=t},setChildren:function(){for(var t=0,e=this.getSvgChildren();t<e.length;t++){var n=e[t];this.children.push(new l.VectorImageChildView({element:n}))}},renderAsMask:function(t){this._configureAllWidthAllHeight();var e=this.options,n=e.width,i=e.height,r=e.rotation,o=e.opacity,a=this.options,s=a.allWidth,u=a.allHeight;if(t.setAttribute("width",""+s),t.setAttribute("height",""+u),0!==r){var l="rotate("+r+"deg)";t.style.transformOrigin="50% 50%";var d=t.style.transform;t.style.transform=d+" "+l}var h=c.default.getScaleValueFromFlip(this.options),f=h.scaleXValue,p=h.scaleYValue,g=t.style.transform;0!==r&&(f*=n/s,p*=i/u),t.style.transform=g+" scale("+f+", "+p+")",t.style.opacity=o;var m=t.outerHTML,v=c.default.encodedSvgStringAsBase64(m),y={"-webkit-mask-image":v,"mask-image":v,"-webkit-mask-repeat":"no-repeat"};this.$el.css(y),this._applyPosition(),this._applyDimensions()}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VectorImageChildView=void 0;var a=o(n(0)),s=o(n(1)),u=function(t){function e(n){void 0===n&&(n=e.DEFAULT_OPTIONS);var i=t.call(this,a.default.defaults(n,e.DEFAULT_OPTIONS))||this;return i.hasClasses=!1,i.defaultFill="",i.defaultCssFill="",i.options=n,i.options.element&&(i.options.element instanceof jQuery?i.$el=i.options.element:i.$el=s.default(i.options.element),i.setProperties()),i}return r(e,t),e.prototype.setProperties=function(){this.hasClasses=!!this.$el.attr("class")},e.prototype.setFill=function(t,e){var n,i=!(!e||!e.backgroundHasBeenSet&&!e.color&&!e.gradient),r=this.$el.attr("fill")||"",o=this.$el.css("fill"),a="url(#"+(null===(n=t[0])||void 0===n?void 0:n.id)+")",s=!!e.gradient||!r&&!o;if(this.hasClasses||(!this.defaultFill&&r.length>0&&(this.defaultFill=r),!this.defaultCssFill&&o&&(this.defaultCssFill=o)),r&&r.length>0){var u=s?a:this.defaultFill;this.$el.css("fill",""),this.$el.attr("fill",u)}if(o){o=i&&e.color?e.color:this.defaultCssFill;u=s?a:o;this.$el.removeAttr("fill"),this.hasClasses&&u===this.defaultCssFill?this.$el.css("fill",""):this.$el.css("fill",u)}},e.DEFAULT_OPTIONS={element:s.default()},e}(n(44).AbstractView);e.VectorImageChildView=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MaskGroupView=void 0;var s=a(n(146)),u=n(26),l=a(n(0)),c=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.$el.addClass("mask-group"),n}return r(e,t),e.prototype.isMaskGroup=function(){return!0},e.prototype.isAlphaMask=function(){var t=l.default.uniq(this.childViews.map((function(t){return t.options.type})));return 1===t.length&&t.includes("image-component")},e.prototype.getMaskView=function(){return this.maskView||(this.maskView=this.childViews.find((function(t){return t.options.maskInfo&&!t.options.maskInfo.isBaseMaskObject}))),this.maskView},e.prototype.getWrappedView=function(){return this.wrappedView||(this.wrappedView=this.childViews.find((function(t){return t.options.maskInfo&&t.options.maskInfo.isBaseMaskObject}))),this.wrappedView},e.prototype.bindClickInteraction=function(){},e.prototype.bindMouseDownInteraction=function(){},e.prototype.bindMouseOverInteraction=function(){},e.prototype.assignCursor=function(){},e.prototype._configureInteractions=function(){t.prototype._configureInteractions.call(this),this.bindClickSelectInteraction()},e.prototype.unbindInteractions=function(){t.prototype.unbindInteractions.call(this),this.getInteractionTarget().off("keydown",this.handleKeydown)},e.prototype.bindClickSelectInteraction=function(){this.getInteractionTarget().on("keydown",this.handleKeydown.bind(this))},e.prototype.addPointerEventsToChildren=function(){this.isMaskGroup()&&this.isAlphaMask()&&l.default.each(this.childViews,(function(t){t.isBaseMaskObject()&&t.getPointerEventsTarget().css("pointer-events","auto")}))},e=o([u.BackboneShim()],e)}(s.default);e.MaskGroupView=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(156)),a=n(369);e.default={createPreRenderList:function(t){var e=t.model.get("layers"),n=a.Scranchor.scranchorsForPage(t);if(!e)return n;var i=function(t,e){t&&r.default.each(t,(function(t){var r=new o.default(e,t);n.push(r),t.smartgroupId?i(t.layers,r):function(t){return"folder"===t.type||"group"===t.type||"mask-group"===t.type}(t)&&i(t.items,r)}))},s=new o.default(null,null);return s.childViews=t.childViews,i(e,s),n.reverse()}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Scranchor=void 0;var a=o(n(1)),s=o(n(0)),u=function(t){function e(e){var n=t.call(this,void 0,void 0)||this;return n.x=0,n.y=0,n.model={type:"scranchor"},n.childViews=[],n.y=e.top||0,n.$el=a.default("<a>",{class:"scranchor",id:e.id,tabindex:-1}).css({position:"absolute",top:n.y,left:n.x,height:0,width:e.width}),e.id.match(/^page-[0-9]+-top$/)&&n.$el.on("focus",(function(){n.$el.attr("tabindex",1)})).on("blur",(function(){n.$el.attr("tabindex",-1)})),n}return r(e,t),e.prototype.adjustYCoordinateWithinGroup=function(){var t=this;this.$el.parents(".group, .smart-group").each((function(e,n){t.y-=parseInt(n.style.top||"0"),t.$el.css("top",t.y)}))},e.scranchorsForPage=function(t){var n=[],i=t.model.getPageWidth(t.documentVersion),r=t.model.getPageHeight(t.documentVersion);return n.push(new e({width:i,id:"page-"+(t.model.pageIndex+1)+"-top"})),s.default.forEach(t.model.getScranchorsForCurrentVariant(),(function(t,r){n.push(new e({top:t,id:r,width:i}))})),n.push(new e({top:r-1,width:i,id:"page-"+(t.model.pageIndex+1)+"-bottom"})),n},e}(o(n(156)).default);e.Scranchor=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o={},a=function(t){if(!t)return Number.POSITIVE_INFINITY;var e=parseInt(t.style.top);return r.default(t).parents(".group, .smart-group").each((function(t,n){e+=parseInt(n.style.top)})),e},s={insert:function(t,e,n,i,o){var a=this.getChildNodeToInsertBefore(t,n,i,o);a?r.default(e).insertBefore(a,t):t.appendChild(e)},getChildNodeToInsertBefore:function(t,e,n,i,o,s){for(var u,l,c=0,d=t.children||t.childNodes,h=d.length-1;c<=h;){u=Math.floor((c+h)/2);var f=this.determineEffectivePositionOf(r.default(d[u])),p=f.x,g=f.y;p+=o||0;var m=(g+=s||0)===n?p-e:g-n;if(0===m)return d[u];if(m<0){if(i&&r.default(d[u]).is(".group, .smart-group")){var v=parseInt(d[u].style.left)+(o||0),y=parseInt(d[u].style.top)+(s||0),_=this.getChildNodeToInsertBefore(d[u],e,n,i,v,y);_&&(!l||parseInt(_.style.top)<a(l))&&(l=_)}c=u+1}else{h=u-1,(!l||!i||parseInt(d[u].style.top)<a(l))&&(l=d[u])}}return l},determineEffectivePositionOf:function(t){var e=this,n=t[0];if(o[n.id])return o[n.id];var i={x:parseInt(n.style.left)||0,y:parseInt(n.style.top)||0};if(!t.hasClass("group"))return i;var a={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY};return t.children().each((function(t,n){var i=r.default(n);if("none"!==n.style.display&&!i.hasClass("sr-only")){var o=i.hasClass("group")?e.determineEffectivePositionOf(i):{x:parseInt(n.style.left),y:parseInt(n.style.top)};(o.y<a.y||o.y===a.y&&o.x<a.x)&&(a=o)}})),a.y===Number.POSITIVE_INFINITY?o[n.id]=i:o[n.id]={x:i.x+a.x,y:i.y+a.y},o[n.id]}};e.default=s},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PrerenderAccessibilityOverride=void 0;var s=a(n(0)),u=n(5);var l=function(){function t(t){this.initialOverrides={},this.layersToHideSet=new Set,this.pageView=t}return t.prototype.applyOverrides=function(){var t,e,n,i,o,a,s,u,l,c,d,h,f,p,g;return r(this,(function(r){switch(r.label){case 0:t=this.finalizeOverrides(),e=new Set,n=0,i=Object.keys(t),r.label=1;case 1:return n<i.length?(o=i[n],[4]):[3,4];case 2:for(r.sent(),a=t[o],s=a.layersToMove,u=a.layersToAria,l=a.layersToHide,c=a.carouselSlideLayers,d=a.triggerEl,h=a.hasBothShowAndHideTargetInteractions,f=0,p=s;f<p.length;f++)g=p[f],e.has(g.id)||(d.parentElement.insertBefore(g,d.nextSibling),e.add(g.id));h&&(d.className+=" ceros-no-return-focus"),u.length&&this.updateARIAProperties(d,u),l.length&&this.addHideClass(l),c.length&&this.applyCarouselAttributes(c),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))},t.prototype.updateARIAProperties=function(t,e){var n=this;if(t.setAttribute("aria-controls",e.join(" ")),s.default.some(e,(function(t){var e;return null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.isCarouselSlide}))){s.default.some(e,(function(t){var e;return"none"!==(null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.el.style.display)}))&&t.setAttribute("aria-current","true")}else{var i=s.default.some(e,(function(t){var e;return"none"===(null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.el.style.display)}));t.setAttribute("aria-expanded",i?"false":"true")}},t.prototype.applyCarouselAttributes=function(t){for(var e=0,n=t;e<n.length;e++)for(var i=n[e],r=this.pageView.findChildView(i),o=0,a=(null==r?void 0:r.childViews)||[];o<a.length;o++){var s=a[o];"group"===s.options.type&&(s.el.setAttribute("role","group"),s.isCarouselSlide=!0)}},t.prototype.addHideClass=function(t){var e=this;s.default.each(t,(function(t){var n;if(!e.layersToHideSet.has(t)){var i=null===(n=e.pageView.findChildView(t))||void 0===n?void 0:n.el;i&&(i.className+=" ceros-hideable"),e.layersToHideSet.add(t)}}))},t.layerTargetsReducer=function(e,n){var i,r,o,a,l=e.hasBothShowAndHideTargetInteractions?t.interactionTypesRequiringOrderOverride:t.interactionTypesRequiringAriaOverride;return n.layerTargets?(s.default.includes(t.interactionTriggersRequiringOrderOverride,n.trigger)&&s.default.includes(t.interactionTypesRequiringOrderOverride,n.action)&&(i=e.layersToMove).push.apply(i,n.layerTargets),"click"===n.trigger&&s.default.includes(l,n.action)&&(r=e.layersToAria).push.apply(r,n.layerTargets),"click"!==n.trigger||n.action!==u.ActionTypes.toggleCanvasTargets&&!s.default.includes(t.interactionTypesThatHide,n.action)||(o=e.layersToHide).push.apply(o,n.layerTargets),t.interactionTypesForCarousels.includes(n.action)&&(a=e.carouselSlideLayers).push.apply(a,n.layerTargets),e):e},t.prototype.hasBothShowAndHideTargetInteractions=function(e){var n=!1,i=!1;return s.default.some(e,(function(e){return!("click"!==e.trigger||!s.default.includes(t.interactionTypesThatShouldNotShiftFocus,e.action))||(!i&&"click"===e.trigger&&s.default.includes(t.interactionTypesThatHide,e.action)&&(i=!0),!n&&"click"===e.trigger&&s.default.includes(t.interactionTypesRequiringOrderOverride,e.action)&&(n=!0),i&&n)}))},t.prototype.analyzeLayerForOverrides=function(e){var n;if(!function(t){return"folder"===t.type}(e.model)&&(null===(n=e.model.interactions)||void 0===n?void 0:n.length)){var i=this.hasBothShowAndHideTargetInteractions(e.model.interactions),r=e.model.interactions.reduce(t.layerTargetsReducer,{layersToMove:[],layersToAria:[],layersToHide:[],carouselSlideLayers:[],hasBothShowAndHideTargetInteractions:i});(r.layersToMove.length||r.layersToAria.length||r.carouselSlideLayers.length||i)&&(this.initialOverrides[e.model.id]={layersToMove:s.default.uniq(r.layersToMove),layersToAria:s.default.uniq(r.layersToAria),layersToHide:s.default.uniq(r.layersToHide),carouselSlideLayers:s.default.uniq(r.carouselSlideLayers),hasBothShowAndHideTargetInteractions:i,triggerEl:e.view.el})}},t.prototype.finalizeOverrides=function(){for(var t=this,e={},n=0,r=s.default.entries(this.initialOverrides);n<r.length;n++){var o=r[n],a=o[0],u=o[1],l=u.layersToMove.map((function(e){var n;return null===(n=t.pageView.findChildView(e))||void 0===n?void 0:n.el})),c=this.filterSiblings(u.triggerEl,l);e[a]=i(i({},u),{layersToMove:this.sortLayersByPosition(c)})}return e},t.prototype.filterSiblings=function(t,e){var n=t.dataset.containerId;if(!n)return[];var i=this.pageView.model.findLayerById(n.split(",").shift());return"group"!==(null==i?void 0:i.type)?[]:e.filter((function(t){return(null==t?void 0:t.dataset.containerId)===n}))},t.prototype.sortLayersByPosition=function(t){var e=this;return t.sort((function(t,n){var i=e.getPositionOf(t),r=e.getPositionOf(n);return r.top-i.top||r.left-i.left}))},t.prototype.getPositionOf=function(t){return{left:parseFloat(t.style.left)||0,top:parseFloat(t.style.top)||0}},t.interactionTriggersRequiringOrderOverride=["click","hover"],t.interactionTypesRequiringOrderOverride=[u.ActionTypes.toggleCanvasTargets,u.ActionTypes.showAndStayVisibleCanvasTargets,u.ActionTypes.showCanvasTargets,u.ActionTypes.showCanvasTargetsOnHover,u.ActionTypes.showOnly],t.interactionTypesThatHide=[u.ActionTypes.hideOnly,u.ActionTypes.hideCanvasTargets,u.ActionTypes.hideAndStayHiddenCanvasTargets],t.interactionTypesRequiringAriaOverride=o(t.interactionTypesRequiringOrderOverride,t.interactionTypesThatHide),t.interactionTypesForCarousels=[u.ActionTypes.cycleNext,u.ActionTypes.cyclePrevious],t.interactionTypesThatShouldNotShiftFocus=o(t.interactionTypesForCarousels,[u.ActionTypes.showOnly,u.ActionTypes.hideOnly]),t}();e.PrerenderAccessibilityOverride=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(157)),s=n(91);function u(t){t&&(t.visible=!0,t.runningExitAnimations&&(t.cancelHide=!0,t.isComponent()&&t.resetTimers()),t.isComponent()&&t.show(),o.default.isEmpty(t.childViews)||o.default.each(t.childViews,(function(t){t.visible&&u(t)})))}function l(t){if(t){if(t.cancelHide)return void function t(e){e.cancelHide=!1,o.default.each(e.childViews,(function(e){t(e)}))}(t);t.visible=!1,t.hide(),function t(e){e.isComponent()&&e.resetTimers();e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t)}}function c(t){t&&(t.visible=!1,t.hide(),function t(e){e.isComponent()&&(e.resetTimers(),e instanceof s.VideoComponentView&&e.disableVideoTrackingAndAutoPlayingVideo());e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t))}function d(){}d.prototype={activateAndRunEntryAnimationsForAllVisible:function(t,e){var n=function(t){o.default.each(t,(function(t){if(t.isComponent()&&(o.default.isUndefined(t.visible)||t.visible)){var i=t.isAnyPartOfComponentWithinBoundaries(e);i&&t.setWasInsideVisibleBoundaries(!0),(i||t.isOutsideOfPage())&&t.activateAndRunEntryAnimations()}t.childViews&&t.visible&&n(t.childViews)}))};n(t)},createTimedTriggers:function(t,e){o.default.each(t,(function(t){t.isAnyPartOfComponentWithinBoundaries(e)&&t.createTimedTriggers()}))},whenVisibleBoundariesChange:function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=i.getComponentBoundaries(),o=i.isAnyPartOfComponentWithinBoundaries(e,r),a=i.getWasInsideVisibleBoundaries(),s=!a&&o;if(a&&!o?(i.setWasInsideVisibleBoundaries(!1),i.whenLeavingVisibleBoundaries()):s&&(i.setWasInsideVisibleBoundaries(!0),i.createTimedTriggers()),o){if(!i.visible||i.areAnyParentsNotVisible())continue;i.isAnyPartOfComponentWithinEntryAnimationBoundaries(e,r)&&!i.isOutsideOfPage()&&i.activateAndRunEntryAnimations()}}},resetHoverInteractionViewsToInitialVisibility:function(t,e,n){for(var i=function(t,e,n){for(var i=[],r=0;r<t.length;r++){var s=t[r];if(!s.isAnyPartOfComponentWithinBoundaries(n)){var u=o.default.flatMap(s.getResettableHoverInteractions(),l);u.length>0&&(i.push(s),i=i.concat(u))}}function l(t){if(!t.resetWhenScrolledOffscreen)return[];var n=o.default.map(t.layerTargets,(function(t){return a.default.find(e,t)}));return o.default.every(n,c)?n:[]}function c(t){var e=[];return function t(n){n.isComponent()?e.push(n):o.default.each(n.childViews,(function(e){t(e)}))}(t),o.default.every(e,(function(t){return!(t&&t.isAnyPartOfComponentWithinBoundaries(n))}))}return i}(t,e,n),r=0;r<i.length;r++){var s=i[r];o.default.isUndefined(s.initiallyVisible)||s.initiallyVisible?u(s):c(s)}},resetAnimationsAndInitialVisibility:function(t){var e=function(t){o.default.each(t,(function(t){t.childViews&&e(t.childViews),o.default.isUndefined(t.initiallyVisible)||t.initiallyVisible?u(t):l(t),t.reset()}))};e(t)},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(t,e){var n=function(t){o.default.each(t,(function(t){if(t.isComponent()&&(o.default.isUndefined(t.visible)||t.visible)&&t.shouldRestartEntryAnimations){var i=t.isAnyPartOfComponentWithinBoundaries(e);i&&t.setWasInsideVisibleBoundaries(!0),(!i&&!t.options.animationsReplayOnScroll||i||t.isOutsideOfPage())&&t.restartRepeatEntryAnimations()}t.childViews&&t.visible&&n(t.childViews)}))};n(t)},showChildViewIfAllParentsVisible:function(t,e){t.areAllParentsVisible()&&(u(t),function t(e,n){e.isComponent()&&e.isAnyPartOfComponentWithinBoundaries(n)&&e.createTimedTriggers();e.childViews&&o.default.each(e.childViews,(function(e){t(e,n)}))}(t,e),function t(e){if(null===e||!1===e.visible)return;e.reset(),e.isComponent()&&e.activateAndRunEntryAnimations();e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t))},hideAllChildViewsAndRunExitAnimations:function(t){o.default.each(t,(function(t){if(!t.runningExitAnimations){var e=t.runAllChildViewExitAnimations();r.default.when.apply(r.default,e).done((function(){l(t),function(t){t.reset(),t.childViews&&o.default.each(t.childViews,(function(t){t.reset()}))}(t)}))}}))}},e.default=d},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateFactory=void 0;var r=n(138),o=function(){function t(){}return t.initializeStates=function(t){return t instanceof Array?t:Object.keys(t).map((function(e){var n=i(i({},t[e]),{state:e});return new r.ObjectState(n)}))},t}();e.ObjectStateFactory=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AutomaticHoverInteractionCollection=e.AutomaticHoverInteractionHandler=void 0;var r=i(n(1)),o=i(n(0)),a=i(n(69)),s=i(n(11)),u=i(n(12)),l=function(){function t(t,e,n){this.hasChanges=!0,this.isShowing=!1,this.isHiding=!1,this.navItems={},this.targets=[],this.abstractComponentView=t,this.hoverInteractions=e,this.pageView=n}return Object.defineProperty(t.prototype,"trigger",{get:function(){return this.abstractComponentView.$el},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTargets",{get:function(){return this.targets.length>0},enumerable:!1,configurable:!0}),t.isHover=function(t){return t.is(":hover")},t.prototype.isInteractive=function(t){if(t.is(":disabled"))return!1;var e=t.attr("tabindex")||-1;return t===this.trigger||e>-1||t.is(":input, a[href], area[href], iframe")},t.prototype.isFocusable=function(t){return"text-component"===t.options.type&&t.containsHyperlinks()||this.isInteractive(t.$el)},t.prototype.isNavItem=function(t){var e=t.attr("id")||t.attr("data-container-id");return!!e&&!!this.navItems[e]},t.prototype.bindFocusEvent=function(e){var n=this,i=function(){t.isHover(e)||(n.invokeShowAction(),n.invokeHideAction(),n.invokeNonShowHideInteraction(),e.attr("id")===n.trigger.attr("id")&&n.abstractComponentView.sendPublishedHoverEvents())};this.isInteractive(e)&&e.on(t.FOCUS_EVENT,i),e.find(t.INLINE_LINK_SELECTOR).on(t.FOCUS_EVENT,i)},t.prototype.bindBlurEvent=function(e){var n=this,i=function(i){if(!t.isHover(e)){var o=i.relatedTarget&&r.default(i.relatedTarget);o&&n.isNavItem(o)||(n.hideTemporaryShowing(),n.showTemporaryHiding(),n.uninvokeNonShowHideInteraction())}};this.isInteractive(e)&&e.on(t.BLUR_EVENT,i),e.find(t.INLINE_LINK_SELECTOR).on(t.BLUR_EVENT,i)},t.prototype.hideTemporaryShowing=function(){var t=this.targets.filter((function(t){return t.isShowing&&t.isTemporary&&t.isVisibilityInteraction})).map((function(t){return t.id}));t.length>0&&(this.pageView.invokeHideAction(t),this.isShowing=!1)},t.prototype.showTemporaryHiding=function(){var t=this.targets.filter((function(t){return!t.isShowing&&t.isTemporary&&t.isVisibilityInteraction})).map((function(t){return t.id}));t.length>0&&(this.pageView.invokeShowAction(t),this.isHiding=!1)},t.prototype.invokeShowAction=function(){if(!this.isShowing){var t=this.targets.filter((function(t){return t.isShowing&&t.isVisibilityInteraction}));t.length>0&&(this.pageView.invokeShowAction(t.map((function(t){return t.id})),(function(){t.forEach((function(t){t.view.wasShownByFocusInteraction=!0}))})),this.isShowing=!0)}},t.prototype.invokeHideAction=function(){if(!this.isHiding){var t=this.targets.filter((function(t){return!t.isShowing&&t.isVisibilityInteraction}));t.forEach((function(t){t.view.wasShownByFocusInteraction=!1})),t.length>0&&(this.pageView.invokeHideAction(t.map((function(t){return t.id}))),this.isHiding=!0)}},t.prototype.invokeNonShowHideInteraction=function(){var t=this;this.hoverInteractions.forEach((function(e){if(!a.default.hasCustomFiringHoverAction(e)&&e.shouldTriggerOnKeyboardNavigation()){var n=t.abstractComponentView.getEventInteractionData();e.triggerAction(n)}}))},t.prototype.uninvokeNonShowHideInteraction=function(){this.hoverInteractions.forEach((function(t){!a.default.hasCustomFiringHoverAction(t)&&t.hasOutTrigger&&t.shouldTriggerOnKeyboardNavigation()&&t.triggerOutAction()}))},t.prototype.handleTargets=function(t,e,n){var i,r=this;e&&n&&this.isFocusable(t)&&(this.addNavItem(t.$el),this.bindFocusEvent(t.$el),this.bindBlurEvent(t.$el)),null===(i=t.childViews)||void 0===i||i.forEach((function(t){return r.handleTargets(t,e,n)}))},t.prototype.setAccessibilityHoverTarget=function(t){var e,n=this;t.setAsAccessibilityHoverTarget(),null===(e=t.childViews)||void 0===e||e.forEach((function(t){return n.setAccessibilityHoverTarget(t)}))},t.prototype.unsetAccessibilityHoverTarget=function(t){var e,n=this;t&&(t.unsetAsAccessibilityHoverTarget(),null===(e=t.childViews)||void 0===e||e.forEach((function(t){return n.unsetAccessibilityHoverTarget(t)})))},t.prototype.addNavItem=function(e){var n=e.attr("id");e.find(t.INLINE_LINK_SELECTOR).attr("data-container-id",n),this.navItems[n]=e},t.prototype.unbindEvents=function(){Object.values(this.navItems).forEach((function(e){e.off(t.FOCUS_EVENT).off(t.BLUR_EVENT).find(t.INLINE_LINK_SELECTOR).off(t.FOCUS_EVENT).off(t.BLUR_EVENT)}))},t.prototype.configureInteractions=function(){var t=this;this.hasChanges=!1,this.isShowing=!1,this.isHiding=!1,this.navItems={},this.hasTargets&&(this.targets.forEach((function(e){t.handleTargets(e.view,e.isShowing,e.isTemporary)})),this.addNavItem(this.trigger),this.bindFocusEvent(this.trigger),this.bindBlurEvent(this.trigger))},t.prototype.update=function(t,e){var n=this;o.default.isEqual(this.hoverInteractions,e)&&this.trigger[0]===t.$el[0]||(this.abstractComponentView=t,this.hoverInteractions=e,this.unbindEvents(),this.targets.forEach((function(t){return n.unsetAccessibilityHoverTarget(t.view)})),this.hasChanges=!0)},t.prototype.prepareHoverTargets=function(){var t=this;this.targets=[],this.hoverInteractions.forEach((function(e){var n=e.getHoverTargets();if(n){var i=a.default.isHoverInteractionShowingLayers(e),r=a.default.isTemporaryHoverInteractionShowingOrHidingLayers(e),o=a.default.hasCustomFiringHoverAction(e);n.forEach((function(e){var n=t.pageView.findChildView(e);n&&(t.setAccessibilityHoverTarget(n),t.targets.push({id:e,view:n,isShowing:i,isTemporary:r,isVisibilityInteraction:o}))}))}}))},t.prototype.refreshInteractions=function(){this.hasChanges&&(this.prepareHoverTargets(),this.configureInteractions())},t.BLUR_EVENT="blur.automaticHoverInteraction",t.FOCUS_EVENT="focus.automaticHoverInteraction",t.INLINE_LINK_SELECTOR=".inline-link",t}();e.AutomaticHoverInteractionHandler=l;var c=function(){function t(){this.handlers={}}return t.prototype.add=function(t,e,n){if(s.default.hasFeature(u.default.ACCESSIBILITY))if(0!==e.length){var i=t.$el.attr("id");this.handlers[i]?this.handlers[i].update(t,e):this.handlers[i]=new l(t,e,n)}else this.remove(t.$el)},t.prototype.prepareAccessibleHoverTargets=function(){Object.values(this.handlers).forEach((function(t){return t.prepareHoverTargets()}))},t.prototype.initInteractions=function(){Object.values(this.handlers).forEach((function(t){return t.configureInteractions()}))},t.prototype.refreshInteractions=function(){Object.values(this.handlers).forEach((function(t){return t.refreshInteractions()}))},t.prototype.remove=function(t){var e=t.attr("id");this.handlers[e]&&(this.handlers[e].unbindEvents(),delete this.handlers[e])},t}();e.AutomaticHoverInteractionCollection=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAreaComponentFactory=void 0;var i=n(158),r=n(376),o=n(377),a=n(378),s=n(379),u=function(){function t(){}return t.createHoverAreaComponent=function(t){switch(t.options.type){case"shape-component":switch(t.options.shape){case"circle":return new r.CircleHoverAreaComponentView({component:t});case"triangle":case"right-triangle":return new s.TriangleHoverAreaComponentView({component:t});default:return new i.HoverAreaComponentView({component:t})}case"line-component":return new a.LineHoverAreaComponentView({component:t});case"custom-shape-component":return new o.CustomShapeHoverAreaComponentView({component:t});default:return new i.HoverAreaComponentView({component:t})}},t}();e.HoverAreaComponentFactory=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CircleHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getCircleDimensions(),e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttributeNS(null,"cx",t.cx.toString()),e.setAttributeNS(null,"cy",t.cy.toString()),e.setAttributeNS(null,"rx",t.rx.toString()),e.setAttributeNS(null,"ry",t.ry.toString()),e},e}(n(73).AbstractCustomPathHoverAreaComponentView);e.CircleHoverAreaComponentView=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeHoverAreaComponentView=void 0;var o=n(73),a=n(51),s=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=a.CustomPathSVGUtil.generateCurveCoords(this.options.component.options.path,this.options.component.options.isClosedPath),e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e},e}(o.AbstractCustomPathHoverAreaComponentView);e.CustomShapeHoverAreaComponentView=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineHoverAreaComponentView=void 0;var o=n(73),a=n(51),s=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getPoints(),e=a.CustomPathSVGUtil.generateCurveCoords(t,!1),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"d",e),n},e.prototype.renderStroke=function(){this.getHoverAreaTarget().css("stroke","transparent"),this.getHoverAreaTarget().css("stroke-width",this.options.component.options.lineWidth||0)},e}(o.AbstractCustomPathHoverAreaComponentView);e.LineHoverAreaComponentView=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TriangleHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getPoints(),e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttributeNS(null,"points",this.options.component.coodinatesToPointsString(t)),e},e}(n(73).AbstractCustomPathHoverAreaComponentView);e.TriangleHoverAreaComponentView=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(126)),u=i(n(86)),l=i(n(3)),c=i(n(40)),d=i(n(15)),h=i(n(85)),f=function(t){this.initialize(t)};f.prototype={documentVersion:null,marginTopCallback:null,module:null,cachedScale:{},initialize:function(t){this.documentVersion=t.documentVersion,this.marginTopCallback=t.marginTopCallback,this.module=t.module},getCurrentWindowScaleContext:function(){var t=r.default(window),e=c.default.getExperienceContainerDimensions(t);return this._calculateScaleInternal(e.width,e.height)},isPreviewFullScreenMode:function(){return a.default.previewMode&&c.default.fullScreenMode},_calculateScaleInternal:function(t,e){var n=this.documentVersion.getExperienceWidth(),i=a.default.heightOverride||this.documentVersion.getExperienceHeight(),s=this.documentVersion.getScaleExperience(),f=r.default(window),p=c.default.getExperienceContainerDimensions(f),g=t+"x"+e+"-"+p.width+"x"+p.height+"-"+d.default.getVariant()+"-"+h.default.getInstance().getCurrentZoom();if(!o.default.has(this.cachedScale,g)){var m={width:t,height:e,marginTop:this.marginTopCallback(),windowWidth:t,windowHeight:e,ratio:1,constrainedByHeight:!1,constrainedByWidth:!1,originalWindowWidth:p.width,originalWindowHeight:p.height},v=m.windowHeight+l.default.getSlackHeight(m.windowHeight)-m.marginTop;m.height=v;var y=this.documentVersion.getScaleExperienceType()===u.default.SCALE_EXPERIENCE_TYPE.FULL_WIDTH;this.calculateDoScaling(m,n,i,v,s,y),m.adjustedRatio=m.ratio*l.default.pixelRatio(),this.cachedScale[g]=m}return this.cachedScale[g]},calculateDoScaling:function(t,e,n,i,r,o){if(r){var a=n/e>i/t.windowWidth,s=h.default.getInstance().getCurrentZoom();o||!a?(t.constrainedByWidth=!0,t.width=t.windowWidth,t.ratio=t.width/e):(t.constrainedByHeight=!0,t.ratio=t.height/n,t.width=e*t.ratio*s),t.ratio*=s}},getPageScaleContext:function(t){var e=this.getCurrentWindowScaleContext();if(this.documentVersion.getScaleExperience()){var n=t.getPageHeight(this.documentVersion),i=this.documentVersion.getExperienceWidth(),r=n<=Math.round(e.height/e.ratio);e.constrainedByWidth&&!r&&(e=this.calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit(e,i,n))}return e},calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit:function(t,e,n){for(var i=s.default.getScrollbarWidth()*t.ratio,r=i;r>=0;r--){var o=(t.width-i+r)/e;if(!0===n<=Math.round(t.height/o)){i-=r;break}}var a=t.originalWindowWidth-i;return t=this._calculateScaleInternal(a,t.originalWindowHeight)},useZoom:function(t){var e=l.default.isIpad();return(!e||!l.default.isIosGreaterThanOrEqualTo(13))&&(e||this.doBlurryFontFix(t))},doBlurryFontFix:function(t){return(l.default.isBrowserChrome()&&l.default.desktop()||l.default.isDesktopSafari())&&t>=.8}},e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PAGES:"&#xe001;",FACEBOOK:"&#xe002;",EMAIL:"&#xe003;",CART:"&#xe004;",LINK:"&#xe005;",TWITTER:"&#xe006;",LEFT_ARROW:"&#xe007;",PINTEREST:"&#xe008;",RIGHT_ARROW:"&#xe009;",SHARE:"&#xe000;"}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageEditView=void 0;var o=n(159),a=n(383),s=n(131),u=n(427),l=function(t){function e(e){var n=t.call(this,e)||this;return n.editableAreas=[],n.hideNonSelectedNodes=function(){n.editableAreas.forEach((function(t){t.isSelected()||t.parentEditableArea||t.hide()})),n.stackManager.hideAll()},n.showNonSelectedNodes=function(){n.editableAreas.forEach((function(t){t.isSelected()||t.parentEditableArea||t.show()})),n.stackManager.showAll()},n.prerenderer=new a.PageEditViewPrerenderer(n),n.stackManager=new u.PageStackManager(n),n.playerView.on(s.PAGE_EVENTS.REMOTE_CHANGE_DONE,n.applyRemoteChangeEditor.bind(n)),n.playerView.on(s.PAGE_EVENTS.PAGE_RELOAD_DONE,n.editorReload.bind(n)),n}return r(e,t),e.prototype.applyRemoteChangeEditor=function(){this.stackManager.recalculateStacks()},e.prototype.editorReload=function(){this.stackManager.recalculateStacks()},e.prototype.render=function(){return t.prototype.render.call(this),this.stackManager.renderAll(),this},e.prototype.addEditableArea=function(t){this.editableAreas.push(t)},e.prototype.getGenericModelSaveHandler=function(){var t=this;return function(e,n){t.playerView.model.layerDocPersister.saveModelChanges(n)}},e.prototype.getEditableAreas=function(){return this.editableAreas},e.prototype.addEditableAreaToDOM=function(t){return this.prerenderer.addEditableAreaToDOM(t)},e.prototype.deleteEditableAreas=function(){this.editableAreas.forEach((function(t){return t.$el.remove()})),this.editableAreas=[]},e.prototype.isEditAreaNear=function(t,e){return this.stackManager.isEditAreaNear(t,e)},e.prototype.deleteStackViews=function(){return this.stackManager.deleteStackViews()},e.prototype.generateEditableStackView=function(t){return this.stackManager.generateEditableStackView(t)},e}(o.AbstractEditView);e.PageEditView=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageEditViewPrerenderer=void 0;var r=n(160),o=n(384),a=i(n(132)),s=i(n(3)),u=function(){function t(t){this.pageView=t;var e=new a.default(t);this.playerView=e,r.PlayerLink(this,e)}return t.prototype.initPrerenderQueue=function(){this.playerView.initPrerenderQueue.call(this),this.createHTMLContainers(),this.playerPinnedContainer.appendTo(this.playerView.pinnedDocFrag),this.playerContainer.appendTo(this.playerView.docFrag),this.pinnedEditContainer.appendTo(this.playerView.pinnedDocFrag),this.editDocContainer.appendTo(this.playerView.docFrag),this.pageView.deleteEditableAreas(),this.pageView.deleteStackViews()},t.prototype.createObjectView=function(t){return t=this.pageView.playerView.applyPageContext(t),o.ComponentEditViewFactory.createEditComponentFromObject(t,this.pageView)},t.prototype.addComponentToDOM=function(t){var e=t.playerView.options.fixedPosition&&s.default.desktop()?this.playerPinnedContainer:this.playerContainer;this.addViewToDOM(e[0],t)},t.prototype.addViewToDOM=function(t,e){this.playerView.addViewToDOM(t,e.playerView),e.editableArea&&(this.pageView.addEditableArea(e.editableArea),this.addEditableAreaToDOM(e.editableArea,e.playerView.options.fixedPosition))},t.prototype.createHTMLContainers=function(){this.pinnedEditContainer=this.createEditorViewportChild("pinned-edit-area-container"),this.editDocContainer=this.createEditorViewportChild("edit-area-container"),this.playerPinnedContainer=this.createEditorViewportChild("editor-player-pinned-container"),this.playerContainer=this.createEditorViewportChild("editor-player-container")},t.prototype.createEditorViewportChild=function(t){return $('<div id="'+t+'" class="editor-viewport-child"></div>')},t.prototype.addEditableAreaToDOM=function(t,e){var n=e&&s.default.desktop()?this.pinnedEditContainer:this.editDocContainer;this.playerView.addViewToDOM(n[0],t),this.playerView.setObjectViewToNextHighestZIndex(t);var i=this.pageView.generateEditableStackView(t);i&&this.addEditableAreaToDOM(i,e)},t}();e.PageEditViewPrerenderer=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentEditViewFactory=void 0;var r=n(100),o=n(410),a=n(412),s=i(n(134)),u=n(101),l=function(){function t(){}return t.createEditComponentFromObject=function(t,e){var n=s.default.createComponentFromObject(t);switch(t.type){case u.EditViewType.IMAGE:return new a.ImageComponentEditView(n,e);case u.EditViewType.TEXT:return new o.TextComponentEditView(n,e);default:return new r.AbstractComponentEditView(n,e)}},t}();e.ComponentEditViewFactory=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorComponentModelFactory=void 0;var i=n(101),r=n(386),o=n(406),a=function(){function t(){}return t.createModelFromOptions=function(t){switch(t.type){case i.EditViewType.TEXT:return new r.EditorTextComponentModel(t);case i.EditViewType.IMAGE:return new o.EditorImageComponentModel(t);default:return null}},t}();e.EditorComponentModelFactory=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTextComponentModel=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(161).AbstractComponentEditorModel);e.EditorTextComponentModel=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={COLORS:{DUSTY_GRAY:"#999999",CEROS_BLUE:"#05c3de",CEROS_RED:"#f6323e",CEROS_GOLD:"#EFB16B",CASTLE_ROCK:"#192024",LAVA_STONE:"#282f36",PEBBLE:"#353D43",PEBBLE_70P:"rgba(53, 61, 67, 0.7)",RIVER_BED:"#47535B",COAL:"#161A1F",PEWTER:"#414B51",ASH:"#5f6568",WHITE:"#FFFFFF",ALIEN:"#00ffb4",MAGENTA:"#FF00FF",PINK:"#FF75FF",RED:"#FF0000",HYPERLINK_BLUE:"#0000FF"}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e){this.initialize(t,e)};o.prototype={initialize:function(t,e){this.model=t,this.changes={},this.doNotBuffer=!1,e&&this.add(e)},setDoNotBuffer:function(){return this.doNotBuffer=!0,this},canBuffer:function(){return!this.doNotBuffer},total:function(){return r.default.size(this.changes)},add:function(t){return r.default.extend(this.changes,t),this},remove:function(t){if(this.total()>0){r.default.isArray(t)||(t=[t]);var e=r.default.partial(r.default.unset,this.changes);r.default.map(t,e)}return this},getChanges:function(){return this.changes}},e.default=o},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusModel=e.CustomShapeModel=e.GroupModel=e.CanvasBackgroundModel=e.UnsupportedComponentModel=e.TextModel=e.VideoModel=e.ShapeModel=e.LineModel=e.ImageModel=e.HtmlModel=e.HotspotPathModel=e.HotspotModel=e.MarketoFormModel=e.HubspotFormModel=e.ChartblocksModel=e.AbstractFormModel=e.AbstractComponentModel=e.AbstractPageObjectModel=e.AbstractPageSubModel=void 0;var a=o(n(390));e.AbstractPageSubModel=a;var s=o(n(162));e.AbstractPageObjectModel=s;var u=o(n(17));e.AbstractComponentModel=u;var l=o(n(102));e.AbstractFormModel=l;var c=o(n(391));e.ChartblocksModel=c;var d=o(n(392));e.HubspotFormModel=d;var h=o(n(393));e.MarketoFormModel=h;var f=o(n(394));e.HotspotModel=f;var p=o(n(395));e.HotspotPathModel=p;var g=o(n(396));e.HtmlModel=g;var m=o(n(397));e.ImageModel=m;var v=o(n(398));e.LineModel=v;var y=o(n(163));e.ShapeModel=y;var _=o(n(399));e.VideoModel=_;var b=o(n(400));e.TextModel=b;var T=o(n(401));e.UnsupportedComponentModel=T;var w=o(n(402));e.CanvasBackgroundModel=w;var S=o(n(403));e.GroupModel=S;var E=o(n(404));e.CustomShapeModel=E;var O=o(n(405));e.TextPlusModel=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0,e.defaults={parent:null,sdkTags:[],sdkPayload:""},e.supported=Object.keys(e.defaults)},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=a(n(17)),l=n(14);e.defaults=i(i(i({},u.defaults),l.MODEL_DEFAULTS),{title:"ChartBlocks Chart",chartId:null,chartName:null,requestToken:null,imageUrl:null,svgUrl:null}),e.supported=s(u.supported,Object.keys(l.MODEL_DEFAULTS),["chartId","chartName","requestToken","imageUrl","svgUrl"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=a(n(102)),l=n(14);e.defaults=i(i(i({},u.defaults),l.MODEL_DEFAULTS),{title:"Hubspot Form",hubId:""}),e.supported=s(u.supported,Object.keys(l.MODEL_DEFAULTS),["css","hubId"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=a(n(102)),l=n(14);e.defaults=i(i(i({},u.defaults),l.MODEL_DEFAULTS),{title:"Marketo Form",munchkinId:"",formHash:"",marketoInstanceUrl:""}),e.supported=s(u.supported,Object.keys(l.MODEL_DEFAULTS),["munchkinId","formHash","marketoInstanceUrl"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(17)),c=n(14);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Hotspot"}),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported),["background","border","opacity","shadow"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(17)),c=n(14);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Hotspot"}),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported),["background","border","opacity","shadow"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=a(n(17)),l=n(14);e.defaults=i(i(i({},u.defaults),l.MODEL_DEFAULTS),{title:"Embedded Object",customHtml:"",thumbnailUrl:null,progress:null}),e.supported=s(Object.keys(l.MODEL_DEFAULTS),["customHtml","width","height","x","y","fixedPosition","preserveAspectRatio","progress","sdkTags","sdkPayload"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.maskedImageViewOptions=e.maskedImageHoverOptions=e.maskedImageClickOptions=e.objectStateSupportedProperties=e.objectStateSupportedPropertiesForImageMaskBase=e.supportedAlphaMaskImage=e.supportedShapeMaskImageBase=e.supportedVector=e.supported=e.defaults=void 0;var u=s(n(0)),l=n(89),c=n(50),d=n(5),h=a(n(17));e.defaults=i(i({},h.defaults),{title:"Image",image:null,preserveAspectRatio:!0,altText:null,contentType:null,createDate:null,nounProjectIconId:null,gettyImageId:null,gettyVideoId:null,crop:null,effects:l.ImageEffects.getDefaults(),blendingMode:c.BlendingModes.getDefault(),originalUri:null,backgroundRemovedUri:null,originalDimensions:null,backgroundRemovedDimensions:null,flipHorizontal:!1,flipVertical:!1}),e.supported=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"background"),e.supportedVector=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"shadow","border"),e.supportedShapeMaskImageBase=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"animations","background","animationsRepeatAll","animationsReplayOnScroll","fill","exitAnimations"),e.supportedAlphaMaskImage=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"animations","background","animationsRepeatAll","border","animationsReplayOnScroll","fill","exitAnimations","shadow"),e.objectStateSupportedPropertiesForImageMaskBase=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"animations","background","animationsRepeatAll","border","animationsReplayOnScroll","fill","exitAnimations","shadow"),e.objectStateSupportedProperties=u.default.union(h.objectStateSupportedProperties,["border","shadow","effects","flipHorizontal","flipVertical","blendingMode"]),e.maskedImageClickOptions=[d.ActionTypes.changeState],e.maskedImageHoverOptions=[d.ActionTypes.changeState],e.maskedImageViewOptions=[d.ActionTypes.changeState]},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(17)),c=n(14);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Line",x2:0,y2:0,width:1,height:1,lineWidth:null,color:null}),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported),["rotation","width","height","background","border","corner-radius"]),e.objectStateSupportedProperties=u.default.union(l.objectStateSupportedProperties,["x2","y2","border","shadow","lineWidth","color"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(0)),l=s(n(144)),c=a(n(17)),d=n(14);e.defaults=i(i(i({},c.defaults),d.MODEL_DEFAULTS),{title:"Video",videoAutoPlay:!1,noAutoplayFallbackOption:l.default.NO_AUTOPLAY_FALLBACK_OPTIONS.TAP_TO_PLAY,mutedAutoplayFallbackOption:l.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.PLAY_MUTED_VIDEO,videoLoop:!1,videoHideControls:!1,video:null,poster:null,closedCaption:null,progress:null,createDate:null}),e.supported=u.default.without(u.default.union(Object.keys(e.defaults),c.supported),"rotation","interactions","background","border","corner-radius","constrain")},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.variantDefaults=e.defaults=void 0;var u=s(n(0)),l=s(n(28)),c=n(42),d=a(n(17)),h=a(n(14));e.defaults=i(i(i({},d.defaults),c.MODEL_DEFAULTS),h.MODEL_DEFAULTS),e.variantDefaults={defaultSpan:{fontColor:"rgb(0,0,0)",fontSize:24,variantGuid:l.default.DEFAULT_FONT_VARIANT_GUID,underline:!1,letterSpacing:0}},e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),d.supported,["autoLeading","indent","justify","columns","columnGap","columnWidth","leading","paddingTop","paddingRight","paddingBottom","paddingLeft","kerning","textShadow","defaultSpan","textSpans","textTransform","synced","htmlTag","hiddenFromScreenReaders"]),["background","border","corner-radius","shadow"]),e.objectStateSupportedProperties=u.default.union(d.objectStateSupportedProperties,["defaultSpan","justify","leading"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var s=a(n(17));e.defaults=i(i({},s.defaults),{title:"Unsupported"}),e.supported=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0,e.defaults={title:"Canvas Background",x:0,y:0,rotation:0,background:{color:"#FFFFFF"}},e.supported=["pageHeight","viewportWidth","viewportHeight","scaleExperienceType","background","backgroundHasBeenSet"]},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(0)),l=n(14),c=a(n(17));e.defaults=i(i({},c.defaults),l.SECTION_DEFAULTS);var d=u.default.difference(Object.keys(e.defaults),["background","border","shadow"]);e.supported=u.default.union(d,["linkInteraction",l.properties.SCREEN_READER_ONLY_TEXT])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supportedMaskGroupCustomShape=e.supported=e.defaults=void 0;var l=u(n(0)),c=a(n(17)),d=n(14),h=n(163);e.defaults=i(i(i({},c.defaults),d.MODEL_DEFAULTS),{title:"Custom Shape"}),e.supported=l.default.without(l.default.union(Object.keys(e.defaults),c.supported),"corner-radius"),e.supportedMaskGroupCustomShape=l.default.without(s(h.supportedSquare,["mustHaveFill"]),"animations","animationsRepeatAll","animationsReplayOnScroll","corner-radius","border","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.objectStateSupportedProperties=l.default.union(c.objectStateSupportedProperties,["border","background","shadow","path"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(17));e.defaults=i({},l.defaults),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported,["textData"]),["background","border","corner-radius","shadow"]),e.objectStateSupportedProperties=u.default.union(l.objectStateSupportedProperties,["defaultSpan","justify","leading"])},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EditorImageComponentModel=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(161).AbstractComponentEditorModel);e.EditorImageComponentModel=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditableAreaViewFactory=void 0;var i=n(74),r=n(408),o=n(409),a=n(101),s=function(){function t(){}return t.create=function(t){switch(t.playerView.options.type){case a.EditViewType.TEXT:return new r.TextEditableAreaView(t);case a.EditViewType.IMAGE:return new o.ImageEditableAreaView(t);default:return new i.EditableAreaView(t)}},t}();e.EditableAreaViewFactory=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditableAreaView=void 0;var o=n(74),a=n(27),s=n(55),u=function(t){function e(e){var n=t.call(this,e)||this;return n.negativeOffsetLeft=-2,n.styleIgnore=["background-color","color","padding-top","padding-bottom","padding-left","padding-right","top","z-index"],n.componentView=e,n.id="editable-text-"+n.componentView.id,n.editAreaType=s.EditableAreaViewType.TEXT,n.offset.border=5,n}return r(e,t),e.prototype.copyStyles=function(t,e){var n=this;e.style.forEach((function(i){var r=e.style[i];n.styleIgnore.includes(i)||(t[0].style[i]=r)}));var i=function(t){return 0|t.replace(/\D/g,"")};i(e.style["line-height"])>i(e.style.height)&&(t[0].style.height="auto")},e.prototype.createTextArea=function(){var t=$('<span class="textwrapper"><textarea class="textedit"></textarea></span>'),e=t.find("textarea"),n=this.componentView.playerView,i=n.$el;this.copyStyles(e,i[0]),e.text(i.text());var r=i.children(),o=parseInt(r.css("top"),10)||0,s=parseInt(e.css("height"),10)||0;if(s>0)s+=2*this.offset.border,t.css("height",s),e.css("height",s+Math.abs(o));else{var u=parseInt(this.getBorder().css("height"),10)||0;t.css("height",u)}var l=parseInt(e.css("width"),10)||0;t.css("width",l+2*this.offset.border),e.css("width",l);var c=parseInt(r.css("left"),10)||0;if(t.css("left",c),e.css({top:o+this.offset.border,left:c+this.offset.border,resize:"none",overflow:"hidden"}),1===n.options.textSpans.length&&n.options.textContent.length===n.options.textSpans[0].length){var d=r.first().children();d.length&&this.copyStyles(e,d[0])}return a.CssUtils.setTransformToElement(t,{rotate:0}),a.CssUtils.setTransformToElement(e,{rotate:0}),r.hide(),this.getBorder().append(t),(this.offset.onEdge.top||this.offset.onEdge.bottom)&&this.getNode().hide(),t},e.prototype.configureEditAreaElement=function(){t.prototype.configureEditAreaElement.call(this);var e=parseInt(this.$el.css("left"),10)||0;this.$el.css("left",e+this.negativeOffsetLeft)},e}(o.EditableAreaView);e.TextEditableAreaView=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageEditableAreaView=void 0;var s=n(74),u=n(55),l=a(n(1)),c=function(t){function e(e){var n=t.call(this,e)||this;return n.replaceButtonWidth=79,n.componentView=e,n.id="editable-image-"+n.componentView.id,n.editAreaType=u.EditableAreaViewType.IMAGE,n}return r(e,t),e.prototype.events=function(){return o(o({},t.prototype.events.call(this)),{"click .editable-area-node":"select","click .editable-area-btn-replace":"triggerEditInteraction"})},e.prototype.render=function(){return t.prototype.render.call(this),this.configureEditAreaElement(),this.addReplaceButton(),this},e.prototype.select=function(){this.selected||(t.prototype.select.call(this),this.showReplaceButton())},e.prototype.deselect=function(){this.selected&&(t.prototype.deselect.call(this),this.hideReplaceButton())},e.prototype.calculateXFlipThreshold=function(){return this.replaceButtonWidth},e.prototype.addReplaceButton=function(){this.btnReplaceEl=l.default('\n      <button class="editable-area-btn-replace editable-area-btn-img">\n        Replace\n      </button>\n    '),this.offset.onEdge.top&&this.btnReplaceEl.css({top:-this.node.size+"px"}),this.offset.onEdge.right&&this.btnReplaceEl.addClass("left-hand-btn"),this.$el.append(this.btnReplaceEl),this.hideReplaceButton()},e.prototype.showReplaceButton=function(){var t;null===(t=this.btnReplaceEl)||void 0===t||t.show()},e.prototype.hideReplaceButton=function(){var t;null===(t=this.btnReplaceEl)||void 0===t||t.hide()},e.prototype.configureEditAreaElement=function(){t.prototype.configureEditAreaElement.call(this),this.componentView.playerView.isBaseMaskObject()&&this.setEditAreaPositionFromMaskPosition()},e.prototype.setEditAreaPositionFromMaskPosition=function(){var t=this.componentView.playerView.getComponentAbsolutePosition(),e=this.componentView.getImagePositionFromMaskGroup();this.$el.css({left:t.componentLeft+e.x+"px",top:t.componentTop+e.y+"px"})},e.prototype.enableEditableAreaDeselection=function(){var e=this;t.prototype.enableEditableAreaDeselection.call(this),l.default(document).off("click").on("click",(function(t){var n=l.default(t.target);0===n.closest("#"+e.id).length&&0===n.closest(".file-choose").length&&0===n.closest(".stack-item").length&&e.deselect()}))},e}(s.EditableAreaView);e.ImageEditableAreaView=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.TextComponentEditView=void 0;var l=n(100),c=n(42),d=n(411),h=u(n(0)),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editOpen=!1,e.shouldSaveEdit=!0,e}return r(e,t),e.prototype.handleEdit=function(){var t,e,n,i,r;this.editOpen||(this.wrapperTextEl=null===(t=this.editableArea)||void 0===t?void 0:t.createTextArea(),this.textInputEl=null===(e=this.wrapperTextEl)||void 0===e?void 0:e.find("textarea"),null===(n=this.textInputEl)||void 0===n||n.select(),null===(i=this.textInputEl)||void 0===i||i.on("blur",this.handleEditBlur.bind(this)),null===(r=this.textInputEl)||void 0===r||r.on("keydown",this.handleEditKeydown.bind(this)),this.editOpen=!0)},e.prototype.handleEditKeydown=function(t){var e;"Esc"!==t.key&&"Escape"!==t.key||null===(e=this.textInputEl)||void 0===e||e.blur()},e.prototype.isEditable=function(){return this.playerView.options.editable&&this.playerView.isParagraphMode()&&!d.EditorSharedUtils.textComponentHasIncompatibleFeaturesForEditing(this.playerView.options.textSpans,this.playerView.options.textContent)},e.prototype.handleEditBlur=function(){var t;this.saveEdit(),(null===(t=this.editableArea)||void 0===t?void 0:t.parentEditableArea)&&this.editableArea.hide()},e.prototype.saveEdit=function(){var t,e,n,i,r=null===(t=this.textInputEl)||void 0===t?void 0:t.val();if(this.shouldSaveEdit&&"string"==typeof r&&this.model){this.playerView.setTextFromSDK.call(this,r),this.model.set(c.properties.TEXT_CONTENT,r);var o=this.getFontPropertiesFromTextSpan(this.model);this.model.set(c.properties.DEFAULT_SPAN,o),this.model.set(c.properties.TEXT_SPANS,[]),this.model.save()}null===(e=this.textInputEl)||void 0===e||e.remove(),null===(n=this.wrapperTextEl)||void 0===n||n.remove(),delete this.textInputEl,delete this.wrapperTextEl,this.playerView.$el.children().show(),this.editOpen=!1,this.shouldSaveEdit=!0,null===(i=this.editableArea)||void 0===i||i.deselect()},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.render=function(){return t.prototype.render.call(this)},Object.defineProperty(e.prototype,"allFontsReady",{get:function(){return this.playerView.allFontsReady},enumerable:!1,configurable:!0}),e.prototype.configureAbsoluteCoordinates=function(){t.prototype.configureAbsoluteCoordinates.call(this)},e.prototype.getFontPropertiesFromTextSpan=function(t){var e=t.get(c.properties.TEXT_SPANS),n=t.get(c.properties.DEFAULT_SPAN);if(h.isEmpty(e)||h.isEmpty(e[0]))return n;var i=o({},n),r=t.get(c.properties.TEXT_CONTENT),a=e.find((function(t){return t.length>=r.length}));if(h.isEmpty(a))return n;var s=h.invert(c.properties);return Object.keys(a).forEach((function(t){s[t]&&(i[t]=a[t])})),i},e}(l.AbstractComponentEditView);e.TextComponentEditView=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSharedUtils=void 0;var i=function(){function t(){}return t.textComponentHasIncompatibleFeaturesForEditing=function(t,e){if(t&&1===t.length){var n=t[0];return!!e&&e.length!==n.length}return!!(t&&t.length>0)},t}();e.EditorSharedUtils=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageComponentEditView=void 0;var a=n(100),s=n(413),u=o(n(164)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isEditable=function(){return this.playerView.options.editable},e.prototype.getImagePositionFromMaskGroup=function(){var t=this.playerView.getMaskGroup();if(!(null==t?void 0:t.length))return{x:0,y:0};var e=t[0].options,n=e.absoluteX,i=void 0===n?0:n,r=e.absoluteY;return{x:i,y:void 0===r?0:r}},e.prototype.handleEdit=function(){this.resetEdit();var t=$.Deferred();t.then(this.successfulImageUpload.bind(this)),this.uploadView=new s.EditorImageUploadView({dfObject:t,imageOptions:this.playerView.options}),this.uploadView.chooseSingleFile()},e.prototype.successfulImageUpload=function(t){var e,n,i,r,o;if(t.uri&&t.mimetype){null===(e=this.model)||void 0===e||e.set("image",t.uri),null===(n=this.model)||void 0===n||n.set("contentType",t.mimetype);var a=t.crop||null;null===(i=this.model)||void 0===i||i.set("crop",a),null===(r=this.model)||void 0===r||r.set("altText",""),null===(o=this.model)||void 0===o||o.save(),this.playerView.options.image=t.uri,this.playerView.options.contentType=t.mimetype,this.playerView.options.crop=a;var s=u.default.create(this.playerView.options,t),l=this.pageEditView.playerView.getScaleContext();s.load(l),this.playerView.imageLoader=s,this.playerView.render()}else this.resetEdit()},e.prototype.resetEdit=function(){var t;null===(t=this.uploadView)||void 0===t||t.close()},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.render=function(){return t.prototype.render.call(this)},e.prototype.configureAbsoluteCoordinates=function(){t.prototype.configureAbsoluteCoordinates.call(this)},e}(a.AbstractComponentEditView);e.ImageComponentEditView=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorImageUploadView=void 0;var a=n(414),s=n(416),u=o(n(423)),l=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.handleFileEvent=function(t){var e=this,n=t.target.files;new s.EditorUploader({files:n,uploadForm:this.uploadForm,dfObject:this.options.dfObject,originalImageOptions:this.options.imageOptions}).start().then((function(t){e.options.dfObject.resolve(t)}),this.showErrorMessage.bind(this))},e.prototype.showErrorMessage=function(t){t&&u.default.add(t),this.options.dfObject.reject()},e}(a.AbstractUploadView);e.EditorImageUploadView=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractUploadView=void 0;var l=u(n(1)),c=s(n(9)),d=u(n(0)),h=u(n(415)),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(t){void 0===t&&(t={}),d.default.defaults(t,e.DEFAULT_OPTIONS),this.uploadForm=l.default(c.render(h.default,{acceptedSingleFileTypes:(t.acceptedSingleFileTypes||e.DEFAULT_OPTIONS.acceptedSingleFileTypes).join(","),acceptedMultipleFileTypes:(t.acceptedMultipleFileTypes||e.DEFAULT_OPTIONS.acceptedMultipleFileTypes).join(",")})),this.uploadForm.appendTo("body"),this.uploadInput=this.uploadForm.find(".file-choose"),this.uploadInput.on("change",d.default.bind(this.handleFileEvent,this)),this.multipleUploadInput=this.uploadForm.find(".multi-file-choose"),this.multipleUploadInput.on("change",d.default.bind(this.handleMultipleFiles,this))},e.prototype.chooseSingleFile=function(t){this.uploadInput.attr("accept",t||"*"),this.uploadInput.val(""),this.uploadInput.trigger("click")},e.prototype.chooseMultipleFiles=function(){this.uploadInput.attr("accept","*"),this.multipleUploadInput.val(""),this.multipleUploadInput.trigger("click")},e.prototype.close=function(){this.uploadForm.remove(),t.prototype.close.call(this)},e.prototype.handleFileEvent=function(t){},e.prototype.handleMultipleFiles=function(t){},e.DEFAULT_OPTIONS={acceptedSingleFileTypes:["*"],acceptedMultipleFileTypes:["*"]},e}(n(44).AbstractView);e.AbstractUploadView=f},function(t,e,n){"use strict";n.r(e),e.default='<form class="upload-form" enctype="multipart/form-data" method="POST" style="display: none">\n  <input type="hidden" name="policy" />\n  <input type="hidden" name="signature" />\n  <input type="hidden" name="key" />\n  <input type="hidden" name="AWSAccessKeyId" />\n  <input type="hidden" name="success_action_status" />\n  <input type="hidden" name="acl" />\n  <input type="hidden" name="Content-Type" />\n  <input type="hidden" name="Cache-Control" />\n  <input class="file-choose" name="file" type="file" accept="{{acceptedSingleFileTypes}}" />\n  <input\n    class="multi-file-choose"\n    name="multifile"\n    type="file"\n    accept="{{acceptedMultipleFileTypes}}"\n    multiple\n  />\n</form>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorUploader=void 0;var u,l=n(417),c=s(n(420)),d=s(n(2)),h=n(422);!function(t){t.ONLY_ONE_FILE="Please upload only one image.",t.NO_SIZE="No size data found on image.",t.TOO_SMALL="New image must be the same or larger than the size of the original image",t.WRONG_RATIO="New image must have the same size ratio as the original image",t.GENERIC_FAILED="Unable to process design file please try again."}(u||(u={}));var f=function(t){function e(e){var n=t.call(this,e)||this;return n.mediaUploaderTimeout=6e4,n.resourceType="images",n.ogImage=e.originalImageOptions,n.imageElement=new Image,n}return r(e,t),e.prototype.start=function(){return o(this,void 0,Promise,(function(){var e,n;return a(this,(function(i){switch(i.label){case 0:return e=this,[4,this.convertFileToImage(this.file)];case 1:return e.imageElement=i.sent(),[4,this.getMd5ForFile(this.file)];case 2:return n=i.sent(),this.metadata={md5:n},[2,t.prototype.start.call(this)]}}))}))},e.prototype.getCropInfo=function(t){return this.isSVG(this.file)?null:new h.ImageHelper(this.ogImage).calculatePositionToCropImage(t)},e.prototype.isSVG=function(t){return t.type.search("svg")>-1},e.prototype.getPolicyUrl=function(){var t=this.getPolicyUrlBase()+"image-upload-policy";return this.metadata&&this.metadata.md5&&(t+="/"+this.metadata.md5),t},e.prototype.validateFile=function(t,e){return o(this,void 0,Promise,(function(){var n=this;return a(this,(function(i){return[2,new Promise((function(i,r){return o(n,void 0,Promise,(function(){var n,o,s,u,l;return a(this,(function(a){return(n=this.isFileExtensionSupported(t.name,e.storage.extensions)).result?(o=this.isFileSizeAllowed(t.size,parseInt(e.storage.content_length.min),parseInt(e.storage.content_length.max))).result?(this.metadata={md5:(null===(u=this.metadata)||void 0===u?void 0:u.md5)||"",dimensions:{width:this.imageElement.width,height:this.imageElement.height}},(s=this.validateImageHasValidDimensions()).result?(null===(l=e.md5)||void 0===l?void 0:l.foundMd5)&&e.md5.mediaSlug?(this.fetchMetadata(e.md5.mediaSlug),[2]):(i(),[2]):(r(s.error),[2])):(r(o.error),[2]):(r(n.error),[2])}))}))}))]}))}))},e.prototype.getUploadTimeout=function(){return this.mediaUploaderTimeout},e.prototype.validateImageHasValidDimensions=function(){var t,e=null===(t=this.metadata)||void 0===t?void 0:t.dimensions;if(!e)return{result:!1,error:u.NO_SIZE};var n=this.ogImage.width,i=this.ogImage.height;return e.width<n||e.height<i?{result:!1,error:u.TOO_SMALL}:{result:!0,error:""}},e.prototype.handleUploadCompleted=function(t){var e,n,i,r;return o(this,void 0,Promise,(function(){var o=this;return a(this,(function(a){return this.uploadMediaDetailsToDB({mediaType:"image",key:t.key,bucket:t.bucket,fileName:this.file.name,fileSize:this.file.size,mimeType:this.file.type,contentType:this.file.type,width:(null===(n=null===(e=this.metadata)||void 0===e?void 0:e.dimensions)||void 0===n?void 0:n.width)||0,height:(null===(r=null===(i=this.metadata)||void 0===i?void 0:i.dimensions)||void 0===r?void 0:r.height)||0}).then((function(e){var n;t.uri=e.uri,t.id=e.uri,t.mimetype=o.file.type,t.original=null===(n=o.metadata)||void 0===n?void 0:n.dimensions,t.crop=o.getCropInfo(o.imageElement),o.uploadPromise.resolve(t)}),(function(){o.uploadPromise.reject(u.GENERIC_FAILED)})),[2]}))}))},e.prototype.handleUploadFailed=function(t){this.uploadPromise.reject(t)},e.prototype.convertFileToImage=function(t){return o(this,void 0,Promise,(function(){return a(this,(function(e){return[2,new Promise((function(e,n){var i=new FileReader;i.onload=function(){var t=new Image;t.onload=function(){e(t)},t.onerror=n,t.src=i.result},i.readAsDataURL(t)}))]}))}))},e.prototype.getMd5ForFile=function(t){return o(this,void 0,Promise,(function(){return a(this,(function(e){return[2,new Promise((function(e,n){var i=new FileReader;i.onload=function(t){if(t.target){var i=c.default.md5(t.target.result);e(i)}else n()},i.readAsBinaryString(t)}))]}))}))},e.prototype.fetchMetadata=function(t){var e=this,n="/rest/v1/account/"+d.default.accountSlug+"/"+this.resourceType+"/"+t+"/metadata";$.ajax(n).done((function(t){t.id=t.uri,t.crop=e.getCropInfo(e.imageElement),e.uploadPromise.resolve(t)})).fail((function(t){e.uploadPromise.reject(t)}))},e.prototype.uploadMediaDetailsToDB=function(t){return new Promise((function(e,n){var i="/rest/v1/account/"+d.default.accountSlug+"/image-upload";$.ajax({url:i,type:"POST",data:JSON.stringify(t),success:function(t){return e(t)},error:function(){console.log("Failed to create a media record for "+JSON.stringify(t)),n()}})}))},e}(l.AbstractUploader);e.EditorUploader=f},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractUploader=void 0;var a=o(n(1)),s=o(n(2)),u=o(n(418)),l=o(n(419)),c=function(){function t(t){Array.isArray(t.files)||t.files instanceof FileList?this.file=t.files[0]:this.file=t.files,this.uploadForm=t.uploadForm,this.uploadPromise=t.dfObject||a.default.Deferred(),this.defaultContentType=t.defaultContentType||""}return t.prototype.getPolicyUrlBase=function(){return"/rest/"+s.default.apiVersion+"/account/"+s.default.accountSlug+"/"},t.prototype.track=function(t){},t.prototype.handleUploadCompleted=function(t,e){return i(this,void 0,Promise,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.uploadPromise.resolve(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.start=function(){return i(this,void 0,Promise,(function(){var t,e,n,i;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),[4,this.getFileUploadPolicy()];case 1:return t=r.sent(),[4,this.validateFile(this.file,t)];case 2:return r.sent(),[4,this.uploadFile(t)];case 3:return e=r.sent(),(n=this.uploadForm[0])&&n.reset(),[4,this.handleUploadCompleted(e,t)];case 4:return r.sent(),[3,6];case 5:return i=r.sent(),this.handleUploadFailed(i),[3,6];case 6:return[2,this.uploadPromise.promise()]}}))}))},t.prototype.uploadFile=function(t){var e=this;this.configureUploadForm(this.uploadForm,t.s3form,this.file.type||this.defaultContentType,this.file.name);var n=a.default.Deferred();return new l.default({uploadPromise:n,uploadForm:this.uploadForm,uploadFiles:[this.file],timeout:this.getUploadTimeout()}).start(),this.track(n),n.promise().progress((function(t){e.uploadPromise.notify({state:"s3-upload-in-progress",message:t.message,progress:t.progress})})).then((function(e){var n=a.default.parseXML(e),i=a.default(n).find("Bucket").first().text(),r=a.default(n).find("Key").first().text();return{bucket:i,key:r,url:t.storage.url_prefix1+r}}))},t.prototype.configureUploadForm=function(t,e,n,i){var r=this.createFileKeyFromS3Key(e.key,i);t.attr("action",e.formAction),t.find('input[name="key"]').val(r),t.find('input[name="AWSAccessKeyId"]').val(e.awsAccessKeyId),t.find('input[name="acl"]').val(e.acl),t.find('input[name="Cache-Control"]').val(e.cache_control),t.find('input[name="policy"]').val(e.policy),t.find('input[name="signature"]').val(e.signature),t.find('input[name="Content-Type"]').val(n),t.find('input[name="success_action_status"]').val(e.success_action_status)},t.prototype.createFileKeyFromS3Key=function(t,e){var n=e.split("."),i=n.pop(),r=n.join();return t.replace("${filename}",u.default.createSlug(r))+"."+i},t.prototype.getFileUploadPolicy=function(){var t=this.getPolicyUrl();return a.default.get(t)},t.prototype.isFileExtensionSupported=function(t,e){var n=(t.split(".").pop()||"").toLowerCase(),i=e.some((function(t){return t.toLowerCase()===n})),r="";return i||(r="File extension "+n+" is not supported.  Please use one of the following: "+e.join(", ")),{result:i,error:r}},t.prototype.isFileSizeAllowed=function(e,n,i){var r="",o=e>=n&&e<=i;return o||(r=e<n?'"'+this.file.name+'" is too small. Please check that it is a valid file and try again.':"The uploaded file is too large.  The maximum allowed size is "+Math.floor(i/t.SIZE_MEGABYTE)+"MB"),{result:o,error:r}},t.SIZE_MEGABYTE=1048576,t}();e.AbstractUploader=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={createSlug:function(t,e){null===e&&(e=!1);var n="",i="";n=(n=t.substring(0,255)).toLowerCase();for(var r=0;r<n.length;r++){var o=n.charCodeAt(r);o<=127&&(i+=String.fromCharCode(o)),o>=224&&o<=229||o>=192&&o<=198||o>=281&&o<=286?i+="a":o>=232&&o<=235||o>=200&&o<=203?i+="e":o>=236&&o<=239||o>=204&&o<=207?i+="i":o>=242&&o<=248||o>=210&&o<=216?i+="o":o>=249&&o<=252||o>=217&&o<=220?i+="u":253==o||255==o||221==o||376==o?i+="y":230==o||198==o?i+="ae":338==o||339==o?i+="oe":199==o||231==o?i+="c":209==o||241==o?i+="n":352==o||353==o?i+="s":208==o||240==o?i+="eth":223==o?i+="sz":o>=8219&&o<=8223||8242==o||8243==o||8216==o||8217==o||168==o||180==o||729==o||733==o||(188==o?i+="-one-quarter-":189==o?i+="-one-half-":190==o?i+="-three-quarters-":178==o?i+="-squared-":179==o?i+="-cubed-":o>127&&(i+="-"))}return n=(n=(n=(n=(n=i).replace(/[\'\"]/gi,"")).replace(/&/gi,"-and-")).replace(/%/gi,"-percent-")).replace(/@/gi,"-at-"),(n=(n=(n=e?n.replace(/[^a-zA-Z0-9\-\/]/gi,"-"):n.replace(/[^a-zA-Z0-9\-]/gi,"-")).replace(/\\/gi,"-")).replace(/\-+/gi,"-")).match(/.+\-$/)&&(n=n.replace(/\-$/gi,"")),n.match(/^\-.+/)&&(n=n.replace(/^\-/gi,"")),e&&(n=n.replace(/\-\/\-/gi,"/")),n=n.trim("/")},addDateToSlug:function(t,e){return e.formatDate("Y/m/d/")+this.removeDateFromSlug(t)},removeDateFromSlug:function(t){for(t=t.trim("/");t.match(/^\d{4}\/\d{2}\/\d{2}\/?(\S+)?/);)t=t.replace(/^\d{4}\/\d{2}\/\d{2}\/?/,"");return t},slugContainsDate:function(t){return t.match(/^\d{4}\/\d{2}\/\d{2}\/?(\S+)?/)},getSlugFromNodeRef:function(t){return t.split(":")[1]},getSlugFromUri:function(t){var e=t.split("/");return e[e.length-1]},getTextFromSlug:function(t){return t.replace(/-/g," ")}};e.default=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=function(t){this.initialize(t)};a.prototype={uploadPromise:null,uploadForm:null,uploadXHR:null,options:null,timeout:6e4,uploadFiles:null,initialize:function(t){this.uploadPromise=t.uploadPromise,this.uploadForm=r.default(t.uploadForm),this.timeout=t.timeout||this.timeout,this.uploadFiles=t.uploadFiles},start:function(){this.uploadXHR=new XMLHttpRequest,this.uploadXHR.timeout=this.timeout,this._bindXHRListeners(),this._upload()},cancel:function(){this.uploadPromise.reject({state:"canceled",message:"User canceled upload"}),this.uploadXHR.abort()},_upload:function(){var t=new FormData;this.uploadForm.find("input:not([type=file])").each((function(){var e=r.default(this),n=e.attr("name");t.append(n,e.val())})),t.append("file",this.uploadFiles[0]),this.uploadXHR.open("POST",r.default(this.uploadForm).attr("action"),!0),this.uploadXHR.send(t)},_bindXHRListeners:function(){this.uploadXHR.upload.addEventListener("progress",o.default.bind(this._updateProgress,this),!1),this.uploadXHR.addEventListener("timeout",o.default.bind(this._resolveTimeout,this),!1),this.uploadXHR.addEventListener("error",o.default.bind(this._resolveError,this),!1),this.uploadXHR.addEventListener("loadend",o.default.bind(this._resolveLoading,this),!1)},_resolveError:function(){this._throwError({message:"Please try again. Upload encountered an error before completing."})},_resolveTimeout:function(){this._throwError({message:"Please try again. Upload timed out."})},_resolveLoading:function(t){if(201!==t.target.status){var e,n="";try{var i=r.default.parseXML(t.target.responseText);e=r.default(i).find("Message").first().text(),n="Please try again. File Upload Failed, server returned CODE: "+r.default(i).find("Code").first().text()+"\r\n"+e}catch(t){n="Please try again. File upload failed, did not complete"}this._throwError({message:n})}else this._uploadComplete(t.target.responseText)},_updateProgress:function(t){var e={state:"uploading",message:"Uploading ("+Math.round(t.loaded/t.total*100)+"%)",progress:t.loaded/t.total*100};this.uploadPromise.notify(e)},_uploadComplete:function(t){this._resolve(t)},_throwError:function(t){var e=o.default.extend({state:"error",message:""},t);this.uploadPromise.reject(e)},_resolve:function(t){this.uploadPromise.resolve(t)}},e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(421)),o={md5:function(t){return r.default.md5(t)}};e.default=o},function(t,e,n){"use strict";function i(t,e){var n=t[0],i=t[1],r=t[2],l=t[3];n=o(n,i,r,l,e[0],7,-680876936),l=o(l,n,i,r,e[1],12,-389564586),r=o(r,l,n,i,e[2],17,606105819),i=o(i,r,l,n,e[3],22,-1044525330),n=o(n,i,r,l,e[4],7,-176418897),l=o(l,n,i,r,e[5],12,1200080426),r=o(r,l,n,i,e[6],17,-1473231341),i=o(i,r,l,n,e[7],22,-45705983),n=o(n,i,r,l,e[8],7,1770035416),l=o(l,n,i,r,e[9],12,-1958414417),r=o(r,l,n,i,e[10],17,-42063),i=o(i,r,l,n,e[11],22,-1990404162),n=o(n,i,r,l,e[12],7,1804603682),l=o(l,n,i,r,e[13],12,-40341101),r=o(r,l,n,i,e[14],17,-1502002290),n=a(n,i=o(i,r,l,n,e[15],22,1236535329),r,l,e[1],5,-165796510),l=a(l,n,i,r,e[6],9,-1069501632),r=a(r,l,n,i,e[11],14,643717713),i=a(i,r,l,n,e[0],20,-373897302),n=a(n,i,r,l,e[5],5,-701558691),l=a(l,n,i,r,e[10],9,38016083),r=a(r,l,n,i,e[15],14,-660478335),i=a(i,r,l,n,e[4],20,-405537848),n=a(n,i,r,l,e[9],5,568446438),l=a(l,n,i,r,e[14],9,-1019803690),r=a(r,l,n,i,e[3],14,-187363961),i=a(i,r,l,n,e[8],20,1163531501),n=a(n,i,r,l,e[13],5,-1444681467),l=a(l,n,i,r,e[2],9,-51403784),r=a(r,l,n,i,e[7],14,1735328473),n=s(n,i=a(i,r,l,n,e[12],20,-1926607734),r,l,e[5],4,-378558),l=s(l,n,i,r,e[8],11,-2022574463),r=s(r,l,n,i,e[11],16,1839030562),i=s(i,r,l,n,e[14],23,-35309556),n=s(n,i,r,l,e[1],4,-1530992060),l=s(l,n,i,r,e[4],11,1272893353),r=s(r,l,n,i,e[7],16,-155497632),i=s(i,r,l,n,e[10],23,-1094730640),n=s(n,i,r,l,e[13],4,681279174),l=s(l,n,i,r,e[0],11,-358537222),r=s(r,l,n,i,e[3],16,-722521979),i=s(i,r,l,n,e[6],23,76029189),n=s(n,i,r,l,e[9],4,-640364487),l=s(l,n,i,r,e[12],11,-421815835),r=s(r,l,n,i,e[15],16,530742520),n=u(n,i=s(i,r,l,n,e[2],23,-995338651),r,l,e[0],6,-198630844),l=u(l,n,i,r,e[7],10,1126891415),r=u(r,l,n,i,e[14],15,-1416354905),i=u(i,r,l,n,e[5],21,-57434055),n=u(n,i,r,l,e[12],6,1700485571),l=u(l,n,i,r,e[3],10,-1894986606),r=u(r,l,n,i,e[10],15,-1051523),i=u(i,r,l,n,e[1],21,-2054922799),n=u(n,i,r,l,e[8],6,1873313359),l=u(l,n,i,r,e[15],10,-30611744),r=u(r,l,n,i,e[6],15,-1560198380),i=u(i,r,l,n,e[13],21,1309151649),n=u(n,i,r,l,e[4],6,-145523070),l=u(l,n,i,r,e[11],10,-1120210379),r=u(r,l,n,i,e[2],15,718787259),i=u(i,r,l,n,e[9],21,-343485551),t[0]=h(n,t[0]),t[1]=h(i,t[1]),t[2]=h(r,t[2]),t[3]=h(l,t[3])}function r(t,e,n,i,r,o){return e=h(h(e,t),h(i,o)),h(e<<r|e>>>32-r,n)}function o(t,e,n,i,o,a,s){return r(e&n|~e&i,t,e,o,a,s)}function a(t,e,n,i,o,a,s){return r(e&i|n&~i,t,e,o,a,s)}function s(t,e,n,i,o,a,s){return r(e^n^i,t,e,o,a,s)}function u(t,e,n,i,o,a,s){return r(n^(e|~i),t,e,o,a,s)}function l(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Object.defineProperty(e,"__esModule",{value:!0});var c="0123456789abcdef".split("");function d(t){for(var e="",n=0;n<4;n++)e+=c[t>>8*n+4&15]+c[t>>8*n&15];return e}function h(t,e){return t+e&4294967295}e.default={md5:function(t){return function(t){for(var e=0;e<t.length;e++)t[e]=d(t[e]);return t.join("")}(function(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)i(r,l(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(i(r,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,i(r,o),r}(t))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageHelper=void 0;var i=function(){function t(t){this.ogImage=t}return t.prototype.calculatePositionToCropImage=function(t){var e=this.calculateSidesToCrop(t),n=this.calculateCroppingCoordinates(t,e);return Object.assign(e,n)},t.prototype.calculateSidesToCrop=function(t){var e=this.getImageCropInfo(this.ogImage),n=this.getImageCropInfo(t);return n.aspectRatio>e.aspectRatio?n.width=this.roundNumber(t.height*e.aspectRatio):e.aspectRatio>n.aspectRatio&&(n.height=this.roundNumber(t.width/e.aspectRatio)),{width:n.width,height:n.height}},t.prototype.calculateCroppingCoordinates=function(t,e){return{x:this.calcCenter(t.width,e.width),y:this.calcCenter(t.height,e.height)}},t.prototype.calcCenter=function(t,e){var n=.5*(t-e);return this.roundNumber(n)},t.prototype.roundNumber=function(t){return Math.round(100*t)/100},t.prototype.getImageCropInfo=function(t){return{width:t.width,height:t.height,aspectRatio:t.width/t.height}},t}();e.ImageHelper=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NotificationView=void 0;var s=a(n(4)),u=n(26),l=a(n(1)),c=a(n(0)),d=a(n(9)),h=a(n(424)),f=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.options=e,l.default("body").append(n.$el),n.list=l.default("<ol>"),n.$el.append(n.list),n}return r(e,t),e.prototype.add=function(t,e){var n=l.default(d.default.render(h.default,{msg:t})),i=function(){n.fadeOut((function(){n.remove()}))};n.find("a").on("click",i),e&&c.default.isNumber(e.autoClose)&&c.default.delay(i,e.autoClose),this.list.prepend(n)},e=o([u.BackboneShim({tagName:"div",className:"notification"})],e)}(s.default.View);e.NotificationView=f,e.default=new f},function(t,e,n){"use strict";n.r(e),e.default='<li>\n  <div><span>{{{msg}}}</span></div>\n  <a title="close" class="close"></a>\n</li>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(8)),a=i(n(165)),s=i(n(39)),u=function(t,e){a.default.call(this,t,e)};r.default.extend(u.prototype,a.default.prototype,{loadLowRes:function(t){this.load(t)},load:function(t){if(!this.currentResource){var e=o.default.replaceProtocolIfHttpsRequest(this.url);this.currentResource=s.default.addVectorImage(e,t.shouldRenameCssClassesAndIds),this.currentResource.getPromise().done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))}},getCurrentUrl:function(){return this.url}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(165)),a=i(n(39)),s=i(n(33)),u=i(n(62)),l=function(t,e){o.default.call(this,t,e),this.imageId=e.id,u.default.isValidCropObject(t.crop)?(this.cropDimensions=t.crop,this.originalWidth=this.cropDimensions.width,this.originalHeight=this.cropDimensions.height):(this.originalWidth=r.default.get(e,["original","width"],null),this.originalHeight=r.default.get(e,["original","height"],null))};r.default.extend(l.prototype,o.default.prototype,{imageId:null,originalWidth:null,originalHeight:null,currentUrl:null,currentWidth:-1,cropDimensions:null,loadLowRes:function(t){var e=this.componentWidth*t.adjustedRatio,n=this.componentHeight*t.adjustedRatio,i=this._calculateLowResDimensions(e,n);i.width<=50&&i.height<=50?this.load(t):this._loadLowResWidth(i.width,t)},load:function(t){var e=Math.round(this.componentWidth*t.ratio),n=s.default.calculateWidthForDevicePixelRatio(e);this.loadWidth(n).done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))},getCurrentUrl:function(){return this.currentUrl},loadWidth:function(t){if(this.currentResource){if(t<=this.currentWidth)return this.currentResource.getPromise();this.currentResource.cancel()}return this.currentResource=a.default.addRasterImage(this.imageId,t,this.cropDimensions),this.currentResource.getPromise().done(r.default.bind((function(t){this.currentUrl=t.getSrc(),this.currentWidth=t.getWidth()}),this))},_loadLowResWidth:function(t,e){this.loadWidth(t).done(r.default.bind((function(){this.trigger(this.LOW_RES_IMAGE_LOADED_EVENT),this.loadNow(e)}),this))},_calculateLowResDimensions:function(t,e){var n,i,r=Math.min(t,this.originalWidth),o=Math.min(e,this.originalHeight),a=r/this.originalWidth,s=o/this.originalHeight,u=this.originalWidth/this.originalHeight;return a<s?(n=Math.ceil(.25*r),i=Math.ceil(r*u*.25)):(n=Math.ceil(o*u*.25),i=Math.ceil(.25*o)),{width:n,height:i}}}),e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageStackManager=void 0;var r=n(428),o=n(55),a=i(n(16)),s=i(n(18)),u=function(){function t(t){this.pageView=t,this.stackViews=[],this.stackDistance=s.default.getStackDistance()||25}return t.prototype.addStackView=function(t){this.stackViews.push(t)},t.prototype.getStackViews=function(){return this.stackViews},t.prototype.deleteStackViews=function(){this.stackViews.forEach((function(t){return t.$el.remove()})),this.stackViews=[]},t.prototype.hideAll=function(){this.stackViews.forEach((function(t){return t.hide()}))},t.prototype.showAll=function(){this.stackViews.forEach((function(t){return t.show()}))},t.prototype.renderAll=function(){this.stackViews.forEach((function(t){return t.render()}))},t.prototype.recalculateStacks=function(){var t=this;this.deleteStackViews(),this.orphanEditableAreasFromStacks(),this.pageView.getEditableAreas().forEach((function(e){var n=t.generateEditableStackView(e);n&&t.pageView.addEditableAreaToDOM(n)})),this.renderAll()},t.prototype.orphanEditableAreasFromStacks=function(){this.pageView.getEditableAreas().forEach((function(t){var e;(null===(e=t.parentEditableArea)||void 0===e?void 0:e.getType())===o.EditableAreaViewType.STACK&&(t.parentEditableArea=void 0,t.show())}))},t.prototype.generateEditableStackView=function(t){if(t.getType()===o.EditableAreaViewType.STACK)return null;var e=this.getAssignableStack(t);if(e)return e.addChildEditableArea(t),null;var n=this.shouldWeCreateAStack(t);if(n){var i=new r.StackEditableAreaView(t.getComponentView());return i.addChildEditableArea(n),this.addStackView(i),i}return null},t.prototype.getAssignableStack=function(t){var e=this;return this.stackViews.find((function(n){return e.isEditAreaNear(n,t)}))},t.prototype.isEditAreaNear=function(t,e){var n=a.default.distance(t.node.center,e.node.topLeft),i=a.default.distance(t.node.center,e.node.topRight),r=a.default.distance(t.node.center,e.node.bottomLeft),o=a.default.distance(t.node.center,e.node.bottomRight);return n<=this.stackDistance||i<=this.stackDistance||r<=this.stackDistance||o<=this.stackDistance},t.prototype.shouldWeCreateAStack=function(t){var e,n=this;return null===(e=this.pageView.playerView.childViews.find((function(e){var i;return!!e.editableArea&&(e.editableArea.getType()!==o.EditableAreaViewType.STACK&&e.editableArea.id!==t.id&&(null===(i=e.editableArea.parentEditableArea)||void 0===i?void 0:i.getType())!==o.EditableAreaViewType.STACK&&n.isEditAreaNear(e.editableArea,t))})))||void 0===e?void 0:e.editableArea},t}();e.PageStackManager=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StackEditableAreaView=void 0;var a=n(429),s=n(55),u=o(n(430)),l=o(n(0)),c=function(t){function e(e){var n=t.call(this,e)||this;return n.stackListWidth=192,n.id="editable-stack-"+n.componentView.id,e.editableArea&&n.addChildEditableArea(e.editableArea),n.editAreaType=s.EditableAreaViewType.STACK,n.calculateProps(),n}return r(e,t),e.prototype.events=function(){return{"mouseover .editable-area-node":"onNodeHover","mouseout .editable-area-node":"onNodeHoverOut","mouseover .stack-list":"onItemHover","mouseout .stack-list":"onItemHoverOut","click .stack-item":"onStackItemClick"}},e.prototype.onStackItemClick=function(t){this.hoverOut();var e=$(t.target).data("value"),n=this.getChildEditableAreaById(e);n&&(n.show(),n.enable(),n.getType()===s.EditableAreaViewType.IMAGE?n.select():n.triggerEditInteraction())},e.prototype.onItemHover=function(t){this.hover();var e=$(t.target).data("value"),n=this.getChildEditableAreaById(e);n&&n.featured()},e.prototype.onItemHoverOut=function(t){this.hoverOut();var e=$(t.target).data("value"),n=this.getChildEditableAreaById(e);n&&n.unFeatured()},e.prototype.onNodeHover=function(){this.hover(),this.getChildEditableAreas().forEach((function(t){t.featured()}))},e.prototype.onNodeHoverOut=function(){this.hoverOut(),this.getChildEditableAreas().forEach((function(t){t.unFeatured()}))},e.prototype.addChildEditableArea=function(e){t.prototype.addChildEditableArea.call(this,e),e.parentEditableArea=this,e.hide(),this.calculateProps()},e.prototype.removeChildEditableArea=function(e){t.prototype.removeChildEditableArea.call(this,e),e.parentEditableArea=void 0,e.show(),this.calculateProps()},e.prototype.render=function(){return this.calculateProps(),this.$el.html(this.getTemplate()),this.configureEditAreaElement(),this.configureStackListPosition(),this.configureNode(),this.getStackList().hide(),this},e.prototype.recalculateStackChildren=function(){var t=this;this.getChildEditableAreas().filter((function(e){return!t.componentView.pageEditView.isEditAreaNear(t,e)})).forEach((function(e){return t.removeChildEditableArea(e)}))},e.prototype.calculateEditableAreaPosition=function(){var t,e;if(this.childEditableAreaViews){var n=null===(t=l.default.minBy(this.childEditableAreaViews,(function(t){return t.position.x})))||void 0===t?void 0:t.position.x,i=null===(e=l.default.minBy(this.childEditableAreaViews,(function(t){return t.position.y})))||void 0===e?void 0:e.position.y;this.position.x=null!=n?n:this.position.x,this.position.y=null!=i?i:this.position.y}},e.prototype.calculateXFlipThreshold=function(){return this.stackListWidth-this.node.dimensions.width},e.prototype.calculateYFlipThreshold=function(){return this.componentView.pageEditView.playerView.getPageHeight()/2},e.prototype.calculateNodeDimensions=function(){this.node.dimensions.width=52,this.node.dimensions.height=this.node.size},e.prototype.getTemplate=function(){return u.default(this.getChildEditableAreas())},e.prototype.hover=function(){this.getStackList().show(),this.setCaretDown(),this.itemHovered(),this.bringToFront()},e.prototype.hoverOut=function(){this.getStackList().hide(),this.setCaretUp(),this.itemHoveredOut(),this.undoBringToFront()},e.prototype.configureStackListPosition=function(){var t={x:0,y:0};this.offset.onEdge.top&&(t.y=this.border.thickness),this.offset.onEdge.right&&(t.x=this.stackListWidth-this.node.dimensions.width+this.border.thickness),this.offset.onEdge.bottom&&(t.y=this.node.dimensions.height*(this.getChildEditableAreas().length+1)),this.getStackList().css({left:"-"+t.x+"px",top:"-"+t.y+"px"})},e.prototype.configureNode=function(){this.offset.onEdge.top&&this.getNode().css({top:-this.nodeSize+"px"})},e.prototype.getStackList=function(){return this.$el.find(".stack-list")},e.prototype.setCaretUp=function(){this.getNodeCaret().removeClass("caret-down").addClass("caret-up")},e.prototype.setCaretDown=function(){this.getNodeCaret().removeClass("caret-up").addClass("caret-down")},e.prototype.getNodeCaret=function(){return this.getNode().find(".caret")},e.prototype.itemHovered=function(){this.getNode().addClass("item-hovered")},e.prototype.itemHoveredOut=function(){this.getNode().removeClass("item-hovered")},e}(a.EditableAreaCollectionView);e.StackEditableAreaView=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EditableAreaCollectionView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.childEditableAreaViews=[],n}return r(e,t),e.prototype.addChildEditableArea=function(t){this.childEditableAreaViews.find((function(e){return e.id===t.id}))||this.childEditableAreaViews.push(t)},e.prototype.removeChildEditableArea=function(t){var e=this;this.childEditableAreaViews.forEach((function(n,i){t.id===n.id&&e.childEditableAreaViews.splice(i,1)}))},e.prototype.getChildEditableAreas=function(){return this.childEditableAreaViews},e.prototype.getChildEditableAreaById=function(t){return this.childEditableAreaViews.find((function(e){return e.id===t}))},e.prototype.setZIndex=function(t){var e=t+1;this.currentZIndex=e,this.setCssZIndex(e)},e.prototype.resetZIndex=function(){this.currentZIndex=this.zIndex,this.setCssZIndex(this.zIndex)},e}(n(74).EditableAreaView);e.EditableAreaCollectionView=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return'\n    <div class="editable-area-node stack-node">\n        <div class="icon stack"></div>\n        <div class="icon caret caret-up"></div>      \n      </div>\n      <div class="stack-list">\n        <ul>\n          '+function(t){return t.reduce((function(t,e){return t+('\n        <li>\n          <div data-value="'+(n=e).id+'" class="stack-item icon '+n.getType()+'"></div>\n          <div data-value="'+n.id+'" class="stack-item label">'+n.title+"</div>\n        </li>\n      ");var n}),"")}(t)+'\n        </ul>\n      </div>\n      <div class="editable-area-border invisible"></div>\n  '}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorThirdPartyAnalyticsService=void 0;var r=i(n(2)),o=i(n(432)),a=function(){function t(){this.initialized=!1}return t.prototype.initialize=function(){this.initialized?console.warn("analytics already initialized"):(void 0===window.pendo&&o.default(r.default.pendoApiKey),window.pendo&&(window.pendo.initialize({visitor:{id:this.getUserId()},account:{id:this.getAccountSlug()}}),this.initialized=!0))},t.prototype.getUserId=function(){if(r.default.docVersion.activeUsers&&Object.keys(r.default.docVersion.activeUsers).length>0){var t=Object.keys(r.default.docVersion.activeUsers)[0];return r.default.docVersion.activeUsers[t].id}return""},t.prototype.getAccountSlug=function(){return r.default.accountSlug||""},t}();e.EditorThirdPartyAnalyticsService=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){!function(e,n,i,r,o){var a,s,u,l,c;for((o=e[r]=e[r]||{})._q=o._q||[],s=0,u=(a=["initialize","identify","updateOptions","pageLoad","track"]).length;s<u;++s)!function(t){o[t]=o[t]||function(){o._q[t===a[0]?"unshift":"push"]([t].concat([].slice.call(arguments,0)))}}(a[s]);(l=n.createElement(i)).async=!0,l.src="https://cdn.pendo.io/agent/static/"+t+"/pendo.js",(c=n.getElementsByTagName(i)[0]).parentNode.insertBefore(l,c)}(window,document,"script","pendo")}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(6)),a=i(n(1)),s=i(n(0)),u=i(n(39)),l=i(n(31)),c=i(n(22)),d=i(n(3)),h=i(n(434)),f=i(n(2)),p={"click .close":"_close",click:"_backgroundClick"},g={"touchstart .close":"_close",touchstart:"_backgroundClick"};e.default=c.default.extend({id:"lightbox",attributes:{"aria-modal":"true","aria-hidden":"true"},events:(r={},d.default.desktop()&&s.default.extend(r,p),d.default.touch()&&s.default.extend(r,g),r),lightboxWidth:null,lightboxHeight:null,opened:!1,initialize:function(){c.default.prototype.initialize.apply(this,arguments),this._render(),f.default.previewMode&&a.default(window).on("resize",s.default.debounce(s.default.bind(this._handleSizeChangesDueToZoom,this),1))},setSizeAndPosition:function(){if(this.opened){var t=l.default.getInstance();if(t.isActive()){var e=this.$el,n=this.$(".container"),i=t.getVerticalCenterOfVisibleArea(e.height())-this.lightboxHeight/2,r=Math.max(window.innerWidth-this.lightboxWidth,0)/2;e.css({padding:0}),n.css({transform:"none",top:i+"px",left:r+"px"})}if(d.default.smallWindow()){var o=this.lightboxHeight/this.lightboxWidth,a=Math.min(window.innerWidth,this.lightboxWidth);this.$el.addClass("fullscreen-lightbox"),this.$(".container").css({"max-height":o*a})}else this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight});f.default.previewMode&&this._handleSizeChangesDueToZoom()}},_handleSizeChangesDueToZoom:function(){if(this.opened){var t=a.default(".adaptive-layouts-frame #main").get(0).getBoundingClientRect(),e=window.innerWidth/window.outerWidth;this.lightboxWidth=e*this.originalWidth,this.lightboxWidth=Math.min(t.width-2,this.lightboxWidth);var n=0;this.usesCloseButton&&(n=2*e*42),this.lightboxHeight=e*this.originalHeight,this.lightboxHeight=Math.min(t.height-n,this.lightboxHeight),this.usesCloseButton&&this.resizeCloseButton(e),this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight}),this._adjustCenter()}},resizeCloseButton:function(t){var e=16*t,n=40*t;a.default(".ceros-lightbox .close").css({"font-size":e+"px","line-height":n+"px",height:n+"px",width:n+"px",top:"-"+n+"px"})},_adjustCenter:function(){var t=a.default(".adaptive-layouts-frame"),e=t.get(0).getBoundingClientRect().height/2-this.lightboxHeight/2,n=t.css("top"),i=this.$el.css("padding-top"),r=0;i&&n&&(n=s.default.trimEnd(n,"px"),i=s.default.trimEnd(i,"px"),r=s.default.toNumber(i)-s.default.toNumber(n),this.$(".container").css({top:e-r,transform:"translate(-50%,0)","-webkit-transform":"translate(-50%, 0%)"}))},_close:function(t){t&&t.preventDefault(),this.deactivate()},_backgroundClick:function(t){t.target==this.$el[0]&&this._close(t)},onKeypress:function(t){"Esc"!==t.key&&"Escape"!==t.key||this.deactivate()},_render:function(){this.$el.html(h.default)},openLightbox:function(t){s.default.isEmpty(t)?o.default.warn("missing options for lightbox"):s.default.isEmpty(t.url)?o.default.warn("missing URL for lightbox"):t.width?t.height?(t.showCloseButton?(this.$el.removeClass("without-close-button"),this.$el.addClass("with-close-button")):(this.$el.removeClass("with-close-button"),this.$el.addClass("without-close-button")),this.lightboxWidth=t.width,this.lightboxHeight=t.height,this.originalWidth=s.default.clone(t.width),this.originalHeight=s.default.clone(t.height),this.usesCloseButton=t.showCloseButton,this.$(".close").css("background-color",t.closeButtonBgColor),this.$(".close").css("color",t.closeButtonFgColor),this.$("iframe").attr("src",t.url),this.show(),this.focusLightbox(),this.setSizeAndPosition(),u.default.pause()):o.default.warn("missing height for lightbox"):o.default.warn("missing width for lightbox")},focusLightbox:function(){var t=this.$("iframe");t.on("load.focus",(function(){t[0].contentWindow.focus(),t.off("load.focus")}))},deactivate:function(){u.default.resume(),this.$("iframe").attr("src","about:blank"),this.hide()},hide:function(){this.$el.hide(),this.opened=!1,a.default(document).off("keyup.lightbox"),this.$el.attr("aria-hidden","true")},show:function(){this.$el.show(),this.opened=!0,a.default(document).on("keyup.lightbox",this.onKeypress.bind(this)),this.$el.attr("aria-hidden","false")}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="container ceros-lightbox">\n    <button class="close"><span class="sr-only">Close modal</span></span>&#xE00B;</button>\n    <div class="scrolling">\n        <iframe src="about:blank" frameborder="0" allowfullscreen></iframe>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(3)),u=i(n(57)),l=i(n(29)),c=function(t,e){this.documentVersion=t,this.layers=e,this.visibleMedia=[],this.hiddenMedia=[],this.visibleImages=[],this.hiddenImages=[],this.sortMediaForLayers(this.layers,!1,0),this.visibleMedia=o.default.orderBy(this.visibleMedia,"absoluteY"),this.hiddenMedia=o.default.orderBy(this.hiddenMedia,"absoluteY")};c.prototype={lazyPreloadAllMedia:function(t,e){var n;this.lazyLoadingVerticalBreakpoint=this.getHighPriorityMediaLoadVerticalBreakpoint(t);var i=null,r=0;for(n=0;n<this.visibleMedia.length&&(r=n,(i=this.visibleMedia[n]).absoluteY<=this.lazyLoadingVerticalBreakpoint);n++)i.layer.isInInitialViewport=!0,this.loadMediaItem(i,t,e);var o=0;for(n=0;n<this.hiddenMedia.length&&(o=n,(i=this.hiddenMedia[n]).absoluteY<=this.lazyLoadingVerticalBreakpoint);n++)i.layer.isInInitialViewport=!0,this.loadMediaItem(i,t,e);for(n=r;n<this.visibleMedia.length;n++)i=this.visibleMedia[n],this.loadMediaItem(i,t,e);for(n=o;n<this.hiddenMedia.length;n++)i=this.hiddenMedia[n],this.loadMediaItem(i,t,e)},preloadVisibleMedia:function(t,e){this.loadMediaItems(this.visibleMedia,t,e)},preloadImages:function(t){this.loadMediaItems(this.visibleImages,t,!1),this.loadMediaItems(this.hiddenImages,t,!1)},preloadHiddenMedia:function(t){this.loadMediaItems(this.hiddenMedia,t,!1)},getlazyLoadingVerticalBreakpoint:function(){return this.lazyLoadingVerticalBreakpoint},sortMediaForLayers:function(t,e,n){n||(n=0),o.default.each(t,o.default.bind((function(t){if(this.isContainerLayer(t)){var i=e||!t.visible;this.sortMediaForLayers(this.getChildLayers(t),i,this.isSmartGroupOrGroup(t)?n+t.y:n)}else this.sortMediaForLayer(t,e,n)}),this))},sortMediaForLayer:function(t,e,n){if(this.getLoader(t)){var i={layer:t,absoluteY:t.y+n};e||!t.visible?(this.hiddenMedia.push(i),this.isImage(t)&&this.hiddenImages.push(i)):(this.visibleMedia.push(i),this.isImage(t)&&this.visibleImages.push(i))}},getHighPriorityMediaLoadVerticalBreakpoint:function(t){var e=r.default(window).height()/t.ratio;if(a.default.isEmbedded&&a.default.heightOverride){var n=u.default.getDimensions();if(s.default.desktop())e=Math.min(e,n.height/t.ratio);else{var i=n.height/n.width;s.default.landscape()&&i>1&&(i=1/i),e=this.documentVersion.getExperienceWidth()*i}}return e},isSmartGroupOrGroup:function(t){return!(!t.smartgroupId&&"group"!==t.type&&"mask-group"!==t.type)},getChildLayers:function(t){return t.smartgroupId?t.layers:t.items},isContainerLayer:function(t){return!(!t.smartgroupId&&"folder"!==t.type&&"group"!==t.type&&"mask-group"!==t.type)},getLoader:function(t){return t.imageLoader||t.posterLoader||t.fontLoader},isImage:function(t){return!(!t.imageLoader&&!t.posterLoader)},shouldLoadLowRes:function(t){return o.default.isFunction(this.getLoader(t).loadLowRes)&&!t.posterLoader&&this.documentVersion.shouldLoadLowRes()},loadMediaItems:function(t,e,n){o.default.each(t,o.default.bind((function(t){this.loadMediaItem(t,e,n)}),this))},loadMediaItem:function(t,e,n){t&&t.layer&&(e.shouldRenameCssClassesAndIds=!l.default.hasCurrentConvertedVectorImageUri(l.default.VECTOR_IMAGE_CONVERSION_VERSION,t.layer.convertedVectorImage));var i=this.getLoader(t.layer);this.shouldLoadLowRes(t.layer)?n?i.loadLowResNow(e):i.loadLowRes(e):n?i.loadNow(e):i.load(e)}},e.default=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorLayerOpBuilder=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o(n(437)).default);e.EditorLayerOpBuilder=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(438)),a=i(n(451)),s=function(t,e){this.setDoc(t,e)};s.prototype={setDoc:function(t,e){this.doc=t,this.pathPrefix=e||[]},getOpsForModelChangeSet:function(t,e){var n=t.getChanges(),i=this.pathPrefix,s=["layerDictionary",t.model.id],u=r.default.keys(n),l=this.doc.snapshot;return r.default.map(u,(function(t){var r=s.concat(t),u=i.concat(r),c=n[t],d={p:e?r:u},h=a.default.traverse(u,l);return o.default.setOpValues(d,h,c),d}))},prefixPath:function(t){var e=this.pathPrefix;return 0===e.length?t:r.default.map(t,(function(t){return t.p=e.concat(t.p),t}))}},e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(104)),s=i(n(24)),u=i(n(170)),l=[],c=null;function d(){if(l.length>0){var t=l.shift(),e=o.default.map(t.ops,(function(e){return e.batchId=t.batchId,e}));t.doc.submitOp(e,(function(){t.promise.resolve()})),clearTimeout(c),c=null,l.length>0&&(c=o.default.defer(d))}}e.default={submitOpsInBatches:function(t,e){var n=a.default(),i=o.default.chunk(e,100),s=[];return o.default.each(i,(function(e){var i=r.default.Deferred();s.push(i),l.push({batchId:n,doc:t,ops:e,promise:i})})),t.emit("batch:start",n),null===c&&d(),r.default.when.apply(r.default,s).done((function(){t.emit("batch:done",n)})).fail((function(){t.emit("batch:fail",n)})),s},isDocVersionVariantCreateOp:function(t,e){return!(!e.isDocumentModel()||1!==t.p.length||"overrides"!==t.p[0])&&o.default.keys(t.oi).length>o.default.keys(t.od).length},isDocVersionVariantDeleteOp:function(t,e){return!(!e.isDocumentModel()||1!==t.p.length||"overrides"!==t.p[0])&&o.default.keys(t.oi).length<o.default.keys(t.od).length},isPageVariantCreateOp:function(t,e){return!e.isDocumentModel()&&1===t.p.length&&"overrides"===t.p[0]&&o.default.keys(t.oi).length>o.default.keys(t.od).length},isPageVariantDeleteOp:function(t,e){return!e.isDocumentModel()&&1===t.p.length&&"overrides"===t.p[0]&&o.default.keys(t.oi).length<o.default.keys(t.od).length},getCreatedVariantName:function(t){return o.default.difference(o.default.keys(t.oi),o.default.keys(t.od))[0]},getDeletedVariantName:function(t){return o.default.difference(o.default.keys(t.od),o.default.keys(t.oi))[0]},getPropertyBeingUpdatedInAPageDocOp:function(t){return this.isOpUpdatingOverrides(t)&&1!==t.p.length?t.p[2]:t.p[0]},isOpUpdatingOverrides:function(t){return"overrides"===t.p[0]},isOpForDifferentLayout:function(t,e){return!!s.default.adaptiveLayoutsEnabled()&&(this.isOpUpdatingOverrides(t)&&t.p.length>1?t.p[1]!==e:"desktop"!==e)},isLayerDictionaryInsertionOrDeletionOp:function(t){return!u.default.isUpdateForLazyAddedField(t)&&(t.p.indexOf("layerDictionary")>-1&&(o.default.isUndefined(t.od)||o.default.isUndefined(t.oi)))},isLayerHierarchyOpForDifferentLayout:function(t,e){return 0===t.p.indexOf("layerHierarchies")&&t.p[1]!==e},isLayerDictionaryOpForDifferentLayout:function(t,e){return 0===t.p.indexOf("layerDictionary")&&this.getChangedVariant(t)!==e},getChangedVariant:function(t){var e="desktop";if(!s.default.adaptiveLayoutsEnabled())return e;if(0===t.p.indexOf("layerDictionary")){var n=t.p.indexOf("overrides");if(-1===n)return e;-1!==n&&t.p.length>n+1?e=t.p[n+1]:this.isLayerDictionaryInsertionOrDeletionOp(t)?(t.oi&&(e=o.default.keys(t.oi)[0]),t.od&&(e=o.default.keys(t.od)[0])):t.p.length===n+1&&o.default.each(t.oi,(function(n,i){if(t.od&&!o.default.isEqual(n,t.od[i]))return e=i,!1}))}else 0===t.p.indexOf("layerHierarchies")&&(e=t.p[1]);return e},isLayerDictionaryWholeObjectChangeOp:function(t){return 0===t.p.indexOf("layerDictionary")&&2===t.p.length||2===t.p.indexOf("layerDictionary")&&4===t.p.length},isDocVersionPageCreateOrDeleteOp:function(t){return!!t&&(2===t.p.length&&"editorPagesManifest"===t.p[0]&&o.default.isNumber(t.p[1])&&(!o.default.isUndefined(t.li)||!o.default.isUndefined(t.ld)))},isSyncedPropertyChangeFromList:function(t,e){return!!t&&(0===t.p.indexOf("layerDictionary")&&3===t.p.length&&e.indexOf(t.p[2])>-1||void 0)},setOpValues:function(t,e,n){var i=e.element[e.key];o.default.isArray(e.element)?(t.li=n,o.default.isUndefined(i)||(t.ld=i)):o.default.isObject(e.element)&&(t.oi=n,o.default.isUndefined(i)||(t.od=i))},opPathStartsWith:function(t,e){var n=t.join("/")+"/",i=e.join("/")+"/";return 0===n.indexOf(i)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(38)),s=i(n(440));e.default=a.default.extend({urlRoot:"/{api-version}/account/{account-slug}/account-members",defaults:{isOwner:!1},member:null,appMembers:null,parse:function(t){return r.default.has(t,"member")&&(this.member=new o.default.Model(t.member),delete t.member),r.default.has(t,"appMembers")&&(this.appMembers=new s.default(t.appMembers),delete t.appMembers),a.default.prototype.parse.call(this,t)},getAppMemberModel:function(t){return this.appMembers?this.appMembers.find((function(e){return e.get("memberProject")===t})):null},hasAppAccess:function(t){return this.get("isOwner")||!!this.getAppMemberModel(t)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(441));e.default=r.default.Collection.extend({model:o.default})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(38));e.default=r.default.extend({idAttribute:"id",urlRoot:"/{api-version}/account/{account-slug}/app-members"})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(173)),a=i(n(443)),s=i(n(2)),u={};e.default=o.default.extend({restUrl:"/rest/{api-version}/account/{account-slug}/feature-flag/",allowPagination:!1,model:a.default,accountSlug:null,initialize:function(t){o.default.prototype.initialize.call(this,t),t&&t.accountSlug?(this.accountSlug=t.accountSlug,this.restUrl=this.restUrl.replace("{account-slug}",t.accountSlug)):this.accountSlug=s.default.accountSlug},hasFeature:function(t){return!!this.find({featureFlagId:t})},parse:function(t){var e=o.default.prototype.parse.call(this,t);return e?(r.default.forEach(e,r.default.bind((function(t){t.accountSlug=this.accountSlug}),this)),e):e}},{getInstanceForAccount:function(t){return r.default.has(u,t)||(u[t]=new this({accountSlug:t})),u[t]}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(38));e.default=r.default.extend({urlRoot:"/{api-version}/account/{account-slug}/feature-flag",idAttribute:"id",initialize:function(t){if(r.default.prototype.initialize.call(this,t),!t.accountSlug)throw new Error("Account slug is required.");this.urlRoot=this.urlRoot.replace("{account-slug}",t.accountSlug)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(2)),s=i(n(107)),u=i(n(445)),l=i(n(38)),c=i(n(172)),d=i(n(105)),h=1,f=2,p=3,g=4,m=5,v=6,y=function(t,e){return"/v1/account/"+t+"/account-members/"+e},_=o.default.Collection.extend({model:o.default.Model.extend({idAttribute:"uri"}),_prepareModel:function(t,e){var n=null;r.default.has(t,"account")&&(n=t.account,delete t.account);var i=o.default.Collection.prototype._prepareModel.call(this,t,e);return n&&(i.account=new d.default(n)),i}});e.default=c.default.extend({accountMembers:null,urlRoot:"/rest/{api-version}/current-user",dateFields:["creationDate","inviteAcceptedDate"],url:function(t){return t&&t.core&&(this.urlRoot=c.default.prototype.urlRoot),this.replaceUrlContextVariables(o.default.Model.prototype.url.call(this,arguments))},validate:function(t){var e=[];return t.title||e.push(new s.default("title","Name is required")),r.default.has(t,"password")&&(!t.password||t.password.length<6)&&e.push(new s.default("password","Password must at least 6 characters")),e.length>0?e:null},save:function(t,e,n){return l.default.prototype.save.call(this,t,e,n)},isAccountOwner:function(t){if(this.get("isSuperuser"))return!0;var e=t.substr(t.lastIndexOf("/")+1);return this.isAccountOwnerBySlug(e)},isAccountOwnerBySlug:function(t){if(this.get("isSuperuser"))return!0;var e=this.getAccountMemberModel(t);return!!e&&!!e.get("isOwner")},isAccountMember:function(t){return!!this.get("isSuperuser")||!!this.getAccountMemberModel(t||a.default.accountSlug)},getAccountMemberModel:function(t){if(!r.default.isNull(this.accountMembers)){var e=this.accountMembers.get(y(t,this.get("slug")));if(e)return e}return null},isCurrentAccountOwner:function(){return this.isAccountOwner("/v1/account/"+a.default.accountSlug)},parse:function(t){return r.default.has(t,"accountMembers")&&(this.accountMembers=new _(t.accountMembers),delete t.accountMembers,this.accounts=new u.default(r.default.map(this.accountMembers.models,"account"))),l.default.prototype.parse.call(this,t)},getFirstLoginDate:function(){var t=this.get("inviteAcceptedDate");return t&&!r.default.isEmpty(t)||(t=this.get("creationDate")),t},getAccounts:function(){return this.accounts||(this.accounts=new u.default),this.accounts},addAccountMembership:function(t,e){this.accountMembers.push(r.default.extend({},e,{uri:y(t.get("slug"),this.get("slug")),slug:this.get("slug")})).account=t},hasAccess:function(t,e){switch(t){case h:case f:return!0;case p:return!!this.get("isSuperuser")||this.isAccountMember(e);case g:return!!this.get("isSuperuser")||this.isAccountOwnerBySlug(e);case m:return!!this.get("isSuperuser");case v:return!!this.get("isSuperadmin");default:return!1}}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(105));e.default=r.default.Collection.extend({model:o.default})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.doesActiveOrganizationHaveTemplateManager=e.onActiveOrganizationSwitched=e.setActiveOrganization=e.setActiveOrganizationFromAccount=e.getActiveOrganization=void 0;var r=i(n(1)),o=i(n(4)),a=i(n(447)),s=null,u="active-organization:switched";function l(){return s}function c(t){s=t,o.default.Events.trigger(u,s)}e.getActiveOrganization=l,e.setActiveOrganizationFromAccount=function(t){var e=r.default.Deferred();if(!t)return e.resolve(),e;var n=t.get("organizationId");if(!n)return c(null),e.resolve(),e;if(s&&s.get("id")===n)e.resolve();else{var i=new a.default({id:n});i.fetch().then((function(){c(i),e.resolve()})).fail((function(){c(null),e.reject()}))}return e},e.setActiveOrganization=c,e.onActiveOrganizationSwitched=function(t,e){o.default.Events.on(u,t,e)},e.doesActiveOrganizationHaveTemplateManager=function(){var t=l();return t&&t.get("templateManagerAcctId")}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(38)),o=n(448),a=i(n(107));e.default=r.default.extend({idAttribute:"id",urlRoot:"/{api-version}/organization",defaults:{},templateTypeCollection:null,initialize:function(t){r.default.prototype.initialize.call(this,t)},fetch:function(t){return r.default.prototype.fetch.call(this,t).then(function(t){this.templateTypeCollection=new o.TemplateTypeCollection({organizationSlug:t.slug})}.bind(this))},getTemplateTypeCollection:function(){return this.templateTypeCollection},validateOrganization:function(t){var e=[];return t.name||e.push(new a.default("name","Required")),e}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateTypeCollection=void 0;var a=o(n(173)),s=n(449),u=function(t){function e(e){var n=t.call(this)||this;return n.resolveKeys="resources",n.allowPagination=!1,n.model=function(t){return new s.TemplateTypeModel(t)},n.restUrl="/rest/{api-version}/organization/"+e.organizationSlug+"/template-types",n}return r(e,t),e}(a.default);e.TemplateTypeCollection=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateTypeModel=void 0;var a=function(t){function e(e){var n=t.call(this,e)||this;return n.idAttribute="id",e&&void 0!==typeof e.id&&(n.id=e.id),n.urlRoot="/{api-version}/template-types",n}return r(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.get("id")},set:function(t){this.id!==t&&this.set("id",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"organizationId",{get:function(){return this.get("organizationId")},set:function(t){this.set("organizationId",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.get("name")},set:function(t){this.set("name",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numberOfExperiences",{get:function(){return this.get("numberOfExperiences")},enumerable:!1,configurable:!0}),e}(o(n(38)).default);e.TemplateTypeModel=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={promises:[],add:function(t){var e=this;e.contains(t)||(e.promises.push(t),t.always((function(){e.remove(t)})))},contains:function(t){return this.promises.indexOf(t)>-1},clear:function(){this.promises=[]},remove:function(t){var e=this.promises.indexOf(t);e>-1&&this.promises.splice(e,1)},isEmpty:function(){return 0===this.size()},size:function(){return this.promises.length},anyPromisesPending:function(){return r.default.some(this.promises,(function(t){return"pending"===t.state()}))},allClearToSwitchVariants:function(){return!this.anyPromisesPending()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(452));e.default={traverse:function(t,e){var n,i,s,u,l=r.default.cloneDeep(t),c="data",d={data:e},h="smartgroups"===l[0],f=!h,p=l.indexOf("layerDictionary")>-1,g=l.indexOf("layerHierarchies")>-1;return p?(f?(n=e.layers,i=e,s=l[1],c=l[2]):(n=(i=e.smartgroups.at&&e.smartgroups.at(l[1])||e.smartgroups[l[1]]).layers,s=l[3],c=l[4]),u=n&&n instanceof a.default?n.findDescendant((function(t){return t.id===s})):i.layerDictionary[s],{key:c,element:u}):(f&&g?(d=e.layers,l.splice(0,2),c=l.shift()):h&&g&&this.transformPathForSmartgroupHierarchyChange(l),r.default.each(l,(function(t,n){if(d=r.default.isNumber(c)&&r.default.isFunction(d.at)?d.at(c):d[c],r.default.isUndefined(d)){var i=new Error("Tried to access path that doesn't exist");throw i.metadata={path:l,key:c,treeId:e.id},e instanceof o.default.Model||(i.metadata.tree=e),i}c=t})),{key:c,element:d})},transformPathForSmartgroupHierarchyChange:function(t){var e=t.indexOf("layerHierarchies");t.splice(e,1,"layers");var n=t.indexOf("desktop");t.splice(n,1)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(175)),s=i(n(176)),u=i(n(54)),l=i(n(475)),c=i(n(476)),d=i(n(505)),h=i(n(104)),f=i(n(24)),p=i(n(506)),g=i(n(511)),m=i(n(36)),v=i(n(512)),y=["show-layers","show-layers-on-hover","hide-layers","toggle-layers","show-and-stay-visible","hide-and-stay-hidden","show-only","hide-only","cycle-next","cycle-previous","scroll-to-object"],_={TEXT_COMPONENT_REMOVED:"text-component:remove",TEXT_COMPONENT_ADDED:"text-component:add",CHANGE:"change",CHANGE_HIERARCHY_ADD:"change-hierarchy-add",CHANGE_HIERARCHY_REMOVE:"change-hierarchy-remove"},b=["x","x2","y","y2","rotation","path","width","height","maskInfo"];e.default=o.default.Collection.extend({initialize:function(t,e){e=e||{},this.page=e.page,this.parentComponent=e.parent,this.layerDictionaryAndHierarchyService=e.layerDictionaryAndHierarchyService,this.on("add",r.default.bind((function(t){t.registerSaveHandler(this._saveModelChanges,this)}),this)),this.on("remove",r.default.bind((function(t){t.removeSaveHandler(),t.parent=null,t.deselect(),this.trigger(_.CHANGE_HIERARCHY_REMOVE,t)}),this))},reset:function(){o.default.Collection.prototype.reset.apply(this,arguments)},newGroup:function(t,e,n,i,r,o){var a=this.createNewGroup(t,e,n,i,r,o,!1),s=a.group,u=a.pendingOps,l=a.objectItemsToGroup,c=a.groupHierarchyPath;return s.populateNewGroupWithItems(c,u,l),s},createNewGroup:function(t,e,n,i,o,a,s){if(0!==(i=r.default.filter(i,(function(t){return t.isGroupable()}))).length){var u=m.default.getSmallestContainingRectangle.apply(m.default,i),l="group";s&&(l="mask-group");var d=c.default.createModel({type:l,x:u.x1,y:u.y1,width:u.x2-u.x1,height:u.y2-u.y1},{layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService});(d=this.add(d,{at:n})).setNumberedTitle(o),r.default.isEmpty(a)||d.translateToParentCoordinateSpace(a),d.roundTransformableAttributes();var h=t.concat([n]),f=d.toDictionaryJSON(),p=[{p:["layerDictionary"].concat(f.id),oi:f},{p:h,li:{id:f.id,items:[]}}];return Array.prototype.push.apply(e,p),this.unpinObjects(i,!0),{group:d,pendingOps:e,groupHierarchyPath:h,objectItemsToGroup:i}}},newMaskGroup:function(t,e,n,i,r,o){var a=this.createNewGroup(t,e,n,i,r,o,!0),s=a.group,u=a.pendingOps,l=a.objectItemsToGroup,c=a.groupHierarchyPath;return s.populateNewGroupWithItems(c,u,l,!0),s},unpinObjects:function(t,e){r.default.each(t,(function(t){var n=t.get("fixedPosition");void 0!==n&&!1!==n&&t.set("fixedPosition",!1,{silent:!!e})}))},newFolder:function(t,e,n,i,o,a){var s=c.default.createFolderModel(null,{layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService,inSmartgroup:a});s.setNumberedTitle(o),this.add(s,{at:n});var u=t.concat(n),l=s.toDictionaryJSON(),d=[{p:["layerDictionary"].concat(l.id),oi:l},{p:u,li:{id:l.id,items:[]}}];return Array.prototype.push.apply(e,d),i=r.default.filter(i,(function(t){return t.isGroupable()})),s.populateNewFolderWithItems(u,e,i),s},moveLayers:function(t,e,n,i,o){var a,s=(i=p.default.normalizeSubjects(i)).slice(0).reverse();return o&&(a=v.default.getMaskingPropertiesMap(s)),r.default.each(s,r.default.bind((function(i){var s=r.default.cloneDeep(i.toDictionaryJSON());this.parentComponent&&this.parentComponent.isGroup()&&i.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation(this.parentComponent.getSelfAndAllParents()),o&&a&&this.parentComponent&&this.parentComponent.isMaskGroup()&&(i.set({maskInfo:a.get(i.get("id"))},{silent:!0}),i.removeIncompatiblePropertiesWhenMasking(!0)),this.add(i,{at:n});var u=i.toDictionaryJSON();e.push({p:t.concat(n),li:i.toHierarchyJSON()}),this.parentComponent&&this.parentComponent.isGroup()&&e.push({p:["layerDictionary"].concat([u.id]),oi:u,od:s})}),this)),i},addGroup:function(t,e,n,i,o,a,s,u){var l=this.add(i,{inSmartgroup:f.default.isInIsolationMode(),at:n,layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService});r.default.isEmpty(s)||l.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation(s),l.roundTransformableAttributes();var c=t.concat([n]),d=l.toDictionaryJSON(),h=[{p:["layerDictionary"].concat(d.id),oi:r.default.omit(d,["items"])},{p:c,li:l.toHierarchyJSON()}];return Array.prototype.push.apply(e,h),l.items.addLayers(c.concat([l.getPathPart()]),e,0,o,a,void 0,u),l.open(),l},addFolder:function(t,e,n,i,r,o,a){var s=this.add(i,{inSmartgroup:f.default.isInIsolationMode(),at:n,layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService}),u=s.toDictionaryJSON(),l=[{p:["layerDictionary"].concat(u.id),oi:u},{p:t.concat(n),li:{id:u.id,items:[]}}];return Array.prototype.push.apply(e,l),s.addItems(t.concat(n),e,r,o,a),s},addLayers:function(t,e,n,i,o,a,u){i=p.default.normalizeSubjects(i);var l=[];if(r.default.isEmpty(i))return l;var d=i.slice(0).reverse();return r.default.each(d,r.default.bind((function(i){if(r.default.isString(i.id)||(i.id=h.default()),i instanceof s.default||(i=JSON.parse(JSON.stringify(i))),"folder"===i.type){var d=i.items;i.items=[];var p=this.addFolder(t,e,n,i,d,o,u);l.unshift(p)}else if("group"===i.type||"mask-group"===i.type){var g=i.items;i.items=[];var m=this.addGroup(t,e,n,i,g,o,a,u);l.unshift(m)}else{i instanceof s.default||(i=c.default.createModel(i,{inSmartgroup:f.default.isInIsolationMode(),copiedFromClipboard:u})),r.default.isEmpty(a)||i.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation(a),i.roundTransformableAttributes(),this._cleanInteractions(i,o),this.add(i,{at:n}),i.registerSaveHandler(this._saveModelChanges,this);var v,y=i.toDictionaryJSON();i.isTextComponent()&&(i.layerDictionaryAndHierarchyService=this.layerDictionaryAndHierarchyService),v=i.isTextComponent()?this.buildOpForSyncedTextComponentPaste(y):{p:["layerDictionary"].concat(y.id),oi:y},e.push(v),e.push({p:t.concat([n]),li:{id:y.id}}),l.unshift(i)}}),this)),l},buildOpForSyncedTextComponentPaste:function(t){var e={p:["layerDictionary"].concat(t.id),oi:t},n=this.layerDictionaryAndHierarchyService.layerDictionary.findLayerById(t.id);return n&&(e.od=n),e},filter:function(t){return(t=t||new l.default).filter(this.models)},findItem:function(t,e,n){var i={},o=this;return this.each((function(a,s){var u=t.concat(s);return a.id===e.id?(i.parentFolder=n,i.parentLayerCollection=o,i.path=u,!1):(a.hasChildren()&&(i=a.findItem(u,e)),!!r.default.isEmpty(i)&&void 0)})),i},forEachDescendant:function(t){d.default.forEachDescendant(this.models,t)},forEachDescendantIncludingSmartGroupObjects:function(t){d.default.forEachDescendantIncludingSmartGroupObjects(this.models,t)},forEachDescendantWhile:function(t,e){d.default.forEachDescendantWhile(this.models,t,e)},forSomeDescendant:function(t){return d.default.forSomeDescendant(this.models,t)},forSomeDescendantWithParents:function(t){d.default.forSomeDescendantWithParents(this.models,t)},forEachDescendantWithParentsWhile:function(t,e){d.default.forEachDescendantWithParentsWhile(this.models,t,e)},findDescendant:function(t){return d.default.findDescendant(this.models,t)},removeItems:function(t,e,n){var i={},o=this,a=[];r.default.each(n,(function(n){if(n.isDeletable()){var s=o.findItem(t,n);r.default.isEmpty(s)||(n.isUploading()&&n.cancelUpload("component-deleted"),s.parentLayerCollection.remove(n,i),e.push({p:s.path,ld:n.toHierarchyJSON()}),a.push(n),n.hasChildren()&&n.getCollection().forEachDescendant((function(t){a.push(t)})))}})),this.removeLayersFromDictionaryIfOnASingleVariant(a,e)},removeLayersFromDictionaryIfOnASingleVariant:function(t,e){var n=r.default.map(t,"id"),i=this.layerDictionaryAndHierarchyService.determineWhichLayerIdsAreInMultipleHierarchies(n);r.default.each(t,(function(t){var n=i[t.id];n.inAtLeastOneHierarchy&&!n.inMultipleHierarchies&&e.push({p:["layerDictionary"].concat([t.id]),od:t.toDictionaryJSON()})}))},updateRelativeAttributesForObject:function(t,e,n){var i=this;if(t.isFolder())r.default.each(t.getChildren(),(function(t,r){i.updateRelativeAttributesForObject(t,e,n.items[r])}));else{var o=t.toDictionaryJSON();t.set(r.default.pick(n,b),{silent:!0});var a=t.toDictionaryJSON();r.default.isEqual(o,a)||e.push({p:["layerDictionary"].concat([t.id]),oi:a,od:o})}},removeMaskInfoFromJson:function(t){return t&&(t.maskInfo=void 0),t},removeItemsForMoving:function(t,e,n,i){var o=this;r.default.each(n,(function(n){if(n.isDeletable()){var a,s=o.findItem(t,n);if(!r.default.isEmpty(s))a=n.toPageCoordinateSpaceJsonMaintainingPositionAndOrientation(),i&&(a=o.removeMaskInfoFromJson(a)),s.parentLayerCollection.remove(n,{moving:!0}),o.updateRelativeAttributesForObject(n,e,a),e.push({p:s.path,ld:n.toHierarchyJSON()})}}))},removeReferencesToDescendant:function(t,e){var n=this.layerDictionaryAndHierarchyService.layerOpBuilder;d.default.forEachDescendant(this.models,(function(i){if(i.isObject()){i.removeReferencesToDescendant(e);var o=i.flushPendingChanges(),a=n.getOpsForModelChangeSet(o,!0);r.default.each(a,(function(e){t.push(e)}))}}))},_cleanInteractions:function(t,e){var n=t.get("interactions"),i=[];r.default.each(n,(function(t){if(r.default.includes(["click","view","hover"],t.trigger)&&r.default.includes(y,t.action)){var n=[];r.default.each(t.layerTargets,(function(t){r.default.includes(e,t)&&n.push(t)})),t.layerTargets=n,t.layerTargets.length>0&&i.push(t)}else i.push(t)})),t.set("interactions",i)},_saveModelChanges:function(t,e){this.layerDictionaryAndHierarchyService.layerSaveHandler(t,e)},_prepareModel:function(t,e){var n=t;return!!(n instanceof u.default||(n=this.prepareModelFromJSON(t,e)))&&(n instanceof a.default&&n.setPage(this.page),n.parent=this.parentComponent,o.default.Collection.prototype._prepareModel.call(this,n,e))},prepareModelFromJSON:function(t,e){var n=t;if(g.default.containsCachedModel(t.id))n=g.default.getCachedModel(t.id);else{if(n instanceof o.default.Model)n=n.toJSON();else{var i=r.default.clone(this.layerDictionaryAndHierarchyService.findLayerById(n.id));i&&(i=r.default.extend(i,t)),n=i||n,t.items&&(n.items=t.items)}if(!n||!n.type)throw new Error("Model could not be found or does not have a type. ID: "+t.id);e.layerDictionaryAndHierarchyService=this.layerDictionaryAndHierarchyService,n=c.default.createModel(n,e)}return n}},{EVENTS:_,LAYER_INTERACTIONS:y})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=i(n(454)),s=i(n(118)),u=i(n(122)),l=i(n(119)),c=i(n(456)),d=new s.default({enabled:!0,envPropertyList:["browser","browser_version","os","os_version","referrer","referring_domain","screen_height","screen_width","user_agent"]}),h=new u.default;h.on(h.EVENTS.PERFORMANCE_MARK,(function(t){d.track(o.default.analyticsApplicationKey+".performance.marker",t)}),this);var f={ANALYTICS_VIEW:{CEROS:o.default.analyticsApplicationKey+".analytics.view"},COPY_EXPERIENCE:{INTERCOM:"Copy Experience"},CREATE_EXPERIENCE:{INTERCOM:"Create Experience",CEROS:o.default.analyticsApplicationKey+".experience.create"},CREATE_PROJECT:{INTERCOM:"Create Project",CEROS:o.default.analyticsApplicationKey+".project.create"},CREATE_SMARTGROUP:{INTERCOM:"Create SmartGroup"},CUSTOM_CANVAS_SIZE:{CEROS:o.default.analyticsApplicationKey+".experience.canvas.size.custom"},DELETE_EXPERIENCE:{INTERCOM:"Delete Experience"},DELETE_PROJECT:{INTERCOM:"Delete Project"},EMBED_CODE_COPY:{CEROS:o.default.analyticsApplicationKey+".experience.embed-code-copy"},EXPORT_EXPERIENCE:{INTERCOM:"Export Experience",CEROS:o.default.analyticsApplicationKey+".experience.export"},INVITE_USER:{INTERCOM:"Invite User",CEROS:o.default.analyticsApplicationKey+".user.invite"},LOGIN:{INTERCOM:"Log In",CEROS:o.default.analyticsApplicationKey+".user.login"},OPEN_SUPPORT:{INTERCOM:"Open Support"},OPTIMIZE_LOADING:{INTERCOM:"Optimize Loading"},PAGE_OVER_HEIGHT:{CEROS:o.default.analyticsApplicationKey+".experience.page.overheight.custom"},PUBLISH_EXPERIENCE:{INTERCOM:"Publish Experience",CEROS:o.default.analyticsApplicationKey+".experience.publish"},STUDIO_DWELL:{CEROS:o.default.analyticsApplicationKey+".experience.dwell"},STUDIO_OPEN:{CEROS:o.default.analyticsApplicationKey+".experience.open"},UPDATE_PROFILE:{INTERCOM:"Update Profile"},TOGGLE_ALIGNMENT:{INTERCOM:"Alignment Mode Toggle"}};function p(t,e){t?(e=r.default.extend({},e||{},{event_slug:l.default.generate()}),r.default.has(t,"CEROS")&&d.track(t.CEROS,e),r.default.has(t,"INTERCOM")&&a.default.track(t.INTERCOM,e)):console.warn("unregistered event")}e.default={init:function(t,e){t&&r.default.isFunction(t.get)?(a.default.init(t.get("email"),t.get("title"),t.get("isSuperuser"),t.get("isSuperadmin"),t.get("contactInformation"),t.getFirstLoginDate()),d.setUser(t.get("email"),t.get("title"),t.get("slug")),e||(this.studioPageViewTracker=new c.default,this.studioPageViewTracker.on(this.studioPageViewTracker.EVENTS.USER_ACTIVITY_PING,this.trackStudioDwell,this))):console.warn("invalid user object given, analytics not initialized")},getPerformanceTracker:function(){return h},registerStudioPageSwitch:function(t){this.studioPageViewTracker&&this.studioPageViewTracker.activatePage(t)},registerUserActivity:function(){this.studioPageViewTracker&&this.studioPageViewTracker.registerUserActivityIfNotPaused()},setActiveUsers:function(t){this.studioPageViewTracker&&this.studioPageViewTracker.setActiveUsers(t)},trackAnalyticsView:function(t){p(f.ANALYTICS_VIEW,t)},trackCopyExperience:function(){p(f.COPY_EXPERIENCE)},trackCreateExperience:function(){p(f.CREATE_EXPERIENCE)},trackCreateProject:function(){p(f.CREATE_PROJECT)},trackCreateSmartgroup:function(){p(f.CREATE_SMARTGROUP)},trackCustomCanvasSize:function(){p(f.CUSTOM_CANVAS_SIZE)},trackDeleteExperience:function(){p(f.DELETE_EXPERIENCE)},trackDeleteProject:function(){p(f.DELETE_PROJECT)},trackEmbedCodeCopy:function(t,e,n,i,r){p(f.EMBED_CODE_COPY,{experience_slug:t,experience_alias:e,has_mixed_page_heights:!!n,has_overheight_option:!!i,overheight_embed:!!r})},trackExportExperience:function(t,e,n){p(f.EXPORT_EXPERIENCE,{experience_slug:t,experience_alias:e,export_files_generated:!!n})},trackInviteUser:function(){p(f.INVITE_USER)},trackLogin:function(){p(f.LOGIN)},trackOpenSupport:function(){p(f.OPEN_SUPPORT)},trackOptimizeLoading:function(){p(f.OPTIMIZE_LOADING)},trackOverHeight:function(){p(f.PAGE_OVER_HEIGHT)},trackPublishExperience:function(t,e,n,i,r){p(f.PUBLISH_EXPERIENCE,{experience_slug:t,experience_alias:e,experience_title:n,experience_url:i,first_publish:!!r})},trackStudioDwell:function(t){t.concurrent_users>0&&p(f.STUDIO_DWELL,t)},trackStudioOpen:function(t){p(f.STUDIO_OPEN,t)},trackUpdateProfile:function(){p(f.UPDATE_PROFILE)},trackAlignmentToggle:function(t){p(f.TOGGLE_ALIGNMENT,{alignmentAndDistributionMode:t})}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=i(n(171)),s=i(n(455)),u=i(n(106)),l={id:{sourceAttribute:"id",superUserDefault:"9",dataType:"ATTRIBUTE_TYPE_STRING"},name:{sourceAttribute:"title",superUserDefault:"Ceros",dataType:"ATTRIBUTE_TYPE_STRING"},is_pilot:{sourceAttribute:"trial",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_INT"},initial_contract_start:{sourceAttribute:"initialSubscriptionContractStartDate",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_DATE"},current_contract_start:{sourceAttribute:"contractStartDate",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_DATE"},current_contract_end:{sourceAttribute:"contractEndDate",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_DATE"},account_manager:{sourceAttribute:"accountManagerMemberTitle",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_STRING"},current_arr:{sourceAttribute:"currentArr",superUserDefault:null,dataType:"INTERCOM_TYPE_MONIES"},account_tier:{sourceAttribute:"accountTier",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_INT"},monthly_experience_goals:{sourceAttribute:"monthlyExperienceGoals",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_INT"},opens_threshold:{sourceAttribute:"publishedExperienceOpensThreshold",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_INT"}};e.default={init:function(t,e,n,i,r,s){if(window.Intercom){var u=a.default.getActiveAccount(),l={app_id:o.default.intercomKey,email:t,name:e,user_id:t,is_super_user:!!n,is_super_admin:!!i,contact_info:r};"studio"===o.default.analyticsApplicationKey&&(l.vertical_padding=35),u&&(l.company=this.compileCompanyData(u,n)),s&&(l.created_at=s.unix()),window.Intercom("boot",l)}else console.warn("Intercom global object was not found")},track:function(t,e){if(window.Intercom){var n=a.default.getActiveAccount();window.Intercom("trackEvent",t,r.default.extend({accountID:n.get("slug"),accountName:n.get("title")},e))}},compileCompanyData:function(t,e){var n={};if(r.default.forEach(l,(function(i,o){var a=e?i.superUserDefault:t.get(i.sourceAttribute),s=null;if(void 0!==a)if("ATTRIBUTE_TYPE_DATE"===i.dataType){var l=new u.default(a);l&&"function"==typeof l.unix&&(s=l.unix())}else s="ATTRIBUTE_TYPE_INT"===i.dataType?r.default.toInteger(a):"INTERCOM_TYPE_MONIES"===i.dataType?r.default.toNumber(a):r.default.toString(a);null!==s&&(n[o]=s)})),!e&&t.get("hubspotId")?n.hubspot_link=s.default.buildHubspotUrlForCerosAccount(t.get("hubspotId")):n.hubspot_link=null,!e&&t.get("slug")){var i=location.protocol+"//"+location.hostname;n.account_settings_url=i+"/manage-accounts/edit/"+encodeURIComponent(t.get("slug"))+"/#0"}else n.account_settings_url=null;return e||(n.plan=t.get("pricingPlan")),n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={buildHubspotUrlForCerosAccount:function(t){return"https://app.hubspot.com/sales/403603/company/"+t}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=i(n(123)),s=function(){a.default.call(this)};(s.prototype=Object.create(a.default.prototype)).constructor=s,r.default.extend(s.prototype,{PAGE_PING_INTERVAL_MILLIS:6e4,USER_INACTIVITY_TIMEOUT_MILLIS:6e5,MINIMUM_DWELL_TIME:5e3,activatePage:function(t){this.timerId&&Date.now()-this.timerStartTime>this.MINIMUM_DWELL_TIME&&(this.logDebug("Spent longer than minimum dwell time on previous page, sending dwell event."),this.trigger(this.EVENTS.USER_ACTIVITY_PING,this.getDwellTimeEventData()),this.logDebug("Clearing existing page ping timer"),clearTimeout(this.timerId),this.timerId=null),this.pageNumber=t,this.pageActivated=!0,this.registerUserActivity()},getDwellTimeEventData:function(){return{concurrent_users:this.activeUsers.models.length,page_num:this.pageNumber,dwell_time:Math.round((Date.now()-this.timerStartTime)/1e3),experience_slug:o.default.issueSlug,experience_alias:o.default.experienceAlias,project_slug:o.default.projectSlug}},setActiveUsers:function(t){this.activeUsers=t}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={cloneDeep:function(t){return JSON.parse(JSON.stringify(t))},replaceObjectContentsPreservingReference:function(t,e){return t===e?t:(r.default.forOwn(t,(function(e,n){delete t[n]})),r.default.extend(t,e))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(459)),a=i(n(461)),s=i(n(462)),u={};r.default.extend(u,o.default,a.default,s.default,{set:function(t,e,n){var i=n&&!!n.ignoreState;return s.default.propHasStateException(t)||i||(t=s.default.set.call(this,t,e,n)),o.default.set.call(this,t,e,n)},get:function(t,e){var n=null,i=e&&!!e.ignoreState,r=o.default.get.call(this,t,e);return s.default.propHasStateException(t)||i||(n=s.default.get.call(this,t,e)),null!==n?n:r}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(177)),s=i(n(24)),u=i(n(460)),l=u.default.ATTR_OVERRIDES,c=u.default.NON_OVERRIDEABLE_ATTRIBUTES,d={};r.default.extend(d,u.default,{setParentModel:function(t){if(!(t.prototype instanceof o.default.Model))throw new Error("ParentModel should extend Backbone.Model");this.ParentModel=t},nonVariantGet:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.get.call(this,t)},nonVariantSet:function(t,e,n){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.handleSetOverridesChanges(t,e,n),this.ParentModel.prototype.set.call(this,t,e,n)},nonVariantChangedAttributes:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.changedAttributes.call(this,t)},nonVariantPreviousAttributes:function(){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.previousAttributes.call(this)},nonVariantPrevious:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.previous.call(this,t)},nonVariantHasChanged:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.hasChanged.call(this,t)},get:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantGet(t);var n=e&&e.variant?e.variant:s.default.getCurrentVariant(),i=c.indexOf(t)>-1,o=this.isSyncedTextComponent()&&r.default.includes(this.getSyncedProperties(),t);return i||this.isForSyncedObject()||o?this.nonVariantGet(t):this.getAttributeForVariant(n,t,e)},set:function(t,e,n){if(r.default.isObject(t)&&(n=e),!this.initialized)return this.initialized=!0,this.initializedSet(t,n);if(t===l||n&&(n.unset||n.remote)||!s.default.adaptiveLayoutsEnabled())return this.nonVariantSet(t,e,n);var i=r.default.isObject(t)?t:a.default.buildPropertyObject(t,e);if(!r.default.isUndefined(i.synced)&&this.initialized){var o={synced:i.synced,overrides:this.buildOverridesWithEmptySyncedProperties()};delete i.synced;var u=this.nonVariantSet(o,n);if(r.default.isEmpty(i))return u}var c=n&&n.variant,d=c?n.variant:s.default.getCurrentVariant();return this.isForSyncedObject(n)&&!c?this.syncedObjectSet(i,n):this.setAttributeForVariant(d,i,n),this},initializedSet:function(t,e){return this.mergeVariantDefaults(t,e),this.ensureVariantOverrideObjects(t),this.nonVariantSet(t,e)},mergeVariantDefaults:function(t,e){if(this.variantDefaults){var n=e&&e.variant?e.variant:s.default.getCurrentVariant(),i=r.default.result(this,"variantDefaults");if("desktop"===n||this.isForSyncedObject(e))r.default.defaults(t,i);else{var o=r.default.omitBy(i,r.default.bind((function(e,n){return r.default.has(t,n)&&null!=t[n]}),this));t[l]=t[l]?t[l]:{},t[l][n]=t[l][n]?t[l][n]:{},r.default.defaults(t[l][n],o)}}return this},has:function(t,e){return null!=this.get(t,e)},hasChanged:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantHasChanged(t);e=e||{},r.default.defaults(e,{variant:null,nonVariant:!1});var n=e.variant?e.variant:s.default.getCurrentVariant();return e.nonVariant||!t||t===l?this.nonVariantHasChanged(t):this.hasChangedForDesktop(t)||"desktop"!==n&&this.hasChangedForVariant(n,t)},previous:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantPrevious(t);if(e=e||{},r.default.defaults(e,{variant:null,nonVariant:!1,doNotFallbackToDesktop:!1}),null==t)return null;var n=e.variant?e.variant:s.default.getCurrentVariant();if(e.nonVariant||this.isForSyncedObject())return this.nonVariantPrevious(t);if(e.doNotFallbackToDesktop)return this.previousForVariant(n,t);var i=this.previousForVariant(n,t);return i||this.nonVariantPrevious(t)},previousAttributes:function(t){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantPreviousAttributes();t=t||{},r.default.defaults(t,{variant:null,nonVariant:!1,onlyVariantOverrides:!1});var e=t.variant?t.variant:s.default.getCurrentVariant();if(t.nonVariant)return this.nonVariantPreviousAttributes();if(this.isForSyncedObject()||"desktop"===e)return this.previousAttributesForDesktop();if(t.onlyVariantOverrides)return this.previousAttributesForVariant(e,t);var n=this.previousAttributesForDesktop(),i=this.previousAttributesForVariant(e);return r.default.extend({},n,i)},changedAttributes:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantChangedAttributes(t);var n=(e=r.default.defaults(e||{},{nonVariant:!1,variant:null,onlyVariantOverrides:!1})).variant?e.variant:s.default.getCurrentVariant();if(e.nonVariant){var i=this.nonVariantChangedAttributes(t);return i.overrides&&(i.overrides=s.default.cloneOverrides(i.overrides)),i}if(this.isForSyncedObject())return this.changedAttributesForDesktop(t);if(e.onlyVariantOverrides)return this.changedAttributesForVariant(n,t);var o=this.changedAttributesForDesktop(t),a=this.changedAttributesForVariant(n,t);return r.default.extend({},o,a)}}),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(24)),a=["id","overrides","type"];e.default={ATTR_ID:"id",ATTR_OVERRIDES:"overrides",NON_OVERRIDEABLE_ATTRIBUTES:a,nonVariantGet:function(t){return this.get(t)},nonVariantSet:function(t,e,n){return this.handleSetOverridesChanges(t,e,n),this.set(t,e,n)},nonVariantChangedAttributes:function(t){return this.changedAttributes(t)},nonVariantPreviousAttributes:function(){return this.previousAttributes()},nonVariantPrevious:function(t){return this.previous(t)},nonVariantHasChanged:function(t){return this.hasChanged(t)},getAttributeForVariant:function(t,e,n){if("desktop"===t)return this.nonVariantGet(e);var i=!n||!n.doNotFallbackToDesktop,o=this.nonVariantGet("overrides"),a=r.default.get(o,[t,e],void 0);return r.default.isUndefined(a)&&i?this.nonVariantGet(e):a},setAttributeForVariant:function(t,e,n){if(!r.default.isObject(e))throw new Error("setAttributeForVariant expects a property object");if(r.default.has(e,"overrides"))throw new Error("setAttributeForVariant does not accept overrides");if("desktop"===t)return this.setAttributeForDesktop(e,n);var i=this.nonVariantGet("overrides"),o=r.default.cloneDeep(i);o[t]=r.default.get(o,t,{});var s=this.isSyncedTextComponent()?a.concat(this.getSyncedProperties()):a,u=r.default.pick(e,s),l=r.default.omit(e,s);r.default.forOwn(l,(function(e,n){o[t][n]=e}));var c={};return r.default.extend(c,u),r.default.set(c,"overrides",o),this.nonVariantSet(c,n)},setAttributeForDesktop:function(t,e){if(!r.default.isObject(t))throw new Error("setAttributeForDesktop expects a property object");if(r.default.has(t,"overrides"))throw new Error("setAttributeForDesktop does not accept overrides");var n=t,i=this.buildOverridesFromOriginalDesktopAttributes(t,e);return i&&((n=r.default.clone(t)).overrides=i),this.nonVariantSet(n,e)},syncedObjectSet:function(t,e){if(!r.default.isObject(t))throw new Error("syncedObjectSet expects a property object");return(e=r.default.isObject(e)?e:{}).syncedObject=!0,this.nonVariantSet(t,e)},ensureVariantOverrideObjects:function(t){o.default.adaptiveLayoutsEnabled()&&(t.overrides||(t.overrides={}),r.default.each(o.default.getExistingVariants(),(function(e){t.overrides[e]||(t.overrides[e]={})})))},buildOverridesFromOriginalDesktopAttributes:function(t,e){if(!r.default.isObject(t))throw new Error("buildOverridesFromOriginalDesktopAttributes expects a property object");var n=this._buildCurrentValueCacheForDesktopProperties(t);if(r.default.isEmpty(n))return!1;var i=!1,o=this.get("overrides"),a=r.default.cloneDeep(o);return r.default.forOwn(a,(function(t){r.default.forOwn(n,(function(e,n){r.default.isUndefined(t[n])&&(t[n]=e,i=!0)}))})),!!i&&a},_buildCurrentValueCacheForDesktopProperties:function(t){var e=this,n={},i=r.default.clone(a);this.isSyncedTextComponent()&&i.push("textSpans");var o=r.default.omit(t,i);return r.default.forOwn(o,(function(t,i){var r=e.getAttributeForVariant("desktop",i);r!==t&&(n[i]=r)})),n},handleSetOverridesChanges:function(t,e,n){if(!this._changing){var i=this.nonVariantGet("overrides");this._previousOverrides=i?r.default.cloneDeep(i):{},this._changedOverrides={}}var o;if("overrides"===t)o=e;else{if(!r.default.isObject(t)||!r.default.has(t,"overrides"))return;o=t.overrides}var a=this._previousOverrides,s=this._changedOverrides;r.default.forOwn(o,(function(t,e){a[e]=a[e]||{},s[e]=s[e]||{},r.default.forOwn(t,(function(t,n){r.default.isEqual(a[e][n],t)?delete s[e][n]:s[e][n]=t}));var n=r.default.difference(r.default.keys(a[e]),r.default.keys(t));r.default.each(n,(function(t){s[e][t]=void 0}))}))},hasValueForVariant:function(t,e){return null!=this.getAttributeForVariant(t,e,{doNotFallbackToDesktop:!0})},changedAttributesForVariant:function(t,e){if("desktop"===t)return this.changedAttributesForDesktop(e);if(!e){var n=r.default.clone(r.default.get(this._changedOverrides||{},t));return!!this.hasChangedForVariant(t)&&n}var i=this._changing?r.default.get(this._previousOverrides,t):r.default.get(this.attributes,["overrides",t]),o={};return r.default.each(e,(function(t,e){r.default.isEqual(i[e],t)||(o[e]=t)})),!!r.default.size(o)&&o},changedAttributesForDesktop:function(t){var e=this.nonVariantChangedAttributes(t);return delete e.overrides,e},previousAttributesForVariant:function(t){if("desktop"===t)return this.previousAttributesForDesktop();var e=this._previousOverrides||{},n=r.default.get(e,t);return n?r.default.clone(n):{}},previousAttributesForDesktop:function(){var t=this.nonVariantPreviousAttributes();return delete t.overrides,t},previousForVariant:function(t,e){if("desktop"===t)return this.nonVariantPrevious(e);var n=this._previousOverrides||{};return r.default.get(n,[t,e],void 0)},hasChangedForVariant:function(t,e){if("desktop"===t)return this.hasChangedForDesktop(e);var n=this._changedOverrides||{};return null==e?!r.default.isEmpty(n[t]):r.default.has(n[t],e)},hasChangedForDesktop:function(t){var e=r.default.omit(this.changed,"overrides");return null==t?!r.default.isEmpty(e):r.default.has(e,t)},isSyncedTextComponent:function(){return!1}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(24));e.default={bindVariantAttributeChangeEvents:function(){this.on("change:overrides",this.triggerVariantAttributeChangeEvents,this)},triggerVariantAttributeChangeEvents:function(t,e,n){var i=o.default.getCurrentVariant();if("desktop"!==i&&!t.isForSyncedObject(n)){var a=t.changedAttributesForVariant(i),s=r.default.extend({},n,{fromOverrides:!0,variant:i});r.default.each(a,(function(e,n){t.trigger("change:"+n,t,e,s)}))}}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(177)),a=n(463),s=n(75),u=i(n(45)),l={};r.default.extend(l,{stateExceptionProps:["states","interactions","userDefinedStates"],isStateExceptionProp:function(t){return!!r.default.find(this.stateExceptionProps,(function(e){return e===t}))},propHasStateException:function(t){var e=this;return r.default.isObject(t)?r.default.some(r.default.keys(t),(function(t){return e.isStateExceptionProp(t)})):e.isStateExceptionProp(t)},set:function(t,e,n){var i=this._filterUnsupportedProps(o.default.buildPropertyObject(t,e));if(s.ObjectStateManager.isNonDefaultState(this.selectedState)){var a=r.default.cloneDeep(this.get("states")||t.states||{}),u=a[this.selectedState]||{},l={};r.default.isNil(i.x)&&r.default.isNil(i.y)&&r.default.isNil(i.x2)&&r.default.isNil(i.y2)||(i=this._setDeltaValuesForCoordinateProperties(i)),r.default.extend(u,i),l[this.selectedState]=u,r.default.extend(a,l),t={states:a},this.triggerChangeEventForStateProps(u,n)}return t},get:function(t,e){var n=this.get("states",e);if(!n)return null;if(s.ObjectStateManager.isNonDefaultState(this.selectedState)&&(n[this.selectedState]&&!r.default.isUndefined(n[this.selectedState][t])))return"x"===t||"y"===t||"x2"===t||"y2"===t?this.get(t,r.default.extend(e,{ignoreState:!0}))+this._getDeltaValueForCoordinateProperty(n,t):n[this.selectedState][t];return null},_setDeltaValuesForCoordinateProperties:function(t){if(!r.default.isNil(t.x)){var e=this.get("x",{ignoreState:!0});t.deltaX=t.x-e,t.x=e}if(!r.default.isNil(t.y)){var n=this.get("y",{ignoreState:!0});t.deltaY=t.y-n,t.y=n}if(!r.default.isNil(t.x2)){var i=this.get("x2",{ignoreState:!0});t.deltaX2=t.x2-i,t.x2=i}if(!r.default.isNil(t.y2)){var o=this.get("y2",{ignoreState:!0});t.deltaY2=t.y2-o,t.y2=o}return t},_getDeltaValueForCoordinateProperty:function(t,e){var n=0;return"x"===e&&(n=t[this.selectedState].deltaX||0),"y"===e&&(n=t[this.selectedState].deltaY||0),"x2"===e&&(n=t[this.selectedState].deltaX2||0),"y2"===e&&(n=t[this.selectedState].deltaY2||0),n},clearAllObjectStates:function(){var t=r.default.keys(this.getStatesClone()),e=this;r.default.each(t,(function(t){e.clearSelectedObjectState(t)})),this.setSelectedObjectState(u.default.OBJECT_STATES_DEFAULT)},removeAllObjectStates:function(t){void 0===t&&(t=!1);var e=r.default.keys(this.getStatesClone()),n=this;(this.isGroup()||this.isSmartgroup())&&(this.isSmartgroup()?this.getSmartGroupChildren():this.getAllDescendants()).forEach((function(t){t.removeAllObjectStates()}));r.default.each(e,(function(t){s.ObjectStateManager.isInteractionState(t)?n.removeState(t):n.removeUserDefinedState(t)})),this.setSelectedObjectState(u.default.OBJECT_STATES_DEFAULT)},clearSelectedObjectState:function(t){t=t||this.selectedState;var e=this.getStatesClone(),n=r.default.keys(e[t]),i=this;r.default.each(n,(function(t){i.resetPropertyToDefaultValue(t)})),e[t]={},this.set("states",e),this.save()},clearOrRemoveSelectedObjectState:function(){if(s.ObjectStateManager.isDefaultState(this.selectedState))return!1;var t=this.get("states");s.ObjectStateManager.isUserDefinedState(this.selectedState)&&r.default.isEmpty(t[this.selectedState])&&this.removeUserDefinedState(this.selectedState),this.clearSelectedObjectState()},removeUserDefinedState:function(t,e){t=t||this.selectedState;var n=this.get("userDefinedStates");n=n.filter((function(e){return e.id!==t})),this.set({userDefinedStates:n},{silent:e}),this.removeState(t)},removeState:function(t,e){t=t||this.selectedState;var n=r.default.omit(this.getStatesClone(),t);this.set({states:n},{silent:e})},renameUserDefinedState:function(t,e,n){t=t||this.selectedState;var i=r.default.cloneDeep(this.get("userDefinedStates")),o=r.default.cloneDeep(this.get("states")),s=r.default.cloneDeep(o[t]),u=i.find((function(e){return e.id===t})),l=void 0;if(u){var c=r.default.indexOf(i,u),d=a.UserDefinedState.withNewTitle(u.number,e);-1!==c&&(i[c]=d.toJSON(),l=d.id,delete o[t],o[d.id]=s,this.set({userDefinedStates:i,states:o},{silent:n}),this.save())}return l},hasStates:function(){return!r.default.isEmpty(this.get("states"))},triggerChangeEventForStateProps:function(t,e){var n=this;r.default.each(r.default.keys(t),(function(i){n.trigger("change:"+i,i,t[i],e||{})}))},triggerChangeEventForAllStateProps:function(t){var e=this.getStatesClone();if(e){var n=e[this.selectedState];this.triggerChangeEventForStateProps(n,t)}},resetPropertyToDefaultValue:function(t){var e=this.get(t,{ignoreState:!0});this.set(t,e)},getAttributesWithStateChanges:function(){var t=this.getStatesClone(),e={};return r.default.each(r.default.keys(t),(function(n){r.default.extend(e,t[n])})),r.default.keys(e)},getExistingObjectStates:function(){var t=this.get("states");return r.default.keys(t)},hasActiveStateProperties:function(t,e){var n=this,i=this.getStatesClone();if(!i)return!1;if(t){var o=!this.hasEmptyState(t,i);return o&&e?!r.default.isNil(i[t][e]):o}return r.default.some(r.default.keys(i),(function(t){return n.hasActiveStateProperties(t)}))},addEmptyState:function(t){var e=this.getStatesClone();e[t]||(e[t]={},this.set({states:e}))},getUserDefinedStates:function(){return this.get("userDefinedStates")||[]},getNextUserDefinedStateNumber:function(){var t=this.get("userDefinedStates")||[],e=r.default.maxBy(t,"number");return e?e.number+1:1},addUserDefinedState:function(t){var e=r.default.cloneDeep(this.get("userDefinedStates"))||[],n=new a.UserDefinedState(t);e.push(n.toJSON());var i=this.getStatesClone();return i[n.id]={},this.set({states:i,userDefinedStates:e}),this.save(),n.id},hasActiveUserDefinedStateWithNoChanges:function(){return!!s.ObjectStateManager.isUserDefinedState(this.selectedState)&&this.hasEmptyState(this.selectedState)},hasEmptyState:function(t,e){return e=e||this.get("states"),!r.default.some(r.default.keys(e[t]),(function(n){return!r.default.isNil(e[t][n])}))||r.default.isEmpty(e[t])},stateExists:function(t){var e=this.get("states");return-1!==r.default.keys(e).indexOf(t)},userDefinedStateExist:function(t){return this.getUserDefinedStates().map((function(t){return t.title.toLowerCase()})).includes(t.toLowerCase())},findKeyForUserDefinedState:function(t){var e;return null===(e=this.getUserDefinedStates().find((function(e){return e.title.toLowerCase()===t.toLowerCase()})))||void 0===e?void 0:e.id},_filterUnsupportedProps:function(t){var e={},n=this;return r.default.isObject(t)&&r.default.each(r.default.keys(t),(function(i){n.supportsObjectStatesForProperty(i)&&(e[i]=t[i])})),e},getStatesClone:function(){return r.default.cloneDeep(this.get("states"))}}),e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserDefinedState=void 0;var i=function(){function t(t){this.number=t,this.title="State "+t,this.updateId()}return t.prototype.toJSON=function(){return{id:this.id,number:this.number,title:this.title}},t.withNewTitle=function(e,n){var i=new t(e);return i.updateTitle(n),i},t.prototype.toTextOption=function(){return{title:this.title,value:this.id}},t.prototype.convertTitleToSlug=function(t){return t.toLowerCase().replace(" ","-")},t.prototype.updateTitle=function(t){this.title=t,this.updateId()},t.prototype.updateId=function(){this.id=this.convertTitleToSlug(this.title)},t}();e.UserDefinedState=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=n(108),s=i(n(208)),u="change",l="change",c=o.default.Collection.extend({model:a.InteractionModel,initialize:function(t,e){if(e=e||{},!r.default.isFunction(e.saveHandler))throw new Error("Must instantiate InteractionCollection with a save handler");this.saveHandler=e.saveHandler,this.doc=e.shareJsDoc,this.doc&&s.default.addDocListener(this.doc,l,r.default.bind(this.handleSharejsChange,this)),this.setupPersistenceHandlers(),o.default.Collection.prototype.initialize.call(t,e)},setupPersistenceHandlers:function(){var t=this,e=function(e){e.setSaveHandler(t.save,t),e.setDestroyHandler(t.destroyModel,t)};this.on("add",e),this.on("reset",r.default.bind((function(){this.each(e)}),this)),this.each(e)},getAncestorFullHierarchyCollection:function(){throw new Error("Not implemented")},getAncestorScranchorCollection:function(){throw new Error("Not implemented")},getAncestorPageCollection:function(){throw new Error("Not implemented")},save:function(){this.saveHandler()},destroyModel:function(t){this.remove(t),this.save()},hasComponentLevelInteractions:function(){return!1},handleSharejsChange:function(t){r.default.some(t,r.default.bind((function(t){return"interactions"===t.p[0]}),this))&&this.trigger(u)},toJSON:function(){var t=[];return this.each((function(e){t.push(e.toJSON())})),t},getPageNumberAwareInteractions:function(){return this.filter((function(t){return t.isPageNumberAwareInteraction()}))},iterateInteractionsMonitoringForChanges:function(t,e){var n=this,i=!1,o=function(){i=!0};r.default.each(t,(function(t){t.on("change",o),e.call(n,t),t.off("change",o)})),i&&this.save()},updateInteractionPageNumbersOnAdd:function(t){this.iterateInteractionsMonitoringForChanges(this.getPageNumberAwareInteractions(),(function(e){e.getAction().handlePageAdd(t+1)}))},updateInteractionPageNumbersOnMove:function(t,e){this.iterateInteractionsMonitoringForChanges(this.getPageNumberAwareInteractions(),(function(n){n.getAction().handlePageMove(t+1,e+1)}))},updateInteractionPageNumbersOnDelete:function(t){this.iterateInteractionsMonitoringForChanges(this.getPageNumberAwareInteractions(),(function(e){e.getAction().handlePageDelete(t+1)}))}});e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionModelFactory=void 0;var i=n(178),r=n(179),o=n(180),a=n(181),s=n(182),u=n(183),l=n(184),c=n(185),d=n(186),h=n(187),f=n(188),p=n(189),g=n(191),m=n(192),v=n(193),y=n(194),_=n(195),b=n(196),T=n(197),w=n(198),S=n(199),E=n(200),O=n(201),C=n(202),A=n(203),P=n(204),I=n(205),x=n(467),M=n(468),k=n(206),D=n(207),R=function(){function t(){}return t.createModelForActionType=function(e,n,i){var r=t.constructorMap.get(e);return r?new r(n,i):(console.warn("Invalid action type "+e),new M.InvalidActionModel(n,i))},t.constructorArr=[i.ScrollToActionModel,o.NextPageActionModel,a.PrevPageActionModel,s.GotoPageActionModel,u.EnableDisablePageActionModel,l.UrlActionModel,c.ShowCanvasTargetsActionModel,d.ShowCanvasTargetsOnHoverActionModel,h.ShowOnlyActionModel,f.HideOnlyActionModel,p.CycleNextActionModel,g.CyclePreviousActionModel,m.HideCanvasTargetsActionModel,v.ToggleCanvasTargetsActionModel,y.HideAndStayHiddenCanvasTargetsActionModel,_.ShowAndStayVisibleCanvasTargetsActionModel,b.LightboxActionModel,T.ProductActionModel,w.ShoppingCartActionModel,I.FullscreenActionModel,S.EmailActionModel,E.FacebookActionModel,O.TwitterActionModel,C.PinterestActionModel,A.LinkedInActionModel,P.ChangeStateActionModel,r.ScrollToObjectActionModel,x.ToggleReducedMotionActionModel,k.BringToFrontActionModel,D.ResetPositionsActionModel],t.constructorMap=new Map(t.constructorArr.map((function(t){return[t.prototype.actionType,t]}))),t}();e.ActionModelFactory=R},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PageTargetInteractionUtils=void 0;var i=function(){function t(){}return t.calculateUpdatedPageNumberOnMove=function(t,e,n){return t===n?e:t>=e&&t<n?t+1:t>n&&t<=e?t-1:t},t}();e.PageTargetInteractionUtils=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleReducedMotionActionModel=void 0;var s=a(n(11)),u=a(n(12)),l=n(13),c=n(7),d=n(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isHidden=function(){return!s.default.hasFeature(u.default.ACCESSIBILITY)},e=o([c.ActionModelOptions({actionType:d.ActionTypes.toggleReducedMotion})],e)}(l.AbstractActionModel);e.ToggleReducedMotionActionModel=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidActionModel=void 0;var a=n(13),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!1},e=o([s.ActionModelOptions({actionType:u.ActionTypes.invalid})],e)}(a.AbstractActionModel);e.InvalidActionModel=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(8));e.default={canBypassErrorDialogs:function(){return r.default.hasQueryParam(window.location.href,"bypassErrors")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(209),r=[],o=["ResizeObserver loop limit exceeded"];e.default={registerObserver:function(t){r.push(t)},registerRollbarObserver:function(t){if(t){var e=t;this.registerObserver((function(t,n,r,o,a){a&&a.metadata?i.RollbarUtils.sendError(a):e(t,n,r,o,a)}))}},handleFatalError:function(t,e,n,i,a){if(!o.some((function(e){return e===t})))for(var s=0;s<r.length;s++)r[s](t,e,n,i,a)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(9)),a=i(n(472)),s=i(n(210)),u=i(n(473));e.default=a.default.extend({events:r.default.extend({},a.default.prototype.events,{"click #reload":"pageReload","click .modal-overlay":""}),initialize:function(t){a.default.prototype.initialize.call(this,t),this.render()},render:function(){s.default.trigger("offline"),this.$el.html(o.default.render(u.default,{}))},pageReload:function(){window.location.reload()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(63)),a=n(44),s={MODAL_CLOSED:"modal-closed"};e.default=a.AbstractView.extend({className:"modal-container",events:{"click .modal-close":"handleHideClick","click .modal-overlay":"handleHideClick"},preventHide:!1,initialize:function(){r.default("body").append(this.$el)},bindCloseOnEsc:function(){r.default(window).on("keydown",r.default.proxy(this.cancelOnEscape,this))},onClose:function(){a.AbstractView.prototype.onClose.apply(this,arguments),r.default(window).off("keydown",r.default.proxy(this.cancelOnEscape,this))},cancelOnEscape:function(t){t.keyCode===o.default.ESC&&this.hide()},show:function(){var t=this;return setTimeout((function(){t.$el.addClass("shown"),r.default("body").css("overflow","hidden")}),0),this},handleHideClick:function(t){t.preventDefault(),this.hide()},hide:function(t){if(!this.preventHide)return this.$el.removeClass("shown"),r.default("body").css("overflow",""),this.trigger(s.MODAL_CLOSED,t),this}},{EVENTS:s,extend:function(t,e){return this.instance=null,a.AbstractView.extend.call(this,t,e)},getInstance:function(t){return this.instance||(this.instance=new this(t)),this.instance}})},function(t,e,n){"use strict";n.r(e),e.default='<div>\n    <div class="modal-overlay"></div>\n    <div id="connection-lost-modal-content" class="connection-lost">\n        <div class="connection-lost-modal__body">\n            <h3>Connection Lost</h3>\n            <div>\n                <button id="reload">Reload now</button>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e,n,i){this.width=t,this.height=e,this.aspectRatio=n,this.centerPosition=i};o.prototype=r.default.extend(o.prototype,{getWidth:function(){return this.width},getHeight:function(){return this.height},getAspectRatio:function(){return this.aspectRatio},getCenterPosition:function(){return this.centerPosition}}),o.createInstance=function(t){return new o(t.getWidth(),t.getHeight(),t.getAspectRatio(),t.getCenterPosition())},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){this.filters={}};r.default.extend(o.prototype,{addFilter:function(t,e){return this.filters[t]=e,this},removeFilter:function(t){delete this.filters[t]},hasFilter:function(t){return this.filters.hasOwnProperty(t)},clearFilters:function(){this.filters={}},getFilters:function(){return this.filters},hasFilters:function(){return r.default.size(this.filters)>0},filter:function(t){var e=this,n=!1;return r.default.each(t,(function(t){var i=!!t.hasChildren()&&e.filter(t.getChildren()),r=e.testModelMatch(t);t.includeInLayerPanel=r||i,n=n||t.isIncludedInLayerPanel()})),n},testModelMatch:function(t){return!this.hasFilters()||r.default.some(this.getFilters(),(function(e){return e.test(t)}))},shouldExpandOnChildMatch:function(){return r.default.some(this.getFilters(),(function(t){return t.shouldExpandOnChildMatch()}))},shouldDisableDragDrop:function(){return r.default.some(this.getFilters(),(function(t){return t.shouldDisableDragDrop()}))},shouldDisableLastSelected:function(){return r.default.some(this.getFilters(),(function(t){return t.shouldDisableLastSelected()}))}}),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(104)),a=i(n(477)),s=i(n(478)),u=i(n(482)),l=i(n(483)),c=i(n(484)),d=i(n(485)),h=i(n(487)),f=n(488),p=i(n(490)),g=i(n(491)),m=i(n(492)),v=i(n(501)),y=i(n(502)),_=i(n(175)),b=n(503),T=n(504),w={group:null,folder:null,smartgroup:null,"mask-group":null,"image-component":s.default,"line-component":u.default,"shape-component":l.default,"html-component":c.default,"hubspot-form-component":d.default,"hotspot-component":h.default,"hotspot-path-component":f.HotspotPathModel,"marketo-form-component":p.default,"chartblocks-chart-component":g.default,"text-component":m.default,"video-widget":v.default,"placeholder-component":y.default,"canvas-background-component":_.default,"custom-shape-component":b.CustomShapeModel,"text-plus-component":T.TextModel};var S=function(t,e){if(r.default.isUndefined(t.type))throw new Error("page object model must have type attribute");return w[t.type]?(r.default.isUndefined(t.id)&&(t.id=o.default()),t=new w[t.type](t,e)):t=new a.default(t,e),t};e.default={registerFolderModel:function(t){w.folder=t},registerSmartgroupModel:function(t){w.smartgroup=t},registerGroupModel:function(t){w.group=t},registerMaskGroupModel:function(t){w["mask-group"]=t},createFolderModel:function(t,e){return S(t=t||{type:"folder"},e)},createSmartgroupModel:function(t,e){return S(t=t||{type:"smartgroup"},e)},createModel:S}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(10)),o=i(n(19));e.default=o.default.extend({defaults:r.default.UnsupportedComponentModel.defaults,getSupported:function(){return r.default.UnsupportedComponentModel.supported},getSupportedInteractionTriggers:function(){return[]}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(77)),s=i(n(76)),u=i(n(58)),l=i(n(61)),c=i(n(10)),d=i(n(110)),h=i(n(479)),f=i(n(54)),p=i(n(480)),g=i(n(29)),m=i(n(481)),v=i(n(33)),y=i(n(36)),_=i(n(19)),b="opening",T="cropping",w="saving";e.default=d.default.extend({uploadedImageResource:null,uploadedVectorImageResourceFactory:null,cropSelectionModel:null,cropState:null,nonCroppedImage:null,originalDimensions:null,dimensionsBeforeCrop:null,extentsChangeCallbacks:null,flaggedForBackgroundRemoval:!1,objectStatesEnabled:!0,nonConvertedVersionAlreadyLoaded:!0,defaults:c.default.ImageModel.defaults,initialize:function(t,e){d.default.prototype.initialize.call(this,t,e),this.get("createDate")||this.set("createDate",Date.now()),this.on("change:contentType",this.onContentTypeChanged),this.on("change:width",this.onSizeChange,this),this.on("change:height",this.onSizeChange,this),this.on("change:image",this.updateRenderedImage,this),this.on("change:crop",this.updateRenderedImage,this),this.on("change:background",this.updateRenderedImage,this),this.on("change:backgroundHasBeenSet",this.updateRenderedImage,this),this.on("selectItem",this.fixSepiaAndInvertForOldExperiences,this)},fixSepiaAndInvertForOldExperiences:function(){var t=this.get("effects");r.default.isNil(t.sepia)&&r.default.isNil(t.invert)&&(this.set("effects",r.default.merge({},this.defaults.effects,t)),this.save())},onContentTypeChanged:function(t,e){var n=t.previous("contentType");g.default.isVectorBased(n)!==g.default.isVectorBased(e)&&t.trigger(f.default.EVENTS.CHANGE_SELECTED)},getSupported:function(){return this.isInMaskGroup()?this.parent.isShapeMask()?c.default.ImageModel.supportedShapeMaskImageBase:c.default.ImageModel.supportedAlphaMaskImage:this.isVectorBased()?c.default.ImageModel.supportedVector:c.default.ImageModel.supported},getValidClickInteractions:function(){return c.default.ImageModel.maskedImageClickOptions},getValidHoverInteractions:function(){return c.default.ImageModel.maskedImageHoverOptions},getValidViewInteractions:function(){return c.default.ImageModel.maskedImageViewOptions},isImageComponent:function(){return!0},isCopiable:function(){return!r.default.isEmpty(this.getImageUri())&&!this.isInAnyCropState()},getDisplayLabel:function(){return"Image"},mustBeConstrained:function(){return this.isVectorBased()},isVectorBased:function(){return g.default.isVectorBased(this.get("contentType"))},isGif:function(){return m.default.isGifContentType(this.get("contentType"))},isEditableComponent:function(){return!this.isSyncedObject()},backgroundNeverRemoved:function(){return!this.get("backgroundRemovedUri")},backgroundPreviouslyRemoved:function(){var t=this.get("backgroundRemovedUri"),e=t!==this.get("image");return!r.default.isNull(t)&&e},backgroundCurrentlyRemoved:function(){var t=this.get("backgroundRemovedUri");return t===this.get("image")&&!r.default.isNull(t)&&this.isReadyForBackgroundRemoval()},isReadyForBackgroundRemoval:function(){return!this.isUploading()&&!this.flaggedForBackgroundRemoval},resetAttributes:function(t){var e=t.meta.width,n=t.meta.height;e&&n||(e=v.default.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE,n=v.default.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE);var i=v.default.calculateDimensions(t.mimetype,e,n,!1);this.flaggedForBackgroundRemoval?(i.width=this.get("width"),i.height=this.get("height"),i.backgroundRemovedUri=t.uri,i.backgroundRemovedDimensions={width:e,height:n},this.flaggedForBackgroundRemoval=!1,r.default.isEmpty(this.get("crop"))||(i.crop=p.default.createResizedCropRegion(this.get("crop"),this.get("originalDimensions"),i.backgroundRemovedDimensions))):(i.crop=null,i.gettyImageId=null,i.originalUri=null,i.originalDimensions=null,i.backgroundRemovedUri=null,i.backgroundRemovedDimensions=null),g.default.isVectorBased(t.mimetype)&&(i.shadow={},i.border={}),i.background={},i.backgroundHasBeenSet=!1,i.nounProjectIconId=null,i.title=t.basename,i.contentType=t.mimetype,i.image=t.uri,i.convertedVectorImageVersion=null,i.convertedVectorImage=null,this.set(i)},setExtentsChangeCallbacks:function(t){this.extentsChangeCallbacks=t},updateRenderedRasterImage:function(){this.isCropping()||d.default.prototype.updateRenderedRasterImage.call(this)},onSizeChange:function(t,e,n){!this.isVectorBased()&&this.get("width")>this.previous("width")&&this.updateRenderedImage(),n.remote||this.isVectorBased()||this.isGif()},setUploadedImage:function(t){var e;if(g.default.isVectorDataURL(t)){var n=!this.hasCurrentConvertedVectorImageUri(),i=null===(e=this.options.page)||void 0===e?void 0:e.getSvgLoadQueue();this.uploadedVectorImageResourceFactory=new a.default(t,i,n,this.get("id")),this.uploadedImageResource=this.uploadedVectorImageResourceFactory.getOrCreateImageResource(this.get("background"))}else this.uploadedImageResource=new s.default(t);return this.uploadedImageResource},attachUploadedImageToUri:function(t){this.uploadedVectorImageResourceFactory?u.default.primeCacheWithVectorImageResourceFactory(t,this.uploadedVectorImageResourceFactory):u.default.primeCachesWithOriginalImageResource(t,this.uploadedImageResource),this.clearUploadedImage()},clearUploadedImage:function(){this.uploadedVectorImageResourceFactory=null,this.uploadedImageResource=null},isUploading:function(){return Boolean(this.uploadedImageResource||this.uploadedVectorImageResourceFactory)},isImageModel:function(){return!0},getImageResourceToRender:function(){return this.uploadedImageResource?this.uploadedImageResource:this.nonCroppedImage&&this.nonCroppedImage.ready()?this.nonCroppedImage:d.default.prototype.getImageResourceToRender.call(this)},getImageUri:function(){return this.get("image")},isLargerThan1x1:function(){return this.getWidth()+this.getHeight()>2},testForCropping:function(){this.cropState=b;var t=this,e=l.default.getOriginalDimensions(this.getImageUri()).then((function(e){t.originalDimensions=e})),n=p.default.testSimpleCropRequest(this.getImageUri());return o.default.when(e,n)},prepareForBackgroundRemoval:function(){var t=new o.default.Deferred,e=this;if(r.default.isEmpty(e.get("originalDimensions"))){var n=l.default.getOriginalDimensions(e.getImageUri());n.then((function(n){e.set("originalDimensions",n),t.resolve()})),n.catch((function(e){t.reject(e)}))}else t.resolve();return t},getScaledCropDimensions:function(t){return t=t||this.get("crop"),p.default.createScaledCropDimensions(t,this.getWidth(),this.getHeight())},initCrop:function(){if(this.cropState=b,this.cropSelectionModel=this.createCropSelectionModel(),!r.default.isObject(this.get("crop")))return this.cropState=T,o.default.Deferred().resolve().promise();this.dimensionsBeforeCrop={x:this.get("x"),y:this.get("y"),width:this.getWidth(),height:this.getHeight()};var t=p.default.calculateDimensionsToShowNonCroppedImage(this);return this.loadNonCroppedImage(t.width).then(r.default.bind((function(){this.set(t),this.cropState=T,this.select(),this.cropSelectionModel.select(),this.forceRedraw()}),this))},getExtents:function(){if(this.dimensionsBeforeCrop){var t=this.getExtentsDimensionData();return y.default.getExtentsFromDimensions(this.dimensionsBeforeCrop.x,this.dimensionsBeforeCrop.y,this.dimensionsBeforeCrop.width,this.dimensionsBeforeCrop.height,t.rotation,t.borderWidth)}return d.default.prototype.getExtents.call(this)},loadNonCroppedImage:function(t){var e=this.getImageUri(),n=v.default.calculateWidthForDevicePixelRatio(t*this.zoom),i=this;return u.default.getOrCreateRasterImageResource(e,n,null).then((function(t){i.nonCroppedImage=t}))},createCropSelectionModel:function(){var t=this.get("crop"),e=t?p.default.applyImageFlipToCropSelection(this.originalDimensions,t,this.get("flipHorizontal"),this.get("flipVertical")):t,n=this.getScaledCropDimensions(e);return n.imageModel=this,new h.default(n).select()},getCropSelectionModel:function(){return this.cropSelectionModel},getOriginalDimensions:function(){return this.originalDimensions},clearCropState:function(){this.cropState=null,this.nonCroppedImage=null,this.cropSelectionModel=null,this.dimensionsBeforeCrop=null,this.extentsChangeCallbacks=null},cancelCrop:function(){this.dimensionsBeforeCrop&&this.set(this.dimensionsBeforeCrop),this.clearCropState()},isCropping:function(){return this.cropState===T},isSavingCrop:function(){return this.cropState===w},isOpeningCrop:function(){return this.cropState===b},isInAnyCropState:function(){return!r.default.isNull(this.cropState)},saveCrop:function(){this.cropState=w;var t=this.getImageUri(),e=this.getCropSelectionModel(),n=p.default.calculateCropDimensionsForSave(this,e);n.width===this.originalDimensions.width&&n.height===this.originalDimensions.height&&(n=null);var i=e.get("width")*this.zoom,a=v.default.calculateWidthForDevicePixelRatio(i);return u.default.getOrCreateRasterImageResource(t,a,n).then(r.default.bind((function(t){if(!this.didCropSucceed(t,n))return o.default.Deferred().reject().promise();this.dimensionsBeforeCrop=null;var i=p.default.calculateDimensionsForNewCropValue(this,e);this.set(i),n=n?p.default.applyImageFlipToCropSelection(this.originalDimensions,n,this.get("flipHorizontal"),this.get("flipVertical")):null,this.set("crop",n),this.extentsChangeCallbacks&&r.default.each(this.extentsChangeCallbacks,(function(t){t()})),this.save(),this.forceRedraw(),this.clearCropState()}),this))},didCropSucceed:function(t,e){return!!t&&(!e||this.didCropWidthSucceed(t,e)&&this.didCropHeightSucceed(t,e))},didCropWidthSucceed:function(t,e){var n=e.width===this.originalDimensions.width,i=t.getWidth()!==this.originalDimensions.width;return n||i},didCropHeightSucceed:function(t,e){var n=e.height===this.originalDimensions.height,i=t.getHeight()!==this.originalDimensions.height;return n||i},getOriginalWidthToWidthRatio:function(){return this.originalDimensions.width/this.get("width")},getOriginalHeightToHeightRatio:function(){return this.originalDimensions.height/this.get("height")},getWidthToCropWidthRatio:function(){return this.get("width")/this.get("crop").width},getHeightToCropHeightRatio:function(){return this.get("height")/this.get("crop").height},setOriginalImage:function(){this.set({image:this.get("originalUri"),backgroundRemovedUri:this.get("image"),crop:this.get("crop")?p.default.createResizedCropRegion(this.get("crop"),this.get("backgroundRemovedDimensions"),this.get("originalDimensions")):null}).save()},setPreviouslyRemovedBackgroundImage:function(){this.set({image:this.get("backgroundRemovedUri"),originalUri:this.get("image"),crop:this.get("crop")?p.default.createResizedCropRegion(this.get("crop"),this.get("originalDimensions"),this.get("backgroundRemovedDimensions")):null}).save()},setFlipHorizontal:function(){this.set({flipHorizontal:!this.get("flipHorizontal")}).save()},setFlipVertical:function(){this.set({flipVertical:!this.get("flipVertical")}).save()},getObjectStateSupportedProperties:function(){if(this.isInMaskGroup())return c.default.ImageModel.objectStateSupportedPropertiesForImageMaskBase;var t=c.default.ImageModel.objectStateSupportedProperties;return this.isVectorBased()&&(t=r.default.without(r.default.union(t,["background"]),"border","shadow")),t},supportsObjectStates:function(){return _.default.prototype.supportsObjectStates.call(this)},isBaseMaskObject:function(){var t;return this.isInMaskGroup()&&this.isImageModel()&&!(!this.attributes.maskInfo||!(null===(t=this.attributes.maskInfo)||void 0===t?void 0:t.isBaseMaskObject))},isMask:function(){return this.isInAlphaMaskGroup()&&!this.isBaseMaskObject()}})},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=o(n(16)),l=a(n(19)),c=["x","y","width","height","imageModel"];e.default=l.default.extend({initialize:function(t,e){s.default.each(c,(function(e){if(!s.default.has(t,e))throw"ImageCropSelectionModel was not initialized with the required attribute "+e})),l.default.prototype.initialize.call(this,t,e)},getAllParents:function(){return this.getImageModel().getAllParents()},getTotalRotation:function(){return this.getImageModel().getTotalRotation()},getTotalParentRotation:function(){return this.getImageModel().getTotalRotation()},toGroupCoords:function(t){var e=this.getImageModel().get("x")+t.getX(),n=this.getImageModel().get("y")+t.getY();return this.getImageModel().toCanvasCoords(new u.Point(e,n))},fromGroupCoords:function(t){var e=this.getImageModel().fromCanvasCoords(t),n=e.getX()-this.getImageModel().get("x"),i=e.getY()-this.getImageModel().get("y");return new u.Point(n,i)},translatePointToPageCoordinateSpace:function(t){var e=this.getImageModel().get("x")+t.getX(),n=this.getImageModel().get("y")+t.getY();return this.getImageModel().translatePointToPageCoordinateSpace(new u.Point(e,n))},translatePointFromPageCoordinateSpace:function(t){var e=this.getImageModel().translatePointFromPageCoordinateSpace(t),n=e.getX()-this.getImageModel().get("x"),i=e.getY()-this.getImageModel().get("y");return new u.Point(n,i)},transformPointToRotatedPageCoordinateSpace:function(t){var e=this.toGroupCoords(t);return this.getImageModel().transformPointToRotatedPageCoordinateSpace(e)},transformPointFromRotatedPageCoordinateSpace:function(t){var e=this.getImageModel().transformPointFromRotatedPageCoordinateSpace(t);return this.fromGroupCoords(e)},getImageModel:function(){return this.get("imageModel")}})},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=a(n(1)),l=o(n(16)),c=a(n(58)),d=n(75),h={isImageModel:function(t){return t&&"image-component"===t.get("type")},canCropModel:function(t){return h.isImageModel(t)&&!t.isVectorBased()},canCropCurrentSelection:function(t){var e=t.getSelection(),n=d.ObjectStateManager.isDefaultStateSelected(),i=e.onlyOneComponentOfTypeSelected("image-component"),r=h.canCropModel(e.getFirstLayer());return n&&i&&r},isInCropMode:function(t){return!!h.canCropCurrentSelection(t)&&t.getSelection().getFirstLayer().isCropping()},testSimpleCropRequest:function(t){var e=u.default.Deferred();return c.default.getOrCreateRasterImageResource(t,1,{x:0,y:0,width:1,height:1}).then((function(t){t&&1===t.getWidth()&&1===t.getHeight()?e.resolve(!0):e.reject()})).fail(e.reject),e.promise()},createScaledCropDimensions:function(t,e,n){if(!t)return{x:0,y:0,width:e,height:n};var i=e/t.width,r=n/t.height;return t=s.default.clone(t),{x:Math.round(t.x*i),y:Math.round(t.y*r),width:Math.round(t.width*i),height:Math.round(t.height*r)}},createResizedCropRegion:function(t,e,n){var i=e.width/n.width,r=e.height/n.height;return{x:Math.round(t.x/i),y:Math.round(t.y/r),width:Math.round(t.width/i),height:Math.round(t.height/r)}},calculateDimensionsToShowNonCroppedImage:function(t){var e=Math.toRad(t.get("rotation")),n=t.getOriginalDimensions(),i=t.getScaledCropDimensions(),r={width:n.width*t.getWidthToCropWidthRatio(),height:n.height*t.getHeightToCropHeightRatio()},o=h.applyImageFlipToCropSelection(r,i,t.get("flipHorizontal"),t.get("flipVertical")),a=new l.Point(r.width,r.height),s=Math.rotateCoord(o.x,o.y,0,0,-e),u=Math.rotateCoord(t.getTopLeft(),t.getCenterPosition(),-e),c=new l.Point(u.getX()-s.getX(),u.getY()-s.getY()),d=Math.rotateCoord(a,l.Point.ORIGIN,-e),f=new l.Point(c.getX()+d.getX()/2,c.getY()+d.getY()/2),p=Math.rotateCoord(c,f,e);return{x:Math.round(p.getX()),y:Math.round(p.getY()),width:Math.round(a.getX()),height:Math.round(a.getY())}},calculateCropDimensionsForSave:function(t,e){var n=e.get("x")*t.getOriginalWidthToWidthRatio(),i=e.get("y")*t.getOriginalHeightToHeightRatio(),r=e.get("width")*t.getOriginalWidthToWidthRatio(),o=e.get("height")*t.getOriginalHeightToHeightRatio();return{x:Math.round(n),y:Math.round(i),width:Math.round(r),height:Math.round(o)}},applyImageFlipToCropSelection:function(t,e,n,i){var r=e.width,o=e.height,a=e.x,s=e.y,u=t.width,l=t.height;return{x:n?u-a-r:a,y:i?l-s-o:s,width:r,height:o}},calculateDimensionsForNewCropValue:function(t,e){var n=Math.toRad(t.get("rotation")),i=new l.Point(e.get("width"),e.get("height")),r=Math.rotateCoord(e.getTopLeft(),l.Point.ORIGIN,-n),o=Math.rotateCoord(i,l.Point.ORIGIN,-n),a=Math.rotateCoord(t.getTopLeft(),t.getCenterPosition(),-n),s=l.Point.sum(a,r),u=new l.Point(s.getX()+o.getX()/2,s.getY()+o.getY()/2),c=Math.rotateCoord(s,u,n);return{x:Math.round(c.getX()),y:Math.round(c.getY()),width:Math.round(i.getX()),height:Math.round(i.getY())}}};e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};i.determineIfFileIsAnimatedGif=function(t,e){var n=new FileReader;n.onload=function(t){var n,i,r=new Uint8Array(t.target.result),o=r.length,a=0;if(71!==r[0]||73!==r[1]||70!==r[2]||56!==r[3])return e(!1);for(n=0,i=o-3;n<i&&a<2;++n)if(0===r[n]&&33===r[n+1]&&249===r[n+2]){var s=n+4+r[n+3];s+1<o&&0===r[s]&&(44===r[s+1]||33===r[s+1])&&a++}return e(a>1)},n.readAsArrayBuffer(t)},i.isGifContentType=function(t){return t&&"image/gif"===t.toLowerCase()},e.default=i},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=o(n(16)),l=a(n(10)),c=a(n(19));e.default=c.default.extend({defaults:l.default.LineModel.defaults,objectStatesEnabled:!0,getSupported:function(){return l.default.LineModel.supported},getExtents:function(){return{x1:Math.min(this.get("x"),this.get("x2")),y1:Math.min(this.get("y"),this.get("y2")),x2:Math.max(this.get("x"),this.get("x2")),y2:Math.max(this.get("y"),this.get("y2"))}},getExtentsInPageCoords:function(){var t=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x"),this.get("y"))),e=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x2"),this.get("y"))),n=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x"),this.get("y2"))),i=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x2"),this.get("y2")));return{x1:Math.round(Math.min(t.x,e.x,n.x,i.x)),y1:Math.round(Math.min(t.y,e.y,n.y,i.y)),x2:Math.round(Math.max(t.x,e.x,n.x,i.x)),y2:Math.round(Math.max(t.y,e.y,n.y,i.y))}},getExtentsInPageCoordsWithoutBorder:function(){return this.getExtentsInPageCoords()},getLeft:function(){return Math.min(this.get("x"),this.get("x2"))},getRight:function(){return Math.max(this.get("x"),this.get("x2"))},getTop:function(){return Math.min(this.get("y"),this.get("y2"))},getBottom:function(){return Math.max(this.get("y"),this.get("y2"))},getDisplayLabel:function(){return"Line"},getWidth:function(){return Math.abs(this.get("x")-this.get("x2"))},getHeight:function(){return Math.abs(this.get("y")-this.get("y2"))},getCenterPosition:function(){var t=this.getLeft()+this.getWidth()/2,e=this.getTop()+this.getHeight()/2;return new u.Point(t,e)},getXPointNamesByPosition:function(){return this.get("x")<=this.get("x2")?{leftX:"x",rightX:"x2"}:{leftX:"x2",rightX:"x"}},getYPointNamesByPosition:function(){return this.get("y")<=this.get("y2")?{topY:"y",bottomY:"y2"}:{topY:"y2",bottomY:"y"}},setLeft:function(t){var e=this.getWidth(),n=this.getXPointNamesByPosition();this.set(n.leftX,t),this.set(n.rightX,t+e)},setRight:function(t){var e=this.getWidth(),n=this.getXPointNamesByPosition();this.set(n.rightX,t),this.set(n.leftX,t-e)},setTop:function(t){var e=this.getHeight(),n=this.getYPointNamesByPosition();this.set(n.topY,t),this.set(n.bottomY,t+e)},setBottom:function(t){var e=this.getHeight(),n=this.getYPointNamesByPosition();this.set(n.bottomY,t),this.set(n.topY,t-e)},setCenterX:function(t){var e=this.getCenterPosition().x,n=this.get("x"),i=this.get("x2"),r=e-t;this.set("x",n-r),this.set("x2",i-r)},setCenterY:function(t){var e=this.getCenterPosition().y,n=this.get("y"),i=this.get("y2"),r=e-t;this.set("y",n-r),this.set("y2",i-r)},toPageCoordinateSpaceJsonMaintainingPositionAndOrientation:function(){var t=this.getAllParents(),e=this.reconcileJSONForCurrentVariant(!0),n=new u.Point(this.get("x"),this.get("y")),i=this.transformPointToRotatedPageCoordinateSpace(n,t),r=new u.Point(this.get("x2"),this.get("y2")),o=this.transformPointToRotatedPageCoordinateSpace(r,t);return e.x=i.getX(),e.y=i.getY(),e.x2=o.getX(),e.y2=o.getY(),e},translateToParentCoordinateSpace:function(t){s.default.isEmpty(t)||c.default.prototype.translateToParentCoordinateSpace.call(this,t);var e=new u.Point(this.get("x2"),this.get("y2")),n=this.translatePointFromPageCoordinateSpace(e,t);this.set("x2",n.getX()),this.set("y2",n.getY())},transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation:function(t){var e=this.transformPointFromRotatedPageCoordinateSpace(new u.Point(this.get("x"),this.get("y")),t),n=this.transformPointFromRotatedPageCoordinateSpace(new u.Point(this.get("x2"),this.get("y2")),t);this.set({x:e.getX(),y:e.getY(),x2:n.getX(),y2:n.getY()},{silent:!0})},roundTransformableAttributes:function(){c.default.prototype.roundTransformableAttributes.call(this),this.set("x2",Math.round(this.get("x2"))),this.set("y2",Math.round(this.get("y2")))},resizeAttributes:function(t){this.set({x2:Math.round(this.get("x2")*t),y2:Math.round(this.get("y2")*t)})},getObjectStateSupportedProperties:function(){return l.default.LineModel.objectStateSupportedProperties}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(10)),o=i(n(19));e.default=o.default.extend({defaults:r.default.ShapeModel.defaults,objectStatesEnabled:!0,initialize:function(t,e){o.default.prototype.initialize.call(this,t,e)},getSupported:function(){return this.isInMaskGroup()?"custom-shape-component"===this.get("type")?r.default.CustomShapeModel.supportedMaskGroupCustomShape:"square"===this.get("shape")?r.default.ShapeModel.supportedMaskGroupSquareShape:r.default.ShapeModel.supportedMaskGroupShape:"square"===this.get("shape")?r.default.ShapeModel.supportedSquare:r.default.ShapeModel.supported},getObjectStateSupportedProperties:function(){return this.isInMaskGroup()?r.default.ShapeModel.objectStateSupportedPropertiesForMaskGroupShape:r.default.ShapeModel.objectStateSupportedProperties},supportsObjectStates:function(){return!this.isInMaskGroup()&&o.default.prototype.supportsObjectStates.call(this)},getDisplayLabel:function(){return"Shape"},isShapeComponent:function(){return!0},isMask:function(){return this.isInMaskGroup()&&"image-component"!==this.get("type")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(10)),o=i(n(19));e.default=o.default.extend({defaults:r.default.HtmlModel.defaults,getSupported:function(){return r.default.HtmlModel.supported},getSupportedInteractionTriggers:function(){return[]},getDisplayLabel:function(){return"Embedded Object"},getThumbnailUrl:function(){return this.get("thumbnailUrl")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(9)),a=i(n(10)),s=i(n(212)),u=i(n(486)),l=function(t){return o.default.render(u.default,{containerClassName:t})},c=function(t){return"hubspot-"+t};e.default=s.default.extend({defaults:a.default.HubspotFormModel.defaults,initialize:function(t,e){r.default.has(t,"css")||this.set("css",l(this.getPlayerContainerClassName()),{silent:!0}),s.default.prototype.initialize.call(this,t,e)},getPlayerContainerClassName:function(){return c(this.id)},getSupported:function(){return a.default.HubspotFormModel.supported},getDisplayLabel:function(){return"Hubspot Form"}},{getDefaultCss:l,getDefaultCssForId:function(t){var e=c(t);return l(e)},replaceClassNamesInCss:function(t,e,n){var i=new RegExp("\\."+c(e),"g"),r="."+c(n);return t.replace(i,r)}})},function(t,e,n){"use strict";n.r(e),e.default='{{! This is the default CSS for hubspot form components.\n    It comes from here: https://designers.hubspot.com/docs/cos/hubspot-form-markup#styling-forms\n   ========================================================================== }}\n.{{containerClassName}} .hs-button-reset,\n.{{containerClassName}} .hs-form .hs-button {\n    border: none;\n    font-family: Helvetica, Arial, sans-serif;\n    line-height: 1;\n    margin: 0;\n    outline: 0;\n    padding: 0\n}\n\n.{{containerClassName}} .base-hs-button-styles,\n.{{containerClassName}} .hs-form .hs-button {\n    text-decoration: none;\n    cursor: pointer;\n    display: inline-block;\n    font-size: 12px;\n    font-weight: 700;\n    line-height: 12px;\n    padding: 7px 18px 7px;\n    position: relative;\n    text-align: center\n}\n\n.{{containerClassName}} .base-hs-button-styles:hover,\n.{{containerClassName}} .hs-form .hs-button:hover {\n    text-decoration: none\n}\n\n.{{containerClassName}} input.hs-input[type=checkbox],\n.{{containerClassName}} input.hs-input[type=radio] {\n    cursor: pointer\n}\n\n.{{containerClassName}} input.hs-input,\n.{{containerClassName}} textarea.hs-input,\n.{{containerClassName}} select.hs-input {\n    display: inline-block;\n    width: 210px;\n    height: 18px;\n    padding: 4px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 13px;\n    font-weight: normal;\n    line-height: 18px;\n    color: #666;\n    border: 1px solid #ccc;\n    -webkit-border-radius: 3px;\n    -moz-border-radius: 3px;\n    -ms-border-radius: 3px;\n    border-radius: 3px\n}\n\n.{{containerClassName}} textarea.hs-input {\n    padding-top: 5px\n}\n\n.{{containerClassName}} html.webkit textarea.hs-input {\n    padding-top: 6px;\n    padding-left: 5px\n}\n\n.{{containerClassName}} input.hs-input[type=checkbox],\n.{{containerClassName}} input.hs-input[type=radio] {\n    width: auto;\n    height: auto;\n    padding: 0;\n    margin: 3px 0;\n    line-height: normal;\n    border: none\n}\n\n.{{containerClassName}} input.hs-input[type=file] {\n    background-color: #fff;\n    padding: initial;\n    border: initial;\n    line-height: initial;\n    -webkit-box-shadow: none;\n    -moz-box-shadow: none;\n    box-shadow: none\n}\n\n.{{containerClassName}} input.hs-input[type=button],\n.{{containerClassName}} input.hs-input[type=reset],\n.{{containerClassName}} input.hs-input[type=submit] {\n    width: auto;\n    height: auto\n}\n\n.{{containerClassName}} input.hs-input[type=search] {\n    -webkit-border-radius: 16px;\n    -moz-border-radius: 16px;\n    -ms-border-radius: 16px;\n    border-radius: 16px;\n    background-image: url("/common_assets/static-2.158/img/form/search.png");\n    background-repeat: no-repeat;\n    padding-left: 26px;\n    padding-right: 6px;\n    padding-top: 5px;\n    padding-bottom: 3px;\n    background-position: 8px 8px\n}\n\n.{{containerClassName}} html.firefox input.hs-input[type=search] {\n    position: relative;\n    top: 1px\n}\n\n.{{containerClassName}} input.hs-input[type=search].transparent-image {\n    background-image: url("/common_assets/static-2.158/img/form/search-transparent.png")\n}\n\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-decoration,\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-cancel-button,\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-results-button,\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-results-decoration {\n    display: none\n}\n\n.{{containerClassName}} select.hs-input,\n.{{containerClassName}} input.hs-input[type=file] {\n    height: 27px\n}\n\n.{{containerClassName}} select[multiple].hs-input {\n    height: inherit\n}\n\n.{{containerClassName}} textarea.hs-input {\n    height: auto\n}\n\n.{{containerClassName}} .hs-input:-moz-placeholder {\n    color: #bfbfbf\n}\n\n.{{containerClassName}} .hs-input::-webkit-input-placeholder {\n    color: #bfbfbf\n}\n\n.{{containerClassName}} input.hs-input,\n.{{containerClassName}} textarea.hs-input {\n    -webkit-transition: border 0.2s linear, box-shadow 0.2s linear;\n    -moz-transition: border 0.2s linear, box-shadow 0.2s linear;\n    transition: border 0.2s linear, box-shadow 0.2s linear;\n    -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1)\n}\n\n.{{containerClassName}} input.hs-input:focus,\n.{{containerClassName}} textarea.hs-input:focus {\n    outline: none;\n    border-color: rgba(82, 168, 236, 0.8);\n    -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n    -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6)\n}\n\n.{{containerClassName}} input.hs-input.error,\n.{{containerClassName}} .hs-form div.field.error input,\n.{{containerClassName}} .hs-form div.field.error textarea,\n.{{containerClassName}} .hs-form div.field.error .chzn-choices,\n.{{containerClassName}} textarea.hs-input.error {\n    border-color: #c87872;\n    -webkit-box-shadow: 0 0 3px rgba(171, 41, 32, 0.25);\n    -moz-box-shadow: 0 0 3px rgba(171, 41, 32, 0.25);\n    box-shadow: 0 0 3px rgba(171, 41, 32, 0.25)\n}\n\n.{{containerClassName}} input.hs-input.error:focus,\n.{{containerClassName}} .hs-form div.field.error input:focus,\n.{{containerClassName}} .hs-form div.field.error textarea:focus,\n.{{containerClassName}} .hs-form div.field.error .chzn-choices:focus,\n.{{containerClassName}} textarea.hs-input.error:focus {\n    border-color: #b9554d;\n    -webkit-box-shadow: 0 0 6px rgba(171, 41, 32, 0.5);\n    -moz-box-shadow: 0 0 6px rgba(171, 41, 32, 0.5);\n    box-shadow: 0 0 6px rgba(171, 41, 32, 0.5)\n}\n\n.{{containerClassName}} .input-mini.hs-input,\n.{{containerClassName}} input.mini.hs-input,\n.{{containerClassName}} textarea.mini.hs-input,\n.{{containerClassName}} select.mini.hs-input {\n    width: 60px\n}\n\n.{{containerClassName}} .input-small.hs-input,\n.{{containerClassName}} input.small.hs-input,\n.{{containerClassName}} textarea.small.hs-input,\n.{{containerClassName}} select.small.hs-input {\n    width: 90px\n}\n\n.{{containerClassName}} .input-medium.hs-input,\n.{{containerClassName}} input.medium.hs-input,\n.{{containerClassName}} textarea.medium.hs-input,\n.{{containerClassName}} select.medium.hs-input {\n    width: 150px\n}\n\n.{{containerClassName}} .input-large.hs-input,\n.{{containerClassName}} input.large.hs-input,\n.{{containerClassName}} textarea.large.hs-input,\n.{{containerClassName}} select.large.hs-input {\n    width: 210px\n}\n\n.{{containerClassName}} .input-xlarge.hs-input,\n.{{containerClassName}} input.xlarge.hs-input,\n.{{containerClassName}} textarea.xlarge.hs-input,\n.{{containerClassName}} select.xlarge.hs-input {\n    width: 270px\n}\n\n.{{containerClassName}} .input-xxlarge.hs-input,\n.{{containerClassName}} input.xxlarge.hs-input,\n.{{containerClassName}} textarea.xxlarge.hs-input,\n.{{containerClassName}} select.xxlarge.hs-input {\n    width: 530px\n}\n\n.{{containerClassName}} .input-stretch.hs-input,\n.{{containerClassName}} input.stretch.hs-input,\n.{{containerClassName}} textarea.stretch.hs-input,\n.{{containerClassName}} select.stretch.hs-input {\n    box-sizing: border-box;\n    width: 100%\n}\n\n.{{containerClassName}} textarea.hs-input.xxlarge {\n    overflow-y: auto\n}\n\n.{{containerClassName}} input.hs-input.span1,\n.{{containerClassName}} textarea.hs-input.span1,\n.{{containerClassName}} select.hs-input.span1 {\n    display: inline-block;\n    float: none;\n    width: 30px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span2,\n.{{containerClassName}} textarea.hs-input.span2,\n.{{containerClassName}} select.hs-input.span2 {\n    display: inline-block;\n    float: none;\n    width: 90px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span3,\n.{{containerClassName}} textarea.hs-input.span3,\n.{{containerClassName}} select.hs-input.span3 {\n    display: inline-block;\n    float: none;\n    width: 150px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span4,\n.{{containerClassName}} textarea.hs-input.span4,\n.{{containerClassName}} select.hs-input.span4 {\n    display: inline-block;\n    float: none;\n    width: 210px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span5,\n.{{containerClassName}} textarea.hs-input.span5,\n.{{containerClassName}} select.hs-input.span5 {\n    display: inline-block;\n    float: none;\n    width: 270px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span6,\n.{{containerClassName}} textarea.hs-input.span6,\n.{{containerClassName}} select.hs-input.span6 {\n    display: inline-block;\n    float: none;\n    width: 330px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span7,\n.{{containerClassName}} textarea.hs-input.span7,\n.{{containerClassName}} select.hs-input.span7 {\n    display: inline-block;\n    float: none;\n    width: 390px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span8,\n.{{containerClassName}} textarea.hs-input.span8,\n.{{containerClassName}} select.hs-input.span8 {\n    display: inline-block;\n    float: none;\n    width: 450px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span9,\n.{{containerClassName}} textarea.hs-input.span9,\n.{{containerClassName}} select.hs-input.span9 {\n    display: inline-block;\n    float: none;\n    width: 510px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span10,\n.{{containerClassName}} textarea.hs-input.span10,\n.{{containerClassName}} select.hs-input.span10 {\n    display: inline-block;\n    float: none;\n    width: 570px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span11,\n.{{containerClassName}} textarea.hs-input.span11,\n.{{containerClassName}} select.hs-input.span11 {\n    display: inline-block;\n    float: none;\n    width: 630px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span12,\n.{{containerClassName}} textarea.hs-input.span12,\n.{{containerClassName}} select.hs-input.span12 {\n    display: inline-block;\n    float: none;\n    width: 690px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span13,\n.{{containerClassName}} textarea.hs-input.span13,\n.{{containerClassName}} select.hs-input.span13 {\n    display: inline-block;\n    float: none;\n    width: 750px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span14,\n.{{containerClassName}} textarea.hs-input.span14,\n.{{containerClassName}} select.hs-input.span14 {\n    display: inline-block;\n    float: none;\n    width: 810px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span15,\n.{{containerClassName}} textarea.hs-input.span15,\n.{{containerClassName}} select.hs-input.span15 {\n    display: inline-block;\n    float: none;\n    width: 870px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span16,\n.{{containerClassName}} textarea.hs-input.span16,\n.{{containerClassName}} select.hs-input.span16 {\n    display: inline-block;\n    float: none;\n    width: 930px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input[disabled],\n.{{containerClassName}} select.hs-input[disabled],\n.{{containerClassName}} textarea.hs-input[disabled] {\n    background-color: #f5f5f5;\n    border-color: #ddd;\n    cursor: not-allowed\n}\n\n.{{containerClassName}} .help-inline,\n.{{containerClassName}} .help-block {\n    font-size: 11px;\n    line-height: 18px;\n    color: #818181\n}\n\n.{{containerClassName}} .help-inline {\n    padding-left: 5px\n}\n\n.{{containerClassName}} .help-block {\n    display: block;\n    max-width: 600px\n}\n\n.{{containerClassName}} .inline-inputs {\n    color: #818181\n}\n\n.{{containerClassName}} .inline-inputs span,\n.{{containerClassName}} .inline-inputs input {\n    display: inline-block\n}\n\n.{{containerClassName}} .inline-inputs input.mini {\n    width: 60px\n}\n\n.{{containerClassName}} .inline-inputs input.small {\n    width: 90px\n}\n\n.{{containerClassName}} .inline-inputs span {\n    padding: 0 2px 0 1px\n}\n\n.{{containerClassName}} .input-prepend input,\n.{{containerClassName}} .input-append input {\n    -webkit-border-radius: 0 3px 3px 0;\n    -moz-border-radius: 0 3px 3px 0;\n    -ms-border-radius: 0 3px 3px 0;\n    border-radius: 0 3px 3px 0\n}\n\n.{{containerClassName}} .input-prepend .add-on,\n.{{containerClassName}} .input-append .add-on {\n    position: relative;\n    background: #f5f5f5;\n    border: 1px solid #ccc;\n    z-index: 2;\n    float: left;\n    display: block;\n    width: auto;\n    min-width: 16px;\n    height: 18px;\n    padding: 4px 4px 4px 5px;\n    margin-right: -1px;\n    font-weight: normal;\n    line-height: 18px;\n    color: #bfbfbf;\n    text-align: center;\n    text-shadow: 0 1px 0 #fff;\n    -webkit-border-radius: 3px 0 0 3px;\n    -moz-border-radius: 3px 0 0 3px;\n    -ms-border-radius: 3px 0 0 3px;\n    border-radius: 3px 0 0 3px\n}\n\n.{{containerClassName}} .input-prepend .active,\n.{{containerClassName}} .input-append .active {\n    background: #bfe0bf;\n    border-color: #59ad59\n}\n\n.{{containerClassName}} .input-append input {\n    float: left;\n    -webkit-border-radius: 3px 0 0 3px;\n    -moz-border-radius: 3px 0 0 3px;\n    -ms-border-radius: 3px 0 0 3px;\n    border-radius: 3px 0 0 3px\n}\n\n.{{containerClassName}} .input-append .add-on {\n    -webkit-border-radius: 0 3px 3px 0;\n    -moz-border-radius: 0 3px 3px 0;\n    -ms-border-radius: 0 3px 3px 0;\n    border-radius: 0 3px 3px 0;\n    margin-right: 0;\n    margin-left: -1px\n}\n\n.{{containerClassName}} .hs-form {\n    margin-bottom: 18px\n}\n\n.{{containerClassName}} .hs-form fieldset {\n    margin-bottom: 18px;\n    padding-top: 18px\n}\n\n.{{containerClassName}} .hs-form fieldset legend {\n    display: block;\n    margin-left: 150px;\n    font-size: 19.5px;\n    line-height: 1;\n    color: #414141\n}\n\n.{{containerClassName}} .hs-form .clearfix,\n.{{containerClassName}} .hs-form .field,\n.{{containerClassName}} .hs-form .hs-form-field {\n    margin-bottom: 18px\n}\n\n.{{containerClassName}} .hs-form .clearfix:after,\n.{{containerClassName}} .hs-form .field:after,\n.{{containerClassName}} .hs-form .hs-form-field:after {\n    content: "";\n    display: table;\n    clear: both\n}\n\n.{{containerClassName}} .hs-form label {\n    padding-top: 5px;\n    font-size: 13px;\n    line-height: 18px;\n    font-weight: bold;\n    float: left;\n    width: 130px;\n    text-align: right;\n    color: #414141\n}\n\n.{{containerClassName}} .hs-form .input {\n    margin-left: 150px\n}\n\n.{{containerClassName}} .hs-form div.field.error {\n    background: #fae5e3;\n    padding: 6px 0;\n    margin-bottom: 18px;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    -ms-border-radius: 4px;\n    border-radius: 4px\n}\n\n.{{containerClassName}} .hs-form div.field.error>label,\n.{{containerClassName}} .hs-form div.field.error span.help-inline,\n.{{containerClassName}} .hs-form div.field.error span.help-block {\n    color: #9d261d\n}\n\n.{{containerClassName}} .hs-form div.field.error .input-prepend span.add-on,\n.{{containerClassName}} .hs-form div.field.error .input-append span.add-on {\n    background: #f4c8c5;\n    border-color: #c87872;\n    color: #b9554d\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer ul {\n    margin-top: 6px;\n    margin-bottom: 0px;\n    margin-left: 7px;\n    list-style: none\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer ul li {\n    font-size: 12px;\n    color: #a44e47\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer .hs-block-message {\n    min-width: 200px;\n    width: 200px\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer .hs-block-message ul {\n    margin-top: 0px\n}\n\n.{{containerClassName}} .hs-form .actions {\n    background: #f5f5f5;\n    margin-top: 18px;\n    margin-bottom: 18px;\n    padding: 17px 20px 18px 150px;\n    border-top: 1px solid #ddd;\n    -webkit-border-radius: 0 0 3px 3px;\n    -moz-border-radius: 0 0 3px 3px;\n    -ms-border-radius: 0 0 3px 3px;\n    border-radius: 0 0 3px 3px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action {\n    float: right\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a {\n    line-height: 30px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a:hover {\n    text-decoration: underline\n}\n\n.{{containerClassName}} .hs-form .inputs-list {\n    margin: 0 0 5px;\n    width: 100%\n}\n\n.{{containerClassName}} .hs-form .inputs-list>li {\n    display: block;\n    padding: 0;\n    width: 100%\n}\n\n.{{containerClassName}} .hs-form .inputs-list label {\n    display: block;\n    float: none;\n    width: auto;\n    padding: 0;\n    line-height: 18px;\n    text-align: left;\n    white-space: normal;\n    font-weight: normal\n}\n\n.{{containerClassName}} .hs-form .inputs-list label strong {\n    color: #818181\n}\n\n.{{containerClassName}} .hs-form .inputs-list label small {\n    font-size: 11px;\n    font-weight: normal\n}\n\n.{{containerClassName}} .hs-form .inputs-list .inputs-list {\n    margin-left: 25px;\n    margin-bottom: 10px;\n    padding-top: 0\n}\n\n.{{containerClassName}} .hs-form .inputs-list:first-child {\n    padding-top: 6px\n}\n\n.{{containerClassName}} .hs-form .inputs-list>li+li {\n    padding-top: 2px\n}\n\n.{{containerClassName}} .hs-form .inputs-list input[type=radio],\n.{{containerClassName}} .hs-form .inputs-list input[type=checkbox] {\n    margin-bottom: 0\n}\n\n.{{containerClassName}} .hs-form.stacked {\n    padding-left: 20px\n}\n\n.{{containerClassName}} .hs-form.stacked fieldset {\n    padding-top: 9px\n}\n\n.{{containerClassName}} .hs-form.stacked legend {\n    margin-left: 0\n}\n\n.{{containerClassName}} .hs-form.stacked label {\n    display: block;\n    float: none;\n    width: auto;\n    font-weight: bold;\n    text-align: left;\n    line-height: 20px;\n    padding-top: 0;\n    margin-bottom: 4px\n}\n\n.{{containerClassName}} .hs-form.stacked .field {\n    margin-bottom: 18px\n}\n\n.{{containerClassName}} .hs-form.stacked .field div.input {\n    margin-left: 0\n}\n\n.{{containerClassName}} .hs-form.stacked .field div.input>input+a,\n.{{containerClassName}} .hs-form.stacked .field div.input select+a,\n.{{containerClassName}} .hs-form.stacked .field div.input textarea+a {\n    margin-top: 4px;\n    display: block\n}\n\n.{{containerClassName}} .hs-form.stacked .inputs-list {\n    margin-bottom: 0\n}\n\n.{{containerClassName}} .hs-form.stacked .inputs-list>li {\n    padding-top: 0\n}\n\n.{{containerClassName}} .hs-form.stacked .inputs-list>li label {\n    font-weight: normal;\n    padding-top: 0\n}\n\n.{{containerClassName}} .hs-form.stacked div.error {\n    padding: 3px 10px 6px;\n    margin-top: 0;\n    margin-left: -10px;\n    margin-bottom: 9px\n}\n\n.{{containerClassName}} .hs-form.stacked .actions {\n    margin-left: -20px;\n    padding-left: 20px\n}\n\n.{{containerClassName}} .hs-form {\n    padding-left: 0px\n}\n\n.{{containerClassName}} .hs-form.stacked {\n    padding-left: 0px\n}\n\n.{{containerClassName}} .hs-form.stacked fieldset {\n    padding: 0\n}\n\n.{{containerClassName}} .hs-form .hs-button {\n    color: #fff;\n    text-shadow: 0 -1px 0 #3574e3;\n    background-color: #3574e3;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #7ec8f4), color-stop(100%, #3574e3));\n    background-image: -webkit-linear-gradient(top, #7ec8f4, #3574e3);\n    background-image: -moz-linear-gradient(top, #7ec8f4, #3574e3);\n    background-image: linear-gradient(top, #7ec8f4, #3574e3);\n    box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.5);\n    border-top: 1px solid #64baf0;\n    border-bottom: 1px solid #1c4ed5;\n    border-right: 1px solid #468ee6;\n    border-left: 1px solid #468ee6;\n    border-radius: 4px;\n    -webkit-transition: opacity 0.15s linear;\n    -moz-transition: opacity 0.15s linear;\n    transition: opacity 0.15s linear;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none\n}\n\n.{{containerClassName}} .hs-form .hs-button:visited,\n.{{containerClassName}} .hs-form .hs-button:hover {\n    color: #fff\n}\n\n.{{containerClassName}} .hs-form .hs-button:hover:not(.inactive),\n.{{containerClassName}} .hs-form .hs-button:focus:not(.inactive),\n.{{containerClassName}} .hs-form .hs-button.hovered:not(.inactive) {\n    box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.5), 0 0 5px #3574e3;\n    border-top: 1px solid #4db0ee;\n    border-bottom: 1px solid #1946be;\n    border-right: 1px solid #3080e3;\n    border-left: 1px solid #3080e3\n}\n\n.{{containerClassName}} .hs-form .hs-button:active:not(.inactive):not(.link),\n.{{containerClassName}} .hs-form .hs-button.depressed:not(.inactive):not(.link),\n.{{containerClassName}} .dropdown-open>.hs-form .hs-button:not(.inactive):not(.link) {\n    background-color: #599eeb;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #3574e3), color-stop(100%, #599eeb));\n    background-image: -webkit-linear-gradient(top, #3574e3, #599eeb);\n    background-image: -moz-linear-gradient(top, #3574e3, #599eeb);\n    background-image: linear-gradient(top, #3574e3, #599eeb);\n    box-shadow: inset 0px 1px 2px rgba(0, 0, 0, 0.3), inset 0px -1px 0px rgba(255, 255, 255, 0.3);\n    border-top: 1px solid #1c4ed5;\n    border-bottom: 1px solid #4084e2;\n    border-right: 1px solid #468ee6;\n    border-left: 1px solid #468ee6\n}\n\n.{{containerClassName}} .dropdown-open>.hs-form .hs-button:not(.inactive):not(.link) {\n    box-shadow: inset 0px 1px 2px rgba(0, 0, 0, 0.3)\n}\n\n.{{containerClassName}} .hs-form .hs-button.disabled.disabled.disabled.disabled,\n.{{containerClassName}} .hs-form .hs-button[disabled][disabled][disabled] {\n    background-color: #6387c5;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #88b1ce), color-stop(100%, #6387c5));\n    background-image: -webkit-linear-gradient(top, #88b1ce, #6387c5);\n    background-image: -moz-linear-gradient(top, #88b1ce, #6387c5);\n    background-image: linear-gradient(top, #88b1ce, #6387c5);\n    box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0);\n    border-top: 1px solid #7baacc;\n    border-bottom: 1px solid #5774be;\n    border-right: 1px solid #6c94c7;\n    border-left: 1px solid #6c94c7;\n    cursor: default;\n    color: #ededed;\n    text-shadow: none;\n    opacity: 0.6\n}\n\n.{{containerClassName}} .hs-form .hs-button.disabled.disabled.disabled.disabled.next:before,\n.{{containerClassName}} .hs-form .hs-button[disabled][disabled][disabled].next:before {\n    opacity: 0.5\n}\n\n.{{containerClassName}} .hs-form .hs-button.disabled.disabled.disabled.disabled.previous:before,\n.{{containerClassName}} .hs-form .hs-button[disabled][disabled][disabled].previous:before {\n    opacity: 0.5\n}\n\n.{{containerClassName}} .hs-form .hs-button.next:before,\n.{{containerClassName}} .hs-form .hs-button.previous:before {\n    background: url(/style_guide/static-8.319/img/hs-button-arrows.png) center 0 no-repeat;\n    display: block;\n    width: 16px;\n    height: 16px;\n    position: absolute;\n    top: 5px;\n    content: " ";\n    z-index: 99\n}\n\n.{{containerClassName}} .hs-form .hs-button.next {\n    padding-right: 32px\n}\n\n.{{containerClassName}} .hs-form .hs-button.next:before {\n    right: 9px\n}\n\n.{{containerClassName}} .hs-form .hs-button.previous {\n    padding-left: 32px\n}\n\n.{{containerClassName}} .hs-form .hs-button.previous:before {\n    background-position: center -16px;\n    left: 9px\n}\n\n.{{containerClassName}} .hs-form .hs-button.inactive {\n    cursor: default\n}\n\n.{{containerClassName}} .hs-form ul {\n    list-style: none\n}\n\n.{{containerClassName}} .hs-form label {\n    display: block;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .hs-form label.hidden {\n    display: none\n}\n\n.{{containerClassName}} .hs-form .hs-field-desc {\n    color: #aaa;\n    margin: 0px 0px 5px 150px;\n    font-size: 11px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .hs-form .hs-form-required {\n    color: red\n}\n\n.{{containerClassName}} .hs-form .field {\n    margin-bottom: 9px\n}\n\n.{{containerClassName}} .hs-form .hs-richtext {\n    margin-bottom: 3px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    line-height: 18px;\n    font-size: 14px;\n    color: #414141\n}\n\n.{{containerClassName}} .hs-form .hs-richtext hr {\n    text-align: left;\n    margin-left: 0;\n    width: 91%\n}\n\n.{{containerClassName}} .hs-form .email-correction,\n.{{containerClassName}} .hs-form .email-validation {\n    padding-top: 3px;\n    font-size: 12px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .hs-form .email-correction a,\n.{{containerClassName}} .hs-form .email-validation a {\n    cursor: pointer\n}\n\n.{{containerClassName}} .hs-form .inputs-list {\n    padding-left: 5px;\n    list-style: none\n}\n\n.{{containerClassName}} .hs-form .inputs-list li input {\n    margin: 3px 5px 3px 0px\n}\n\n.{{containerClassName}} .hs-form input[type=checkbox],\n.{{containerClassName}} .hs-form input[type=radio] {\n    margin-right: 5px\n}\n\n.{{containerClassName}} .hs-form input:not([type="image"]),\n.{{containerClassName}} .hs-form textarea {\n    box-sizing: content-box\n}\n\n.{{containerClassName}} .hs-form.stacked .hs-field-desc {\n    margin: 0px 0px 2px 0px\n}\n\n.{{containerClassName}} .hs-form .hs-input,\n.{{containerClassName}} .hs-form textarea.hs-input {\n    box-sizing: border-box;\n    max-width: 500px;\n    width: 90%\n}\n\n.{{containerClassName}} .hs-form .hs-input:not[type=checkbox],\n.{{containerClassName}} .hs-form .hs-input:not[type=radio],\n.{{containerClassName}} .hs-form textarea.hs-input:not[type=checkbox],\n.{{containerClassName}} .hs-form textarea.hs-input:not[type=radio] {\n    min-height: 18px;\n    min-width: 100px\n}\n\n.{{containerClassName}} .hs-form .actions {\n    background: transparent;\n    margin-top: 18px;\n    margin-bottom: 18px;\n    padding: 17px 20px 18px 0px;\n    border-top: none;\n    -webkit-border-radius: 0 0 3px 3px;\n    -moz-border-radius: 0 0 3px 3px;\n    -ms-border-radius: 0 0 3px 3px;\n    border-radius: 0 0 3px 3px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action {\n    float: right\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a {\n    line-height: 30px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a:hover {\n    text-decoration: underline\n}\n\n.{{containerClassName}} .pika-single {\n    z-index: 9999;\n    display: block;\n    position: relative;\n    color: #333;\n    background: #fff;\n    border: 1px solid #ccc;\n    border-bottom-color: #bbb;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .pika-single.is-hidden {\n    display: none\n}\n\n.{{containerClassName}} .pika-single.is-bound {\n    position: absolute;\n    box-shadow: 0 5px 15px -5px rgba(0, 0, 0, 0.5)\n}\n\n.{{containerClassName}} .pika-single {\n    *zoom: 1\n}\n\n.{{containerClassName}} .pika-single:before,\n.{{containerClassName}} .pika-single:after {\n    content: " ";\n    display: table\n}\n\n.{{containerClassName}} .pika-single:after {\n    clear: both\n}\n\n.{{containerClassName}} .pika-lendar {\n    float: left;\n    width: 240px;\n    margin: 8px\n}\n\n.{{containerClassName}} .pika-title {\n    position: relative;\n    text-align: center\n}\n\n.{{containerClassName}} .pika-title select {\n    cursor: pointer;\n    position: absolute;\n    z-index: 9998;\n    margin: 0;\n    left: 0;\n    top: 5px;\n    filter: alpha(opacity=0);\n    opacity: 0\n}\n\n.{{containerClassName}} .pika-label {\n    display: inline-block;\n    *display: inline;\n    position: relative;\n    z-index: 9999;\n    overflow: hidden;\n    margin: 0;\n    padding: 5px 3px;\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: bold;\n    background-color: #fff\n}\n\n.{{containerClassName}} .pika-prev,\n.{{containerClassName}} .pika-next {\n    display: block;\n    cursor: pointer;\n    position: relative;\n    outline: none;\n    border: 0;\n    padding: 0;\n    width: 20px;\n    height: 30px;\n    text-indent: 20px;\n    white-space: nowrap;\n    overflow: hidden;\n    background-color: transparent;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: 75% 75%;\n    opacity: 0.5;\n    *position: absolute;\n    *top: 0\n}\n\n.{{containerClassName}} .pika-prev:hover,\n.{{containerClassName}} .pika-next:hover {\n    opacity: 1\n}\n\n.{{containerClassName}} .pika-prev.is-disabled,\n.{{containerClassName}} .pika-next.is-disabled {\n    cursor: default;\n    opacity: 0.2\n}\n\n.{{containerClassName}} .pika-prev,\n.{{containerClassName}} .is-rtl .pika-next {\n    float: left;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg==");\n    *left: 0\n}\n\n.{{containerClassName}} .pika-next,\n.{{containerClassName}} .is-rtl .pika-prev {\n    float: right;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII=");\n    *right: 0\n}\n\n.{{containerClassName}} .pika-select {\n    display: inline-block;\n    *display: inline\n}\n\n.{{containerClassName}} .pika-table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0;\n    border: 0\n}\n\n.{{containerClassName}} .pika-table th,\n.{{containerClassName}} .pika-table td {\n    width: 14.28571%;\n    padding: 0\n}\n\n.{{containerClassName}} .pika-table th {\n    color: #999;\n    font-size: 12px;\n    line-height: 25px;\n    font-weight: bold;\n    text-align: center\n}\n\n.{{containerClassName}} .pika-table abbr {\n    border-bottom: none;\n    cursor: help\n}\n\n.{{containerClassName}} .pika-button {\n    cursor: pointer;\n    display: block;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    outline: none;\n    border: 0;\n    margin: 0;\n    width: 100%;\n    padding: 5px;\n    color: #666;\n    font-size: 12px;\n    line-height: 15px;\n    text-align: right;\n    background: #f5f5f5\n}\n\n.{{containerClassName}} .is-today .pika-button {\n    color: #3af;\n    font-weight: bold\n}\n\n.{{containerClassName}} .is-selected .pika-button {\n    color: #fff;\n    font-weight: bold;\n    background: #3af;\n    box-shadow: inset 0 1px 3px #178fe5;\n    border-radius: 3px\n}\n\n.{{containerClassName}} .is-disabled .pika-button {\n    pointer-events: none;\n    cursor: default;\n    color: #999;\n    opacity: 0.3\n}\n\n.{{containerClassName}} .pika-button:hover {\n    color: #fff !important;\n    background: #ff8000 !important;\n    box-shadow: none !important;\n    border-radius: 3px !important\n}\n\n.{{containerClassName}} .pika-week {\n    font-size: 11px;\n    color: #999\n}\n\n.{{containerClassName}} .hs-form fieldset {\n    border: 0;\n    padding: 0;\n    margin: 0;\n    max-width: 500px\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-1 .hs-input {\n    width: 95%\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-1 .input {\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-1 input[type="checkbox"],\n.{{containerClassName}} .hs-form fieldset.form-columns-1 input[type="radio"] {\n    width: auto\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-2 .hs-form-field {\n    width: 50%;\n    float: left\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-2 .input {\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-3 .hs-form-field {\n    width: 32.7%;\n    float: left\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-3 .input {\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hs-form fieldset .hs-form-field.hidden-label {\n    margin-top: 24px\n}\n\n.{{containerClassName}} .hs-form .hs-social-login {\n    border-radius: 3px;\n    box-sizing: content-box;\n    width: 95%;\n    max-width: 480px;\n    height: 90px\n}\n\n.{{containerClassName}} .hsformerror {\n    margin: 0 0 2px;\n    padding: 2px 6px;\n    height: auto;\n    background-color: #fdd2d0;\n    font-size: 11px;\n    border: 1px solid #fcb3af;\n    padding: 4px 16px 4px 10px;\n    color: #000;\n    display: none;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #fefefe), color-stop(100%, #fdd2d0));\n    background-image: -webkit-linear-gradient(#fefefe, #fdd2d0);\n    background-image: -moz-linear-gradient(#fefefe, #fdd2d0);\n    background-image: -o-linear-gradient(#fefefe, #fdd2d0);\n    background-image: linear-gradient(#fefefe, #fdd2d0);\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    -ms-border-radius: 4px;\n    -o-border-radius: 4px;\n    border-radius: 4px;\n    -webkit-box-shadow: 0 0 6px #ddd;\n    -moz-box-shadow: 0 0 6px #ddd;\n    box-shadow: 0 0 6px #ddd;\n    z-index: 99999\n}\n\n.{{containerClassName}} .hsformerror em {\n    border: 10px solid;\n    border-color: #fdd2d0 transparent transparent;\n    bottom: -17px;\n    display: block;\n    height: 0;\n    left: 60px;\n    position: absolute;\n    width: 0\n}\n\n.{{containerClassName}} .hsformerror p {\n    font-family: Lucida Grande, Lucida Sans Unicode, bitstream vera sans, trebuchet ms, verdana, sans-serif;\n    margin: 0;\n    float: left;\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hsformerror:hover {\n    cursor: default\n}\n\n.{{containerClassName}} .hsformerror .close-form-error {\n    float: right;\n    display: inline;\n    top: 3px;\n    position: absolute;\n    font-family: Verdana !important;\n    color: #b17c79 !important;\n    cursor: pointer !important;\n    font-size: 11px !important;\n    font-weight: normal !important\n}\n\n.{{containerClassName}} .hsformerror .close-form-error:hover {\n    color: #cc8884\n}\n\n@media (max-width: 400px),\n(min-device-width: 320px) and (max-device-width: 480px) {\n    form.hs-form .form-columns-2 .hs-form-field,\n    form.hs-form .form-columns-3 .hs-form-field {\n        float: none;\n        width: 100%\n    }\n    form.hs-form .form-columns-2 .hs-form-field .hs-input,\n    form.hs-form .form-columns-3 .hs-form-field .hs-input {\n        width: 95%\n    }\n}\n\n@media (max-width: 422px) {\n    .all-social-types {\n        height: 100px\n    }\n}\n\n@media (max-width: 342px) {\n    .hs-social-login {\n        height: 72px\n    }\n}\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(10)),o=i(n(19));e.default=o.default.extend({defaults:r.default.HotspotModel.defaults,getSupported:function(){return r.default.HotspotModel.supported},getDisplayLabel:function(){return"Hotspot"}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotPathModel=void 0;var a=n(213),s=o(n(10)),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults=s.default.HotspotPathModel.defaults,e.objectStatesEnabled=!1,e}return r(e,t),e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),this.set({isClosedPath:!0})},e.prototype.getDisplayLabel=function(){return"Hotspot"},e.prototype.getPreviewSegmentStartingPointIndex=function(t){return t.length-1},e.prototype.getPreviewSegmentEndingPointIndex=function(){return 0},e.prototype.getUpdatedControlPointForNewEndpoint=function(t,e,n,i,r){return t.cx1=e-i,t.cy1=n-r,t.cx2=e+i,t.cy2=n+r,t},e.prototype.addPoint=function(t){var e=this.get("path").slice(),n=e.length;return e.push({x:t.x,y:t.y}),this.set({path:e}),n},e.prototype.getSupported=function(){return s.default.HotspotPathModel.supported},e}(a.AbstractCustomPathModel);e.HotspotPathModel=u},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPathUtils=void 0;var s=o(n(16)),u=a(n(0)),l=function(){function t(){}return t.calculateBoundingBox=function(e,n,i){var r=function(i){return t.makePointAbsolute(i.x,i.y,e,n)},o=[],a=[],s=r(i[0]);o.push(s.x),a.push(s.y);for(var l=1;l<i.length;l++){var c=r(i[l]);if(t.hasControlPoints(i[l-1])||t.hasControlPoints(i[l])){var d=r(i[l-1]),h=t.getAbsoluteControlPoints(i[l-1],e,n),f=t.getAbsoluteControlPoints(i[l],e,n),p=this.findNewPotentialPointForBounds(d,c,h,f);o=o.concat(p.x),a=a.concat(p.y)}o.push(c.x),a.push(c.y)}if(t.hasControlPoints(i[i.length-1])||t.hasControlPoints(i[0])){var g=r(i[i.length-1]),m=t.getAbsoluteControlPoints(i[i.length-1],e,n),v=t.getAbsoluteControlPoints(i[0],e,n);p=this.findNewPotentialPointForBounds(g,s,m,v);o=o.concat(p.x),a=a.concat(p.y)}return{minX:u.default.min(o)||0,minY:u.default.min(a)||0,maxX:u.default.max(o)||0,maxY:u.default.max(a)||0}},t.findNewPotentialPointForBounds=function(t,e,n,i){return{x:s.cubicBezierCurveFirstDerivativeRoots(t.x,n.cx2||0,i.cx1||0,e.x),y:s.cubicBezierCurveFirstDerivativeRoots(t.y,n.cy2||0,i.cy1||0,e.y)}},t.makePointAbsolute=function(t,e,n,i){return t=t||0,e=e||0,{x:t+=n,y:e+=i}},t.getAbsoluteControlPoints=function(e,n,i){var r=t.getControlPoints(e),o=t.makePointAbsolute(r.cx1,r.cy1,n,i),a=t.makePointAbsolute(r.cx2,r.cy2,n,i);return{cx1:o.x,cy1:o.y,cx2:a.x,cy2:a.y}},t.convertEdgePointToPath=function(t){return{x:t.x,y:t.y,cx1:t.cx1,cy1:t.cy1,cx2:t.cx2,cy2:t.cy2}},t.hasControlPoints=function(t){return!(u.default.isUndefined(t.cx1)||u.default.isUndefined(t.cy1)||u.default.isUndefined(t.cx2)||u.default.isUndefined(t.cy2))},t.getControlPoints=function(e){return t.hasControlPoints(e)?{cx1:e.cx1||0,cy1:e.cy1||0,cx2:e.cx2||0,cy2:e.cy2||0}:{cx1:e.x,cy1:e.y,cx2:e.x,cy2:e.y}},t.prototype.getHeightAndWidth=function(e){var n=[],i=[],r=e[0];n.push(r.x),i.push(r.y);for(var o=1;o<e.length;o++){var a=e[o];if(t.hasControlPoints(e[o-1])||t.hasControlPoints(e[o])){var l=e[o-1],c=t.getControlPoints(e[o-1]),d=t.getControlPoints(e[o]),h=t.findNewPotentialPointForBounds(l,a,c,d);n=n.concat(h.x),i=i.concat(h.y)}n.push(a.x),i.push(a.y)}if(t.hasControlPoints(e[e.length-1])||t.hasControlPoints(e[0])){var f=e[e.length-1],p=t.getControlPoints(e[e.length-1]),g=t.getControlPoints(e[0]);n=n.concat(s.cubicBezierCurveFirstDerivativeRoots(f.x,p.cx2||0,g.cx1||0,r.x)),i=i.concat(s.cubicBezierCurveFirstDerivativeRoots(f.y,p.cy2||0,g.cy1||0,r.y))}var m=u.default.min(n)||0,v=u.default.min(i)||0,y=u.default.max(n)||0;return{height:(u.default.max(i)||0)-v,width:y-m}},t.makeControlPointDefinitive=function(t){return{cx1:t.cx1||0,cy1:t.cy1||0,cx2:t.cx2||0,cy2:t.cy2||0}},t}();e.CustomPathUtils=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(10)),o=i(n(212));e.default=o.default.extend({defaults:r.default.MarketoFormModel.defaults,getSupported:function(){return r.default.MarketoFormModel.supported},getDisplayLabel:function(){return"Marketo Form"}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(10)),o=i(n(110));e.default=o.default.extend({defaults:r.default.ChartblocksModel.defaults,initialize:function(t,e){o.default.prototype.initialize.call(this,t,e),this.on("change:svgUrl",this.updateRenderedImage,this)},getSupported:function(){return r.default.ChartblocksModel.supported},getDisplayLabel:function(){return"ChartBlocks"},getThumbnailUrl:function(){return"https://"+this.get("svgUrl")},getImageUri:function(){return this.getThumbnailUrl()},isVectorBased:function(){return!0},mustBeConstrained:function(){return!0}})},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(1)),u=a(n(0)),l=a(n(10)),c=a(n(19)),d=a(n(54)),h=a(n(493)),f=a(n(32)),p=a(n(211)),g=a(n(24)),m=a(n(499)),v=a(n(500)),y=o(n(42)),_=o(n(155));e.default=c.default.extend({defaults:l.default.TextModel.defaults,variantDefaults:l.default.TextModel.variantDefaults,objectStatesEnabled:!0,pendingStyles:{},justDeletedStylesPerVariant:null,constructor:function(t,e){u.default.isNil(t)||u.default.isNil(e)||!e.inSmartgroup||(t.synced=!1);var n=arguments.length>0&&arguments[0].defaultSpan&&!u.default.isNil(e)&&e.copiedFromClipboard,i=this.defaults;n&&(this.defaults=null),c.default.apply(this,arguments),n&&(this.defaults=i)},buildOverridesWithEmptySyncedProperties:function(){var t=this,e=u.default.cloneDeep(t.get("overrides"));return u.default.each(e,(function(e,n){u.default.each(t.getSyncedProperties(),(function(t){delete e[t]}))})),e},activated:!1,initialize:function(t,e){this.layerDictionaryAndHierarchyService=e.layerDictionaryAndHierarchyService,this.justDeletedStylesPerVariant={},this.setPotentiallyMissingModelData(t),"desktop"!==g.default.getCurrentVariant()&&t.textSpans&&u.default.isNil(this.get("textSpans",{doNotFallbackToDesktop:!0}))&&this.set("textSpans",t.textSpans),u.default.has(this.get("defaultSpan"),"letterSpacing")||this.set("defaultSpan",u.default.extend({letterSpacing:0},this.get("defaultSpan"))),this.on("change:synced",this.handleSyncedToggle),c.default.prototype.initialize.call(this,t,e)},setPotentiallyMissingModelData:function(t){var e=g.default.getCurrentVariant(),n=t.overrides?t.overrides[e]:null,i=this;u.default.each(["paddingTop","paddingLeft","paddingRight","paddingBottom"],(function(e){t[e]||(n?i.set(e,n[e]?n[e]:0):i.set(e,0))}))},getTextLength:function(){return this.get("textContent").length},getFontSize:function(){return(this.get("defaultSpan")||this.options.defaultSpan).fontSize},getHiddenFromScreenReaders:function(){return this.get(y.properties.HIDDEN_FROM_SCREEN_READERS)},setFontSize:function(t){t=u.default.clamp(t,1,1e3);var e=this.get("defaultSpan")||this.options.defaultSpan;return(e=u.default.clone(e)).fontSize=t,this.set("defaultSpan",e)},setLeading:function(t){this.set("leading",u.default.clamp(t,0,2e3))},setColumnGap:function(t){this.set("columnGap",u.default.clamp(t,0,100))},setPaddingTop:function(t){this.set("paddingTop",u.default.clamp(t,0,100))},setPaddingBottom:function(t){this.set("paddingBottom",u.default.clamp(t,0,100))},setPaddingLeft:function(t){this.set("paddingLeft",u.default.clamp(t,0,100))},setPaddingRight:function(t){this.set("paddingRight",u.default.clamp(t,0,100))},setHiddenFromScreenReaders:function(t){this.set(y.properties.HIDDEN_FROM_SCREEN_READERS,t)},isActivated:function(){return this.activated},activate:function(){this.activated=!0,this.trigger("editor:activate")},deactivate:function(){this.activated=!1,this.trigger("editor:deactivate")},insertTextAt:function(t,e){var n=this.get("textContent"),i=n.substr(0,e)+t+n.substr(e);this.set("textContent",i),this.adjustTextSpansForTextInsert(t,e),this.updateTitle(i,n)},adjustTextSpansForTextInsert:function(t,e){var n=u.default.partialRight(u.default.bind(this.adjustTextSpansForTextInsertForVariant,this),t,e);this.applyToTextSpans(n)},adjustTextSpansForTextInsertForVariant:function(t,e,n){var i=s.default.extend(!0,[],this.getAttributeForVariant(t,"textSpans")),r=e.length,o=n-1;o<0&&(o=0);var a=m.default.getSpanAtIndex(i,o),l=!!e.match(/^\s+$/)&&a&&a[y.properties.HYPERLINK]&&a.index+a.length===n;if(l||!u.default.isEmpty(this.pendingStyles)||this.inJustDeletedModeForVariant(t)){var c={index:n,length:r},d=this.getSupportedStyles();if(l){var h=m.default.getSpanAtIndex(i,n),f=u.default.pick(h,d);c=u.default.extend(c,f)}else if(a&&!this.inJustDeletedModeForVariant(t)){var p=u.default.pick(a,d);c=u.default.extend(c,p)}c=u.default.extend(c,this.pendingStyles,this.getJustDeletedStylesForVariant(t)),i=this.justDeletedFromStyledSpanForVariant(t)?this._shiftSpansAroundNew(i,n,r):m.default.shiftSpansAfter(i,n-1,r),i=m.default.spliceSpan(i,c),i=this._cleanupSpans(i),i=m.default.clearEmptySpans(i),this.clearJustDeletedModeForVariant(t)}else i=m.default.growSpan(i,o,r);this.setAttributeForVariant(t,{textSpans:i})},updateTitle:function(t,e){var n=this.formatStringAsTitle(e);"Text"!==this.get("title")&&this.get("title")!==n||(""===t&&(t="Text"),this.set("title",this.formatStringAsTitle(t)),this.trigger(d.default.EVENTS.CHANGE_TITLE))},formatStringAsTitle:function(t){return t.slice(0,40).replace(/\n/g," ")},replaceTextAt:function(t,e,n){var i=this.get("textContent"),r=i.substr(0,e)+t+i.substr(n);this.adjustTextSpansForTextReplace(t,e,n),this.set("textContent",r),this.updateTitle(r,i)},adjustTextSpansForTextReplace:function(t,e,n){var i=u.default.partialRight(u.default.bind(this.adjustTextSpansForTextReplaceForVariant,this),t,e,n);this.applyToTextSpans(i)},adjustTextSpansForTextReplaceForVariant:function(t,e,n,i){var r=s.default.extend(!0,[],this.getAttributeForVariant(t,"textSpans")),o=e.length,a=i-n,l=m.default.getSpanAtIndex(r,n)!==m.default.getSpanAtIndex(r,i-1),c=null===m.default.getSpanAtIndex(r,i)||m.default.getSpanAtIndex(r,i).index===i,d=l||c,h=u.default.clone(m.default.getSpanAtIndex(r,n));if(r=this._shrinkSpan(r,n,a),h){var f=h.index===n&&c;r=m.default.growSpan(r,n,o,d,f)}else r=m.default.shiftSpansAfter(r,n-1,o);this.setAttributeForVariant(t,{textSpans:r})},applyToTextSpans:function(t){var e;this.isSyncedTextComponent()?e=g.default.getAllExistingLayouts():e=[g.default.getCurrentVariant()];var n=u.default.bind((function(e){this.hasValueForVariant(e,"textSpans")&&t(e)}),this);u.default.each(e,n)},getVariantGuidsInUse:function(){return u.default.chain(this.getLayoutVariants()).flatMap(this.getLayoutVariantSpans.bind(this)).map("variantGuid").uniq().filter().value()},getLayoutVariants:function(){return["desktop"].concat(g.default.getExistingVariants())},getLayoutVariantSpans:function(t){return u.default.concat(this.get("defaultSpan",{variant:t})||[],this.get("textSpans",{variant:t})||[])},updateFontFamily:function(t){if(t){var e=u.default.extend({},this.get("defaultSpan")),n=s.default.extend(!0,[],this.get("textSpans"));return h.default.loadFamiliesByVariantGuids(this.getVariantGuidsInUse()).then(u.default.bind((function(i){var r=i.getFontVariantByVariantGuid(e.variantGuid);e.variantGuid=t.findBestMatchVariant(r).getGuid(),u.default.each(n,u.default.bind((function(e){if(e.variantGuid){var n=i.getFontVariantByVariantGuid(e.variantGuid);e.variantGuid=t.findBestMatchVariant(n).getGuid()}}),this)),n=this._cleanupSpans(n),this.set({defaultSpan:e,textSpans:n})}),this))}},_updatePendingStyles:function(t){this.pendingStyles=u.default.extend(this.pendingStyles,t),this.trigger("change:pendingStyles",t)},applyStylesToRange:function(t,e,n,i){var r=n-e;if(0!==r){var o=u.default.extend({},this._pickStyles(t),{index:e,length:r}),a=s.default.extend(!0,[],this.get("textSpans",{variant:i}));a=m.default.spliceSpan(a,o),a=this._cleanupSpans(a),this.set("textSpans",a,{variant:i})}else this._updatePendingStyles(t)},applyStylesToDefaultSpan:function(t,e){var n=u.default.cloneDeep(this.get("defaultSpan"));t=this._pickStyles(t);for(var i=function(e){u.default.each(u.default.keys(t),(function(t){u.default.has(e,t)&&delete e[t]}))},r=s.default.extend(!0,[],this.get("textSpans")),o=0;o<r.length;o++)i(r[o]);r=this._cleanupSpans(r),u.default.each(t,(function(t,i){n[i]=p.default.getValidValueForOptions(n[i],t,e)})),this.set({defaultSpan:n,textSpans:r})},getStylesForRange:function(t,e){u.default.isUndefined(e)&&(e=t),t===e&&(0===t?e++:t--);var n=this.getSupportedStyles(),i=u.default.extend({},this.get("defaultSpan")),r={},o=u.default.pick(i,n);u.default.each(n,(function(t){r[t]=[]}));for(var a=function(t){u.default.each(n,(function(e){u.default.isUndefined(t[e])?r[e].push(i[e]):r[e].push(t[e]),r[e]=u.default.uniq(r[e])}))},s=this.get("textSpans"),l=t;l<e;l++){a(u.default.extend({},m.default.getSpanAtIndex(s,l)))}return u.default.each(n,(function(t){1===r[t].length?o[t]=r[t][0]:r[t].length>1&&(o[t]=r[t])})),o},getSpanWithAllStyles:function(t){return u.default.extend({},this.get("defaultSpan"),t)},_shrinkSpan:function(t,e,n){if(n<=0)return t;for(var i=n;i-- >0;){var r=m.default.getSpanAtIndex(t,e+i);r&&(r.length--,0===r.length&&0!==i&&(t=m.default.removeSpan(t,r))),t=m.default.shiftSpansAfter(t,e+i,-1)}return t},setJustDeletedMode:function(t){var e=u.default.partialRight(u.default.bind(this.setJustDeletedModeForVariant,this),t);this.applyToTextSpans(e)},setJustDeletedModeForVariant:function(t,e){var n=u.default.pick(m.default.getSpanAtIndex(this.getAttributeForVariant(t,"textSpans"),e),this.getSupportedStyles());u.default.set(this.justDeletedStylesPerVariant,t,n)},justDeletedFromStyledSpan:function(){var t=g.default.getCurrentVariant();return this.justDeletedFromStyledSpanForVariant(t)},justDeletedFromStyledSpanForVariant:function(t){return this.inJustDeletedModeForVariant(t)&&u.default.size(this.getJustDeletedStylesForVariant(t))>0},inJustDeletedMode:function(){var t=g.default.getCurrentVariant();return this.inJustDeletedModeForVariant(t)},inJustDeletedModeForVariant:function(t){return!1!==u.default.get(this.justDeletedStylesPerVariant,t,!1)},getJustDeletedStyles:function(){var t=g.default.getCurrentVariant();return this.getJustDeletedStylesForVariant(t)},getJustDeletedStylesForVariant:function(t){return u.default.get(this.justDeletedStylesPerVariant,t,{})},clearJustDeletedMode:function(){this.justDeletedStylesPerVariant={}},clearJustDeletedModeForVariant:function(t){u.default.unset(this.justDeletedStylesPerVariant,t)},clearEmptySpans:function(){var t=g.default.getCurrentVariant();this._clearEmptySpansForVariant(t)},_clearEmptySpansForVariant:function(t){var e=s.default.extend(!0,[],this.getAttributeForVariant(t,"textSpans")),n=e.length,i=m.default.clearEmptySpans(e);i.length!==n&&this.setAttributeForVariant(t,{textSpans:i})},_shiftSpansAroundNew:function(t,e,n){for(var i,r=0;r<t.length;r++){var o=t[r];if(o.index<=e&&e<o.index+o.length){var a=e-o.index,s=o.length-a;o.length=a+1,(i=this._pickStyles(o)).length=s,i.index=e+n}else o.index>e&&(o.index+=n)}return i&&(t=m.default.spliceSpan(t,i)),t},removeDefaultStyles:function(t,e){var n=this._pickStyles(this.get("defaultSpan",{variant:e}));return u.default.transform(t,(function(t,e,i){n[i]===e||"fontColor"===i&&f.default.isEqual(e,n[i])||(t[i]=e)}),{})},removeHyperlink:function(t,e,n){var i=this.get("defaultSpan",{variant:n}),r={};r[y.properties.FONT_COLOR]=i[y.properties.FONT_COLOR],r[y.properties.UNDERLINE]=i[y.properties.UNDERLINE]||!1,r[y.properties.HYPERLINK]=void 0,this.applyStylesToRange(r,t,e,n)},canCombineSpans:function(t,e){return!(!t||!e)&&(this._spansAdjacent(e,t)&&u.default.isEqual(this._pickStyles(t),this._pickStyles(e)))},_cleanupSpans:function(t,e){var n=[];return u.default.forEach(t,u.default.bind((function(t){t=this.removeDefaultStyles(t,e);var i=this._pickStyles(t);if(!u.default.isEmpty(i)){var r=u.default.last(n);this.canCombineSpans(t,r)?r.length+=t.length:n.push(t)}}),this)),n},_spansAdjacent:function(t,e){return t.index+t.length===e.index},_pickStyles:function(t){return u.default.pick(t,this.getSupportedStyles())},getSupported:function(){return l.default.TextModel.supported},getSupportedStyles:function(){return["variantGuid","fontColor","underline","letterSpacing","variantName","familyGuid","fontSize",y.properties.HYPERLINK]},clearPendingStyles:function(){this.pendingStyles={}},getDisplayLabel:function(){return this.title},roundTransformableAttributes:function(){c.default.prototype.roundTransformableAttributes.call(this),this.setFontSize(Math.round(this.getFontSize())),this.setLeading(Math.round(this.get("leading"))),this.setColumnGap(Math.round(this.get("columnGap"))),this.setPaddingTop(Math.round(this.get("paddingTop"))),this.setPaddingBottom(Math.round(this.get("paddingBottom"))),this.setPaddingRight(Math.round(this.get("paddingRight"))),this.setPaddingLeft(Math.round(this.get("paddingLeft")))},resizeAttributes:function(t){this.setFontSize(this.getFontSize()*t),this.setLeading(this.get("leading")*t),this.setColumnGap(this.get("columnGap")*t),this.setPaddingTop(this.get("paddingTop")*t),this.setPaddingBottom(this.get("paddingBottom")*t),this.setPaddingRight(this.get("paddingRight")*t),this.setPaddingLeft(this.get("paddingLeft")*t)},getNewFontColorPreservingOpacity:function(t,e){return t.fontColor?e.cloneWithAlphaFromColorString(t.fontColor).toString():e.toString()},applyFontRgbaPropertyToSpans:function(t,e,n,i){var r=this.get("defaultSpan");if(n.start===n.end){var o=f.default.fromString(r.fontColor?r.fontColor:f.default.Black(1).toString());return o[t]=p.default.getValidValueForOptions(o[t],e,i),void this._updatePendingStyles({fontColor:o.toString()})}this.applyNewFontColorToSpans(n,u.default.bind((function(n){var o=f.default.fromString(n.fontColor?n.fontColor:r.fontColor);return o[t]=p.default.getValidValueForOptions(o[t],e,i),o.toString()}),this))},applyFontColorToSpansPreservingOpacity:function(t,e){if(e.start!==e.end)this.applyNewFontColorToSpans(e,u.default.bind((function(e){return this.getNewFontColorPreservingOpacity(e,t)}),this));else{var n=this.getNewFontColorPreservingOpacity(this.get("defaultSpan"),t),i=this.getNewFontColorPreservingOpacity(this.pendingStyles,f.default.fromString(n));this._updatePendingStyles({fontColor:i})}},applyFontColorOpacityToSpans:function(t,e,n){var i=f.default.fromString(this.get("defaultSpan").fontColor);i.a=p.default.getValidOpacityValueForOptions(i.a,t,n),e.start!==e.end?this.applyNewFontColorToSpans(e,(function(e){if(!e.fontColor)return i.toString();var r=f.default.fromString(e.fontColor);return r.a=p.default.getValidOpacityValueForOptions(r.a,t,n),r.toString()})):this._updatePendingStyles({fontColor:i.toString()})},applyNewFontColorToSpans:function(t,e){for(var n=t.start,i=t.end-1,r=u.default.cloneDeep(this.get("textSpans"));n<=i;){var o,a=m.default.getSpanAtIndex(r,n);if(a){var s=a.index+a.length-1;a.index===n&&s<=i?(a.fontColor=e(a),n=s+1):((o=u.default.clone(a)).index=a.index<n?n:o.index,o.length=s<i?s-n+1:i-n+1,o.fontColor=e(o),r.push(o),this.resizeSpanToFitNewSpan(r,a,o),n+=o.length)}else{o={index:n,fontColor:e(this.get("defaultSpan"))};var l=this.findNextSpanBetween(r,n,i);l?(o.length=l.index-n,n+=o.length):(o.length=i-n+1,n=i+1),r.push(o)}}r.sort((function(t,e){return t.index-e.index})),r=this._cleanupSpans(r),this.set("textSpans",r)},findNextSpanBetween:function(t,e,n){if(e>n)return null;var i=this.findNextSpan(t,e);return i?i.index>n?null:i:null},findNextSpan:function(t,e){return u.default.find(t,(function(t){return t.index>e}))},resizeSpanToFitNewSpan:function(t,e,n){var i=e.index+e.length-1,r=n.index+n.length-1;if(e.index<n.index&&i>r){e.length=n.index-e.index;var o=u.default.clone(e);o.index=n.index+n.length,o.length=i-r,t.push(o)}else e.index<n.index?e.length=n.index-e.index:i>r&&(e.index=n.index+n.length,e.length=i-e.index+1);return t},copyCurrentTextContentToMasterVariant:function(){var t=this.get("textContent");this.setAttributeForVariant("desktop",{textContent:t})},copyMasterVariantTextContentToExistingTextContentOverrides:function(){var t=this.getAttributeForVariant("desktop","textContent"),e=g.default.cloneOverrides(this.nonVariantGet("overrides"));u.default.each(e,(function(e,n){e.textContent&&(e.textContent=t)})),this.nonVariantSet("overrides",e)},isSyncedTextComponent:function(){return!0===this.nonVariantGet("synced")},isTextComponent:function(){return!0},isEditableComponent:function(){return!this.isSyncedObject()},isSyncing:function(){return this.isSyncedTextComponent()&&this.existsOnMultipleVariants()},existsOnMultipleVariants:function(){return this.layerDictionaryAndHierarchyService.isComponentUsedInMultipleVariants(this.id)},getContentLength:function(){return this.get("textContent").length},hasTextOutsideTextSpans:function(){var t=0,e=this.getContentLength(),n=this.get("textSpans");if(!n||0===e)return!0;for(var i=0;t<e;){var r=n[i];if(!r||!(t>=r.index&&t<r.index+r.length))return!0;i+=1,t=r.index+r.length}return!1},handleSyncedToggle:function(t,e){e?this.handleSyncedEnabled():this.handleSyncedDisabled()},handleSyncedEnabled:function(){this.copyCurrentTextContentToMasterVariant(),v.default.copyCurrentVariantCacheToSyncedCache(this)},handleSyncedDisabled:function(){this.copyMasterVariantTextContentToExistingTextContentOverrides(),v.default.copySyncedCacheToCurrentVariantCache(this)},getObjectStateSupportedProperties:function(){return l.default.TextModel.objectStateSupportedProperties},getHyperlinksReferencingScranchors:function(){return(u.default.get(this.attributes,"overrides."+g.default.getCurrentVariant()+".textSpans")||this.attributes.textSpans||[]).filter((function(t){var e=t[y.properties.HYPERLINK];return e&&e.type===_.InlineLinkType.POSITION&&!u.default.includes(["next","prev"],e.location)}))},getReferencedScranchorIds:function(){return c.default.prototype.getReferencedScranchorIds.apply(this).concat(this.getHyperlinksReferencingScranchors().map((function(t){return t[y.properties.HYPERLINK].location})))},removeInteractionsReferencingScranchor:function(t){c.default.prototype.removeInteractionsReferencingScranchor.apply(this,arguments),this.getHyperlinksReferencingScranchors().forEach(function(t){this.removeHyperlink(t.index,t.index+t.length)}.bind(this))}},{MIN_FONT_SIZE:1,MAX_FONT_SIZE:1e3,MIN_LEADING:0,MAX_LEADING:2e3,MIN_COLUMN_GAP:0,MAX_COLUMN_GAP:100,MIN_PADDING:0,MAX_PADDING:100})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(494)),s=i(n(47)),u=i(n(28)),l=function(){this.setAPIManager(new a.default)};l.prototype={FILTER:{CATEGORY:"category",NAME:"family"},SORT:{ALPHABETICAL:"family"},setAPIManager:function(t){return this.apiManager=t,this},execute:function(t){var e=new o.default.Deferred,n=[],i=new s.default;return r.default.each(this.apiManager.getAPIs(),(function(e){var r=e.execute(t);r.done((function(t){i.add(t)})),n.push(r)})),o.default.when.apply(o.default,n).done((function(){t.sortPropertyName&&i.sort(t.sortPropertyName,t.isDescending()),e.resolve(i)})).fail((function(){e.reject()})),e.promise()},loadFamiliesByVariantGuids:function(t,e){return t&&0!==t.length?this.apiManager.loadFamiliesByVariantGuids(t,e):(new o.default.Deferred).resolve(new s.default)},loadFamiliesByFamilyGuids:function(t,e){return t&&0!==t.length?this.apiManager.loadFamiliesByFamilyGuids(t,e):(new o.default.Deferred).resolve(new s.default)},loadFontVariant:function(t,e){return this.loadFamiliesByVariantGuids([t],e).then((function(e){return e.getFontVariantByVariantGuid(t)}))},getMetrics:function(t){return this.loadFontVariant(t).then((function(t){return t.getMetrics()}))},loadMetricsForDefaultFont:function(){return this.getMetrics(u.default.DEFAULT_FONT_VARIANT_GUID)},updateMetrics:function(t){return t&&0!==t.length?this.apiManager.updateMetrics(t):(new o.default.Deferred).resolve()}};var c=null;e.default=(null===c&&(c=new l),c)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(495)),s=i(n(496)),u=i(n(497)),l=i(n(498)),c=i(n(47)),d=function(){this.apis={},this.setAPI(new a.default),this.setAPI(new s.default),this.setAPI(new u.default)};d.prototype={setAPI:function(t){this.apis[t.ID]=t},getAPIs:function(){return this.apis},getAPI:function(t){return this.apis[t]},buildWebFontConfigForFamilies:function(t){var e=new c.default(r.default.filter(t.getFontFamilies(),(function(t){return!t.isBuiltIn()&&!t.getWebFontStylesLoaded()}))),n={},i=new c.default;return r.default.each(e.getFontFamiliesByAPIMap(),r.default.bind((function(t,e){var r=this.apis[e],o=new c.default(t);n[r.FONTLOADER_KEY]=r.buildWebLoaderObjectForFamilies(o),i.add(o)}),this)),new l.default({apiConfigs:n,queuedFontFamilies:i})},loadFamiliesByVariantGuids:function(t,e){var n=this.segmentGuidsByAPIId(t),i=r.default.map(n,r.default.bind((function(t,n){return this.apis[n].loadFamiliesByVariantGuids(t,e)}),this));return o.default.when.apply(o.default,i).then((function(){var t=new c.default;return r.default.each(arguments,(function(e){t.add(e)})),t}))},loadFamiliesByFamilyGuids:function(t,e){var n=this.segmentGuidsByAPIId(t),i=r.default.map(n,r.default.bind((function(t,n){return this.apis[n].loadFamiliesByFamilyGuids(t,e)}),this));return o.default.when.apply(o.default,i).then((function(){var t=new c.default;return r.default.each(arguments,(function(e){t.add(e)})),t}))},getAPIForFamilyOrVariantGuid:function(t){var e=r.default.find(this.apis,(function(e){return e.belongsToAPI(t)}));if(!e)throw"Could not find font api for family/Variant Guid: "+t;return e},segmentGuidsByAPIId:function(t){var e={};return r.default.each(t,r.default.bind((function(t){var n=this.getAPIForFamilyOrVariantGuid(t);e[n.ID]||(e[n.ID]=[]),e[n.ID].push(t)}),this)),e},updateMetrics:function(t){var e=this.segmentGuidsByAPIId(t),n=r.default.map(e,r.default.bind((function(t,e){return this.apis[e].updateMetrics(t)}),this));return o.default.when.apply(o.default,n)}},e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(52)),s=i(n(47)),u=i(n(111)),l=i(n(72)),c=i(n(28)),d=function(){};r.default.extend(d.prototype,u.default.prototype,{ID:c.default.GOOGLE_API_ID,FONTLOADER_KEY:"google",FONT_URL:"/google-font-list",parseResults:function(t){var e=[],n=this;return r.default.each(t.items,(function(t){if(r.default.includes(t.subsets,"latin")){var i=new a.default;n.populate(i,t),e.push(i)}})),new s.default(e)},populate:function(t,e){t.api=this.ID,t.family=e.family,t.category=e.category,t.version=e.version,t.lastModified=e.lastModified,t.files=e.files,t.guid=this.buildFontFamilyGuid(e.family),r.default.each(e.variants,r.default.bind((function(n){var i=l.default.parseGoogleVariantName(n),r=this.buildFontVariantGuid(e.family,i.fontWeight,i.fontStyle);t.addVariant(i.variantName,{familyName:e.family,fontWeight:i.fontWeight,fontStyle:i.fontStyle,guid:r})}),this))},buildWebLoaderObjectForFamilies:function(t){return{families:r.default.chain(t.getFontFamilies()).map(r.default.bind((function(t){if(t.api===this.ID)return t.family+":"+t.getVariantNames().join(",")}),this)).filter((function(t){return!!t})).value()}},loadMetrics:function(t){return l.default.loadMetrics(t)},buildFontFamilyGuid:function(t){return c.default.GOOGLE_API_ID+"|"+t},buildFontVariantGuid:function(t,e,n){return this.buildFontFamilyGuid(t)+"|"+e+"|"+n},updateMetrics:function(t){if(0===t.length)return(new o.default.Deferred).resolve();var e=r.default.map(t,r.default.bind((function(t){var e=this.fontCollection.getFontFamilyByFamilyGuid(t);return r.default.pick(e,["family","version","lastModified","files"])}),this));return o.default.ajax("/rest/v1/font/glyph-metrics",{data:JSON.stringify(e),type:"POST",contentType:"application/json"}).promise()}}),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(2)),s=i(n(52)),u=i(n(47)),l=i(n(111)),c=i(n(28)),d=i(n(8)),h=function(){};r.default.extend(h.prototype,l.default.prototype,{ID:c.default.UPLOADED_API_ID,FONTLOADER_KEY:"custom",FONT_URL:"/rest/v1/account/"+a.default.accountSlug+"/font-upload",parseResults:function(t){return this.createFontCollection(t)},buildWebLoaderObjectForFamilies:function(t){var e=[],n="",i=[];return r.default.each(t.getFontFamilies(),r.default.bind((function(t,o){t.api===this.ID&&(""!==n&&(n+=","),n+=t.guid,r.default.each(t.variants,(function(t){e.push(t.cssFamilyName)})),(o+1)%20==0&&(i.push(d.default.appendQueryParams(this.FONT_URL+"/css",{family:n,_:Math.random()})),n=""))}),this)),n&&i.push(d.default.appendQueryParams(this.FONT_URL+"/css",{family:n,_:Math.random()})),{families:e,urls:i}},loadFamiliesByFamilyGuids:function(t,e){var n,i=new u.default;return 0===(n=e?t:r.default.filter(t,r.default.bind((function(t){var e=this.fontCollection.getFontFamilyByFamilyGuid(t);if(!e)return!0;i.add(e)}),this))).length?(new o.default.Deferred).resolve(i):o.default.post(this.FONT_URL,{familyGuids:n}).then(r.default.bind((function(t){var e=this.createFontCollection(t);return this.fontCollection.add(e),i.add(e),i}),this))},loadFamiliesByVariantGuids:function(t,e){var n,i=new u.default;return 0===(n=e?t:r.default.filter(t,r.default.bind((function(t){var e=this.fontCollection.getFontFamilyByVariantGuid(t);if(!e)return!0;i.add(e)}),this))).length?(new o.default.Deferred).resolve(i):o.default.post(this.FONT_URL,{variantGuids:n}).then(r.default.bind((function(t){var e=this.createFontCollection(t);return this.fontCollection.add(e),i.add(e),i}),this))},createFontCollection:function(t){var e=new u.default;return r.default.each(t,r.default.bind((function(t){var n=e.getFontFamilyByFamilyGuid(t.guid);n||(n=this.createFamily(t.familyName,t.guid,t.crossAccount)),r.default.each(t.variants,r.default.bind((function(t){this.addVariant(n,t)}),this)),n.sortVariantsByName(),e.addFontFamily(n)}),this)),e},createFamily:function(t,e,n){return new s.default({api:this.ID,family:t,category:this.ID,guid:e,crossAccount:n})},addVariant:function(t,e){return t.addVariant(e.variantName,{familyName:t.family,fontWeight:c.default.DEFAULT_FONT_WEIGHT,fontStyle:c.default.DEFAULT_FONT_STYLE,guid:e.guid,metricsUrl:e.metricsFileURL,cssFamilyName:e.cssFamilyName})}}),e.default=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(52)),s=i(n(47)),u=i(n(111)),l=i(n(72)),c=i(n(28)),d=[{familyName:"Arial",variants:["regular","700","italic","700italic"]},{familyName:"Courier New",variants:["regular","700","italic","700italic"]},{familyName:"Georgia",variants:["regular","700","italic","700italic"]},{familyName:"Helvetica",variants:["regular","700","italic","700italic"]},{familyName:"Times New Roman",variants:["regular","700","italic","700italic"]},{familyName:"Trebuchet MS",variants:["regular","700","italic","700italic"]},{familyName:"Verdana",variants:["regular","700","italic","700italic"]}],h=function(){this.fontCollection=new s.default,r.default.each(d,r.default.bind((function(t){var e=new a.default({api:this.ID,family:t.familyName,guid:this.buildFontFamilyGuid(t.familyName)});r.default.each(t.variants,r.default.bind((function(n){var i=l.default.parseGoogleVariantName(n);e.addVariant(i.variantName,{familyName:t.family,fontWeight:i.fontWeight,fontStyle:i.fontStyle,guid:this.buildFontVariantGuid(t.familyName,i.fontWeight,i.fontStyle)})}),this)),this.fontCollection.addFontFamily(e)}),this))};r.default.extend(h.prototype,u.default.prototype,{ID:c.default.BUILTIN_API_ID,execute:function(){return o.default.Deferred().resolve(new s.default).promise()},loadMetrics:function(t){return l.default.loadMetrics(t)},isBuiltInFamilyGuid:function(t){return!!this.fontCollection.getFontFamilyByFamilyGuid(t)},getFontCollection:function(){return this.fontCollection},buildFontFamilyGuid:function(t){return c.default.BUILTIN_API_ID+"|"+t},buildFontVariantGuid:function(t,e,n){return this.buildFontFamilyGuid(t)+"|"+e+"|"+n}}),e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){this.apiConfigs=t.apiConfigs||{},this.queuedFontFamilies=t.queuedFontFamilies||[]}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={isSpanIntersection:function(t,e){if(!t||!e)return!1;var n=t.index,i=t.index+t.length-1,r=e.index,o=e.index+e.length-1;return n>=r&&n<=o||i>=r&&i<=o||r>=n&&r<=i||o>=n&&o<=i},getSpanContaining:function(t,e){for(var n=0;n<t.length;n++)if(this.isSpanIntersection(e,t[n]))return t[n];return null},getSpanAtIndex:function(t,e){return this.getSpanContaining(t,{index:e,length:1})},shiftSpansAfter:function(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];r.index>e&&(r.index+=n)}return t},spliceSpan:function(t,e){for(var n=[],i=this.getSplicePoints(t,e),o=0;o<i.length-1;o++){var a={index:i[o],length:i[o+1]-i[o]},s=this.getSpanContaining(t,a),u=s&&s.length>0?s:{},l=this.isSpanIntersection(e,a)?e:{};n.push(r.default.extend({},u,l,a))}return n},getSplicePoints:function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(t[i].index),n.push(t[i].index+t[i].length);return n.push(e.index),n.push(e.index+e.length),r.default.uniq(n.sort((function(t,e){return t-e})),!0)},growSpan:function(t,e,n,i,r){if(n<=0)return t;var o,a=e;return(o=i&&!r?this.getSpanAtIndex(t,e-1):this.getSpanAtIndex(t,e))&&(o.length+=n,a=o.index),r?(t.splice(t.indexOf(o),1),t=this.spliceSpan(this.shiftSpansAfter(t,a-1,n),o)):t=this.shiftSpansAfter(t,a,n),t},removeSpan:function(t,e){for(var n=0;n<t.length;n++)if(this.areSpansEqual(e,t[n]))return t.splice(n,1),t;return t},areSpansEqual:function(t,e){return t.index===e.index&&t.length===e.length},clearEmptySpans:function(t){for(var e=t.length-1;e>=0;e--){var n=t[e];0===n.length&&(t=this.removeSpan(t,n))}return t}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(24)),a=i(n(0)),s=(r={desktop:{}},o.default.on(o.default.EVENTS.VARIANT_CHANGED,(function(){a.default.unset(r,["tempSyncedCache"])})),o.default.on(o.default.EVENTS.VARIANT_DELETED,(function(t){s.clearVariant(t.variantName)})),{copySyncedCacheToCurrentVariantCache:function(t){var e=a.default.get(r,["tempSyncedCache",t.id]);a.default.set(r,[o.default.getCurrentVariant(),t.id],e)},copyCurrentVariantCacheToSyncedCache:function(t){var e=o.default.getCurrentVariant(),n=a.default.get(r,[e,t.id],void 0);this.clearItemFromAllVariantCaches(t),a.default.set(r,["tempSyncedCache",t.id],n)},get:function(t){if(a.default.isFunction(t.isSyncedTextComponent)&&t.isSyncedTextComponent())return a.default.get(r,["tempSyncedCache",t.id]);var e=a.default.isFunction(t.isSyncedObject)&&t.isSyncedObject()?"desktop":o.default.getCurrentVariant();return a.default.get(r,[e,t.id],void 0)},set:function(t,e,n){var i=a.default.isFunction(t.isSyncedObject)&&t.isSyncedObject()?"desktop":o.default.getCurrentVariant(),s=n||i,u=t.id;t.synced||a.default.isFunction(t.isSyncedTextComponent)&&t.isSyncedTextComponent()?a.default.set(r,["tempSyncedCache",u],e):a.default.isUndefined(e)?a.default.unset(r,[s,u]):a.default.set(r,[s,u],e)},clearVariant:function(t){a.default.unset(r,[t])},clearItemFromAllVariantCaches:function(t){a.default.unset(r,["desktop",t.id]),a.default.unset(r,["tablet",t.id]),a.default.unset(r,["mobile",t.id])}});e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(10)),a=i(n(110));e.default=a.default.extend({defaults:o.default.VideoModel.defaults,initialize:function(t,e){a.default.prototype.initialize.call(this,t,e),this.get("createDate")||this.set("createDate",Date.now()),this.on("change:width",this.onWidthChange,this),this.on("change:poster",this.updateRenderedImage,this)},getSupported:function(){return o.default.VideoModel.supported},getSupportedInteractionTriggers:function(){return[]},mustBeConstrained:function(){return!0},isCopiable:function(){return!r.default.isEmpty(this.get("video"))},getDisplayLabel:function(){return"Video"},getImageUri:function(){return this.get("poster")},onWidthChange:function(t,e,n){e>this.previous("width")&&this.updateRenderedImage()},isVideoModel:function(){return!0}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(19));e.default=r.default.extend({initialize:function(t,e){r.default.prototype.initialize.call(this,t,e)}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeModel=void 0;var a=n(213),s=o(n(10)),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults=s.default.CustomShapeModel.defaults,e}return r(e,t),e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n)},e.prototype.getDisplayLabel=function(){return"Custom Shape"},e.prototype.supportsObjectStates=function(){return!this.isInMaskGroup()&&t.prototype.supportsObjectStates.call(this)},e.prototype.getSupported=function(){return this.isInMaskGroup()?s.default.ShapeModel.supportedMaskGroupShape:s.default.CustomShapeModel.supported},e.prototype.isCustomShapeComponent=function(){return!0},e.prototype.isMask=function(){return this.isInMaskGroup()&&"image-component"!==this.get("type")},e}(a.AbstractCustomPathModel);e.CustomShapeModel=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextModel=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.setTextData=function(t){this.set("textData",t)},e.prototype.getTextData=function(){return this.get("textData")},e}(o(n(19)).default);e.TextModel=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={forEachDescendant:function(t,e){for(var n=0;n<t.length;n++){var i=t[n];e(i),i.hasChildren()&&o.forEachDescendant(i.getChildren(),e)}},forEachDescendantIncludingSmartGroupObjects:function(t,e){this.forEachDescendant(t,(function(t){e(t),t.isSmartgroup()&&t.getDefinitionLayers().forEachDescendantIncludingSmartGroupObjects(e)}))},forEachDescendantWithParentsWhile:function(t,e,n,i){i=i||[],r.default.each(t,(function(t){if(e(t,i),n(t,i)&&t.hasChildren()){var r=i.concat(t);o.forEachDescendantWithParentsWhile(t.getChildren(),e,n,r)}}))},forSomeDescendantWithParents:function(t,e,n){return n=n||[],r.default.some(t,(function(t){if(e(t,n))return!0;if(t.hasChildren()){var i=n.concat(t);return o.forSomeDescendantWithParents(t.getChildren(),e,i)}}))},forSomeDescendant:function(t,e){return r.default.some(t,(function(t){return!!e(t)||(t.hasChildren()?o.forSomeDescendant(t.getChildren(),e):void 0)}))},findDescendant:function(t,e){var n;return r.default.each(t,(function(t){return e(t)?(n=t,!1):(!t.hasChildren()||!(n=o.findDescendant(t.getChildren(),e)))&&void 0})),n},forEachDescendantWhile:function(t,e,n){r.default.each(t,(function(t){e(t),t.hasChildren()&&n(t)&&o.forEachDescendantWhile(t.getChildren(),e,n)}))},forEachDescendantWithPath:function(t,e,n){r.default.each(e,(function(e,i){var r=t.concat(i);if(n(r,e),e.hasChildren()){var a=r.concat(e.getPathPart());o.forEachDescendantWithPath(a,e.getChildren(),n)}}))},forSomeDescendantWithPath:function(t,e,n){return r.default.some(e,(function(e,i){var r=t.concat(i);if(n(r,e))return!0;if(e.hasChildren()){var a=r.concat(e.getPathPart());return o.forSomeDescendantWithPath(a,e.getChildren(),n)}return!1}))},forEachCollectionDescendant:function(t,e){e(t),t.each((function(t){t.hasChildren()&&o.forEachCollectionDescendant(t.getCollection(),e)}))},forSomeLayerCollectionDescendantWithPath:function(t,e,n){return!!n(t,e)||e.some((function(e,i){var r=t.concat(i);if(e.isFolderOrGroup()){var a=r.concat(e.getPathPart());return o.forSomeLayerCollectionDescendantWithPath(a,e.getCollection(),n)}}))}};e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(507));e.default={normalizeSubjects:function(t){return!r.default.isObject(t)&&r.default.isEmpty(t)&&(t=[]),r.default.isArray(t)||(t=[t]),t},filterCollection:function(t,e,n,i){if(e=e.toArray?e.toArray():e,!t||!e.length)return e;var a,s="";return i?(a=e[0][i].attributes,s=i+"."):a=e[0].attributes,function(t,e,n){var i=[];return r.default.each(t,(function(t){var a=t.obj,s=t.obj;n&&(s=s[n]);var u=s.attributes;r.default.each(t,r.default.bind((function(t,n){var i=e[n];if(t){var r="_"+i+"_";u?s.set(r,o.default.highlight(t)):s[r]=o.default.highlight(t)}}),this)),i.push(a)})),i}(o.default.go(t,e,{allowTypo:!1,threshold:-1e4,keys:a?r.default.map(n,(function(t){return s+"attributes."+t})):n}),n,i)}}},function(t,e,n){"use strict";(function(n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){var t="undefined"==typeof window,e=new Map,i=new Map,r=[];r.total=0;var o=[],a=[];function s(){e.clear(),i.clear(),o=[],a=[]}function u(t){for(var e=-9007199254740991,n=t.length-1;n>=0;--n){var i=t[n];if(null!==i){var r=i.score;r>e&&(e=r)}}return-9007199254740991===e?null:e}function l(t,e){var n=t[e];if(void 0!==n)return n;var i=e;Array.isArray(e)||(i=e.split("."));for(var r=i.length,o=-1;t&&++o<r;)t=t[i[o]];return t}function c(t){return"object"==typeof t}var d=function(){var t=[],e=0,n={};function i(){for(var n=0,i=t[n],r=1;r<e;){var o=r+1;n=r,o<e&&t[o].score<t[r].score&&(n=o),t[n-1>>1]=t[n],r=1+(n<<1)}for(var a=n-1>>1;n>0&&i.score<t[a].score;a=(n=a)-1>>1)t[n]=t[a];t[n]=i}return n.add=function(n){var i=e;t[e++]=n;for(var r=i-1>>1;i>0&&n.score<t[r].score;r=(i=r)-1>>1)t[i]=t[r];t[i]=n},n.poll=function(){if(0!==e){var n=t[0];return t[0]=t[--e],i(),n}},n.peek=function(n){if(0!==e)return t[0]},n.replaceTop=function(e){t[0]=e,i()},n},h=d();return function f(p){var g={single:function(t,e,n){return t?(c(t)||(t=g.getPreparedSearch(t)),e?(c(e)||(e=g.getPrepared(e)),((n&&void 0!==n.allowTypo?n.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?g.algorithm:g.algorithmNoTypo)(t,e,t[0])):null):null},go:function(t,e,n){if(!t)return r;var i=(t=g.prepareSearch(t))[0],o=n&&n.threshold||p&&p.threshold||-9007199254740991,a=n&&n.limit||p&&p.limit||9007199254740991,s=(n&&void 0!==n.allowTypo?n.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?g.algorithm:g.algorithmNoTypo,d=0,f=0,m=e.length;if(n&&n.keys)for(var v=n.scoreFn||u,y=n.keys,_=y.length,b=m-1;b>=0;--b){for(var T=e[b],w=new Array(_),S=_-1;S>=0;--S)(C=l(T,O=y[S]))?(c(C)||(C=g.getPrepared(C)),w[S]=s(t,C,i)):w[S]=null;w.obj=T;var E=v(w);null!==E&&(E<o||(w.score=E,d<a?(h.add(w),++d):(++f,E>h.peek().score&&h.replaceTop(w))))}else if(n&&n.key){var O=n.key;for(b=m-1;b>=0;--b)(C=l(T=e[b],O))&&(c(C)||(C=g.getPrepared(C)),null!==(A=s(t,C,i))&&(A.score<o||(A={target:A.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:A.score,indexes:A.indexes,obj:T},d<a?(h.add(A),++d):(++f,A.score>h.peek().score&&h.replaceTop(A)))))}else for(b=m-1;b>=0;--b){var C,A;(C=e[b])&&(c(C)||(C=g.getPrepared(C)),null!==(A=s(t,C,i))&&(A.score<o||(d<a?(h.add(A),++d):(++f,A.score>h.peek().score&&h.replaceTop(A)))))}if(0===d)return r;var P=new Array(d);for(b=d-1;b>=0;--b)P[b]=h.poll();return P.total=d+f,P},goAsync:function(e,i,o){var a=!1,s=new Promise((function(s,h){if(!e)return s(r);var f=(e=g.prepareSearch(e))[0],m=d(),v=i.length-1,y=o&&o.threshold||p&&p.threshold||-9007199254740991,_=o&&o.limit||p&&p.limit||9007199254740991,b=(o&&void 0!==o.allowTypo?o.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?g.algorithm:g.algorithmNoTypo,T=0,w=0;function S(){if(a)return h("canceled");var d=Date.now();if(o&&o.keys)for(var p=o.scoreFn||u,E=o.keys,O=E.length;v>=0;--v){for(var C=i[v],A=new Array(O),P=O-1;P>=0;--P)(M=l(C,x=E[P]))?(c(M)||(M=g.getPrepared(M)),A[P]=b(e,M,f)):A[P]=null;A.obj=C;var I=p(A);if(null!==I&&!(I<y)&&(A.score=I,T<_?(m.add(A),++T):(++w,I>m.peek().score&&m.replaceTop(A)),v%1e3==0&&Date.now()-d>=10))return void(t?n(S):setTimeout(S))}else if(o&&o.key){for(var x=o.key;v>=0;--v)if((M=l(C=i[v],x))&&(c(M)||(M=g.getPrepared(M)),null!==(k=b(e,M,f))&&!(k.score<y)&&(k={target:k.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:k.score,indexes:k.indexes,obj:C},T<_?(m.add(k),++T):(++w,k.score>m.peek().score&&m.replaceTop(k)),v%1e3==0&&Date.now()-d>=10)))return void(t?n(S):setTimeout(S))}else for(;v>=0;--v){var M,k;if((M=i[v])&&(c(M)||(M=g.getPrepared(M)),null!==(k=b(e,M,f))&&!(k.score<y)&&(T<_?(m.add(k),++T):(++w,k.score>m.peek().score&&m.replaceTop(k)),v%1e3==0&&Date.now()-d>=10)))return void(t?n(S):setTimeout(S))}if(0===T)return s(r);for(var D=new Array(T),R=T-1;R>=0;--R)D[R]=m.poll();D.total=T+w,s(D)}t?n(S):S()}));return s.cancel=function(){a=!0},s},highlight:function(t,e,n){if(null===t)return null;void 0===e&&(e="<b>"),void 0===n&&(n="</b>");for(var i="",r=0,o=!1,a=t.target,s=a.length,u=t.indexes,l=0;l<s;++l){var c=a[l];if(u[r]===l){if(o||(o=!0,i+=e),++r===u.length){i+=c+n+a.substr(l+1);break}}else o&&(o=!1,i+=n);i+=c}return i},prepare:function(t){if(t)return{target:t,_targetLowerCodes:g.prepareLowerCodes(t),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(t){if(t)return{target:t,_targetLowerCodes:g.prepareLowerCodes(t),_nextBeginningIndexes:g.prepareNextBeginningIndexes(t),score:null,indexes:null,obj:null}},prepareSearch:function(t){if(t)return g.prepareLowerCodes(t)},getPrepared:function(t){if(t.length>999)return g.prepare(t);var n=e.get(t);return void 0!==n||(n=g.prepare(t),e.set(t,n)),n},getPreparedSearch:function(t){if(t.length>999)return g.prepareSearch(t);var e=i.get(t);return void 0!==e||(e=g.prepareSearch(t),i.set(t,e)),e},algorithm:function(t,e,n){for(var i=e._targetLowerCodes,r=t.length,s=i.length,u=0,l=0,c=0,d=0;;){if(n===i[l]){if(o[d++]=l,++u===r)break;n=t[0===c?u:c===u?u+1:c===u-1?u-1:u]}if(++l>=s)for(;;){if(u<=1)return null;if(0===c){if(n===t[--u])continue;c=u}else{if(1===c)return null;if((n=t[1+(u=--c)])===t[u])continue}l=o[(d=u)-1]+1;break}}u=0;var h=0,f=!1,p=0,m=e._nextBeginningIndexes;null===m&&(m=e._nextBeginningIndexes=g.prepareNextBeginningIndexes(e.target));var v=l=0===o[0]?0:m[o[0]-1];if(l!==s)for(;;)if(l>=s){if(u<=0){if(++h>r-2)break;if(t[h]===t[h+1])continue;l=v;continue}--u,l=m[a[--p]]}else if(t[0===h?u:h===u?u+1:h===u-1?u-1:u]===i[l]){if(a[p++]=l,++u===r){f=!0;break}++l}else l=m[l];if(f)var y=a,_=p;else y=o,_=d;for(var b=0,T=-1,w=0;w<r;++w)T!==(l=y[w])-1&&(b-=l),T=l;for(f?0!==h&&(b+=-20):(b*=1e3,0!==c&&(b+=-20)),b-=s-r,e.score=b,e.indexes=new Array(_),w=_-1;w>=0;--w)e.indexes[w]=y[w];return e},algorithmNoTypo:function(t,e,n){for(var i=e._targetLowerCodes,r=t.length,s=i.length,u=0,l=0,c=0;;){if(n===i[l]){if(o[c++]=l,++u===r)break;n=t[u]}if(++l>=s)return null}u=0;var d=!1,h=0,f=e._nextBeginningIndexes;if(null===f&&(f=e._nextBeginningIndexes=g.prepareNextBeginningIndexes(e.target)),(l=0===o[0]?0:f[o[0]-1])!==s)for(;;)if(l>=s){if(u<=0)break;--u,l=f[a[--h]]}else if(t[u]===i[l]){if(a[h++]=l,++u===r){d=!0;break}++l}else l=f[l];if(d)var p=a,m=h;else p=o,m=c;for(var v=0,y=-1,_=0;_<r;++_)y!==(l=p[_])-1&&(v-=l),y=l;for(d||(v*=1e3),v-=s-r,e.score=v,e.indexes=new Array(m),_=m-1;_>=0;--_)e.indexes[_]=p[_];return e},prepareLowerCodes:function(t){for(var e=t.length,n=[],i=t.toLowerCase(),r=0;r<e;++r)n[r]=i.charCodeAt(r);return n},prepareBeginningIndexes:function(t){for(var e=t.length,n=[],i=0,r=!1,o=!1,a=0;a<e;++a){var s=t.charCodeAt(a),u=s>=65&&s<=90,l=u||s>=97&&s<=122||s>=48&&s<=57,c=u&&!r||!o||!l;r=u,o=l,c&&(n[i++]=a)}return n},prepareNextBeginningIndexes:function(t){for(var e=t.length,n=g.prepareBeginningIndexes(t),i=[],r=n[0],o=0,a=0;a<e;++a)r>a?i[a]=r:(r=n[++o],i[a]=void 0===r?e:r);return i},cleanup:s,new:f};return g}()})?i.apply(e,r):i)||(t.exports=o)}).call(this,n(508).setImmediate)},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(509),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(35))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,a,s,u=1,l={},c=!1,d=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,i(u),u++},h.clearImmediate=f}function f(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{f(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(35),n(510))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],c=!1,d=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&f())}function f(){if(!c){var t=s(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++d<e;)u&&u[d].run();d=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4));function a(){this.count=0,this.decrement=this.decrement.bind(this)}a.prototype=r.default.extend({modelCache:{},EVENTS:{MEDIA_UPLOAD_COMPLETE:"COMPLETE"},track:function(t){this.count++,t.always(this.decrement)},decrement:function(){this.count--,0===this.count&&this.trigger(this.EVENTS.MEDIA_UPLOAD_COMPLETE)},isUploading:function(){return this.count>0},containsCachedModel:function(t){return r.default.has(this.modelCache,t)},getCachedModel:function(t){return r.default.get(this.modelCache,t)},addCacheDeleteToUploadPromise:function(t){var e=this;t.uploadPromise.always((function(){delete e.modelCache[t.get("id")]}))},setCachedModel:function(t){this.containsCachedModel(t.get("id"))||(this.modelCache[t.get("id")]=t,t.uploadPromise&&this.addCacheDeleteToUploadPromise(t))}},o.default.Events),e.default=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.getSwapInfoMap=function(t){var e=t.getChildren(),n=e[0],i=e[1],r=n.get("maskInfo"),o=new Map,a=n.get("id"),s=i.get("id");return r.isBaseMaskObject?(o.set(a,{maskInfo:{maskedObjectId:s}}),o.set(s,{maskInfo:{isBaseMaskObject:!0,maskIds:[a]}})):(o.set(s,{maskInfo:{maskedObjectId:a}}),o.set(a,{maskInfo:{isBaseMaskObject:!0,maskIds:[s]}})),o},t.getMaskingPropertiesMap=function(t){var e=new Map,n=1===new Set(t.map((function(t){return t.get("type")}))).size;return t.some((function(t){return t.isAnyShapeComponent()}))?e=this.getShapeMaskMapInfo(t):n&&(e=this.getAlphaMasksMapInfo(t)),e},t.getShapeMaskMapInfo=function(t){for(var e,n=[],i=!0,r=[],o=new Map,a=t.length-1;a>=0;a--){var s={};if("image-component"===(l=t[a]).get("type")&&i)s.isBaseMaskObject=i,i=!1,s.maskIds=n,e=l.get("id");else{var u=l.get("id");n.unshift(u)}r.unshift(s)}for(a=0;a<t.length;a++){var l=t[a];r[a].isBaseMaskObject||(r[a].maskedObjectId=e),o.set(l.get("id"),r[a])}return o},t.getAlphaMasksMapInfo=function(t){var e=new Map,n=t[0].get("id"),i=t[1].get("id"),r={isBaseMaskObject:!0,maskIds:[i]},o={maskedObjectId:n};return e.set(i,o),e.set(n,r),e},t}();e.default=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorLayerDocPersister=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o(n(514)).default);e.EditorLayerDocPersister=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(208)),a=function(t,e){this.doc=t,this.opBuilder=e,this.bufferedOps=[],this.bufferedDefer=null,this.originalDocSubmitOp=null,this.wrapDocSubmitOp()};a.prototype={wrapDocSubmitOp:function(){var t=this.doc;this.originalDocSubmitOp=r.default.bind(t.submitOp,t),t.submitOp=r.default.bind(this.flushBufferedOpsAndSubmitOps,this)},saveModelChanges:function(t){var e=this.opBuilder.getOpsForModelChangeSet(t);t.canBuffer()?this.bufferOps(e):this.submitOps(e)},submitLayerOps:function(t,e){t=this.opBuilder.prefixPath(t),this.submitOps(t,e)},submitOps:function(t,e){r.default.isEmpty(t)||this.flushBufferedOpsAndSubmitOps(t,e)},bufferLayerOps:function(t){t=this.opBuilder.prefixPath(t),this.bufferOps(t)},bufferOps:function(t){this.bufferedOps=this.bufferedOps.concat(t),this.deferBufferSubmit()},flushBufferedOpsAndSubmitOps:function(t,e){this.hasBufferedOpsPending()&&(t=this.flushBufferedOps().concat(t));var n=o.default.wrapCallback(e,{snapshot:this.doc.snapshot,docName:this.doc.name,ops:t});this.originalDocSubmitOp(t,n)},deferBufferSubmit:function(){null===this.bufferedDefer&&this.hasBufferedOpsPending()&&(this.bufferedDefer=r.default.defer(r.default.bind(this.submitBufferedOps,this)))},submitBufferedOps:function(){var t=this.flushBufferedOps();r.default.isEmpty(t)||this.originalDocSubmitOp(t)},flushBufferedOps:function(){var t=this.bufferedOps;return this.bufferedOps=[],clearTimeout(this.bufferedDefer),this.bufferedDefer=null,t},hasBufferedOpsPending:function(){return!r.default.isEmpty(this.bufferedOps)}},e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(9)),s=i(n(31)),u=i(n(22)),l=i(n(32)),c=i(n(516));e.default=u.default.extend({className:"splash-screen loading",lastAnimationId:null,initialize:function(){u.default.prototype.initialize.call(this),this.options=o.default.extend({autoContrastForegroundColor:"#FFFFFF",foregroundColor:"white",backgroundColor:"#161616",previewLabelBackgroundColor:"none",borderRadius:5,revolutionsPerSecond:1.2,fadeOutSpeed:"fast",whiteLabeling:!0,showPreviewLabel:!1,showEditorLabel:!1},this.options),this.options.degreesPerTick=360/(60*this.options.revolutionsPerSecond)},render:function(){this.$el.empty(),this.$el.html(a.default.render(c.default,{whiteLabeling:this.options.whiteLabeling&&!this.options.showPreviewLabel,showPreviewLabel:this.options.showPreviewLabel,showEditorLabel:this.options.showEditorLabel})).show(),this.$spinner=this.$el.find(".spinner");var t=this.$el.find(".branding-logo"),e=this.$el.find(".notice");this.options.overlayed&&this.$spinner.addClass("overlayed"),this.$spinner.css({borderRadius:this.options.borderRadius,backgroundColor:this.options.backgroundColor}),this.renderSpinnerCanvas(),t.css({color:this.options.autoContrastForegroundColor}),e.css({backgroundColor:this.options.previewLabelBackgroundColor,color:this.options.foregroundColor}),this.scale(),s.default.getInstance().on("change",this.repositionForEmbed,this),this.repositionForEmbed()},start:function(){o.default.isNull(this.lastAnimationId)&&(this.lastAnimationId=requestAnimationFrame(this._draw))},stop:function(){o.default.isNull(this.lastAnimationId)||(cancelAnimationFrame(this.lastAnimationId),this.lastAnimationId=null)},scale:function(){this.$el.width()<100||this.$el.height()<100?this.$el.find("div.loading-container").addClass("small"):this.$el.find("div.loading-container").removeClass("small")},repositionForEmbed:function(){var t=s.default.getInstance();if(t.isActive()){var e=Math.max(0,t.getTop()),n=Math.min(r.default(window).height(),t.getBottom());this.$el.css({top:e+"px",height:n-e+"px"}),this.scale()}},renderSpinnerCanvas:function(){var t=Math.round(64/12),e=r.default('<canvas width="64" height="64"></canvas>');this.$spinner.append(e);var n=e[0].getContext("2d"),i=0,o=!1,a=this,s=32-t-1;this._draw=function(){var e,r,u=-.5*Math.PI;n.save(),n.fillStyle=a.options.backgroundColor,n.fillRect(0,0,64,64),n.lineWidth=t;var c=l.default.fromHex(a.options.autoContrastForegroundColor);c.a=.1,n.strokeStyle=c.toString(),n.beginPath(),n.arc(32,32,s,0,2*Math.PI,!0),n.stroke(),0===i&&o?(e=u,r=u+2*Math.PI):(e=o?u+Math.PI/180*i:u,r=o?u:u+Math.PI/180*i),n.strokeStyle=a.options.autoContrastForegroundColor,n.beginPath(),n.arc(32,32,s,e,r,!1),n.stroke(),n.restore(),(i+=a.options.degreesPerTick)>359&&(i=0,o=!o),a.lastAnimationId=requestAnimationFrame(a._draw)}},_remove:function(){this.$el.remove()},destroy:function(){this.stop(),this._remove(),s.default.getInstance().off("change",this.repositionForEmbed,this)}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="loading-container">\n    <div class="spinner"></div>\n    {{^whiteLabeling}}\n    <div class="branding-logo"></div>\n    {{/whiteLabeling}}\n    {{#showPreviewLabel}}\n    <div class="notice">REAL-TIME PREVIEW</div>\n    {{/showPreviewLabel}}\n    {{#showEditorLabel}}\n    <div class="notice editor">EDITOR (EARLY ACCESS)</div>\n    {{/showEditorLabel}}\n</div>'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(8)),o=i(n(22)),a=i(n(2)),s=i(n(9)),u=i(n(518)),l=i(n(519));e.default=o.default.extend({className:"splash-screen unavailable",events:{"click button.contact":"handleContactClick"},initialize:function(){o.default.prototype.initialize.call(this),this.render()},render:function(){var t=a.default.previewMode?u.default:l.default;this.$el.html(s.default.render(t))},handleContactClick:function(t){t.preventDefault();var e=r.default.appendQueryParams("http://www3.ceros.com/expiredaccount",{account:a.default.accountSlug});window.open(e)}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal unavailable modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon alert-icon"></span>\n        <span class="notice important">Your Ceros subscription expired</span>\n        <span class="notice">Get in touch with our helpful team who will rectify this in no time</span>\n        <button class="submit contact">Get in touch</button>\n    <div>\n</div>\n'},function(t,e,n){"use strict";n.r(e),e.default='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon no-entry-icon"></span>\n        <span class="notice important">This experience has been removed by the publisher</span>\n    <div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(521));e.default=r.default.extend({className:"deleted-page-warning",importantText:"This page is no longer available",descriptiveText:"Please try reloading",buttonText:"Reload",onDismissHandler:function(){window.location.reload()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(22)),a=i(n(9)),s=i(n(522));e.default=o.default.extend({className:"warning",module:null,showBranding:!1,importantText:"",descriptiveText:"",buttonText:"Dismiss",initialize:function(){o.default.prototype.initialize.call(this),this.module=this.options.module},render:function(){this.$el.html(a.default.render(s.default,{showBranding:this.showBranding,importantText:this.importantText,descriptiveText:this.descriptiveText,buttonText:this.buttonText})),this.bindEvents()},bindEvents:function(){this.bindInteraction(this.$el.find("button.dismiss"),r.default.bind((function(t){t.preventDefault(),this.onDismissHandler()}),this))},onDismissHandler:function(){}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="warning-modal embedded-previewer overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n</div>\n<div class="warning-modal embedded-previewer modal">\n    <div>\n        {{#showBranding}}<div class="branding-logo"></div>{{/showBranding}}\n        <span class="warning-icon alert-icon"></span>\n        <span class="notice important">{{importantText}}</span>\n        <span class="notice">{{descriptiveText}}</span>\n        <button class="submit dismiss">{{buttonText}}</button>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(0)),a=i(n(524)),s=r.default.Model.extend({getSlug:function(){var t=r.default.Model.prototype.get.call(this,"uri");return o.default.last(t.split("/"))}});o.default.extend(s.prototype,a.default),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(4)),a=i(n(15));e.default={setParentModel:function(t){if(!(t.prototype instanceof o.default.Model))throw new Error("ParentModel should extend Backbone.Model");this.ParentModel=t},get:function(t,e){var n=e&&e.variant?e.variant:a.default.getVariant();return"overrides"===t||"desktop"===n?this.nonVariantGet(t):this.getVariantAttribute(n,t,e)},getVariantAttribute:function(t,e,n){var i=!n||!n.doNotFallbackToDesktop,o=this.nonVariantGet("overrides"),a=r.default.get(o,[t,e],void 0);return r.default.isUndefined(a)&&i?this.nonVariantGet(e):a},nonVariantGet:function(t){return(this.ParentModel?this.ParentModel:o.default.Model).prototype.get.call(this,t)}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(2)),s=o(n(3)),u=o(n(79)),l=o(n(526)),c=o(n(527)),d=o(n(531)),h=o(n(46)),f=o(n(67)),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.initPreviewerSelectionView=function(){e.initNavbarView()},e.initPreviewerFrameView=function(){return new l.default({el:".adaptive-layouts-frame"})},e.initNavbarView=function(){var t=new d.default(h.default,f.default),e={title:a.default.issue.title,slug:a.default.issue.slug,folderName:a.default.appName,appSlug:a.default.appSlug,accountSlug:a.default.accountSlug,adminUrl:a.default.adminUrl};return new c.default(e,t,s.default.mozilla)},e}(u.default);e.default=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return r(e,t),e.prototype.handleKeyup=function(){},e.prototype.turnOnFullscreenMode=function(){},e.prototype.turnOffFullscreenMode=function(){},e}(o(n(116)).default);e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(1)),s=o(n(9)),u=o(n(214)),l=o(n(528)),c=o(n(44)),d=n(215),h=function(t){function e(e,n,i){void 0===i&&(i=!1);var r=t.call(this)||this;return r.adminWindow=null,r.studioWindow=null,r.experienceInfo=e,r.navbarPagination=n,r.isMozilla=i,r.adaptiveLayoutsContainer=a.default(".adaptive-layouts-container"),r.render(),r}return r(e,t),e.prototype.render=function(){var t;this.$el.addClass("navbar-editor"),this.$el.html(s.default.render(l.default,{experienceTitle:this.experienceInfo.title,experienceFolder:this.experienceInfo.folderName}));var e=this.navbarPagination.$el;return e.hide(),this.$el.find(e).length||this.$el.prepend(e),this.setNavbarButtons(),null===(t=this.navbarButtons)||void 0===t||t.mainButtonsUl.hide(),this.displayStudioButton(),this.registerEvents(),this.adaptiveLayoutsContainer.before(this.$el),this},e.prototype.registerEvents=function(){var t,e,n;this.setNavbarButtons(),null===(t=this.navbarButtons)||void 0===t||t.goToStudio.on("click",this.goToStudio.bind(this)),null===(e=this.navbarButtons)||void 0===e||e.goToAdmin.on("click",this.goToAdmin.bind(this)),null===(n=this.navbarButtons)||void 0===n||n.goToPreview.on("click",this.goToPreview.bind(this))},e.prototype.setNavbarButtons=function(){this.navbarButtons||(this.navbarButtons={mainButtonsUl:this.$el.find("#main-buttons"),goToAdmin:this.$el.find("#go-to-admin"),goToStudio:this.$el.find("#go-to-studio"),goToPreview:this.$el.find("#go-to-preview"),goToHelp:this.$el.find("#go-to-help")})},e.prototype.goToAdmin=function(){var t=u.default.getProjectUri(this.experienceInfo.accountSlug,this.experienceInfo.appSlug),e=this.experienceInfo.adminUrl+t;this.adminWindow=this.openWindow(this.adminWindow,e,"Ceros Admin")},e.prototype.goToStudio=function(){var t=u.default.getIssueStudioUri(this.experienceInfo.slug,null,null),e=this.experienceInfo.adminUrl+t;this.studioWindow=this.openWindow(this.studioWindow,e,"Ceros Studio")},e.prototype.goToPreview=function(){var t=location.pathname;window.open(t,this.experienceInfo.title)},e.prototype.openWindow=function(t,e,n){return!t||t.closed||this.isMozilla?window.open(e,n):window.open("",n)},e.prototype.displayStudioButton=function(){var t=this;d.EditorPermissionsService.doesCurrentUserCanAccessStudio().then((function(e){var n,i;e||null===(n=t.navbarButtons)||void 0===n||n.goToStudio.hide(),null===(i=t.navbarButtons)||void 0===i||i.mainButtonsUl.show()}))},e}(c.default);e.default=h},function(t,e,n){"use strict";n.r(e),e.default='<span id="navbar-admin">\n  <a href="#" id="go-to-admin" class="ceros-icon ceros-home-icon" title="Ceros Admin"></a>\n</span>\n<span id="navbar_titles">\n  <h2 class="title">{{experienceTitle}}</h2>\n  <h3 class="app-title">in {{experienceFolder}}</h3>\n</span>\n\n<ul id="main-buttons" class="buttons main-buttons">\n  <li>\n    <a href="#" id="go-to-help" title="Help"> <span class="navbar-icon help-icon"></span>Help </a>\n  </li>\n  <li>\n    <a href="#" id="go-to-studio" title="Studio">\n      <span class="navbar-icon studio-icon"></span>Studio\n    </a>\n  </li>\n  <li>\n    <a href="#" id="go-to-preview" title="Preview">\n      <span class="ceros-icon ceros-eye-icon"></span>Preview\n    </a>\n  </li>\n</ul>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorExperienceModel=void 0;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s(n(4)).Model);e.EditorExperienceModel=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorExperienceService=void 0;var r=i(n(2)),o=function(){function t(){}return t.getExperienceData=function(t){return new Promise((function(e,n){var i=r.default.accountSlug;$.ajax({url:"/rest/v1/account/"+i+"/issues/"+t,success:e,error:n})}))},t}();e.EditorExperienceService=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(532)),s=function(t){function e(e,n){var i=t.call(this)||this;return i.elId="navbar-pagination",i.viewportModule=e,i.flippersModule=n,i.render(),i.registerEvents(),i}return r(e,t),e.prototype.render=function(){return this.el.id=this.elId,this.$el.html(a.default),this.setPageSpans(),this},e.prototype.registerEvents=function(){var t=this.viewportModule.publishedEvents;this.viewportModule.on(t.PAGE_UPDATE,this.handlePageChange.bind(this)),this.viewportModule.on(t.PAGE_BATCH_LOAD_START,this.handlePageChange.bind(this));var e=this.flippersModule.publishedEvents;this.flippersModule.on(e.NEXT_PAGE,this.handlePageChange.bind(this)),this.flippersModule.on(e.PREVIOUS_PAGE,this.handlePageChange.bind(this))},e.prototype.getCurrentPageNumber=function(){return this.viewportModule.getCurrentPageNumber()},e.prototype.getTotalPagesNumber=function(){return this.viewportModule.getTotalPagesNumber()},e.prototype.handlePageChange=function(){var t=this.getTotalPagesNumber();this.$el.hide(),t>1&&(this.spanCurrentPage.text(this.getCurrentPageNumber()),this.spanTotalPages.text(t),this.$el.show())},e.prototype.setPageSpans=function(){this.spanTotalPages=this.$el.find("#total-pages"),this.spanCurrentPage=this.$el.find("#current-page")},e}(o(n(44)).default);e.default=s},function(t,e,n){"use strict";n.r(e),e.default='<span>\n  Page <span id="current-page"></span> of\n  <span id="total-pages"></span>\n</span>\n'},function(t,e,n){"use strict";
/*! A fix for the iOS orientationchange zoom bug.
 Script by @scottjehl, rebound by @wilto.
 MIT / GPLv2 License.
*/!function(t){var e=navigator.userAgent;if(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(e)&&e.indexOf("AppleWebKit")>-1){var n=t.document;if(n.querySelector){var i,r,o,a,s=n.querySelector("meta[name=viewport]"),u=s&&s.getAttribute("content"),l=u+",maximum-scale=1",c=u+",maximum-scale=10",d=!0;s&&(t.addEventListener("orientationchange",h,!1),t.addEventListener("devicemotion",(function(e){a=e.accelerationIncludingGravity,i=Math.abs(a.x),r=Math.abs(a.y),o=Math.abs(a.z),t.orientation&&180!==t.orientation||!(i>7||(o>6&&r<8||o<8&&r>6)&&i>5)?d||h():d&&(s.setAttribute("content",l),d=!1)}),!1))}}function h(){s.setAttribute("content",c),d=!0}}(window)},function(t,e,n){}]);